/*! For license information please see main.cfc099e3ee1e8849dca5.js.LICENSE.txt */
(() => {
  var e,
    t,
    n,
    r,
    i = {
      830: (e, t, n) => {
        "use strict";
        n.d(t, {
          $3: () => d,
          D8: () => C,
          Ds: () => j,
          FX: () => p,
          Fd: () => k,
          JQ: () => u,
          JS: () => R,
          MV: () => F,
          N2: () => w,
          NP: () => N,
          OZ: () => I,
          Os: () => U,
          SA: () => D,
          TR: () => A,
          Uq: () => z,
          Wg: () => P,
          Ym: () => b,
          ZB: () => f,
          _v: () => y,
          c1: () => K,
          gw: () => B,
          iT: () => S,
          jC: () => L,
          jm: () => g,
          le: () => v,
          mY: () => H,
          mp: () => _,
          nm: () => h,
          oK: () => E,
          r1: () => O,
          sC: () => m,
          uB: () => M,
          wo: () => x,
          zb: () => T,
        });
        var r = n(5267),
          i = n(9509),
          o = n(9753),
          a = n(9385),
          s = n(7588),
          l = n(1888),
          c = n(2087);
        const u = e => i.ci((0, o.J)(e));
        function d(e) {
          return i.ci(r.xW.getPublicKey(e));
        }
        async function f() {
          return new Promise(e => {
            const t = document.createElement("input");
            let n = !1;
            (t.type = "file"),
              (t.onchange = t =>
                (t => {
                  var r, i;
                  n = !0;
                  const o = t.target;
                  (null !== (r = null === (i = o.files) || void 0 === i ? void 0 : i.length) && void 0 !== r ? r : 0) >
                  0
                    ? e(o.files[0])
                    : e(void 0);
                })(t)),
              t.click(),
              window.addEventListener(
                "focus",
                () => {
                  setTimeout(() => {
                    n || (console.debug("FOCUS WINDOW UPLOAD"), e(void 0));
                  }, 300);
                },
                { once: !0 }
              );
          });
        }
        function h(e) {
          const t = ["note", "npub", "nsec"];
          try {
            if (t.some(t => e.startsWith(t))) return p(e);
          } catch (e) {}
          return e;
        }
        function p(e) {
          try {
            const t = l.gW.decode(e, 1e3),
              n = l.gW.fromWords(t.words);
            return i.ci(Uint8Array.from(n));
          } catch (t) {
            return e;
          }
        }
        function m(e, t) {
          return `/e/${
            t ? (0, c.encodeTLV)(c.NostrPrefix.Event, e, Array.isArray(t) ? t : [t]) : g(c.NostrPrefix.Note, e)
          }`;
        }
        function y(e, t) {
          return `/p/${
            t ? (0, c.encodeTLV)(c.NostrPrefix.Profile, e, Array.isArray(t) ? t : [t]) : g(c.NostrPrefix.PublicKey, e)
          }`;
        }
        function g(e, t) {
          if (
            "string" != typeof t ||
            0 === t.length ||
            t.length % 2 != 0 ||
            ((n = t),
            ![...n]
              .map(e => e.charCodeAt(0))
              .every(e => (e >= 48 && e <= 57) || (e >= 65 && e <= 90) || e >= 97 || e <= 122))
          )
            return "";
          var n;
          try {
            if (e === c.NostrPrefix.Note || e === c.NostrPrefix.PrivateKey || e === c.NostrPrefix.PublicKey) {
              const n = i.hexToBytes(t);
              return l.gW.encode(e, l.gW.toWords(n));
            }
            return (0, c.encodeTLV)(e, t);
          } catch (e) {
            return console.warn("Invalid hex", t, e), "";
          }
        }
        const v = { Positive: "+", Negative: "-" };
        function w(e) {
          switch (e) {
            case "-":
            case "👎":
              return v.Negative;
            default:
              return v.Positive;
          }
        }
        function b(e, t, n) {
          return (
            (null == e
              ? void 0
              : e.filter(e => e.kind === (null != n ? n : e.kind) && e.tags.some(e => "e" === e[0] && e[1] === t))) ||
            []
          );
        }
        function x(e, t, n) {
          return (
            (null == e
              ? void 0
              : e.filter(
                  e => e.kind === (null != n ? n : e.kind) && e.tags.some(e => "e" === e[0] && t.includes(e[1]))
                )) || []
          );
        }
        function E() {
          return Math.floor(k() / 1e3);
        }
        function k() {
          return new Date().getTime();
        }
        function j(e, t) {
          const n = setTimeout(t, e);
          return () => clearTimeout(n);
        }
        function S(e) {
          return e.reduce(
            (e, t) => {
              let { list: n, seen: r } = e;
              return r.has(t.pubkey) ? { list: n, seen: r } : (r.add(t.pubkey), { seen: r, list: [...n, t] });
            },
            { list: [], seen: new Set([]) }
          ).list;
        }
        function A(e) {
          return e.reduce(
            (e, t) => {
              let { list: n, seen: r } = e;
              return r.has(t.id) ? { list: n, seen: r } : (r.add(t.id), { seen: r, list: [...n, t] });
            },
            { list: [], seen: new Set([]) }
          ).list;
        }
        function C(e) {
          return [...new Set(e)];
        }
        function N(e, t) {
          return C([...(null != e ? e : []), ...(null != t ? t : [])]);
        }
        function P(e) {
          if (null == e) throw new Error("missing value");
          return e;
        }
        function _(e, t) {
          return [...e].sort(() => (Math.random() >= 0.5 ? 1 : -1)).slice(0, t);
        }
        function T(e) {
          const t = [...e];
          if ((t.sort((e, t) => t.created_at - e.created_at), t.length > 0)) return t[0];
        }
        function M(e, t) {
          const n = T(e);
          if (n)
            return {
              keys: n.tags.filter(e => e && 2 === e.length && e[0] === t).map(e => e[1]),
              createdAt: n.created_at,
            };
        }
        function R(e, t) {
          return (n, r) => "e" === n[0] && "mention" === n[3] && e.content === `#[${r}]` && (!t || n[1] === t);
        }
        const B = e =>
          new Promise(t => {
            setTimeout(t, e);
          });
        function O(e) {
          return e.sort((e, t) => (t.created_at > e.created_at ? 1 : -1));
        }
        function L(e) {
          try {
            const t = { raw: e },
              n = e.trim().split("magnet:?")[1];
            let r;
            (n && n.length > 0 ? n.split("&") : []).forEach(e => {
              const n = e.split("="),
                r = n[0],
                i = decodeURIComponent(n[1]);
              switch ((t[r] || (t[r] = []), r)) {
                case "dn":
                  t[r].push(i.replace(/\+/g, " "));
                  break;
                case "kt":
                  i.split("+").forEach(e => {
                    t[r].push(e);
                  });
                  break;
                case "ix":
                  t[r].push(Number(i));
                  break;
                case "so":
                  break;
                default:
                  t[r].push(i);
              }
            }),
              t.xt &&
                (Array.isArray(t.xt) ? t.xt : [t.xt]).forEach(e => {
                  if ("string" == typeof e)
                    if ((r = e.match(/^urn:btih:(.{40})/))) t.infoHash = [r[1].toLowerCase()];
                    else if ((r = e.match(/^urn:btih:(.{32})/))) {
                      const e = l.eV.decode(r[1]);
                      t.infoHash = [(0, s.ci)(e)];
                    } else (r = e.match(/^urn:btmh:1220(.{64})/)) && (t.infoHashV2 = [r[1].toLowerCase()]);
                }),
              t.xs &&
                (Array.isArray(t.xs) ? t.xs : [t.xs]).forEach(e => {
                  "string" == typeof e &&
                    (r = e.match(/^urn:btpk:(.{64})/)) &&
                    (t.publicKey || (t.publicKey = []), t.publicKey.push(r[1].toLowerCase()));
                });
            for (const [e, n] of Object.entries(t))
              Array.isArray(n) && (1 === n.length ? (t[e] = n[0]) : 0 === n.length && (t[e] = void 0));
            return t;
          } catch (e) {
            console.warn("Failed to parse magnet link", e);
          }
        }
        function I(e, t) {
          const n = [];
          let r = 0,
            i = e.length / t;
          for (; i > 0; ) n.push(e.slice(r, r + t)), (r += t), (i -= 1);
          return n;
        }
        function F(e, t) {
          const n = e.tags.find(e => e[0] === t);
          return n && n[1];
        }
        function D(e) {
          for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
          return (0, a.b)(o.J, e, i.eV(...n));
        }
        function U(e) {
          const t = new URL(e);
          return t.host + t.search;
        }
        function z(e) {
          try {
            return new URL(null != e ? e : "").hostname;
          } catch {
            var t, n;
            return null !== (t = null == e || null === (n = e.match(/(\S+\.\S+)/i)) || void 0 === n ? void 0 : n[1]) &&
              void 0 !== t
              ? t
              : e;
          }
        }
        function H(e) {
          try {
            return new URL(e).toString();
          } catch {}
        }
        function K(e) {
          return `https://robohash.v0l.io/${e}.png`;
        }
      },
      7516: (e, t, n) => {
        "use strict";
        n.d(t, { Z: () => o });
        var r = n(3088);
        const i = { Accept: "application/json", "Content-Type": "application/json" };
        class o {
          constructor(e) {
            if (!e.startsWith("lndhub://")) throw new Error("Invalid config");
            {
              const t = /^lndhub:\/\/([\S-]+):([\S-]+)@(.*)$/i,
                n = e.match(t);
              if (!n || 4 !== n.length) throw new Error("Invalid LNDHUB config");
              (this.url = new URL(n[3])), (this.user = n[1]), (this.password = n[2]), (this.type = "lndhub");
            }
          }
          isReady() {
            return void 0 !== this.auth;
          }
          canAutoLogin() {
            return !0;
          }
          close() {
            return Promise.resolve(!0);
          }
          async getInfo() {
            return await this.getJson("GET", "/getinfo");
          }
          async login() {
            const e = await this.getJson("POST", "/auth?type=auth", { login: this.user, password: this.password });
            return (this.auth = e), !0;
          }
          async getBalance() {
            const e = await this.getJson("GET", "/balance");
            return Math.floor(e.BTC.AvailableBalance);
          }
          async createInvoice(e) {
            const t = await this.getJson("POST", "/addinvoice", { amt: e.amount, memo: e.memo });
            return {
              pr: t.payment_request,
              memo: e.memo,
              amount: e.amount,
              paymentHash: t.payment_hash,
              timestamp: t.timestamp,
            };
          }
          async payInvoice(e) {
            const t = await this.getJson("POST", "/payinvoice", { invoice: e });
            return {
              pr: e,
              paymentHash: t.payment_hash,
              preimage: t.payment_preimage,
              state: t.payment_error ? r.kd.Failed : t.payment_preimage ? r.kd.Paid : r.kd.Pending,
            };
          }
          async getInvoices() {
            return (await this.getJson("GET", "/getuserinvoices")).map(e => {
              const t = (0, r.BP)(e.payment_request);
              if (!t) throw new r.lj(r.H8.InvalidInvoice, "Failed to parse invoice");
              return { ...t, state: e.ispaid ? r.kd.Paid : t.state, paymentHash: e.payment_hash, memo: e.description };
            });
          }
          async getJson(e, t, n) {
            var o;
            const a = `Bearer ${null === (o = this.auth) || void 0 === o ? void 0 : o.access_token}`,
              s = `${"/" === this.url.pathname ? this.url.toString().slice(0, -1) : this.url.toString()}${t}`,
              l = await fetch(s, {
                method: e,
                body: n ? JSON.stringify(n) : void 0,
                headers: { ...i, Authorization: a },
              }),
              c = await l.json();
            if ("code" in c && !l.ok) {
              const e = c;
              throw new r.lj(e.code, e.message);
            }
            return c;
          }
        }
      },
      5853: (e, t, n) => {
        "use strict";
        n.d(t, { R: () => w });
        var r = n(2087),
          i = n(3088),
          o = n(6530),
          a = n.n(o);
        function s(e, t) {
          c(e, t), t.add(e);
        }
        function l(e, t, n) {
          c(e, t), t.set(e, n);
        }
        function c(e, t) {
          if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
        }
        function u(e, t, n) {
          if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
          return n;
        }
        function d(e, t) {
          return (function (e, t) {
            return t.get ? t.get.call(e) : t.value;
          })(e, h(e, t, "get"));
        }
        function f(e, t, n) {
          return (
            (function (e, t, n) {
              if (t.set) t.set.call(e, n);
              else {
                if (!t.writable) throw new TypeError("attempted to set read only private field");
                t.value = n;
              }
            })(e, h(e, t, "set"), n),
            n
          );
        }
        function h(e, t, n) {
          if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
          return t.get(e);
        }
        var p = new WeakMap(),
          m = new WeakMap(),
          y = new WeakMap(),
          g = new WeakSet(),
          v = new WeakSet();
        class w {
          constructor(e) {
            s(this, v),
              s(this, g),
              l(this, p, { writable: !0, value: void 0 }),
              l(this, m, { writable: !0, value: void 0 }),
              l(this, y, { writable: !0, value: void 0 }),
              f(this, p, w.parseConfigUrl(e)),
              f(this, y, new Map());
          }
          static parseConfigUrl(e) {
            const t = new URL(
              e.replace("nostrwalletconnect://", "http://").replace("nostr+walletconnect://", "http://")
            );
            return {
              relayUrl: t.searchParams.get("relay"),
              walletPubkey: t.host,
              secret: t.searchParams.get("secret"),
            };
          }
          canAutoLogin() {
            return !0;
          }
          isReady() {
            return void 0 !== d(this, m);
          }
          async getInfo() {
            return (
              await this.login(),
              await new Promise((e, t) => {
                var n;
                d(this, y).set("info", {
                  resolve: t => {
                    e({ alias: "NWC", chains: t.split(" ") });
                  },
                  reject: t,
                }),
                  null === (n = d(this, m)) ||
                    void 0 === n ||
                    n.QueueReq(["REQ", "info", { kinds: [13194], limit: 1 }], () => {});
              })
            );
          }
          async login() {
            return (
              !!d(this, m) ||
              (await new Promise(e => {
                f(this, m, new r.Connection(d(this, p).relayUrl, { read: !0, write: !0 })),
                  (d(this, m).OnConnected = () => e(!0)),
                  (d(this, m).Auth = async (e, t) => {
                    const n = new r.EventBuilder();
                    return (
                      n.kind(r.EventKind.Auth).tag(["relay", t]).tag(["challenge", e]),
                      await n.buildAndSign(d(this, p).secret)
                    );
                  }),
                  (d(this, m).OnEvent = (e, t) => {
                    u(this, g, b).call(this, e, t);
                  }),
                  d(this, m).Connect();
              }))
            );
          }
          async close() {
            var e;
            return null === (e = d(this, m)) || void 0 === e || e.Close(), !0;
          }
          async getBalance() {
            return 0;
          }
          createInvoice() {
            return Promise.reject(new i.lj(i.H8.GeneralError, "Not implemented"));
          }
          async payInvoice(e) {
            await this.login();
            const t = await u(this, v, x).call(this, "pay_invoice", { invoice: e });
            if (t.error) throw new i.lj(i.H8.GeneralError, t.error.message);
            return { ...t.result, pr: e, state: i.kd.Paid };
          }
          getInvoices() {
            return Promise.resolve([]);
          }
        }
        async function b(e, t) {
          var n;
          if ("info" === e) {
            const e = d(this, y).get("info");
            if (!e) throw new i.lj(i.H8.GeneralError, "No pending info command found");
            return e.resolve(t.content), void d(this, y).delete("info");
          }
          if (23195 !== t.kind) throw new i.lj(i.H8.GeneralError, "Unknown event kind");
          const r = t.tags.find(e => "e" === e[0]);
          if (!r) throw new i.lj(i.H8.GeneralError, "Missing e-tag in command response");
          const o = d(this, y).get(r[1]);
          if (!o) throw new i.lj(i.H8.GeneralError, "No pending command found");
          o.resolve(t.content), d(this, y).delete(r[1]), null === (n = d(this, m)) || void 0 === n || n.CloseReq(e);
        }
        async function x(e, t) {
          if (!d(this, m)) throw new i.lj(i.H8.GeneralError, "Not implemented");
          const n = JSON.stringify({ method: e, params: t }),
            o = new r.PrivateKeySigner(d(this, p).secret),
            s = new r.EventBuilder();
          s.kind(23194)
            .content(await o.nip4Encrypt(n, d(this, p).walletPubkey))
            .tag(["p", d(this, p).walletPubkey]);
          const l = await s.buildAndSign(d(this, p).secret);
          return (
            d(this, m).QueueReq(
              ["REQ", l.id.slice(0, 12), { kinds: [23195], authors: [d(this, p).walletPubkey], "#e": [l.id] }],
              () => {}
            ),
            await d(this, m).SendAsync(l),
            await new Promise((e, t) => {
              d(this, y).set(l.id, {
                resolve: async t => {
                  const n = JSON.parse(await o.nip4Decrypt(t, d(this, p).walletPubkey));
                  a()("NWC")("%o", n), e(n);
                },
                reject: t,
              });
            })
          );
        }
      },
      1646: (e, t, n) => {
        "use strict";
        n.d(t, { V: () => a, n: () => s });
        var r = n(3088),
          i = n(5861);
        const o = [];
        function a(e) {
          const t = e.list();
          if (window.webln && !t.some(e => e.kind === r.XF.WebLN)) {
            const n = { id: "webln", kind: r.XF.WebLN, active: 0 === t.length, info: { alias: "WebLN" } };
            e.add(n);
          }
        }
        (0, i.processWorkQueue)(o);
        class s {
          isReady() {
            return void 0 !== window.webln && null !== window.webln;
          }
          canAutoLogin() {
            return !0;
          }
          async getInfo() {
            if ((await this.login(), this.isReady())) {
              const e = await (0, i.barrierQueue)(o, async () => {
                var e;
                return await (null === (e = window.webln) || void 0 === e ? void 0 : e.getInfo());
              });
              if (e) return { nodePubKey: e.node.pubkey, alias: e.node.alias };
              throw new r.lj(r.H8.GeneralError, "Could not load wallet info");
            }
            throw new r.lj(r.H8.GeneralError, "WebLN not available");
          }
          async login() {
            return window.webln && (await window.webln.enable()), !0;
          }
          close() {
            return Promise.resolve(!0);
          }
          getBalance() {
            return Promise.resolve(0);
          }
          async createInvoice(e) {
            if ((await this.login(), this.isReady())) {
              const t = await (0, i.barrierQueue)(o, async () => {
                var t;
                return await (null === (t = window.webln) || void 0 === t
                  ? void 0
                  : t.makeInvoice({ amount: e.amount, defaultMemo: e.memo }));
              });
              if (t) {
                const e = (0, r.BP)(t.paymentRequest);
                if (!e) throw new r.lj(r.H8.InvalidInvoice, "Could not parse invoice");
                return e;
              }
            }
            throw new r.lj(r.H8.GeneralError, "WebLN not available");
          }
          async payInvoice(e) {
            if ((await this.login(), this.isReady())) {
              const t = (0, r.BP)(e);
              if (!t) throw new r.lj(r.H8.InvalidInvoice, "Could not parse invoice");
              const n = await (0, i.barrierQueue)(o, async () => {
                var t;
                return await (null === (t = window.webln) || void 0 === t ? void 0 : t.sendPayment(e));
              });
              return n ? ((t.state = r.kd.Paid), (t.preimage = n.preimage), t) : ((t.state = r.kd.Failed), t);
            }
            throw new r.lj(r.H8.GeneralError, "WebLN not available");
          }
          getInvoices() {
            return Promise.resolve([]);
          }
        }
      },
      3088: (e, t, n) => {
        "use strict";
        n.d(t, { BP: () => v, H8: () => m, Os: () => S, XF: () => p, kd: () => g, lj: () => y, uo: () => j });
        var r = n(6174),
          i = n(5861),
          o = n(830),
          a = n(7516),
          s = n(5853),
          l = n(1646);
        function c(e, t, n) {
          u(e, t), t.set(e, n);
        }
        function u(e, t) {
          if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
        }
        function d(e, t) {
          return (function (e, t) {
            return t.get ? t.get.call(e) : t.value;
          })(e, h(e, t, "get"));
        }
        function f(e, t, n) {
          return (
            (function (e, t, n) {
              if (t.set) t.set.call(e, n);
              else {
                if (!t.writable) throw new TypeError("attempted to set read only private field");
                t.value = n;
              }
            })(e, h(e, t, "set"), n),
            n
          );
        }
        function h(e, t, n) {
          if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
          return t.get(e);
        }
        let p = (function (e) {
            return (
              (e[(e.LNDHub = 1)] = "LNDHub"),
              (e[(e.LNC = 2)] = "LNC"),
              (e[(e.WebLN = 3)] = "WebLN"),
              (e[(e.NWC = 4)] = "NWC"),
              (e[(e.Cashu = 5)] = "Cashu"),
              e
            );
          })({}),
          m = (function (e) {
            return (
              (e[(e.BadAuth = 1)] = "BadAuth"),
              (e[(e.NotEnoughBalance = 2)] = "NotEnoughBalance"),
              (e[(e.BadPartner = 3)] = "BadPartner"),
              (e[(e.InvalidInvoice = 4)] = "InvalidInvoice"),
              (e[(e.RouteNotFound = 5)] = "RouteNotFound"),
              (e[(e.GeneralError = 6)] = "GeneralError"),
              (e[(e.NodeFailure = 7)] = "NodeFailure"),
              e
            );
          })({});
        class y extends Error {
          constructor(e, t) {
            super(t), (this.code = e);
          }
        }
        m.GeneralError;
        let g = (function (e) {
          return (
            (e[(e.Pending = 0)] = "Pending"),
            (e[(e.Paid = 1)] = "Paid"),
            (e[(e.Expired = 2)] = "Expired"),
            (e[(e.Failed = 3)] = "Failed"),
            e
          );
        })({});
        function v(e) {
          const t = (0, i.decodeInvoice)(e);
          var n, r, o;
          if (t)
            return {
              amount: null !== (n = t.amount) && void 0 !== n ? n : 0,
              memo: t.description,
              paymentHash: null !== (r = t.paymentHash) && void 0 !== r ? r : "",
              timestamp: null !== (o = t.timestamp) && void 0 !== o ? o : 0,
              state: t.expired ? g.Expired : g.Pending,
              pr: e,
            };
        }
        var w = new WeakMap(),
          b = new WeakMap(),
          x = new WeakSet();
        class E extends i.ExternalStore {
          constructor() {
            var e;
            super(),
              u(this, (e = x)),
              e.add(this),
              c(this, w, { writable: !0, value: void 0 }),
              c(this, b, { writable: !0, value: void 0 }),
              f(this, w, []),
              f(this, b, new Map()),
              this.load(!1),
              (0, l.V)(this),
              this.notifyChange();
          }
          list() {
            return Object.freeze([...d(this, w)]);
          }
          get() {
            const e = d(this, w).find(e => e.active);
            if (!e) {
              if (0 === d(this, w).length) return;
              throw new Error("No active wallet config");
            }
            if (d(this, b).has(e.id)) return (0, o.Wg)(d(this, b).get(e.id));
            {
              const t = (function (e, t, n) {
                if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
                return n;
              })(this, x, k).call(this, e);
              if (t)
                return "then" in t
                  ? void t.then(async t => {
                      d(this, b).set(e.id, t), this.notifyChange();
                    })
                  : t;
              throw new Error("Unable to activate wallet config");
            }
          }
          add(e) {
            d(this, w).push(e), this.save();
          }
          remove(e) {
            const t = d(this, w).findIndex(t => t.id === e);
            if (-1 === t) throw new Error("Wallet not found");
            const [n] = d(this, w).splice(t, 1);
            n.active && d(this, w).length > 0 && (d(this, w)[0].active = !0), this.save();
          }
          switch(e) {
            d(this, w).forEach(t => (t.active = t.id === e)), this.save();
          }
          save() {
            const e = JSON.stringify(d(this, w));
            window.localStorage.setItem("wallet-config", e), this.notifyChange();
          }
          load() {
            let e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
            const t = window.localStorage.getItem("wallet-config");
            t && f(this, w, JSON.parse(t)), e && this.notifyChange();
          }
          free() {
            d(this, b).forEach(e => e.close());
          }
          takeSnapshot() {
            return { configs: [...d(this, w)], config: d(this, w).find(e => e.active), wallet: this.get() };
          }
        }
        function k(e) {
          switch (e.kind) {
            case p.LNC:
              return Promise.all([n.e(730), n.e(334)])
                .then(n.bind(n, 334))
                .then(e => {
                  let { LNCWallet: t } = e;
                  return t.Empty();
                });
            case p.WebLN:
              return new l.n();
            case p.LNDHub:
              return new a.Z((0, o.Wg)(e.data));
            case p.NWC:
              return new s.R((0, o.Wg)(e.data));
            case p.Cashu:
              return Promise.all([n.e(363), n.e(671)])
                .then(n.bind(n, 2636))
                .then(t => {
                  let { CashuWallet: n } = t;
                  return new n((0, o.Wg)(e.data));
                });
          }
        }
        const j = new E();
        function S() {
          const e = (0, r.useSyncExternalStore)(
            e => j.hook(e),
            () => j.snapshot()
          );
          return (
            (0, r.useEffect)(() => {
              var t;
              !1 === (null === (t = e.wallet) || void 0 === t ? void 0 : t.isReady()) &&
                e.wallet.canAutoLogin() &&
                e.wallet.login().catch(console.error);
            }, [e]),
            e
          );
        }
        window.document.addEventListener("close", () => {
          j.free();
        });
      },
      6530: (e, t, n) => {
        (t.formatArgs = function (t) {
          if (
            ((t[0] =
              (this.useColors ? "%c" : "") +
              this.namespace +
              (this.useColors ? " %c" : " ") +
              t[0] +
              (this.useColors ? "%c " : " ") +
              "+" +
              e.exports.humanize(this.diff)),
            !this.useColors)
          )
            return;
          const n = "color: " + this.color;
          t.splice(1, 0, n, "color: inherit");
          let r = 0,
            i = 0;
          t[0].replace(/%[a-zA-Z%]/g, e => {
            "%%" !== e && (r++, "%c" === e && (i = r));
          }),
            t.splice(i, 0, n);
        }),
          (t.save = function (e) {
            try {
              e ? t.storage.setItem("debug", e) : t.storage.removeItem("debug");
            } catch (e) {}
          }),
          (t.load = function () {
            let e;
            try {
              e = t.storage.getItem("debug");
            } catch (e) {}
            return !e && "undefined" != typeof process && "env" in process && (e = process.env.DEBUG), e;
          }),
          (t.useColors = function () {
            return (
              !(
                "undefined" == typeof window ||
                !window.process ||
                ("renderer" !== window.process.type && !window.process.__nwjs)
              ) ||
              (("undefined" == typeof navigator ||
                !navigator.userAgent ||
                !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) &&
                (("undefined" != typeof document &&
                  document.documentElement &&
                  document.documentElement.style &&
                  document.documentElement.style.WebkitAppearance) ||
                  ("undefined" != typeof window &&
                    window.console &&
                    (window.console.firebug || (window.console.exception && window.console.table))) ||
                  ("undefined" != typeof navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) &&
                    parseInt(RegExp.$1, 10) >= 31) ||
                  ("undefined" != typeof navigator &&
                    navigator.userAgent &&
                    navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))))
            );
          }),
          (t.storage = (function () {
            try {
              return localStorage;
            } catch (e) {}
          })()),
          (t.destroy = (() => {
            let e = !1;
            return () => {
              e ||
                ((e = !0),
                console.warn(
                  "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
                ));
            };
          })()),
          (t.colors = [
            "#0000CC",
            "#0000FF",
            "#0033CC",
            "#0033FF",
            "#0066CC",
            "#0066FF",
            "#0099CC",
            "#0099FF",
            "#00CC00",
            "#00CC33",
            "#00CC66",
            "#00CC99",
            "#00CCCC",
            "#00CCFF",
            "#3300CC",
            "#3300FF",
            "#3333CC",
            "#3333FF",
            "#3366CC",
            "#3366FF",
            "#3399CC",
            "#3399FF",
            "#33CC00",
            "#33CC33",
            "#33CC66",
            "#33CC99",
            "#33CCCC",
            "#33CCFF",
            "#6600CC",
            "#6600FF",
            "#6633CC",
            "#6633FF",
            "#66CC00",
            "#66CC33",
            "#9900CC",
            "#9900FF",
            "#9933CC",
            "#9933FF",
            "#99CC00",
            "#99CC33",
            "#CC0000",
            "#CC0033",
            "#CC0066",
            "#CC0099",
            "#CC00CC",
            "#CC00FF",
            "#CC3300",
            "#CC3333",
            "#CC3366",
            "#CC3399",
            "#CC33CC",
            "#CC33FF",
            "#CC6600",
            "#CC6633",
            "#CC9900",
            "#CC9933",
            "#CCCC00",
            "#CCCC33",
            "#FF0000",
            "#FF0033",
            "#FF0066",
            "#FF0099",
            "#FF00CC",
            "#FF00FF",
            "#FF3300",
            "#FF3333",
            "#FF3366",
            "#FF3399",
            "#FF33CC",
            "#FF33FF",
            "#FF6600",
            "#FF6633",
            "#FF9900",
            "#FF9933",
            "#FFCC00",
            "#FFCC33",
          ]),
          (t.log = console.debug || console.log || (() => {})),
          (e.exports = n(3914)(t));
        const { formatters: r } = e.exports;
        r.j = function (e) {
          try {
            return JSON.stringify(e);
          } catch (e) {
            return "[UnexpectedJSONParseError]: " + e.message;
          }
        };
      },
      3914: (e, t, n) => {
        e.exports = function (e) {
          function t(e) {
            let n,
              i,
              o,
              a = null;
            function s(...e) {
              if (!s.enabled) return;
              const r = s,
                i = Number(new Date()),
                o = i - (n || i);
              (r.diff = o),
                (r.prev = n),
                (r.curr = i),
                (n = i),
                (e[0] = t.coerce(e[0])),
                "string" != typeof e[0] && e.unshift("%O");
              let a = 0;
              (e[0] = e[0].replace(/%([a-zA-Z%])/g, (n, i) => {
                if ("%%" === n) return "%";
                a++;
                const o = t.formatters[i];
                if ("function" == typeof o) {
                  const t = e[a];
                  (n = o.call(r, t)), e.splice(a, 1), a--;
                }
                return n;
              })),
                t.formatArgs.call(r, e),
                (r.log || t.log).apply(r, e);
            }
            return (
              (s.namespace = e),
              (s.useColors = t.useColors()),
              (s.color = t.selectColor(e)),
              (s.extend = r),
              (s.destroy = t.destroy),
              Object.defineProperty(s, "enabled", {
                enumerable: !0,
                configurable: !1,
                get: () => (null !== a ? a : (i !== t.namespaces && ((i = t.namespaces), (o = t.enabled(e))), o)),
                set: e => {
                  a = e;
                },
              }),
              "function" == typeof t.init && t.init(s),
              s
            );
          }
          function r(e, n) {
            const r = t(this.namespace + (void 0 === n ? ":" : n) + e);
            return (r.log = this.log), r;
          }
          function i(e) {
            return e
              .toString()
              .substring(2, e.toString().length - 2)
              .replace(/\.\*\?$/, "*");
          }
          return (
            (t.debug = t),
            (t.default = t),
            (t.coerce = function (e) {
              return e instanceof Error ? e.stack || e.message : e;
            }),
            (t.disable = function () {
              const e = [...t.names.map(i), ...t.skips.map(i).map(e => "-" + e)].join(",");
              return t.enable(""), e;
            }),
            (t.enable = function (e) {
              let n;
              t.save(e), (t.namespaces = e), (t.names = []), (t.skips = []);
              const r = ("string" == typeof e ? e : "").split(/[\s,]+/),
                i = r.length;
              for (n = 0; n < i; n++)
                r[n] &&
                  ("-" === (e = r[n].replace(/\*/g, ".*?"))[0]
                    ? t.skips.push(new RegExp("^" + e.slice(1) + "$"))
                    : t.names.push(new RegExp("^" + e + "$")));
            }),
            (t.enabled = function (e) {
              if ("*" === e[e.length - 1]) return !0;
              let n, r;
              for (n = 0, r = t.skips.length; n < r; n++) if (t.skips[n].test(e)) return !1;
              for (n = 0, r = t.names.length; n < r; n++) if (t.names[n].test(e)) return !0;
              return !1;
            }),
            (t.humanize = n(4895)),
            (t.destroy = function () {
              console.warn(
                "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."
              );
            }),
            Object.keys(e).forEach(n => {
              t[n] = e[n];
            }),
            (t.names = []),
            (t.skips = []),
            (t.formatters = {}),
            (t.selectColor = function (e) {
              let n = 0;
              for (let t = 0; t < e.length; t++) (n = (n << 5) - n + e.charCodeAt(t)), (n |= 0);
              return t.colors[Math.abs(n) % t.colors.length];
            }),
            t.enable(t.load()),
            t
          );
        };
      },
      2202: (e, t, n) => {
        "use strict";
        var r = n(6174),
          i = n(4150);
        function o(e) {
          for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++)
            t += "&args[]=" + encodeURIComponent(arguments[n]);
          return (
            "Minified React error #" +
            e +
            "; visit " +
            t +
            " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
          );
        }
        var a = new Set(),
          s = {};
        function l(e, t) {
          c(e, t), c(e + "Capture", t);
        }
        function c(e, t) {
          for (s[e] = t, e = 0; e < t.length; e++) a.add(t[e]);
        }
        var u = !(
            "undefined" == typeof window ||
            void 0 === window.document ||
            void 0 === window.document.createElement
          ),
          d = Object.prototype.hasOwnProperty,
          f =
            /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
          h = {},
          p = {};
        function m(e, t, n, r, i, o, a) {
          (this.acceptsBooleans = 2 === t || 3 === t || 4 === t),
            (this.attributeName = r),
            (this.attributeNamespace = i),
            (this.mustUseProperty = n),
            (this.propertyName = e),
            (this.type = t),
            (this.sanitizeURL = o),
            (this.removeEmptyString = a);
        }
        var y = {};
        "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
          .split(" ")
          .forEach(function (e) {
            y[e] = new m(e, 0, !1, e, null, !1, !1);
          }),
          [
            ["acceptCharset", "accept-charset"],
            ["className", "class"],
            ["htmlFor", "for"],
            ["httpEquiv", "http-equiv"],
          ].forEach(function (e) {
            var t = e[0];
            y[t] = new m(t, 1, !1, e[1], null, !1, !1);
          }),
          ["contentEditable", "draggable", "spellCheck", "value"].forEach(function (e) {
            y[e] = new m(e, 2, !1, e.toLowerCase(), null, !1, !1);
          }),
          ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function (e) {
            y[e] = new m(e, 2, !1, e, null, !1, !1);
          }),
          "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
            .split(" ")
            .forEach(function (e) {
              y[e] = new m(e, 3, !1, e.toLowerCase(), null, !1, !1);
            }),
          ["checked", "multiple", "muted", "selected"].forEach(function (e) {
            y[e] = new m(e, 3, !0, e, null, !1, !1);
          }),
          ["capture", "download"].forEach(function (e) {
            y[e] = new m(e, 4, !1, e, null, !1, !1);
          }),
          ["cols", "rows", "size", "span"].forEach(function (e) {
            y[e] = new m(e, 6, !1, e, null, !1, !1);
          }),
          ["rowSpan", "start"].forEach(function (e) {
            y[e] = new m(e, 5, !1, e.toLowerCase(), null, !1, !1);
          });
        var g = /[\-:]([a-z])/g;
        function v(e) {
          return e[1].toUpperCase();
        }
        function w(e, t, n, r) {
          var i = y.hasOwnProperty(t) ? y[t] : null;
          (null !== i
            ? 0 !== i.type
            : r || !(2 < t.length) || ("o" !== t[0] && "O" !== t[0]) || ("n" !== t[1] && "N" !== t[1])) &&
            ((function (e, t, n, r) {
              if (
                null == t ||
                (function (e, t, n, r) {
                  if (null !== n && 0 === n.type) return !1;
                  switch (typeof t) {
                    case "function":
                    case "symbol":
                      return !0;
                    case "boolean":
                      return (
                        !r &&
                        (null !== n
                          ? !n.acceptsBooleans
                          : "data-" !== (e = e.toLowerCase().slice(0, 5)) && "aria-" !== e)
                      );
                    default:
                      return !1;
                  }
                })(e, t, n, r)
              )
                return !0;
              if (r) return !1;
              if (null !== n)
                switch (n.type) {
                  case 3:
                    return !t;
                  case 4:
                    return !1 === t;
                  case 5:
                    return isNaN(t);
                  case 6:
                    return isNaN(t) || 1 > t;
                }
              return !1;
            })(t, n, i, r) && (n = null),
            r || null === i
              ? (function (e) {
                  return !!d.call(p, e) || (!d.call(h, e) && (f.test(e) ? (p[e] = !0) : ((h[e] = !0), !1)));
                })(t) && (null === n ? e.removeAttribute(t) : e.setAttribute(t, "" + n))
              : i.mustUseProperty
              ? (e[i.propertyName] = null === n ? 3 !== i.type && "" : n)
              : ((t = i.attributeName),
                (r = i.attributeNamespace),
                null === n
                  ? e.removeAttribute(t)
                  : ((n = 3 === (i = i.type) || (4 === i && !0 === n) ? "" : "" + n),
                    r ? e.setAttributeNS(r, t, n) : e.setAttribute(t, n))));
        }
        "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
          .split(" ")
          .forEach(function (e) {
            var t = e.replace(g, v);
            y[t] = new m(t, 1, !1, e, null, !1, !1);
          }),
          "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function (e) {
            var t = e.replace(g, v);
            y[t] = new m(t, 1, !1, e, "http://www.w3.org/1999/xlink", !1, !1);
          }),
          ["xml:base", "xml:lang", "xml:space"].forEach(function (e) {
            var t = e.replace(g, v);
            y[t] = new m(t, 1, !1, e, "http://www.w3.org/XML/1998/namespace", !1, !1);
          }),
          ["tabIndex", "crossOrigin"].forEach(function (e) {
            y[e] = new m(e, 1, !1, e.toLowerCase(), null, !1, !1);
          }),
          (y.xlinkHref = new m("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1)),
          ["src", "href", "action", "formAction"].forEach(function (e) {
            y[e] = new m(e, 1, !1, e.toLowerCase(), null, !0, !0);
          });
        var b = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
          x = Symbol.for("react.element"),
          E = Symbol.for("react.portal"),
          k = Symbol.for("react.fragment"),
          j = Symbol.for("react.strict_mode"),
          S = Symbol.for("react.profiler"),
          A = Symbol.for("react.provider"),
          C = Symbol.for("react.context"),
          N = Symbol.for("react.forward_ref"),
          P = Symbol.for("react.suspense"),
          _ = Symbol.for("react.suspense_list"),
          T = Symbol.for("react.memo"),
          M = Symbol.for("react.lazy");
        Symbol.for("react.scope"), Symbol.for("react.debug_trace_mode");
        var R = Symbol.for("react.offscreen");
        Symbol.for("react.legacy_hidden"), Symbol.for("react.cache"), Symbol.for("react.tracing_marker");
        var B = Symbol.iterator;
        function O(e) {
          return null === e || "object" != typeof e
            ? null
            : "function" == typeof (e = (B && e[B]) || e["@@iterator"])
            ? e
            : null;
        }
        var L,
          I = Object.assign;
        function F(e) {
          if (void 0 === L)
            try {
              throw Error();
            } catch (e) {
              var t = e.stack.trim().match(/\n( *(at )?)/);
              L = (t && t[1]) || "";
            }
          return "\n" + L + e;
        }
        var D = !1;
        function U(e, t) {
          if (!e || D) return "";
          D = !0;
          var n = Error.prepareStackTrace;
          Error.prepareStackTrace = void 0;
          try {
            if (t)
              if (
                ((t = function () {
                  throw Error();
                }),
                Object.defineProperty(t.prototype, "props", {
                  set: function () {
                    throw Error();
                  },
                }),
                "object" == typeof Reflect && Reflect.construct)
              ) {
                try {
                  Reflect.construct(t, []);
                } catch (e) {
                  var r = e;
                }
                Reflect.construct(e, [], t);
              } else {
                try {
                  t.call();
                } catch (e) {
                  r = e;
                }
                e.call(t.prototype);
              }
            else {
              try {
                throw Error();
              } catch (e) {
                r = e;
              }
              e();
            }
          } catch (t) {
            if (t && r && "string" == typeof t.stack) {
              for (
                var i = t.stack.split("\n"), o = r.stack.split("\n"), a = i.length - 1, s = o.length - 1;
                1 <= a && 0 <= s && i[a] !== o[s];

              )
                s--;
              for (; 1 <= a && 0 <= s; a--, s--)
                if (i[a] !== o[s]) {
                  if (1 !== a || 1 !== s)
                    do {
                      if ((a--, 0 > --s || i[a] !== o[s])) {
                        var l = "\n" + i[a].replace(" at new ", " at ");
                        return (
                          e.displayName && l.includes("<anonymous>") && (l = l.replace("<anonymous>", e.displayName)), l
                        );
                      }
                    } while (1 <= a && 0 <= s);
                  break;
                }
            }
          } finally {
            (D = !1), (Error.prepareStackTrace = n);
          }
          return (e = e ? e.displayName || e.name : "") ? F(e) : "";
        }
        function z(e) {
          switch (e.tag) {
            case 5:
              return F(e.type);
            case 16:
              return F("Lazy");
            case 13:
              return F("Suspense");
            case 19:
              return F("SuspenseList");
            case 0:
            case 2:
            case 15:
              return U(e.type, !1);
            case 11:
              return U(e.type.render, !1);
            case 1:
              return U(e.type, !0);
            default:
              return "";
          }
        }
        function H(e) {
          if (null == e) return null;
          if ("function" == typeof e) return e.displayName || e.name || null;
          if ("string" == typeof e) return e;
          switch (e) {
            case k:
              return "Fragment";
            case E:
              return "Portal";
            case S:
              return "Profiler";
            case j:
              return "StrictMode";
            case P:
              return "Suspense";
            case _:
              return "SuspenseList";
          }
          if ("object" == typeof e)
            switch (e.$$typeof) {
              case C:
                return (e.displayName || "Context") + ".Consumer";
              case A:
                return (e._context.displayName || "Context") + ".Provider";
              case N:
                var t = e.render;
                return (
                  (e = e.displayName) ||
                    (e = "" !== (e = t.displayName || t.name || "") ? "ForwardRef(" + e + ")" : "ForwardRef"),
                  e
                );
              case T:
                return null !== (t = e.displayName || null) ? t : H(e.type) || "Memo";
              case M:
                (t = e._payload), (e = e._init);
                try {
                  return H(e(t));
                } catch (e) {}
            }
          return null;
        }
        function K(e) {
          var t = e.type;
          switch (e.tag) {
            case 24:
              return "Cache";
            case 9:
              return (t.displayName || "Context") + ".Consumer";
            case 10:
              return (t._context.displayName || "Context") + ".Provider";
            case 18:
              return "DehydratedFragment";
            case 11:
              return (
                (e = (e = t.render).displayName || e.name || ""),
                t.displayName || ("" !== e ? "ForwardRef(" + e + ")" : "ForwardRef")
              );
            case 7:
              return "Fragment";
            case 5:
              return t;
            case 4:
              return "Portal";
            case 3:
              return "Root";
            case 6:
              return "Text";
            case 16:
              return H(t);
            case 8:
              return t === j ? "StrictMode" : "Mode";
            case 22:
              return "Offscreen";
            case 12:
              return "Profiler";
            case 21:
              return "Scope";
            case 13:
              return "Suspense";
            case 19:
              return "SuspenseList";
            case 25:
              return "TracingMarker";
            case 1:
            case 0:
            case 17:
            case 2:
            case 14:
            case 15:
              if ("function" == typeof t) return t.displayName || t.name || null;
              if ("string" == typeof t) return t;
          }
          return null;
        }
        function W(e) {
          switch (typeof e) {
            case "boolean":
            case "number":
            case "string":
            case "undefined":
            case "object":
              return e;
            default:
              return "";
          }
        }
        function q(e) {
          var t = e.type;
          return (e = e.nodeName) && "input" === e.toLowerCase() && ("checkbox" === t || "radio" === t);
        }
        function V(e) {
          e._valueTracker ||
            (e._valueTracker = (function (e) {
              var t = q(e) ? "checked" : "value",
                n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t),
                r = "" + e[t];
              if (!e.hasOwnProperty(t) && void 0 !== n && "function" == typeof n.get && "function" == typeof n.set) {
                var i = n.get,
                  o = n.set;
                return (
                  Object.defineProperty(e, t, {
                    configurable: !0,
                    get: function () {
                      return i.call(this);
                    },
                    set: function (e) {
                      (r = "" + e), o.call(this, e);
                    },
                  }),
                  Object.defineProperty(e, t, { enumerable: n.enumerable }),
                  {
                    getValue: function () {
                      return r;
                    },
                    setValue: function (e) {
                      r = "" + e;
                    },
                    stopTracking: function () {
                      (e._valueTracker = null), delete e[t];
                    },
                  }
                );
              }
            })(e));
        }
        function $(e) {
          if (!e) return !1;
          var t = e._valueTracker;
          if (!t) return !0;
          var n = t.getValue(),
            r = "";
          return e && (r = q(e) ? (e.checked ? "true" : "false") : e.value), (e = r) !== n && (t.setValue(e), !0);
        }
        function G(e) {
          if (void 0 === (e = e || ("undefined" != typeof document ? document : void 0))) return null;
          try {
            return e.activeElement || e.body;
          } catch (t) {
            return e.body;
          }
        }
        function Z(e, t) {
          var n = t.checked;
          return I({}, t, {
            defaultChecked: void 0,
            defaultValue: void 0,
            value: void 0,
            checked: null != n ? n : e._wrapperState.initialChecked,
          });
        }
        function Y(e, t) {
          var n = null == t.defaultValue ? "" : t.defaultValue,
            r = null != t.checked ? t.checked : t.defaultChecked;
          (n = W(null != t.value ? t.value : n)),
            (e._wrapperState = {
              initialChecked: r,
              initialValue: n,
              controlled: "checkbox" === t.type || "radio" === t.type ? null != t.checked : null != t.value,
            });
        }
        function X(e, t) {
          null != (t = t.checked) && w(e, "checked", t, !1);
        }
        function Q(e, t) {
          X(e, t);
          var n = W(t.value),
            r = t.type;
          if (null != n)
            "number" === r
              ? ((0 === n && "" === e.value) || e.value != n) && (e.value = "" + n)
              : e.value !== "" + n && (e.value = "" + n);
          else if ("submit" === r || "reset" === r) return void e.removeAttribute("value");
          t.hasOwnProperty("value")
            ? ee(e, t.type, n)
            : t.hasOwnProperty("defaultValue") && ee(e, t.type, W(t.defaultValue)),
            null == t.checked && null != t.defaultChecked && (e.defaultChecked = !!t.defaultChecked);
        }
        function J(e, t, n) {
          if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) {
            var r = t.type;
            if (!(("submit" !== r && "reset" !== r) || (void 0 !== t.value && null !== t.value))) return;
            (t = "" + e._wrapperState.initialValue), n || t === e.value || (e.value = t), (e.defaultValue = t);
          }
          "" !== (n = e.name) && (e.name = ""),
            (e.defaultChecked = !!e._wrapperState.initialChecked),
            "" !== n && (e.name = n);
        }
        function ee(e, t, n) {
          ("number" === t && G(e.ownerDocument) === e) ||
            (null == n
              ? (e.defaultValue = "" + e._wrapperState.initialValue)
              : e.defaultValue !== "" + n && (e.defaultValue = "" + n));
        }
        var te = Array.isArray;
        function ne(e, t, n, r) {
          if (((e = e.options), t)) {
            t = {};
            for (var i = 0; i < n.length; i++) t["$" + n[i]] = !0;
            for (n = 0; n < e.length; n++)
              (i = t.hasOwnProperty("$" + e[n].value)),
                e[n].selected !== i && (e[n].selected = i),
                i && r && (e[n].defaultSelected = !0);
          } else {
            for (n = "" + W(n), t = null, i = 0; i < e.length; i++) {
              if (e[i].value === n) return (e[i].selected = !0), void (r && (e[i].defaultSelected = !0));
              null !== t || e[i].disabled || (t = e[i]);
            }
            null !== t && (t.selected = !0);
          }
        }
        function re(e, t) {
          if (null != t.dangerouslySetInnerHTML) throw Error(o(91));
          return I({}, t, { value: void 0, defaultValue: void 0, children: "" + e._wrapperState.initialValue });
        }
        function ie(e, t) {
          var n = t.value;
          if (null == n) {
            if (((n = t.children), (t = t.defaultValue), null != n)) {
              if (null != t) throw Error(o(92));
              if (te(n)) {
                if (1 < n.length) throw Error(o(93));
                n = n[0];
              }
              t = n;
            }
            null == t && (t = ""), (n = t);
          }
          e._wrapperState = { initialValue: W(n) };
        }
        function oe(e, t) {
          var n = W(t.value),
            r = W(t.defaultValue);
          null != n &&
            ((n = "" + n) !== e.value && (e.value = n),
            null == t.defaultValue && e.defaultValue !== n && (e.defaultValue = n)),
            null != r && (e.defaultValue = "" + r);
        }
        function ae(e) {
          var t = e.textContent;
          t === e._wrapperState.initialValue && "" !== t && null !== t && (e.value = t);
        }
        function se(e) {
          switch (e) {
            case "svg":
              return "http://www.w3.org/2000/svg";
            case "math":
              return "http://www.w3.org/1998/Math/MathML";
            default:
              return "http://www.w3.org/1999/xhtml";
          }
        }
        function le(e, t) {
          return null == e || "http://www.w3.org/1999/xhtml" === e
            ? se(t)
            : "http://www.w3.org/2000/svg" === e && "foreignObject" === t
            ? "http://www.w3.org/1999/xhtml"
            : e;
        }
        var ce,
          ue,
          de =
            ((ue = function (e, t) {
              if ("http://www.w3.org/2000/svg" !== e.namespaceURI || "innerHTML" in e) e.innerHTML = t;
              else {
                for (
                  (ce = ce || document.createElement("div")).innerHTML = "<svg>" + t.valueOf().toString() + "</svg>",
                    t = ce.firstChild;
                  e.firstChild;

                )
                  e.removeChild(e.firstChild);
                for (; t.firstChild; ) e.appendChild(t.firstChild);
              }
            }),
            "undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction
              ? function (e, t, n, r) {
                  MSApp.execUnsafeLocalFunction(function () {
                    return ue(e, t);
                  });
                }
              : ue);
        function fe(e, t) {
          if (t) {
            var n = e.firstChild;
            if (n && n === e.lastChild && 3 === n.nodeType) return void (n.nodeValue = t);
          }
          e.textContent = t;
        }
        var he = {
            animationIterationCount: !0,
            aspectRatio: !0,
            borderImageOutset: !0,
            borderImageSlice: !0,
            borderImageWidth: !0,
            boxFlex: !0,
            boxFlexGroup: !0,
            boxOrdinalGroup: !0,
            columnCount: !0,
            columns: !0,
            flex: !0,
            flexGrow: !0,
            flexPositive: !0,
            flexShrink: !0,
            flexNegative: !0,
            flexOrder: !0,
            gridArea: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowSpan: !0,
            gridRowStart: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnSpan: !0,
            gridColumnStart: !0,
            fontWeight: !0,
            lineClamp: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            tabSize: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0,
            fillOpacity: !0,
            floodOpacity: !0,
            stopOpacity: !0,
            strokeDasharray: !0,
            strokeDashoffset: !0,
            strokeMiterlimit: !0,
            strokeOpacity: !0,
            strokeWidth: !0,
          },
          pe = ["Webkit", "ms", "Moz", "O"];
        function me(e, t, n) {
          return null == t || "boolean" == typeof t || "" === t
            ? ""
            : n || "number" != typeof t || 0 === t || (he.hasOwnProperty(e) && he[e])
            ? ("" + t).trim()
            : t + "px";
        }
        function ye(e, t) {
          for (var n in ((e = e.style), t))
            if (t.hasOwnProperty(n)) {
              var r = 0 === n.indexOf("--"),
                i = me(n, t[n], r);
              "float" === n && (n = "cssFloat"), r ? e.setProperty(n, i) : (e[n] = i);
            }
        }
        Object.keys(he).forEach(function (e) {
          pe.forEach(function (t) {
            (t = t + e.charAt(0).toUpperCase() + e.substring(1)), (he[t] = he[e]);
          });
        });
        var ge = I(
          { menuitem: !0 },
          {
            area: !0,
            base: !0,
            br: !0,
            col: !0,
            embed: !0,
            hr: !0,
            img: !0,
            input: !0,
            keygen: !0,
            link: !0,
            meta: !0,
            param: !0,
            source: !0,
            track: !0,
            wbr: !0,
          }
        );
        function ve(e, t) {
          if (t) {
            if (ge[e] && (null != t.children || null != t.dangerouslySetInnerHTML)) throw Error(o(137, e));
            if (null != t.dangerouslySetInnerHTML) {
              if (null != t.children) throw Error(o(60));
              if ("object" != typeof t.dangerouslySetInnerHTML || !("__html" in t.dangerouslySetInnerHTML))
                throw Error(o(61));
            }
            if (null != t.style && "object" != typeof t.style) throw Error(o(62));
          }
        }
        function we(e, t) {
          if (-1 === e.indexOf("-")) return "string" == typeof t.is;
          switch (e) {
            case "annotation-xml":
            case "color-profile":
            case "font-face":
            case "font-face-src":
            case "font-face-uri":
            case "font-face-format":
            case "font-face-name":
            case "missing-glyph":
              return !1;
            default:
              return !0;
          }
        }
        var be = null;
        function xe(e) {
          return (
            (e = e.target || e.srcElement || window).correspondingUseElement && (e = e.correspondingUseElement),
            3 === e.nodeType ? e.parentNode : e
          );
        }
        var Ee = null,
          ke = null,
          je = null;
        function Se(e) {
          if ((e = wi(e))) {
            if ("function" != typeof Ee) throw Error(o(280));
            var t = e.stateNode;
            t && ((t = xi(t)), Ee(e.stateNode, e.type, t));
          }
        }
        function Ae(e) {
          ke ? (je ? je.push(e) : (je = [e])) : (ke = e);
        }
        function Ce() {
          if (ke) {
            var e = ke,
              t = je;
            if (((je = ke = null), Se(e), t)) for (e = 0; e < t.length; e++) Se(t[e]);
          }
        }
        function Ne(e, t) {
          return e(t);
        }
        function Pe() {}
        var _e = !1;
        function Te(e, t, n) {
          if (_e) return e(t, n);
          _e = !0;
          try {
            return Ne(e, t, n);
          } finally {
            (_e = !1), (null !== ke || null !== je) && (Pe(), Ce());
          }
        }
        function Me(e, t) {
          var n = e.stateNode;
          if (null === n) return null;
          var r = xi(n);
          if (null === r) return null;
          n = r[t];
          e: switch (t) {
            case "onClick":
            case "onClickCapture":
            case "onDoubleClick":
            case "onDoubleClickCapture":
            case "onMouseDown":
            case "onMouseDownCapture":
            case "onMouseMove":
            case "onMouseMoveCapture":
            case "onMouseUp":
            case "onMouseUpCapture":
            case "onMouseEnter":
              (r = !r.disabled) ||
                (r = !("button" === (e = e.type) || "input" === e || "select" === e || "textarea" === e)),
                (e = !r);
              break e;
            default:
              e = !1;
          }
          if (e) return null;
          if (n && "function" != typeof n) throw Error(o(231, t, typeof n));
          return n;
        }
        var Re = !1;
        if (u)
          try {
            var Be = {};
            Object.defineProperty(Be, "passive", {
              get: function () {
                Re = !0;
              },
            }),
              window.addEventListener("test", Be, Be),
              window.removeEventListener("test", Be, Be);
          } catch (ue) {
            Re = !1;
          }
        function Oe(e, t, n, r, i, o, a, s, l) {
          var c = Array.prototype.slice.call(arguments, 3);
          try {
            t.apply(n, c);
          } catch (e) {
            this.onError(e);
          }
        }
        var Le = !1,
          Ie = null,
          Fe = !1,
          De = null,
          Ue = {
            onError: function (e) {
              (Le = !0), (Ie = e);
            },
          };
        function ze(e, t, n, r, i, o, a, s, l) {
          (Le = !1), (Ie = null), Oe.apply(Ue, arguments);
        }
        function He(e) {
          var t = e,
            n = e;
          if (e.alternate) for (; t.return; ) t = t.return;
          else {
            e = t;
            do {
              0 != (4098 & (t = e).flags) && (n = t.return), (e = t.return);
            } while (e);
          }
          return 3 === t.tag ? n : null;
        }
        function Ke(e) {
          if (13 === e.tag) {
            var t = e.memoizedState;
            if ((null === t && null !== (e = e.alternate) && (t = e.memoizedState), null !== t)) return t.dehydrated;
          }
          return null;
        }
        function We(e) {
          if (He(e) !== e) throw Error(o(188));
        }
        function qe(e) {
          return null !==
            (e = (function (e) {
              var t = e.alternate;
              if (!t) {
                if (null === (t = He(e))) throw Error(o(188));
                return t !== e ? null : e;
              }
              for (var n = e, r = t; ; ) {
                var i = n.return;
                if (null === i) break;
                var a = i.alternate;
                if (null === a) {
                  if (null !== (r = i.return)) {
                    n = r;
                    continue;
                  }
                  break;
                }
                if (i.child === a.child) {
                  for (a = i.child; a; ) {
                    if (a === n) return We(i), e;
                    if (a === r) return We(i), t;
                    a = a.sibling;
                  }
                  throw Error(o(188));
                }
                if (n.return !== r.return) (n = i), (r = a);
                else {
                  for (var s = !1, l = i.child; l; ) {
                    if (l === n) {
                      (s = !0), (n = i), (r = a);
                      break;
                    }
                    if (l === r) {
                      (s = !0), (r = i), (n = a);
                      break;
                    }
                    l = l.sibling;
                  }
                  if (!s) {
                    for (l = a.child; l; ) {
                      if (l === n) {
                        (s = !0), (n = a), (r = i);
                        break;
                      }
                      if (l === r) {
                        (s = !0), (r = a), (n = i);
                        break;
                      }
                      l = l.sibling;
                    }
                    if (!s) throw Error(o(189));
                  }
                }
                if (n.alternate !== r) throw Error(o(190));
              }
              if (3 !== n.tag) throw Error(o(188));
              return n.stateNode.current === n ? e : t;
            })(e))
            ? Ve(e)
            : null;
        }
        function Ve(e) {
          if (5 === e.tag || 6 === e.tag) return e;
          for (e = e.child; null !== e; ) {
            var t = Ve(e);
            if (null !== t) return t;
            e = e.sibling;
          }
          return null;
        }
        var $e = i.unstable_scheduleCallback,
          Ge = i.unstable_cancelCallback,
          Ze = i.unstable_shouldYield,
          Ye = i.unstable_requestPaint,
          Xe = i.unstable_now,
          Qe = i.unstable_getCurrentPriorityLevel,
          Je = i.unstable_ImmediatePriority,
          et = i.unstable_UserBlockingPriority,
          tt = i.unstable_NormalPriority,
          nt = i.unstable_LowPriority,
          rt = i.unstable_IdlePriority,
          it = null,
          ot = null,
          at = Math.clz32
            ? Math.clz32
            : function (e) {
                return 0 === (e >>>= 0) ? 32 : (31 - ((st(e) / lt) | 0)) | 0;
              },
          st = Math.log,
          lt = Math.LN2,
          ct = 64,
          ut = 4194304;
        function dt(e) {
          switch (e & -e) {
            case 1:
              return 1;
            case 2:
              return 2;
            case 4:
              return 4;
            case 8:
              return 8;
            case 16:
              return 16;
            case 32:
              return 32;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
              return 4194240 & e;
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
              return 130023424 & e;
            case 134217728:
              return 134217728;
            case 268435456:
              return 268435456;
            case 536870912:
              return 536870912;
            case 1073741824:
              return 1073741824;
            default:
              return e;
          }
        }
        function ft(e, t) {
          var n = e.pendingLanes;
          if (0 === n) return 0;
          var r = 0,
            i = e.suspendedLanes,
            o = e.pingedLanes,
            a = 268435455 & n;
          if (0 !== a) {
            var s = a & ~i;
            0 !== s ? (r = dt(s)) : 0 != (o &= a) && (r = dt(o));
          } else 0 != (a = n & ~i) ? (r = dt(a)) : 0 !== o && (r = dt(o));
          if (0 === r) return 0;
          if (0 !== t && t !== r && 0 == (t & i) && ((i = r & -r) >= (o = t & -t) || (16 === i && 0 != (4194240 & o))))
            return t;
          if ((0 != (4 & r) && (r |= 16 & n), 0 !== (t = e.entangledLanes)))
            for (e = e.entanglements, t &= r; 0 < t; ) (i = 1 << (n = 31 - at(t))), (r |= e[n]), (t &= ~i);
          return r;
        }
        function ht(e, t) {
          switch (e) {
            case 1:
            case 2:
            case 4:
              return t + 250;
            case 8:
            case 16:
            case 32:
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
              return t + 5e3;
            default:
              return -1;
          }
        }
        function pt(e) {
          return 0 != (e = -1073741825 & e.pendingLanes) ? e : 1073741824 & e ? 1073741824 : 0;
        }
        function mt() {
          var e = ct;
          return 0 == (4194240 & (ct <<= 1)) && (ct = 64), e;
        }
        function yt(e) {
          for (var t = [], n = 0; 31 > n; n++) t.push(e);
          return t;
        }
        function gt(e, t, n) {
          (e.pendingLanes |= t),
            536870912 !== t && ((e.suspendedLanes = 0), (e.pingedLanes = 0)),
            ((e = e.eventTimes)[(t = 31 - at(t))] = n);
        }
        function vt(e, t) {
          var n = (e.entangledLanes |= t);
          for (e = e.entanglements; n; ) {
            var r = 31 - at(n),
              i = 1 << r;
            (i & t) | (e[r] & t) && (e[r] |= t), (n &= ~i);
          }
        }
        var wt = 0;
        function bt(e) {
          return 1 < (e &= -e) ? (4 < e ? (0 != (268435455 & e) ? 16 : 536870912) : 4) : 1;
        }
        var xt,
          Et,
          kt,
          jt,
          St,
          At = !1,
          Ct = [],
          Nt = null,
          Pt = null,
          _t = null,
          Tt = new Map(),
          Mt = new Map(),
          Rt = [],
          Bt =
            "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
              " "
            );
        function Ot(e, t) {
          switch (e) {
            case "focusin":
            case "focusout":
              Nt = null;
              break;
            case "dragenter":
            case "dragleave":
              Pt = null;
              break;
            case "mouseover":
            case "mouseout":
              _t = null;
              break;
            case "pointerover":
            case "pointerout":
              Tt.delete(t.pointerId);
              break;
            case "gotpointercapture":
            case "lostpointercapture":
              Mt.delete(t.pointerId);
          }
        }
        function Lt(e, t, n, r, i, o) {
          return null === e || e.nativeEvent !== o
            ? ((e = { blockedOn: t, domEventName: n, eventSystemFlags: r, nativeEvent: o, targetContainers: [i] }),
              null !== t && null !== (t = wi(t)) && Et(t),
              e)
            : ((e.eventSystemFlags |= r), (t = e.targetContainers), null !== i && -1 === t.indexOf(i) && t.push(i), e);
        }
        function It(e) {
          var t = vi(e.target);
          if (null !== t) {
            var n = He(t);
            if (null !== n)
              if (13 === (t = n.tag)) {
                if (null !== (t = Ke(n)))
                  return (
                    (e.blockedOn = t),
                    void St(e.priority, function () {
                      kt(n);
                    })
                  );
              } else if (3 === t && n.stateNode.current.memoizedState.isDehydrated)
                return void (e.blockedOn = 3 === n.tag ? n.stateNode.containerInfo : null);
          }
          e.blockedOn = null;
        }
        function Ft(e) {
          if (null !== e.blockedOn) return !1;
          for (var t = e.targetContainers; 0 < t.length; ) {
            var n = Zt(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent);
            if (null !== n) return null !== (t = wi(n)) && Et(t), (e.blockedOn = n), !1;
            var r = new (n = e.nativeEvent).constructor(n.type, n);
            (be = r), n.target.dispatchEvent(r), (be = null), t.shift();
          }
          return !0;
        }
        function Dt(e, t, n) {
          Ft(e) && n.delete(t);
        }
        function Ut() {
          (At = !1),
            null !== Nt && Ft(Nt) && (Nt = null),
            null !== Pt && Ft(Pt) && (Pt = null),
            null !== _t && Ft(_t) && (_t = null),
            Tt.forEach(Dt),
            Mt.forEach(Dt);
        }
        function zt(e, t) {
          e.blockedOn === t &&
            ((e.blockedOn = null), At || ((At = !0), i.unstable_scheduleCallback(i.unstable_NormalPriority, Ut)));
        }
        function Ht(e) {
          function t(t) {
            return zt(t, e);
          }
          if (0 < Ct.length) {
            zt(Ct[0], e);
            for (var n = 1; n < Ct.length; n++) {
              var r = Ct[n];
              r.blockedOn === e && (r.blockedOn = null);
            }
          }
          for (
            null !== Nt && zt(Nt, e),
              null !== Pt && zt(Pt, e),
              null !== _t && zt(_t, e),
              Tt.forEach(t),
              Mt.forEach(t),
              n = 0;
            n < Rt.length;
            n++
          )
            (r = Rt[n]).blockedOn === e && (r.blockedOn = null);
          for (; 0 < Rt.length && null === (n = Rt[0]).blockedOn; ) It(n), null === n.blockedOn && Rt.shift();
        }
        var Kt = b.ReactCurrentBatchConfig,
          Wt = !0;
        function qt(e, t, n, r) {
          var i = wt,
            o = Kt.transition;
          Kt.transition = null;
          try {
            (wt = 1), $t(e, t, n, r);
          } finally {
            (wt = i), (Kt.transition = o);
          }
        }
        function Vt(e, t, n, r) {
          var i = wt,
            o = Kt.transition;
          Kt.transition = null;
          try {
            (wt = 4), $t(e, t, n, r);
          } finally {
            (wt = i), (Kt.transition = o);
          }
        }
        function $t(e, t, n, r) {
          if (Wt) {
            var i = Zt(e, t, n, r);
            if (null === i) Wr(e, t, r, Gt, n), Ot(e, r);
            else if (
              (function (e, t, n, r, i) {
                switch (t) {
                  case "focusin":
                    return (Nt = Lt(Nt, e, t, n, r, i)), !0;
                  case "dragenter":
                    return (Pt = Lt(Pt, e, t, n, r, i)), !0;
                  case "mouseover":
                    return (_t = Lt(_t, e, t, n, r, i)), !0;
                  case "pointerover":
                    var o = i.pointerId;
                    return Tt.set(o, Lt(Tt.get(o) || null, e, t, n, r, i)), !0;
                  case "gotpointercapture":
                    return (o = i.pointerId), Mt.set(o, Lt(Mt.get(o) || null, e, t, n, r, i)), !0;
                }
                return !1;
              })(i, e, t, n, r)
            )
              r.stopPropagation();
            else if ((Ot(e, r), 4 & t && -1 < Bt.indexOf(e))) {
              for (; null !== i; ) {
                var o = wi(i);
                if ((null !== o && xt(o), null === (o = Zt(e, t, n, r)) && Wr(e, t, r, Gt, n), o === i)) break;
                i = o;
              }
              null !== i && r.stopPropagation();
            } else Wr(e, t, r, null, n);
          }
        }
        var Gt = null;
        function Zt(e, t, n, r) {
          if (((Gt = null), null !== (e = vi((e = xe(r))))))
            if (null === (t = He(e))) e = null;
            else if (13 === (n = t.tag)) {
              if (null !== (e = Ke(t))) return e;
              e = null;
            } else if (3 === n) {
              if (t.stateNode.current.memoizedState.isDehydrated) return 3 === t.tag ? t.stateNode.containerInfo : null;
              e = null;
            } else t !== e && (e = null);
          return (Gt = e), null;
        }
        function Yt(e) {
          switch (e) {
            case "cancel":
            case "click":
            case "close":
            case "contextmenu":
            case "copy":
            case "cut":
            case "auxclick":
            case "dblclick":
            case "dragend":
            case "dragstart":
            case "drop":
            case "focusin":
            case "focusout":
            case "input":
            case "invalid":
            case "keydown":
            case "keypress":
            case "keyup":
            case "mousedown":
            case "mouseup":
            case "paste":
            case "pause":
            case "play":
            case "pointercancel":
            case "pointerdown":
            case "pointerup":
            case "ratechange":
            case "reset":
            case "resize":
            case "seeked":
            case "submit":
            case "touchcancel":
            case "touchend":
            case "touchstart":
            case "volumechange":
            case "change":
            case "selectionchange":
            case "textInput":
            case "compositionstart":
            case "compositionend":
            case "compositionupdate":
            case "beforeblur":
            case "afterblur":
            case "beforeinput":
            case "blur":
            case "fullscreenchange":
            case "focus":
            case "hashchange":
            case "popstate":
            case "select":
            case "selectstart":
              return 1;
            case "drag":
            case "dragenter":
            case "dragexit":
            case "dragleave":
            case "dragover":
            case "mousemove":
            case "mouseout":
            case "mouseover":
            case "pointermove":
            case "pointerout":
            case "pointerover":
            case "scroll":
            case "toggle":
            case "touchmove":
            case "wheel":
            case "mouseenter":
            case "mouseleave":
            case "pointerenter":
            case "pointerleave":
              return 4;
            case "message":
              switch (Qe()) {
                case Je:
                  return 1;
                case et:
                  return 4;
                case tt:
                case nt:
                  return 16;
                case rt:
                  return 536870912;
                default:
                  return 16;
              }
            default:
              return 16;
          }
        }
        var Xt = null,
          Qt = null,
          Jt = null;
        function en() {
          if (Jt) return Jt;
          var e,
            t,
            n = Qt,
            r = n.length,
            i = "value" in Xt ? Xt.value : Xt.textContent,
            o = i.length;
          for (e = 0; e < r && n[e] === i[e]; e++);
          var a = r - e;
          for (t = 1; t <= a && n[r - t] === i[o - t]; t++);
          return (Jt = i.slice(e, 1 < t ? 1 - t : void 0));
        }
        function tn(e) {
          var t = e.keyCode;
          return (
            "charCode" in e ? 0 === (e = e.charCode) && 13 === t && (e = 13) : (e = t),
            10 === e && (e = 13),
            32 <= e || 13 === e ? e : 0
          );
        }
        function nn() {
          return !0;
        }
        function rn() {
          return !1;
        }
        function on(e) {
          function t(t, n, r, i, o) {
            for (var a in ((this._reactName = t),
            (this._targetInst = r),
            (this.type = n),
            (this.nativeEvent = i),
            (this.target = o),
            (this.currentTarget = null),
            e))
              e.hasOwnProperty(a) && ((t = e[a]), (this[a] = t ? t(i) : i[a]));
            return (
              (this.isDefaultPrevented = (null != i.defaultPrevented ? i.defaultPrevented : !1 === i.returnValue)
                ? nn
                : rn),
              (this.isPropagationStopped = rn),
              this
            );
          }
          return (
            I(t.prototype, {
              preventDefault: function () {
                this.defaultPrevented = !0;
                var e = this.nativeEvent;
                e &&
                  (e.preventDefault ? e.preventDefault() : "unknown" != typeof e.returnValue && (e.returnValue = !1),
                  (this.isDefaultPrevented = nn));
              },
              stopPropagation: function () {
                var e = this.nativeEvent;
                e &&
                  (e.stopPropagation
                    ? e.stopPropagation()
                    : "unknown" != typeof e.cancelBubble && (e.cancelBubble = !0),
                  (this.isPropagationStopped = nn));
              },
              persist: function () {},
              isPersistent: nn,
            }),
            t
          );
        }
        var an,
          sn,
          ln,
          cn = {
            eventPhase: 0,
            bubbles: 0,
            cancelable: 0,
            timeStamp: function (e) {
              return e.timeStamp || Date.now();
            },
            defaultPrevented: 0,
            isTrusted: 0,
          },
          un = on(cn),
          dn = I({}, cn, { view: 0, detail: 0 }),
          fn = on(dn),
          hn = I({}, dn, {
            screenX: 0,
            screenY: 0,
            clientX: 0,
            clientY: 0,
            pageX: 0,
            pageY: 0,
            ctrlKey: 0,
            shiftKey: 0,
            altKey: 0,
            metaKey: 0,
            getModifierState: Sn,
            button: 0,
            buttons: 0,
            relatedTarget: function (e) {
              return void 0 === e.relatedTarget
                ? e.fromElement === e.srcElement
                  ? e.toElement
                  : e.fromElement
                : e.relatedTarget;
            },
            movementX: function (e) {
              return "movementX" in e
                ? e.movementX
                : (e !== ln &&
                    (ln && "mousemove" === e.type
                      ? ((an = e.screenX - ln.screenX), (sn = e.screenY - ln.screenY))
                      : (sn = an = 0),
                    (ln = e)),
                  an);
            },
            movementY: function (e) {
              return "movementY" in e ? e.movementY : sn;
            },
          }),
          pn = on(hn),
          mn = on(I({}, hn, { dataTransfer: 0 })),
          yn = on(I({}, dn, { relatedTarget: 0 })),
          gn = on(I({}, cn, { animationName: 0, elapsedTime: 0, pseudoElement: 0 })),
          vn = I({}, cn, {
            clipboardData: function (e) {
              return "clipboardData" in e ? e.clipboardData : window.clipboardData;
            },
          }),
          wn = on(vn),
          bn = on(I({}, cn, { data: 0 })),
          xn = {
            Esc: "Escape",
            Spacebar: " ",
            Left: "ArrowLeft",
            Up: "ArrowUp",
            Right: "ArrowRight",
            Down: "ArrowDown",
            Del: "Delete",
            Win: "OS",
            Menu: "ContextMenu",
            Apps: "ContextMenu",
            Scroll: "ScrollLock",
            MozPrintableKey: "Unidentified",
          },
          En = {
            8: "Backspace",
            9: "Tab",
            12: "Clear",
            13: "Enter",
            16: "Shift",
            17: "Control",
            18: "Alt",
            19: "Pause",
            20: "CapsLock",
            27: "Escape",
            32: " ",
            33: "PageUp",
            34: "PageDown",
            35: "End",
            36: "Home",
            37: "ArrowLeft",
            38: "ArrowUp",
            39: "ArrowRight",
            40: "ArrowDown",
            45: "Insert",
            46: "Delete",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "NumLock",
            145: "ScrollLock",
            224: "Meta",
          },
          kn = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };
        function jn(e) {
          var t = this.nativeEvent;
          return t.getModifierState ? t.getModifierState(e) : !!(e = kn[e]) && !!t[e];
        }
        function Sn() {
          return jn;
        }
        var An = I({}, dn, {
            key: function (e) {
              if (e.key) {
                var t = xn[e.key] || e.key;
                if ("Unidentified" !== t) return t;
              }
              return "keypress" === e.type
                ? 13 === (e = tn(e))
                  ? "Enter"
                  : String.fromCharCode(e)
                : "keydown" === e.type || "keyup" === e.type
                ? En[e.keyCode] || "Unidentified"
                : "";
            },
            code: 0,
            location: 0,
            ctrlKey: 0,
            shiftKey: 0,
            altKey: 0,
            metaKey: 0,
            repeat: 0,
            locale: 0,
            getModifierState: Sn,
            charCode: function (e) {
              return "keypress" === e.type ? tn(e) : 0;
            },
            keyCode: function (e) {
              return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
            },
            which: function (e) {
              return "keypress" === e.type ? tn(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0;
            },
          }),
          Cn = on(An),
          Nn = on(
            I({}, hn, {
              pointerId: 0,
              width: 0,
              height: 0,
              pressure: 0,
              tangentialPressure: 0,
              tiltX: 0,
              tiltY: 0,
              twist: 0,
              pointerType: 0,
              isPrimary: 0,
            })
          ),
          Pn = on(
            I({}, dn, {
              touches: 0,
              targetTouches: 0,
              changedTouches: 0,
              altKey: 0,
              metaKey: 0,
              ctrlKey: 0,
              shiftKey: 0,
              getModifierState: Sn,
            })
          ),
          _n = on(I({}, cn, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 })),
          Tn = I({}, hn, {
            deltaX: function (e) {
              return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0;
            },
            deltaY: function (e) {
              return "deltaY" in e
                ? e.deltaY
                : "wheelDeltaY" in e
                ? -e.wheelDeltaY
                : "wheelDelta" in e
                ? -e.wheelDelta
                : 0;
            },
            deltaZ: 0,
            deltaMode: 0,
          }),
          Mn = on(Tn),
          Rn = [9, 13, 27, 32],
          Bn = u && "CompositionEvent" in window,
          On = null;
        u && "documentMode" in document && (On = document.documentMode);
        var Ln = u && "TextEvent" in window && !On,
          In = u && (!Bn || (On && 8 < On && 11 >= On)),
          Fn = String.fromCharCode(32),
          Dn = !1;
        function Un(e, t) {
          switch (e) {
            case "keyup":
              return -1 !== Rn.indexOf(t.keyCode);
            case "keydown":
              return 229 !== t.keyCode;
            case "keypress":
            case "mousedown":
            case "focusout":
              return !0;
            default:
              return !1;
          }
        }
        function zn(e) {
          return "object" == typeof (e = e.detail) && "data" in e ? e.data : null;
        }
        var Hn = !1,
          Kn = {
            color: !0,
            date: !0,
            datetime: !0,
            "datetime-local": !0,
            email: !0,
            month: !0,
            number: !0,
            password: !0,
            range: !0,
            search: !0,
            tel: !0,
            text: !0,
            time: !0,
            url: !0,
            week: !0,
          };
        function Wn(e) {
          var t = e && e.nodeName && e.nodeName.toLowerCase();
          return "input" === t ? !!Kn[e.type] : "textarea" === t;
        }
        function qn(e, t, n, r) {
          Ae(r),
            0 < (t = Vr(t, "onChange")).length &&
              ((n = new un("onChange", "change", null, n, r)), e.push({ event: n, listeners: t }));
        }
        var Vn = null,
          $n = null;
        function Gn(e) {
          Fr(e, 0);
        }
        function Zn(e) {
          if ($(bi(e))) return e;
        }
        function Yn(e, t) {
          if ("change" === e) return t;
        }
        var Xn = !1;
        if (u) {
          var Qn;
          if (u) {
            var Jn = "oninput" in document;
            if (!Jn) {
              var er = document.createElement("div");
              er.setAttribute("oninput", "return;"), (Jn = "function" == typeof er.oninput);
            }
            Qn = Jn;
          } else Qn = !1;
          Xn = Qn && (!document.documentMode || 9 < document.documentMode);
        }
        function tr() {
          Vn && (Vn.detachEvent("onpropertychange", nr), ($n = Vn = null));
        }
        function nr(e) {
          if ("value" === e.propertyName && Zn($n)) {
            var t = [];
            qn(t, $n, e, xe(e)), Te(Gn, t);
          }
        }
        function rr(e, t, n) {
          "focusin" === e ? (tr(), ($n = n), (Vn = t).attachEvent("onpropertychange", nr)) : "focusout" === e && tr();
        }
        function ir(e) {
          if ("selectionchange" === e || "keyup" === e || "keydown" === e) return Zn($n);
        }
        function or(e, t) {
          if ("click" === e) return Zn(t);
        }
        function ar(e, t) {
          if ("input" === e || "change" === e) return Zn(t);
        }
        var sr =
          "function" == typeof Object.is
            ? Object.is
            : function (e, t) {
                return (e === t && (0 !== e || 1 / e == 1 / t)) || (e != e && t != t);
              };
        function lr(e, t) {
          if (sr(e, t)) return !0;
          if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
          var n = Object.keys(e),
            r = Object.keys(t);
          if (n.length !== r.length) return !1;
          for (r = 0; r < n.length; r++) {
            var i = n[r];
            if (!d.call(t, i) || !sr(e[i], t[i])) return !1;
          }
          return !0;
        }
        function cr(e) {
          for (; e && e.firstChild; ) e = e.firstChild;
          return e;
        }
        function ur(e, t) {
          var n,
            r = cr(e);
          for (e = 0; r; ) {
            if (3 === r.nodeType) {
              if (((n = e + r.textContent.length), e <= t && n >= t)) return { node: r, offset: t - e };
              e = n;
            }
            e: {
              for (; r; ) {
                if (r.nextSibling) {
                  r = r.nextSibling;
                  break e;
                }
                r = r.parentNode;
              }
              r = void 0;
            }
            r = cr(r);
          }
        }
        function dr(e, t) {
          return (
            !(!e || !t) &&
            (e === t ||
              ((!e || 3 !== e.nodeType) &&
                (t && 3 === t.nodeType
                  ? dr(e, t.parentNode)
                  : "contains" in e
                  ? e.contains(t)
                  : !!e.compareDocumentPosition && !!(16 & e.compareDocumentPosition(t)))))
          );
        }
        function fr() {
          for (var e = window, t = G(); t instanceof e.HTMLIFrameElement; ) {
            try {
              var n = "string" == typeof t.contentWindow.location.href;
            } catch (e) {
              n = !1;
            }
            if (!n) break;
            t = G((e = t.contentWindow).document);
          }
          return t;
        }
        function hr(e) {
          var t = e && e.nodeName && e.nodeName.toLowerCase();
          return (
            t &&
            (("input" === t &&
              ("text" === e.type ||
                "search" === e.type ||
                "tel" === e.type ||
                "url" === e.type ||
                "password" === e.type)) ||
              "textarea" === t ||
              "true" === e.contentEditable)
          );
        }
        function pr(e) {
          var t = fr(),
            n = e.focusedElem,
            r = e.selectionRange;
          if (t !== n && n && n.ownerDocument && dr(n.ownerDocument.documentElement, n)) {
            if (null !== r && hr(n))
              if (((t = r.start), void 0 === (e = r.end) && (e = t), "selectionStart" in n))
                (n.selectionStart = t), (n.selectionEnd = Math.min(e, n.value.length));
              else if ((e = ((t = n.ownerDocument || document) && t.defaultView) || window).getSelection) {
                e = e.getSelection();
                var i = n.textContent.length,
                  o = Math.min(r.start, i);
                (r = void 0 === r.end ? o : Math.min(r.end, i)),
                  !e.extend && o > r && ((i = r), (r = o), (o = i)),
                  (i = ur(n, o));
                var a = ur(n, r);
                i &&
                  a &&
                  (1 !== e.rangeCount ||
                    e.anchorNode !== i.node ||
                    e.anchorOffset !== i.offset ||
                    e.focusNode !== a.node ||
                    e.focusOffset !== a.offset) &&
                  ((t = t.createRange()).setStart(i.node, i.offset),
                  e.removeAllRanges(),
                  o > r ? (e.addRange(t), e.extend(a.node, a.offset)) : (t.setEnd(a.node, a.offset), e.addRange(t)));
              }
            for (t = [], e = n; (e = e.parentNode); )
              1 === e.nodeType && t.push({ element: e, left: e.scrollLeft, top: e.scrollTop });
            for ("function" == typeof n.focus && n.focus(), n = 0; n < t.length; n++)
              ((e = t[n]).element.scrollLeft = e.left), (e.element.scrollTop = e.top);
          }
        }
        var mr = u && "documentMode" in document && 11 >= document.documentMode,
          yr = null,
          gr = null,
          vr = null,
          wr = !1;
        function br(e, t, n) {
          var r = n.window === n ? n.document : 9 === n.nodeType ? n : n.ownerDocument;
          wr ||
            null == yr ||
            yr !== G(r) ||
            ((r =
              "selectionStart" in (r = yr) && hr(r)
                ? { start: r.selectionStart, end: r.selectionEnd }
                : {
                    anchorNode: (r = ((r.ownerDocument && r.ownerDocument.defaultView) || window).getSelection())
                      .anchorNode,
                    anchorOffset: r.anchorOffset,
                    focusNode: r.focusNode,
                    focusOffset: r.focusOffset,
                  }),
            (vr && lr(vr, r)) ||
              ((vr = r),
              0 < (r = Vr(gr, "onSelect")).length &&
                ((t = new un("onSelect", "select", null, t, n)), e.push({ event: t, listeners: r }), (t.target = yr))));
        }
        function xr(e, t) {
          var n = {};
          return (
            (n[e.toLowerCase()] = t.toLowerCase()), (n["Webkit" + e] = "webkit" + t), (n["Moz" + e] = "moz" + t), n
          );
        }
        var Er = {
            animationend: xr("Animation", "AnimationEnd"),
            animationiteration: xr("Animation", "AnimationIteration"),
            animationstart: xr("Animation", "AnimationStart"),
            transitionend: xr("Transition", "TransitionEnd"),
          },
          kr = {},
          jr = {};
        function Sr(e) {
          if (kr[e]) return kr[e];
          if (!Er[e]) return e;
          var t,
            n = Er[e];
          for (t in n) if (n.hasOwnProperty(t) && t in jr) return (kr[e] = n[t]);
          return e;
        }
        u &&
          ((jr = document.createElement("div").style),
          "AnimationEvent" in window ||
            (delete Er.animationend.animation,
            delete Er.animationiteration.animation,
            delete Er.animationstart.animation),
          "TransitionEvent" in window || delete Er.transitionend.transition);
        var Ar = Sr("animationend"),
          Cr = Sr("animationiteration"),
          Nr = Sr("animationstart"),
          Pr = Sr("transitionend"),
          _r = new Map(),
          Tr =
            "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
              " "
            );
        function Mr(e, t) {
          _r.set(e, t), l(t, [e]);
        }
        for (var Rr = 0; Rr < Tr.length; Rr++) {
          var Br = Tr[Rr];
          Mr(Br.toLowerCase(), "on" + (Br[0].toUpperCase() + Br.slice(1)));
        }
        Mr(Ar, "onAnimationEnd"),
          Mr(Cr, "onAnimationIteration"),
          Mr(Nr, "onAnimationStart"),
          Mr("dblclick", "onDoubleClick"),
          Mr("focusin", "onFocus"),
          Mr("focusout", "onBlur"),
          Mr(Pr, "onTransitionEnd"),
          c("onMouseEnter", ["mouseout", "mouseover"]),
          c("onMouseLeave", ["mouseout", "mouseover"]),
          c("onPointerEnter", ["pointerout", "pointerover"]),
          c("onPointerLeave", ["pointerout", "pointerover"]),
          l("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")),
          l(
            "onSelect",
            "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")
          ),
          l("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
          l("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")),
          l("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")),
          l("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
        var Or =
            "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
              " "
            ),
          Lr = new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));
        function Ir(e, t, n) {
          var r = e.type || "unknown-event";
          (e.currentTarget = n),
            (function (e, t, n, r, i, a, s, l, c) {
              if ((ze.apply(this, arguments), Le)) {
                if (!Le) throw Error(o(198));
                var u = Ie;
                (Le = !1), (Ie = null), Fe || ((Fe = !0), (De = u));
              }
            })(r, t, void 0, e),
            (e.currentTarget = null);
        }
        function Fr(e, t) {
          t = 0 != (4 & t);
          for (var n = 0; n < e.length; n++) {
            var r = e[n],
              i = r.event;
            r = r.listeners;
            e: {
              var o = void 0;
              if (t)
                for (var a = r.length - 1; 0 <= a; a--) {
                  var s = r[a],
                    l = s.instance,
                    c = s.currentTarget;
                  if (((s = s.listener), l !== o && i.isPropagationStopped())) break e;
                  Ir(i, s, c), (o = l);
                }
              else
                for (a = 0; a < r.length; a++) {
                  if (
                    ((l = (s = r[a]).instance),
                    (c = s.currentTarget),
                    (s = s.listener),
                    l !== o && i.isPropagationStopped())
                  )
                    break e;
                  Ir(i, s, c), (o = l);
                }
            }
          }
          if (Fe) throw ((e = De), (Fe = !1), (De = null), e);
        }
        function Dr(e, t) {
          var n = t[mi];
          void 0 === n && (n = t[mi] = new Set());
          var r = e + "__bubble";
          n.has(r) || (Kr(t, e, 2, !1), n.add(r));
        }
        function Ur(e, t, n) {
          var r = 0;
          t && (r |= 4), Kr(n, e, r, t);
        }
        var zr = "_reactListening" + Math.random().toString(36).slice(2);
        function Hr(e) {
          if (!e[zr]) {
            (e[zr] = !0),
              a.forEach(function (t) {
                "selectionchange" !== t && (Lr.has(t) || Ur(t, !1, e), Ur(t, !0, e));
              });
            var t = 9 === e.nodeType ? e : e.ownerDocument;
            null === t || t[zr] || ((t[zr] = !0), Ur("selectionchange", !1, t));
          }
        }
        function Kr(e, t, n, r) {
          switch (Yt(t)) {
            case 1:
              var i = qt;
              break;
            case 4:
              i = Vt;
              break;
            default:
              i = $t;
          }
          (n = i.bind(null, t, n, e)),
            (i = void 0),
            !Re || ("touchstart" !== t && "touchmove" !== t && "wheel" !== t) || (i = !0),
            r
              ? void 0 !== i
                ? e.addEventListener(t, n, { capture: !0, passive: i })
                : e.addEventListener(t, n, !0)
              : void 0 !== i
              ? e.addEventListener(t, n, { passive: i })
              : e.addEventListener(t, n, !1);
        }
        function Wr(e, t, n, r, i) {
          var o = r;
          if (0 == (1 & t) && 0 == (2 & t) && null !== r)
            e: for (;;) {
              if (null === r) return;
              var a = r.tag;
              if (3 === a || 4 === a) {
                var s = r.stateNode.containerInfo;
                if (s === i || (8 === s.nodeType && s.parentNode === i)) break;
                if (4 === a)
                  for (a = r.return; null !== a; ) {
                    var l = a.tag;
                    if (
                      (3 === l || 4 === l) &&
                      ((l = a.stateNode.containerInfo) === i || (8 === l.nodeType && l.parentNode === i))
                    )
                      return;
                    a = a.return;
                  }
                for (; null !== s; ) {
                  if (null === (a = vi(s))) return;
                  if (5 === (l = a.tag) || 6 === l) {
                    r = o = a;
                    continue e;
                  }
                  s = s.parentNode;
                }
              }
              r = r.return;
            }
          Te(function () {
            var r = o,
              i = xe(n),
              a = [];
            e: {
              var s = _r.get(e);
              if (void 0 !== s) {
                var l = un,
                  c = e;
                switch (e) {
                  case "keypress":
                    if (0 === tn(n)) break e;
                  case "keydown":
                  case "keyup":
                    l = Cn;
                    break;
                  case "focusin":
                    (c = "focus"), (l = yn);
                    break;
                  case "focusout":
                    (c = "blur"), (l = yn);
                    break;
                  case "beforeblur":
                  case "afterblur":
                    l = yn;
                    break;
                  case "click":
                    if (2 === n.button) break e;
                  case "auxclick":
                  case "dblclick":
                  case "mousedown":
                  case "mousemove":
                  case "mouseup":
                  case "mouseout":
                  case "mouseover":
                  case "contextmenu":
                    l = pn;
                    break;
                  case "drag":
                  case "dragend":
                  case "dragenter":
                  case "dragexit":
                  case "dragleave":
                  case "dragover":
                  case "dragstart":
                  case "drop":
                    l = mn;
                    break;
                  case "touchcancel":
                  case "touchend":
                  case "touchmove":
                  case "touchstart":
                    l = Pn;
                    break;
                  case Ar:
                  case Cr:
                  case Nr:
                    l = gn;
                    break;
                  case Pr:
                    l = _n;
                    break;
                  case "scroll":
                    l = fn;
                    break;
                  case "wheel":
                    l = Mn;
                    break;
                  case "copy":
                  case "cut":
                  case "paste":
                    l = wn;
                    break;
                  case "gotpointercapture":
                  case "lostpointercapture":
                  case "pointercancel":
                  case "pointerdown":
                  case "pointermove":
                  case "pointerout":
                  case "pointerover":
                  case "pointerup":
                    l = Nn;
                }
                var u = 0 != (4 & t),
                  d = !u && "scroll" === e,
                  f = u ? (null !== s ? s + "Capture" : null) : s;
                u = [];
                for (var h, p = r; null !== p; ) {
                  var m = (h = p).stateNode;
                  if (
                    (5 === h.tag &&
                      null !== m &&
                      ((h = m), null !== f && null != (m = Me(p, f)) && u.push(qr(p, m, h))),
                    d)
                  )
                    break;
                  p = p.return;
                }
                0 < u.length && ((s = new l(s, c, null, n, i)), a.push({ event: s, listeners: u }));
              }
            }
            if (0 == (7 & t)) {
              if (
                ((l = "mouseout" === e || "pointerout" === e),
                (!(s = "mouseover" === e || "pointerover" === e) ||
                  n === be ||
                  !(c = n.relatedTarget || n.fromElement) ||
                  (!vi(c) && !c[pi])) &&
                  (l || s) &&
                  ((s = i.window === i ? i : (s = i.ownerDocument) ? s.defaultView || s.parentWindow : window),
                  l
                    ? ((l = r),
                      null !== (c = (c = n.relatedTarget || n.toElement) ? vi(c) : null) &&
                        (c !== (d = He(c)) || (5 !== c.tag && 6 !== c.tag)) &&
                        (c = null))
                    : ((l = null), (c = r)),
                  l !== c))
              ) {
                if (
                  ((u = pn),
                  (m = "onMouseLeave"),
                  (f = "onMouseEnter"),
                  (p = "mouse"),
                  ("pointerout" !== e && "pointerover" !== e) ||
                    ((u = Nn), (m = "onPointerLeave"), (f = "onPointerEnter"), (p = "pointer")),
                  (d = null == l ? s : bi(l)),
                  (h = null == c ? s : bi(c)),
                  ((s = new u(m, p + "leave", l, n, i)).target = d),
                  (s.relatedTarget = h),
                  (m = null),
                  vi(i) === r && (((u = new u(f, p + "enter", c, n, i)).target = h), (u.relatedTarget = d), (m = u)),
                  (d = m),
                  l && c)
                )
                  e: {
                    for (f = c, p = 0, h = u = l; h; h = $r(h)) p++;
                    for (h = 0, m = f; m; m = $r(m)) h++;
                    for (; 0 < p - h; ) (u = $r(u)), p--;
                    for (; 0 < h - p; ) (f = $r(f)), h--;
                    for (; p--; ) {
                      if (u === f || (null !== f && u === f.alternate)) break e;
                      (u = $r(u)), (f = $r(f));
                    }
                    u = null;
                  }
                else u = null;
                null !== l && Gr(a, s, l, u, !1), null !== c && null !== d && Gr(a, d, c, u, !0);
              }
              if (
                "select" === (l = (s = r ? bi(r) : window).nodeName && s.nodeName.toLowerCase()) ||
                ("input" === l && "file" === s.type)
              )
                var y = Yn;
              else if (Wn(s))
                if (Xn) y = ar;
                else {
                  y = ir;
                  var g = rr;
                }
              else
                (l = s.nodeName) &&
                  "input" === l.toLowerCase() &&
                  ("checkbox" === s.type || "radio" === s.type) &&
                  (y = or);
              switch (
                (y && (y = y(e, r))
                  ? qn(a, y, n, i)
                  : (g && g(e, s, r),
                    "focusout" === e &&
                      (g = s._wrapperState) &&
                      g.controlled &&
                      "number" === s.type &&
                      ee(s, "number", s.value)),
                (g = r ? bi(r) : window),
                e)
              ) {
                case "focusin":
                  (Wn(g) || "true" === g.contentEditable) && ((yr = g), (gr = r), (vr = null));
                  break;
                case "focusout":
                  vr = gr = yr = null;
                  break;
                case "mousedown":
                  wr = !0;
                  break;
                case "contextmenu":
                case "mouseup":
                case "dragend":
                  (wr = !1), br(a, n, i);
                  break;
                case "selectionchange":
                  if (mr) break;
                case "keydown":
                case "keyup":
                  br(a, n, i);
              }
              var v;
              if (Bn)
                e: {
                  switch (e) {
                    case "compositionstart":
                      var w = "onCompositionStart";
                      break e;
                    case "compositionend":
                      w = "onCompositionEnd";
                      break e;
                    case "compositionupdate":
                      w = "onCompositionUpdate";
                      break e;
                  }
                  w = void 0;
                }
              else
                Hn
                  ? Un(e, n) && (w = "onCompositionEnd")
                  : "keydown" === e && 229 === n.keyCode && (w = "onCompositionStart");
              w &&
                (In &&
                  "ko" !== n.locale &&
                  (Hn || "onCompositionStart" !== w
                    ? "onCompositionEnd" === w && Hn && (v = en())
                    : ((Qt = "value" in (Xt = i) ? Xt.value : Xt.textContent), (Hn = !0))),
                0 < (g = Vr(r, w)).length &&
                  ((w = new bn(w, e, null, n, i)),
                  a.push({ event: w, listeners: g }),
                  (v || null !== (v = zn(n))) && (w.data = v))),
                (v = Ln
                  ? (function (e, t) {
                      switch (e) {
                        case "compositionend":
                          return zn(t);
                        case "keypress":
                          return 32 !== t.which ? null : ((Dn = !0), Fn);
                        case "textInput":
                          return (e = t.data) === Fn && Dn ? null : e;
                        default:
                          return null;
                      }
                    })(e, n)
                  : (function (e, t) {
                      if (Hn)
                        return "compositionend" === e || (!Bn && Un(e, t))
                          ? ((e = en()), (Jt = Qt = Xt = null), (Hn = !1), e)
                          : null;
                      switch (e) {
                        case "paste":
                        default:
                          return null;
                        case "keypress":
                          if (!(t.ctrlKey || t.altKey || t.metaKey) || (t.ctrlKey && t.altKey)) {
                            if (t.char && 1 < t.char.length) return t.char;
                            if (t.which) return String.fromCharCode(t.which);
                          }
                          return null;
                        case "compositionend":
                          return In && "ko" !== t.locale ? null : t.data;
                      }
                    })(e, n)) &&
                  0 < (r = Vr(r, "onBeforeInput")).length &&
                  ((i = new bn("onBeforeInput", "beforeinput", null, n, i)),
                  a.push({ event: i, listeners: r }),
                  (i.data = v));
            }
            Fr(a, t);
          });
        }
        function qr(e, t, n) {
          return { instance: e, listener: t, currentTarget: n };
        }
        function Vr(e, t) {
          for (var n = t + "Capture", r = []; null !== e; ) {
            var i = e,
              o = i.stateNode;
            5 === i.tag &&
              null !== o &&
              ((i = o),
              null != (o = Me(e, n)) && r.unshift(qr(e, o, i)),
              null != (o = Me(e, t)) && r.push(qr(e, o, i))),
              (e = e.return);
          }
          return r;
        }
        function $r(e) {
          if (null === e) return null;
          do {
            e = e.return;
          } while (e && 5 !== e.tag);
          return e || null;
        }
        function Gr(e, t, n, r, i) {
          for (var o = t._reactName, a = []; null !== n && n !== r; ) {
            var s = n,
              l = s.alternate,
              c = s.stateNode;
            if (null !== l && l === r) break;
            5 === s.tag &&
              null !== c &&
              ((s = c),
              i
                ? null != (l = Me(n, o)) && a.unshift(qr(n, l, s))
                : i || (null != (l = Me(n, o)) && a.push(qr(n, l, s)))),
              (n = n.return);
          }
          0 !== a.length && e.push({ event: t, listeners: a });
        }
        var Zr = /\r\n?/g,
          Yr = /\u0000|\uFFFD/g;
        function Xr(e) {
          return ("string" == typeof e ? e : "" + e).replace(Zr, "\n").replace(Yr, "");
        }
        function Qr(e, t, n) {
          if (((t = Xr(t)), Xr(e) !== t && n)) throw Error(o(425));
        }
        function Jr() {}
        var ei = null,
          ti = null;
        function ni(e, t) {
          return (
            "textarea" === e ||
            "noscript" === e ||
            "string" == typeof t.children ||
            "number" == typeof t.children ||
            ("object" == typeof t.dangerouslySetInnerHTML &&
              null !== t.dangerouslySetInnerHTML &&
              null != t.dangerouslySetInnerHTML.__html)
          );
        }
        var ri = "function" == typeof setTimeout ? setTimeout : void 0,
          ii = "function" == typeof clearTimeout ? clearTimeout : void 0,
          oi = "function" == typeof Promise ? Promise : void 0,
          ai =
            "function" == typeof queueMicrotask
              ? queueMicrotask
              : void 0 !== oi
              ? function (e) {
                  return oi.resolve(null).then(e).catch(si);
                }
              : ri;
        function si(e) {
          setTimeout(function () {
            throw e;
          });
        }
        function li(e, t) {
          var n = t,
            r = 0;
          do {
            var i = n.nextSibling;
            if ((e.removeChild(n), i && 8 === i.nodeType))
              if ("/$" === (n = i.data)) {
                if (0 === r) return e.removeChild(i), void Ht(t);
                r--;
              } else ("$" !== n && "$?" !== n && "$!" !== n) || r++;
            n = i;
          } while (n);
          Ht(t);
        }
        function ci(e) {
          for (; null != e; e = e.nextSibling) {
            var t = e.nodeType;
            if (1 === t || 3 === t) break;
            if (8 === t) {
              if ("$" === (t = e.data) || "$!" === t || "$?" === t) break;
              if ("/$" === t) return null;
            }
          }
          return e;
        }
        function ui(e) {
          e = e.previousSibling;
          for (var t = 0; e; ) {
            if (8 === e.nodeType) {
              var n = e.data;
              if ("$" === n || "$!" === n || "$?" === n) {
                if (0 === t) return e;
                t--;
              } else "/$" === n && t++;
            }
            e = e.previousSibling;
          }
          return null;
        }
        var di = Math.random().toString(36).slice(2),
          fi = "__reactFiber$" + di,
          hi = "__reactProps$" + di,
          pi = "__reactContainer$" + di,
          mi = "__reactEvents$" + di,
          yi = "__reactListeners$" + di,
          gi = "__reactHandles$" + di;
        function vi(e) {
          var t = e[fi];
          if (t) return t;
          for (var n = e.parentNode; n; ) {
            if ((t = n[pi] || n[fi])) {
              if (((n = t.alternate), null !== t.child || (null !== n && null !== n.child)))
                for (e = ui(e); null !== e; ) {
                  if ((n = e[fi])) return n;
                  e = ui(e);
                }
              return t;
            }
            n = (e = n).parentNode;
          }
          return null;
        }
        function wi(e) {
          return !(e = e[fi] || e[pi]) || (5 !== e.tag && 6 !== e.tag && 13 !== e.tag && 3 !== e.tag) ? null : e;
        }
        function bi(e) {
          if (5 === e.tag || 6 === e.tag) return e.stateNode;
          throw Error(o(33));
        }
        function xi(e) {
          return e[hi] || null;
        }
        var Ei = [],
          ki = -1;
        function ji(e) {
          return { current: e };
        }
        function Si(e) {
          0 > ki || ((e.current = Ei[ki]), (Ei[ki] = null), ki--);
        }
        function Ai(e, t) {
          ki++, (Ei[ki] = e.current), (e.current = t);
        }
        var Ci = {},
          Ni = ji(Ci),
          Pi = ji(!1),
          _i = Ci;
        function Ti(e, t) {
          var n = e.type.contextTypes;
          if (!n) return Ci;
          var r = e.stateNode;
          if (r && r.__reactInternalMemoizedUnmaskedChildContext === t)
            return r.__reactInternalMemoizedMaskedChildContext;
          var i,
            o = {};
          for (i in n) o[i] = t[i];
          return (
            r &&
              (((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = t),
              (e.__reactInternalMemoizedMaskedChildContext = o)),
            o
          );
        }
        function Mi(e) {
          return null != e.childContextTypes;
        }
        function Ri() {
          Si(Pi), Si(Ni);
        }
        function Bi(e, t, n) {
          if (Ni.current !== Ci) throw Error(o(168));
          Ai(Ni, t), Ai(Pi, n);
        }
        function Oi(e, t, n) {
          var r = e.stateNode;
          if (((t = t.childContextTypes), "function" != typeof r.getChildContext)) return n;
          for (var i in (r = r.getChildContext())) if (!(i in t)) throw Error(o(108, K(e) || "Unknown", i));
          return I({}, n, r);
        }
        function Li(e) {
          return (
            (e = ((e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext) || Ci),
            (_i = Ni.current),
            Ai(Ni, e),
            Ai(Pi, Pi.current),
            !0
          );
        }
        function Ii(e, t, n) {
          var r = e.stateNode;
          if (!r) throw Error(o(169));
          n
            ? ((e = Oi(e, t, _i)), (r.__reactInternalMemoizedMergedChildContext = e), Si(Pi), Si(Ni), Ai(Ni, e))
            : Si(Pi),
            Ai(Pi, n);
        }
        var Fi = null,
          Di = !1,
          Ui = !1;
        function zi(e) {
          null === Fi ? (Fi = [e]) : Fi.push(e);
        }
        function Hi() {
          if (!Ui && null !== Fi) {
            Ui = !0;
            var e = 0,
              t = wt;
            try {
              var n = Fi;
              for (wt = 1; e < n.length; e++) {
                var r = n[e];
                do {
                  r = r(!0);
                } while (null !== r);
              }
              (Fi = null), (Di = !1);
            } catch (t) {
              throw (null !== Fi && (Fi = Fi.slice(e + 1)), $e(Je, Hi), t);
            } finally {
              (wt = t), (Ui = !1);
            }
          }
          return null;
        }
        var Ki = [],
          Wi = 0,
          qi = null,
          Vi = 0,
          $i = [],
          Gi = 0,
          Zi = null,
          Yi = 1,
          Xi = "";
        function Qi(e, t) {
          (Ki[Wi++] = Vi), (Ki[Wi++] = qi), (qi = e), (Vi = t);
        }
        function Ji(e, t, n) {
          ($i[Gi++] = Yi), ($i[Gi++] = Xi), ($i[Gi++] = Zi), (Zi = e);
          var r = Yi;
          e = Xi;
          var i = 32 - at(r) - 1;
          (r &= ~(1 << i)), (n += 1);
          var o = 32 - at(t) + i;
          if (30 < o) {
            var a = i - (i % 5);
            (o = (r & ((1 << a) - 1)).toString(32)),
              (r >>= a),
              (i -= a),
              (Yi = (1 << (32 - at(t) + i)) | (n << i) | r),
              (Xi = o + e);
          } else (Yi = (1 << o) | (n << i) | r), (Xi = e);
        }
        function eo(e) {
          null !== e.return && (Qi(e, 1), Ji(e, 1, 0));
        }
        function to(e) {
          for (; e === qi; ) (qi = Ki[--Wi]), (Ki[Wi] = null), (Vi = Ki[--Wi]), (Ki[Wi] = null);
          for (; e === Zi; )
            (Zi = $i[--Gi]), ($i[Gi] = null), (Xi = $i[--Gi]), ($i[Gi] = null), (Yi = $i[--Gi]), ($i[Gi] = null);
        }
        var no = null,
          ro = null,
          io = !1,
          oo = null;
        function ao(e, t) {
          var n = Mc(5, null, null, 0);
          (n.elementType = "DELETED"),
            (n.stateNode = t),
            (n.return = e),
            null === (t = e.deletions) ? ((e.deletions = [n]), (e.flags |= 16)) : t.push(n);
        }
        function so(e, t) {
          switch (e.tag) {
            case 5:
              var n = e.type;
              return (
                null !== (t = 1 !== t.nodeType || n.toLowerCase() !== t.nodeName.toLowerCase() ? null : t) &&
                ((e.stateNode = t), (no = e), (ro = ci(t.firstChild)), !0)
              );
            case 6:
              return (
                null !== (t = "" === e.pendingProps || 3 !== t.nodeType ? null : t) &&
                ((e.stateNode = t), (no = e), (ro = null), !0)
              );
            case 13:
              return (
                null !== (t = 8 !== t.nodeType ? null : t) &&
                ((n = null !== Zi ? { id: Yi, overflow: Xi } : null),
                (e.memoizedState = { dehydrated: t, treeContext: n, retryLane: 1073741824 }),
                ((n = Mc(18, null, null, 0)).stateNode = t),
                (n.return = e),
                (e.child = n),
                (no = e),
                (ro = null),
                !0)
              );
            default:
              return !1;
          }
        }
        function lo(e) {
          return 0 != (1 & e.mode) && 0 == (128 & e.flags);
        }
        function co(e) {
          if (io) {
            var t = ro;
            if (t) {
              var n = t;
              if (!so(e, t)) {
                if (lo(e)) throw Error(o(418));
                t = ci(n.nextSibling);
                var r = no;
                t && so(e, t) ? ao(r, n) : ((e.flags = (-4097 & e.flags) | 2), (io = !1), (no = e));
              }
            } else {
              if (lo(e)) throw Error(o(418));
              (e.flags = (-4097 & e.flags) | 2), (io = !1), (no = e);
            }
          }
        }
        function uo(e) {
          for (e = e.return; null !== e && 5 !== e.tag && 3 !== e.tag && 13 !== e.tag; ) e = e.return;
          no = e;
        }
        function fo(e) {
          if (e !== no) return !1;
          if (!io) return uo(e), (io = !0), !1;
          var t;
          if (
            ((t = 3 !== e.tag) &&
              !(t = 5 !== e.tag) &&
              (t = "head" !== (t = e.type) && "body" !== t && !ni(e.type, e.memoizedProps)),
            t && (t = ro))
          ) {
            if (lo(e)) throw (ho(), Error(o(418)));
            for (; t; ) ao(e, t), (t = ci(t.nextSibling));
          }
          if ((uo(e), 13 === e.tag)) {
            if (!(e = null !== (e = e.memoizedState) ? e.dehydrated : null)) throw Error(o(317));
            e: {
              for (e = e.nextSibling, t = 0; e; ) {
                if (8 === e.nodeType) {
                  var n = e.data;
                  if ("/$" === n) {
                    if (0 === t) {
                      ro = ci(e.nextSibling);
                      break e;
                    }
                    t--;
                  } else ("$" !== n && "$!" !== n && "$?" !== n) || t++;
                }
                e = e.nextSibling;
              }
              ro = null;
            }
          } else ro = no ? ci(e.stateNode.nextSibling) : null;
          return !0;
        }
        function ho() {
          for (var e = ro; e; ) e = ci(e.nextSibling);
        }
        function po() {
          (ro = no = null), (io = !1);
        }
        function mo(e) {
          null === oo ? (oo = [e]) : oo.push(e);
        }
        var yo = b.ReactCurrentBatchConfig;
        function go(e, t) {
          if (e && e.defaultProps) {
            for (var n in ((t = I({}, t)), (e = e.defaultProps))) void 0 === t[n] && (t[n] = e[n]);
            return t;
          }
          return t;
        }
        var vo = ji(null),
          wo = null,
          bo = null,
          xo = null;
        function Eo() {
          xo = bo = wo = null;
        }
        function ko(e) {
          var t = vo.current;
          Si(vo), (e._currentValue = t);
        }
        function jo(e, t, n) {
          for (; null !== e; ) {
            var r = e.alternate;
            if (
              ((e.childLanes & t) !== t
                ? ((e.childLanes |= t), null !== r && (r.childLanes |= t))
                : null !== r && (r.childLanes & t) !== t && (r.childLanes |= t),
              e === n)
            )
              break;
            e = e.return;
          }
        }
        function So(e, t) {
          (wo = e),
            (xo = bo = null),
            null !== (e = e.dependencies) &&
              null !== e.firstContext &&
              (0 != (e.lanes & t) && (bs = !0), (e.firstContext = null));
        }
        function Ao(e) {
          var t = e._currentValue;
          if (xo !== e)
            if (((e = { context: e, memoizedValue: t, next: null }), null === bo)) {
              if (null === wo) throw Error(o(308));
              (bo = e), (wo.dependencies = { lanes: 0, firstContext: e });
            } else bo = bo.next = e;
          return t;
        }
        var Co = null;
        function No(e) {
          null === Co ? (Co = [e]) : Co.push(e);
        }
        function Po(e, t, n, r) {
          var i = t.interleaved;
          return null === i ? ((n.next = n), No(t)) : ((n.next = i.next), (i.next = n)), (t.interleaved = n), _o(e, r);
        }
        function _o(e, t) {
          e.lanes |= t;
          var n = e.alternate;
          for (null !== n && (n.lanes |= t), n = e, e = e.return; null !== e; )
            (e.childLanes |= t), null !== (n = e.alternate) && (n.childLanes |= t), (n = e), (e = e.return);
          return 3 === n.tag ? n.stateNode : null;
        }
        var To = !1;
        function Mo(e) {
          e.updateQueue = {
            baseState: e.memoizedState,
            firstBaseUpdate: null,
            lastBaseUpdate: null,
            shared: { pending: null, interleaved: null, lanes: 0 },
            effects: null,
          };
        }
        function Ro(e, t) {
          (e = e.updateQueue),
            t.updateQueue === e &&
              (t.updateQueue = {
                baseState: e.baseState,
                firstBaseUpdate: e.firstBaseUpdate,
                lastBaseUpdate: e.lastBaseUpdate,
                shared: e.shared,
                effects: e.effects,
              });
        }
        function Bo(e, t) {
          return { eventTime: e, lane: t, tag: 0, payload: null, callback: null, next: null };
        }
        function Oo(e, t, n) {
          var r = e.updateQueue;
          if (null === r) return null;
          if (((r = r.shared), 0 != (2 & Pl))) {
            var i = r.pending;
            return null === i ? (t.next = t) : ((t.next = i.next), (i.next = t)), (r.pending = t), _o(e, n);
          }
          return (
            null === (i = r.interleaved) ? ((t.next = t), No(r)) : ((t.next = i.next), (i.next = t)),
            (r.interleaved = t),
            _o(e, n)
          );
        }
        function Lo(e, t, n) {
          if (null !== (t = t.updateQueue) && ((t = t.shared), 0 != (4194240 & n))) {
            var r = t.lanes;
            (n |= r &= e.pendingLanes), (t.lanes = n), vt(e, n);
          }
        }
        function Io(e, t) {
          var n = e.updateQueue,
            r = e.alternate;
          if (null !== r && n === (r = r.updateQueue)) {
            var i = null,
              o = null;
            if (null !== (n = n.firstBaseUpdate)) {
              do {
                var a = {
                  eventTime: n.eventTime,
                  lane: n.lane,
                  tag: n.tag,
                  payload: n.payload,
                  callback: n.callback,
                  next: null,
                };
                null === o ? (i = o = a) : (o = o.next = a), (n = n.next);
              } while (null !== n);
              null === o ? (i = o = t) : (o = o.next = t);
            } else i = o = t;
            return (
              (n = {
                baseState: r.baseState,
                firstBaseUpdate: i,
                lastBaseUpdate: o,
                shared: r.shared,
                effects: r.effects,
              }),
              void (e.updateQueue = n)
            );
          }
          null === (e = n.lastBaseUpdate) ? (n.firstBaseUpdate = t) : (e.next = t), (n.lastBaseUpdate = t);
        }
        function Fo(e, t, n, r) {
          var i = e.updateQueue;
          To = !1;
          var o = i.firstBaseUpdate,
            a = i.lastBaseUpdate,
            s = i.shared.pending;
          if (null !== s) {
            i.shared.pending = null;
            var l = s,
              c = l.next;
            (l.next = null), null === a ? (o = c) : (a.next = c), (a = l);
            var u = e.alternate;
            null !== u &&
              (s = (u = u.updateQueue).lastBaseUpdate) !== a &&
              (null === s ? (u.firstBaseUpdate = c) : (s.next = c), (u.lastBaseUpdate = l));
          }
          if (null !== o) {
            var d = i.baseState;
            for (a = 0, u = c = l = null, s = o; ; ) {
              var f = s.lane,
                h = s.eventTime;
              if ((r & f) === f) {
                null !== u &&
                  (u = u.next =
                    { eventTime: h, lane: 0, tag: s.tag, payload: s.payload, callback: s.callback, next: null });
                e: {
                  var p = e,
                    m = s;
                  switch (((f = t), (h = n), m.tag)) {
                    case 1:
                      if ("function" == typeof (p = m.payload)) {
                        d = p.call(h, d, f);
                        break e;
                      }
                      d = p;
                      break e;
                    case 3:
                      p.flags = (-65537 & p.flags) | 128;
                    case 0:
                      if (null == (f = "function" == typeof (p = m.payload) ? p.call(h, d, f) : p)) break e;
                      d = I({}, d, f);
                      break e;
                    case 2:
                      To = !0;
                  }
                }
                null !== s.callback &&
                  0 !== s.lane &&
                  ((e.flags |= 64), null === (f = i.effects) ? (i.effects = [s]) : f.push(s));
              } else
                (h = { eventTime: h, lane: f, tag: s.tag, payload: s.payload, callback: s.callback, next: null }),
                  null === u ? ((c = u = h), (l = d)) : (u = u.next = h),
                  (a |= f);
              if (null === (s = s.next)) {
                if (null === (s = i.shared.pending)) break;
                (s = (f = s).next), (f.next = null), (i.lastBaseUpdate = f), (i.shared.pending = null);
              }
            }
            if (
              (null === u && (l = d),
              (i.baseState = l),
              (i.firstBaseUpdate = c),
              (i.lastBaseUpdate = u),
              null !== (t = i.shared.interleaved))
            ) {
              i = t;
              do {
                (a |= i.lane), (i = i.next);
              } while (i !== t);
            } else null === o && (i.shared.lanes = 0);
            (Il |= a), (e.lanes = a), (e.memoizedState = d);
          }
        }
        function Do(e, t, n) {
          if (((e = t.effects), (t.effects = null), null !== e))
            for (t = 0; t < e.length; t++) {
              var r = e[t],
                i = r.callback;
              if (null !== i) {
                if (((r.callback = null), (r = n), "function" != typeof i)) throw Error(o(191, i));
                i.call(r);
              }
            }
        }
        var Uo = new r.Component().refs;
        function zo(e, t, n, r) {
          (n = null == (n = n(r, (t = e.memoizedState))) ? t : I({}, t, n)),
            (e.memoizedState = n),
            0 === e.lanes && (e.updateQueue.baseState = n);
        }
        var Ho = {
          isMounted: function (e) {
            return !!(e = e._reactInternals) && He(e) === e;
          },
          enqueueSetState: function (e, t, n) {
            e = e._reactInternals;
            var r = tc(),
              i = nc(e),
              o = Bo(r, i);
            (o.payload = t), null != n && (o.callback = n), null !== (t = Oo(e, o, i)) && (rc(t, e, i, r), Lo(t, e, i));
          },
          enqueueReplaceState: function (e, t, n) {
            e = e._reactInternals;
            var r = tc(),
              i = nc(e),
              o = Bo(r, i);
            (o.tag = 1),
              (o.payload = t),
              null != n && (o.callback = n),
              null !== (t = Oo(e, o, i)) && (rc(t, e, i, r), Lo(t, e, i));
          },
          enqueueForceUpdate: function (e, t) {
            e = e._reactInternals;
            var n = tc(),
              r = nc(e),
              i = Bo(n, r);
            (i.tag = 2), null != t && (i.callback = t), null !== (t = Oo(e, i, r)) && (rc(t, e, r, n), Lo(t, e, r));
          },
        };
        function Ko(e, t, n, r, i, o, a) {
          return "function" == typeof (e = e.stateNode).shouldComponentUpdate
            ? e.shouldComponentUpdate(r, o, a)
            : !(t.prototype && t.prototype.isPureReactComponent && lr(n, r) && lr(i, o));
        }
        function Wo(e, t, n) {
          var r = !1,
            i = Ci,
            o = t.contextType;
          return (
            "object" == typeof o && null !== o
              ? (o = Ao(o))
              : ((i = Mi(t) ? _i : Ni.current), (o = (r = null != (r = t.contextTypes)) ? Ti(e, i) : Ci)),
            (t = new t(n, o)),
            (e.memoizedState = null !== t.state && void 0 !== t.state ? t.state : null),
            (t.updater = Ho),
            (e.stateNode = t),
            (t._reactInternals = e),
            r &&
              (((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = i),
              (e.__reactInternalMemoizedMaskedChildContext = o)),
            t
          );
        }
        function qo(e, t, n, r) {
          (e = t.state),
            "function" == typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, r),
            "function" == typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, r),
            t.state !== e && Ho.enqueueReplaceState(t, t.state, null);
        }
        function Vo(e, t, n, r) {
          var i = e.stateNode;
          (i.props = n), (i.state = e.memoizedState), (i.refs = Uo), Mo(e);
          var o = t.contextType;
          "object" == typeof o && null !== o
            ? (i.context = Ao(o))
            : ((o = Mi(t) ? _i : Ni.current), (i.context = Ti(e, o))),
            (i.state = e.memoizedState),
            "function" == typeof (o = t.getDerivedStateFromProps) && (zo(e, t, o, n), (i.state = e.memoizedState)),
            "function" == typeof t.getDerivedStateFromProps ||
              "function" == typeof i.getSnapshotBeforeUpdate ||
              ("function" != typeof i.UNSAFE_componentWillMount && "function" != typeof i.componentWillMount) ||
              ((t = i.state),
              "function" == typeof i.componentWillMount && i.componentWillMount(),
              "function" == typeof i.UNSAFE_componentWillMount && i.UNSAFE_componentWillMount(),
              t !== i.state && Ho.enqueueReplaceState(i, i.state, null),
              Fo(e, n, i, r),
              (i.state = e.memoizedState)),
            "function" == typeof i.componentDidMount && (e.flags |= 4194308);
        }
        function $o(e, t, n) {
          if (null !== (e = n.ref) && "function" != typeof e && "object" != typeof e) {
            if (n._owner) {
              if ((n = n._owner)) {
                if (1 !== n.tag) throw Error(o(309));
                var r = n.stateNode;
              }
              if (!r) throw Error(o(147, e));
              var i = r,
                a = "" + e;
              return null !== t && null !== t.ref && "function" == typeof t.ref && t.ref._stringRef === a
                ? t.ref
                : ((t = function (e) {
                    var t = i.refs;
                    t === Uo && (t = i.refs = {}), null === e ? delete t[a] : (t[a] = e);
                  }),
                  (t._stringRef = a),
                  t);
            }
            if ("string" != typeof e) throw Error(o(284));
            if (!n._owner) throw Error(o(290, e));
          }
          return e;
        }
        function Go(e, t) {
          throw (
            ((e = Object.prototype.toString.call(t)),
            Error(o(31, "[object Object]" === e ? "object with keys {" + Object.keys(t).join(", ") + "}" : e)))
          );
        }
        function Zo(e) {
          return (0, e._init)(e._payload);
        }
        function Yo(e) {
          function t(t, n) {
            if (e) {
              var r = t.deletions;
              null === r ? ((t.deletions = [n]), (t.flags |= 16)) : r.push(n);
            }
          }
          function n(n, r) {
            if (!e) return null;
            for (; null !== r; ) t(n, r), (r = r.sibling);
            return null;
          }
          function r(e, t) {
            for (e = new Map(); null !== t; ) null !== t.key ? e.set(t.key, t) : e.set(t.index, t), (t = t.sibling);
            return e;
          }
          function i(e, t) {
            return ((e = Bc(e, t)).index = 0), (e.sibling = null), e;
          }
          function a(t, n, r) {
            return (
              (t.index = r),
              e
                ? null !== (r = t.alternate)
                  ? (r = r.index) < n
                    ? ((t.flags |= 2), n)
                    : r
                  : ((t.flags |= 2), n)
                : ((t.flags |= 1048576), n)
            );
          }
          function s(t) {
            return e && null === t.alternate && (t.flags |= 2), t;
          }
          function l(e, t, n, r) {
            return null === t || 6 !== t.tag
              ? (((t = Fc(n, e.mode, r)).return = e), t)
              : (((t = i(t, n)).return = e), t);
          }
          function c(e, t, n, r) {
            var o = n.type;
            return o === k
              ? d(e, t, n.props.children, r, n.key)
              : null !== t &&
                (t.elementType === o || ("object" == typeof o && null !== o && o.$$typeof === M && Zo(o) === t.type))
              ? (((r = i(t, n.props)).ref = $o(e, t, n)), (r.return = e), r)
              : (((r = Oc(n.type, n.key, n.props, null, e.mode, r)).ref = $o(e, t, n)), (r.return = e), r);
          }
          function u(e, t, n, r) {
            return null === t ||
              4 !== t.tag ||
              t.stateNode.containerInfo !== n.containerInfo ||
              t.stateNode.implementation !== n.implementation
              ? (((t = Dc(n, e.mode, r)).return = e), t)
              : (((t = i(t, n.children || [])).return = e), t);
          }
          function d(e, t, n, r, o) {
            return null === t || 7 !== t.tag
              ? (((t = Lc(n, e.mode, r, o)).return = e), t)
              : (((t = i(t, n)).return = e), t);
          }
          function f(e, t, n) {
            if (("string" == typeof t && "" !== t) || "number" == typeof t)
              return ((t = Fc("" + t, e.mode, n)).return = e), t;
            if ("object" == typeof t && null !== t) {
              switch (t.$$typeof) {
                case x:
                  return ((n = Oc(t.type, t.key, t.props, null, e.mode, n)).ref = $o(e, null, t)), (n.return = e), n;
                case E:
                  return ((t = Dc(t, e.mode, n)).return = e), t;
                case M:
                  return f(e, (0, t._init)(t._payload), n);
              }
              if (te(t) || O(t)) return ((t = Lc(t, e.mode, n, null)).return = e), t;
              Go(e, t);
            }
            return null;
          }
          function h(e, t, n, r) {
            var i = null !== t ? t.key : null;
            if (("string" == typeof n && "" !== n) || "number" == typeof n)
              return null !== i ? null : l(e, t, "" + n, r);
            if ("object" == typeof n && null !== n) {
              switch (n.$$typeof) {
                case x:
                  return n.key === i ? c(e, t, n, r) : null;
                case E:
                  return n.key === i ? u(e, t, n, r) : null;
                case M:
                  return h(e, t, (i = n._init)(n._payload), r);
              }
              if (te(n) || O(n)) return null !== i ? null : d(e, t, n, r, null);
              Go(e, n);
            }
            return null;
          }
          function p(e, t, n, r, i) {
            if (("string" == typeof r && "" !== r) || "number" == typeof r)
              return l(t, (e = e.get(n) || null), "" + r, i);
            if ("object" == typeof r && null !== r) {
              switch (r.$$typeof) {
                case x:
                  return c(t, (e = e.get(null === r.key ? n : r.key) || null), r, i);
                case E:
                  return u(t, (e = e.get(null === r.key ? n : r.key) || null), r, i);
                case M:
                  return p(e, t, n, (0, r._init)(r._payload), i);
              }
              if (te(r) || O(r)) return d(t, (e = e.get(n) || null), r, i, null);
              Go(t, r);
            }
            return null;
          }
          function m(i, o, s, l) {
            for (var c = null, u = null, d = o, m = (o = 0), y = null; null !== d && m < s.length; m++) {
              d.index > m ? ((y = d), (d = null)) : (y = d.sibling);
              var g = h(i, d, s[m], l);
              if (null === g) {
                null === d && (d = y);
                break;
              }
              e && d && null === g.alternate && t(i, d),
                (o = a(g, o, m)),
                null === u ? (c = g) : (u.sibling = g),
                (u = g),
                (d = y);
            }
            if (m === s.length) return n(i, d), io && Qi(i, m), c;
            if (null === d) {
              for (; m < s.length; m++)
                null !== (d = f(i, s[m], l)) && ((o = a(d, o, m)), null === u ? (c = d) : (u.sibling = d), (u = d));
              return io && Qi(i, m), c;
            }
            for (d = r(i, d); m < s.length; m++)
              null !== (y = p(d, i, m, s[m], l)) &&
                (e && null !== y.alternate && d.delete(null === y.key ? m : y.key),
                (o = a(y, o, m)),
                null === u ? (c = y) : (u.sibling = y),
                (u = y));
            return (
              e &&
                d.forEach(function (e) {
                  return t(i, e);
                }),
              io && Qi(i, m),
              c
            );
          }
          function y(i, s, l, c) {
            var u = O(l);
            if ("function" != typeof u) throw Error(o(150));
            if (null == (l = u.call(l))) throw Error(o(151));
            for (
              var d = (u = null), m = s, y = (s = 0), g = null, v = l.next();
              null !== m && !v.done;
              y++, v = l.next()
            ) {
              m.index > y ? ((g = m), (m = null)) : (g = m.sibling);
              var w = h(i, m, v.value, c);
              if (null === w) {
                null === m && (m = g);
                break;
              }
              e && m && null === w.alternate && t(i, m),
                (s = a(w, s, y)),
                null === d ? (u = w) : (d.sibling = w),
                (d = w),
                (m = g);
            }
            if (v.done) return n(i, m), io && Qi(i, y), u;
            if (null === m) {
              for (; !v.done; y++, v = l.next())
                null !== (v = f(i, v.value, c)) && ((s = a(v, s, y)), null === d ? (u = v) : (d.sibling = v), (d = v));
              return io && Qi(i, y), u;
            }
            for (m = r(i, m); !v.done; y++, v = l.next())
              null !== (v = p(m, i, y, v.value, c)) &&
                (e && null !== v.alternate && m.delete(null === v.key ? y : v.key),
                (s = a(v, s, y)),
                null === d ? (u = v) : (d.sibling = v),
                (d = v));
            return (
              e &&
                m.forEach(function (e) {
                  return t(i, e);
                }),
              io && Qi(i, y),
              u
            );
          }
          return function e(r, o, a, l) {
            if (
              ("object" == typeof a && null !== a && a.type === k && null === a.key && (a = a.props.children),
              "object" == typeof a && null !== a)
            ) {
              switch (a.$$typeof) {
                case x:
                  e: {
                    for (var c = a.key, u = o; null !== u; ) {
                      if (u.key === c) {
                        if ((c = a.type) === k) {
                          if (7 === u.tag) {
                            n(r, u.sibling), ((o = i(u, a.props.children)).return = r), (r = o);
                            break e;
                          }
                        } else if (
                          u.elementType === c ||
                          ("object" == typeof c && null !== c && c.$$typeof === M && Zo(c) === u.type)
                        ) {
                          n(r, u.sibling), ((o = i(u, a.props)).ref = $o(r, u, a)), (o.return = r), (r = o);
                          break e;
                        }
                        n(r, u);
                        break;
                      }
                      t(r, u), (u = u.sibling);
                    }
                    a.type === k
                      ? (((o = Lc(a.props.children, r.mode, l, a.key)).return = r), (r = o))
                      : (((l = Oc(a.type, a.key, a.props, null, r.mode, l)).ref = $o(r, o, a)),
                        (l.return = r),
                        (r = l));
                  }
                  return s(r);
                case E:
                  e: {
                    for (u = a.key; null !== o; ) {
                      if (o.key === u) {
                        if (
                          4 === o.tag &&
                          o.stateNode.containerInfo === a.containerInfo &&
                          o.stateNode.implementation === a.implementation
                        ) {
                          n(r, o.sibling), ((o = i(o, a.children || [])).return = r), (r = o);
                          break e;
                        }
                        n(r, o);
                        break;
                      }
                      t(r, o), (o = o.sibling);
                    }
                    ((o = Dc(a, r.mode, l)).return = r), (r = o);
                  }
                  return s(r);
                case M:
                  return e(r, o, (u = a._init)(a._payload), l);
              }
              if (te(a)) return m(r, o, a, l);
              if (O(a)) return y(r, o, a, l);
              Go(r, a);
            }
            return ("string" == typeof a && "" !== a) || "number" == typeof a
              ? ((a = "" + a),
                null !== o && 6 === o.tag
                  ? (n(r, o.sibling), ((o = i(o, a)).return = r), (r = o))
                  : (n(r, o), ((o = Fc(a, r.mode, l)).return = r), (r = o)),
                s(r))
              : n(r, o);
          };
        }
        var Xo = Yo(!0),
          Qo = Yo(!1),
          Jo = {},
          ea = ji(Jo),
          ta = ji(Jo),
          na = ji(Jo);
        function ra(e) {
          if (e === Jo) throw Error(o(174));
          return e;
        }
        function ia(e, t) {
          switch ((Ai(na, t), Ai(ta, e), Ai(ea, Jo), (e = t.nodeType))) {
            case 9:
            case 11:
              t = (t = t.documentElement) ? t.namespaceURI : le(null, "");
              break;
            default:
              t = le((t = (e = 8 === e ? t.parentNode : t).namespaceURI || null), (e = e.tagName));
          }
          Si(ea), Ai(ea, t);
        }
        function oa() {
          Si(ea), Si(ta), Si(na);
        }
        function aa(e) {
          ra(na.current);
          var t = ra(ea.current),
            n = le(t, e.type);
          t !== n && (Ai(ta, e), Ai(ea, n));
        }
        function sa(e) {
          ta.current === e && (Si(ea), Si(ta));
        }
        var la = ji(0);
        function ca(e) {
          for (var t = e; null !== t; ) {
            if (13 === t.tag) {
              var n = t.memoizedState;
              if (null !== n && (null === (n = n.dehydrated) || "$?" === n.data || "$!" === n.data)) return t;
            } else if (19 === t.tag && void 0 !== t.memoizedProps.revealOrder) {
              if (0 != (128 & t.flags)) return t;
            } else if (null !== t.child) {
              (t.child.return = t), (t = t.child);
              continue;
            }
            if (t === e) break;
            for (; null === t.sibling; ) {
              if (null === t.return || t.return === e) return null;
              t = t.return;
            }
            (t.sibling.return = t.return), (t = t.sibling);
          }
          return null;
        }
        var ua = [];
        function da() {
          for (var e = 0; e < ua.length; e++) ua[e]._workInProgressVersionPrimary = null;
          ua.length = 0;
        }
        var fa = b.ReactCurrentDispatcher,
          ha = b.ReactCurrentBatchConfig,
          pa = 0,
          ma = null,
          ya = null,
          ga = null,
          va = !1,
          wa = !1,
          ba = 0,
          xa = 0;
        function Ea() {
          throw Error(o(321));
        }
        function ka(e, t) {
          if (null === t) return !1;
          for (var n = 0; n < t.length && n < e.length; n++) if (!sr(e[n], t[n])) return !1;
          return !0;
        }
        function ja(e, t, n, r, i, a) {
          if (
            ((pa = a),
            (ma = t),
            (t.memoizedState = null),
            (t.updateQueue = null),
            (t.lanes = 0),
            (fa.current = null === e || null === e.memoizedState ? ss : ls),
            (e = n(r, i)),
            wa)
          ) {
            a = 0;
            do {
              if (((wa = !1), (ba = 0), 25 <= a)) throw Error(o(301));
              (a += 1), (ga = ya = null), (t.updateQueue = null), (fa.current = cs), (e = n(r, i));
            } while (wa);
          }
          if (((fa.current = as), (t = null !== ya && null !== ya.next), (pa = 0), (ga = ya = ma = null), (va = !1), t))
            throw Error(o(300));
          return e;
        }
        function Sa() {
          var e = 0 !== ba;
          return (ba = 0), e;
        }
        function Aa() {
          var e = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
          return null === ga ? (ma.memoizedState = ga = e) : (ga = ga.next = e), ga;
        }
        function Ca() {
          if (null === ya) {
            var e = ma.alternate;
            e = null !== e ? e.memoizedState : null;
          } else e = ya.next;
          var t = null === ga ? ma.memoizedState : ga.next;
          if (null !== t) (ga = t), (ya = e);
          else {
            if (null === e) throw Error(o(310));
            (e = {
              memoizedState: (ya = e).memoizedState,
              baseState: ya.baseState,
              baseQueue: ya.baseQueue,
              queue: ya.queue,
              next: null,
            }),
              null === ga ? (ma.memoizedState = ga = e) : (ga = ga.next = e);
          }
          return ga;
        }
        function Na(e, t) {
          return "function" == typeof t ? t(e) : t;
        }
        function Pa(e) {
          var t = Ca(),
            n = t.queue;
          if (null === n) throw Error(o(311));
          n.lastRenderedReducer = e;
          var r = ya,
            i = r.baseQueue,
            a = n.pending;
          if (null !== a) {
            if (null !== i) {
              var s = i.next;
              (i.next = a.next), (a.next = s);
            }
            (r.baseQueue = i = a), (n.pending = null);
          }
          if (null !== i) {
            (a = i.next), (r = r.baseState);
            var l = (s = null),
              c = null,
              u = a;
            do {
              var d = u.lane;
              if ((pa & d) === d)
                null !== c &&
                  (c = c.next =
                    {
                      lane: 0,
                      action: u.action,
                      hasEagerState: u.hasEagerState,
                      eagerState: u.eagerState,
                      next: null,
                    }),
                  (r = u.hasEagerState ? u.eagerState : e(r, u.action));
              else {
                var f = {
                  lane: d,
                  action: u.action,
                  hasEagerState: u.hasEagerState,
                  eagerState: u.eagerState,
                  next: null,
                };
                null === c ? ((l = c = f), (s = r)) : (c = c.next = f), (ma.lanes |= d), (Il |= d);
              }
              u = u.next;
            } while (null !== u && u !== a);
            null === c ? (s = r) : (c.next = l),
              sr(r, t.memoizedState) || (bs = !0),
              (t.memoizedState = r),
              (t.baseState = s),
              (t.baseQueue = c),
              (n.lastRenderedState = r);
          }
          if (null !== (e = n.interleaved)) {
            i = e;
            do {
              (a = i.lane), (ma.lanes |= a), (Il |= a), (i = i.next);
            } while (i !== e);
          } else null === i && (n.lanes = 0);
          return [t.memoizedState, n.dispatch];
        }
        function _a(e) {
          var t = Ca(),
            n = t.queue;
          if (null === n) throw Error(o(311));
          n.lastRenderedReducer = e;
          var r = n.dispatch,
            i = n.pending,
            a = t.memoizedState;
          if (null !== i) {
            n.pending = null;
            var s = (i = i.next);
            do {
              (a = e(a, s.action)), (s = s.next);
            } while (s !== i);
            sr(a, t.memoizedState) || (bs = !0),
              (t.memoizedState = a),
              null === t.baseQueue && (t.baseState = a),
              (n.lastRenderedState = a);
          }
          return [a, r];
        }
        function Ta() {}
        function Ma(e, t) {
          var n = ma,
            r = Ca(),
            i = t(),
            a = !sr(r.memoizedState, i);
          if (
            (a && ((r.memoizedState = i), (bs = !0)),
            (r = r.queue),
            Wa(Oa.bind(null, n, r, e), [e]),
            r.getSnapshot !== t || a || (null !== ga && 1 & ga.memoizedState.tag))
          ) {
            if (((n.flags |= 2048), Da(9, Ba.bind(null, n, r, i, t), void 0, null), null === _l)) throw Error(o(349));
            0 != (30 & pa) || Ra(n, t, i);
          }
          return i;
        }
        function Ra(e, t, n) {
          (e.flags |= 16384),
            (e = { getSnapshot: t, value: n }),
            null === (t = ma.updateQueue)
              ? ((t = { lastEffect: null, stores: null }), (ma.updateQueue = t), (t.stores = [e]))
              : null === (n = t.stores)
              ? (t.stores = [e])
              : n.push(e);
        }
        function Ba(e, t, n, r) {
          (t.value = n), (t.getSnapshot = r), La(t) && Ia(e);
        }
        function Oa(e, t, n) {
          return n(function () {
            La(t) && Ia(e);
          });
        }
        function La(e) {
          var t = e.getSnapshot;
          e = e.value;
          try {
            var n = t();
            return !sr(e, n);
          } catch (e) {
            return !0;
          }
        }
        function Ia(e) {
          var t = _o(e, 1);
          null !== t && rc(t, e, 1, -1);
        }
        function Fa(e) {
          var t = Aa();
          return (
            "function" == typeof e && (e = e()),
            (t.memoizedState = t.baseState = e),
            (e = {
              pending: null,
              interleaved: null,
              lanes: 0,
              dispatch: null,
              lastRenderedReducer: Na,
              lastRenderedState: e,
            }),
            (t.queue = e),
            (e = e.dispatch = ns.bind(null, ma, e)),
            [t.memoizedState, e]
          );
        }
        function Da(e, t, n, r) {
          return (
            (e = { tag: e, create: t, destroy: n, deps: r, next: null }),
            null === (t = ma.updateQueue)
              ? ((t = { lastEffect: null, stores: null }), (ma.updateQueue = t), (t.lastEffect = e.next = e))
              : null === (n = t.lastEffect)
              ? (t.lastEffect = e.next = e)
              : ((r = n.next), (n.next = e), (e.next = r), (t.lastEffect = e)),
            e
          );
        }
        function Ua() {
          return Ca().memoizedState;
        }
        function za(e, t, n, r) {
          var i = Aa();
          (ma.flags |= e), (i.memoizedState = Da(1 | t, n, void 0, void 0 === r ? null : r));
        }
        function Ha(e, t, n, r) {
          var i = Ca();
          r = void 0 === r ? null : r;
          var o = void 0;
          if (null !== ya) {
            var a = ya.memoizedState;
            if (((o = a.destroy), null !== r && ka(r, a.deps))) return void (i.memoizedState = Da(t, n, o, r));
          }
          (ma.flags |= e), (i.memoizedState = Da(1 | t, n, o, r));
        }
        function Ka(e, t) {
          return za(8390656, 8, e, t);
        }
        function Wa(e, t) {
          return Ha(2048, 8, e, t);
        }
        function qa(e, t) {
          return Ha(4, 2, e, t);
        }
        function Va(e, t) {
          return Ha(4, 4, e, t);
        }
        function $a(e, t) {
          return "function" == typeof t
            ? ((e = e()),
              t(e),
              function () {
                t(null);
              })
            : null != t
            ? ((e = e()),
              (t.current = e),
              function () {
                t.current = null;
              })
            : void 0;
        }
        function Ga(e, t, n) {
          return (n = null != n ? n.concat([e]) : null), Ha(4, 4, $a.bind(null, t, e), n);
        }
        function Za() {}
        function Ya(e, t) {
          var n = Ca();
          t = void 0 === t ? null : t;
          var r = n.memoizedState;
          return null !== r && null !== t && ka(t, r[1]) ? r[0] : ((n.memoizedState = [e, t]), e);
        }
        function Xa(e, t) {
          var n = Ca();
          t = void 0 === t ? null : t;
          var r = n.memoizedState;
          return null !== r && null !== t && ka(t, r[1]) ? r[0] : ((e = e()), (n.memoizedState = [e, t]), e);
        }
        function Qa(e, t, n) {
          return 0 == (21 & pa)
            ? (e.baseState && ((e.baseState = !1), (bs = !0)), (e.memoizedState = n))
            : (sr(n, t) || ((n = mt()), (ma.lanes |= n), (Il |= n), (e.baseState = !0)), t);
        }
        function Ja(e, t) {
          var n = wt;
          (wt = 0 !== n && 4 > n ? n : 4), e(!0);
          var r = ha.transition;
          ha.transition = {};
          try {
            e(!1), t();
          } finally {
            (wt = n), (ha.transition = r);
          }
        }
        function es() {
          return Ca().memoizedState;
        }
        function ts(e, t, n) {
          var r = nc(e);
          (n = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null }),
            rs(e) ? is(t, n) : null !== (n = Po(e, t, n, r)) && (rc(n, e, r, tc()), os(n, t, r));
        }
        function ns(e, t, n) {
          var r = nc(e),
            i = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null };
          if (rs(e)) is(t, i);
          else {
            var o = e.alternate;
            if (0 === e.lanes && (null === o || 0 === o.lanes) && null !== (o = t.lastRenderedReducer))
              try {
                var a = t.lastRenderedState,
                  s = o(a, n);
                if (((i.hasEagerState = !0), (i.eagerState = s), sr(s, a))) {
                  var l = t.interleaved;
                  return (
                    null === l ? ((i.next = i), No(t)) : ((i.next = l.next), (l.next = i)), void (t.interleaved = i)
                  );
                }
              } catch (e) {}
            null !== (n = Po(e, t, i, r)) && (rc(n, e, r, (i = tc())), os(n, t, r));
          }
        }
        function rs(e) {
          var t = e.alternate;
          return e === ma || (null !== t && t === ma);
        }
        function is(e, t) {
          wa = va = !0;
          var n = e.pending;
          null === n ? (t.next = t) : ((t.next = n.next), (n.next = t)), (e.pending = t);
        }
        function os(e, t, n) {
          if (0 != (4194240 & n)) {
            var r = t.lanes;
            (n |= r &= e.pendingLanes), (t.lanes = n), vt(e, n);
          }
        }
        var as = {
            readContext: Ao,
            useCallback: Ea,
            useContext: Ea,
            useEffect: Ea,
            useImperativeHandle: Ea,
            useInsertionEffect: Ea,
            useLayoutEffect: Ea,
            useMemo: Ea,
            useReducer: Ea,
            useRef: Ea,
            useState: Ea,
            useDebugValue: Ea,
            useDeferredValue: Ea,
            useTransition: Ea,
            useMutableSource: Ea,
            useSyncExternalStore: Ea,
            useId: Ea,
            unstable_isNewReconciler: !1,
          },
          ss = {
            readContext: Ao,
            useCallback: function (e, t) {
              return (Aa().memoizedState = [e, void 0 === t ? null : t]), e;
            },
            useContext: Ao,
            useEffect: Ka,
            useImperativeHandle: function (e, t, n) {
              return (n = null != n ? n.concat([e]) : null), za(4194308, 4, $a.bind(null, t, e), n);
            },
            useLayoutEffect: function (e, t) {
              return za(4194308, 4, e, t);
            },
            useInsertionEffect: function (e, t) {
              return za(4, 2, e, t);
            },
            useMemo: function (e, t) {
              var n = Aa();
              return (t = void 0 === t ? null : t), (e = e()), (n.memoizedState = [e, t]), e;
            },
            useReducer: function (e, t, n) {
              var r = Aa();
              return (
                (t = void 0 !== n ? n(t) : t),
                (r.memoizedState = r.baseState = t),
                (e = {
                  pending: null,
                  interleaved: null,
                  lanes: 0,
                  dispatch: null,
                  lastRenderedReducer: e,
                  lastRenderedState: t,
                }),
                (r.queue = e),
                (e = e.dispatch = ts.bind(null, ma, e)),
                [r.memoizedState, e]
              );
            },
            useRef: function (e) {
              return (e = { current: e }), (Aa().memoizedState = e);
            },
            useState: Fa,
            useDebugValue: Za,
            useDeferredValue: function (e) {
              return (Aa().memoizedState = e);
            },
            useTransition: function () {
              var e = Fa(!1),
                t = e[0];
              return (e = Ja.bind(null, e[1])), (Aa().memoizedState = e), [t, e];
            },
            useMutableSource: function () {},
            useSyncExternalStore: function (e, t, n) {
              var r = ma,
                i = Aa();
              if (io) {
                if (void 0 === n) throw Error(o(407));
                n = n();
              } else {
                if (((n = t()), null === _l)) throw Error(o(349));
                0 != (30 & pa) || Ra(r, t, n);
              }
              i.memoizedState = n;
              var a = { value: n, getSnapshot: t };
              return (
                (i.queue = a),
                Ka(Oa.bind(null, r, a, e), [e]),
                (r.flags |= 2048),
                Da(9, Ba.bind(null, r, a, n, t), void 0, null),
                n
              );
            },
            useId: function () {
              var e = Aa(),
                t = _l.identifierPrefix;
              if (io) {
                var n = Xi;
                (t = ":" + t + "R" + (n = (Yi & ~(1 << (32 - at(Yi) - 1))).toString(32) + n)),
                  0 < (n = ba++) && (t += "H" + n.toString(32)),
                  (t += ":");
              } else t = ":" + t + "r" + (n = xa++).toString(32) + ":";
              return (e.memoizedState = t);
            },
            unstable_isNewReconciler: !1,
          },
          ls = {
            readContext: Ao,
            useCallback: Ya,
            useContext: Ao,
            useEffect: Wa,
            useImperativeHandle: Ga,
            useInsertionEffect: qa,
            useLayoutEffect: Va,
            useMemo: Xa,
            useReducer: Pa,
            useRef: Ua,
            useState: function () {
              return Pa(Na);
            },
            useDebugValue: Za,
            useDeferredValue: function (e) {
              return Qa(Ca(), ya.memoizedState, e);
            },
            useTransition: function () {
              return [Pa(Na)[0], Ca().memoizedState];
            },
            useMutableSource: Ta,
            useSyncExternalStore: Ma,
            useId: es,
            unstable_isNewReconciler: !1,
          },
          cs = {
            readContext: Ao,
            useCallback: Ya,
            useContext: Ao,
            useEffect: Wa,
            useImperativeHandle: Ga,
            useInsertionEffect: qa,
            useLayoutEffect: Va,
            useMemo: Xa,
            useReducer: _a,
            useRef: Ua,
            useState: function () {
              return _a(Na);
            },
            useDebugValue: Za,
            useDeferredValue: function (e) {
              var t = Ca();
              return null === ya ? (t.memoizedState = e) : Qa(t, ya.memoizedState, e);
            },
            useTransition: function () {
              return [_a(Na)[0], Ca().memoizedState];
            },
            useMutableSource: Ta,
            useSyncExternalStore: Ma,
            useId: es,
            unstable_isNewReconciler: !1,
          };
        function us(e, t) {
          try {
            var n = "",
              r = t;
            do {
              (n += z(r)), (r = r.return);
            } while (r);
            var i = n;
          } catch (e) {
            i = "\nError generating stack: " + e.message + "\n" + e.stack;
          }
          return { value: e, source: t, stack: i, digest: null };
        }
        function ds(e, t, n) {
          return { value: e, source: null, stack: null != n ? n : null, digest: null != t ? t : null };
        }
        function fs(e, t) {
          try {
            console.error(t.value);
          } catch (e) {
            setTimeout(function () {
              throw e;
            });
          }
        }
        var hs = "function" == typeof WeakMap ? WeakMap : Map;
        function ps(e, t, n) {
          ((n = Bo(-1, n)).tag = 3), (n.payload = { element: null });
          var r = t.value;
          return (
            (n.callback = function () {
              ql || ((ql = !0), (Vl = r)), fs(0, t);
            }),
            n
          );
        }
        function ms(e, t, n) {
          (n = Bo(-1, n)).tag = 3;
          var r = e.type.getDerivedStateFromError;
          if ("function" == typeof r) {
            var i = t.value;
            (n.payload = function () {
              return r(i);
            }),
              (n.callback = function () {
                fs(0, t);
              });
          }
          var o = e.stateNode;
          return (
            null !== o &&
              "function" == typeof o.componentDidCatch &&
              (n.callback = function () {
                fs(0, t), "function" != typeof r && (null === $l ? ($l = new Set([this])) : $l.add(this));
                var e = t.stack;
                this.componentDidCatch(t.value, { componentStack: null !== e ? e : "" });
              }),
            n
          );
        }
        function ys(e, t, n) {
          var r = e.pingCache;
          if (null === r) {
            r = e.pingCache = new hs();
            var i = new Set();
            r.set(t, i);
          } else void 0 === (i = r.get(t)) && ((i = new Set()), r.set(t, i));
          i.has(n) || (i.add(n), (e = Ac.bind(null, e, t, n)), t.then(e, e));
        }
        function gs(e) {
          do {
            var t;
            if (((t = 13 === e.tag) && (t = null === (t = e.memoizedState) || null !== t.dehydrated), t)) return e;
            e = e.return;
          } while (null !== e);
          return null;
        }
        function vs(e, t, n, r, i) {
          return 0 == (1 & e.mode)
            ? (e === t
                ? (e.flags |= 65536)
                : ((e.flags |= 128),
                  (n.flags |= 131072),
                  (n.flags &= -52805),
                  1 === n.tag && (null === n.alternate ? (n.tag = 17) : (((t = Bo(-1, 1)).tag = 2), Oo(n, t, 1))),
                  (n.lanes |= 1)),
              e)
            : ((e.flags |= 65536), (e.lanes = i), e);
        }
        var ws = b.ReactCurrentOwner,
          bs = !1;
        function xs(e, t, n, r) {
          t.child = null === e ? Qo(t, null, n, r) : Xo(t, e.child, n, r);
        }
        function Es(e, t, n, r, i) {
          n = n.render;
          var o = t.ref;
          return (
            So(t, i),
            (r = ja(e, t, n, r, o, i)),
            (n = Sa()),
            null === e || bs
              ? (io && n && eo(t), (t.flags |= 1), xs(e, t, r, i), t.child)
              : ((t.updateQueue = e.updateQueue), (t.flags &= -2053), (e.lanes &= ~i), qs(e, t, i))
          );
        }
        function ks(e, t, n, r, i) {
          if (null === e) {
            var o = n.type;
            return "function" != typeof o ||
              Rc(o) ||
              void 0 !== o.defaultProps ||
              null !== n.compare ||
              void 0 !== n.defaultProps
              ? (((e = Oc(n.type, null, r, t, t.mode, i)).ref = t.ref), (e.return = t), (t.child = e))
              : ((t.tag = 15), (t.type = o), js(e, t, o, r, i));
          }
          if (((o = e.child), 0 == (e.lanes & i))) {
            var a = o.memoizedProps;
            if ((n = null !== (n = n.compare) ? n : lr)(a, r) && e.ref === t.ref) return qs(e, t, i);
          }
          return (t.flags |= 1), ((e = Bc(o, r)).ref = t.ref), (e.return = t), (t.child = e);
        }
        function js(e, t, n, r, i) {
          if (null !== e) {
            var o = e.memoizedProps;
            if (lr(o, r) && e.ref === t.ref) {
              if (((bs = !1), (t.pendingProps = r = o), 0 == (e.lanes & i))) return (t.lanes = e.lanes), qs(e, t, i);
              0 != (131072 & e.flags) && (bs = !0);
            }
          }
          return Cs(e, t, n, r, i);
        }
        function Ss(e, t, n) {
          var r = t.pendingProps,
            i = r.children,
            o = null !== e ? e.memoizedState : null;
          if ("hidden" === r.mode)
            if (0 == (1 & t.mode))
              (t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }), Ai(Bl, Rl), (Rl |= n);
            else {
              if (0 == (1073741824 & n))
                return (
                  (e = null !== o ? o.baseLanes | n : n),
                  (t.lanes = t.childLanes = 1073741824),
                  (t.memoizedState = { baseLanes: e, cachePool: null, transitions: null }),
                  (t.updateQueue = null),
                  Ai(Bl, Rl),
                  (Rl |= e),
                  null
                );
              (t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
                (r = null !== o ? o.baseLanes : n),
                Ai(Bl, Rl),
                (Rl |= r);
            }
          else null !== o ? ((r = o.baseLanes | n), (t.memoizedState = null)) : (r = n), Ai(Bl, Rl), (Rl |= r);
          return xs(e, t, i, n), t.child;
        }
        function As(e, t) {
          var n = t.ref;
          ((null === e && null !== n) || (null !== e && e.ref !== n)) && ((t.flags |= 512), (t.flags |= 2097152));
        }
        function Cs(e, t, n, r, i) {
          var o = Mi(n) ? _i : Ni.current;
          return (
            (o = Ti(t, o)),
            So(t, i),
            (n = ja(e, t, n, r, o, i)),
            (r = Sa()),
            null === e || bs
              ? (io && r && eo(t), (t.flags |= 1), xs(e, t, n, i), t.child)
              : ((t.updateQueue = e.updateQueue), (t.flags &= -2053), (e.lanes &= ~i), qs(e, t, i))
          );
        }
        function Ns(e, t, n, r, i) {
          if (Mi(n)) {
            var o = !0;
            Li(t);
          } else o = !1;
          if ((So(t, i), null === t.stateNode)) Ws(e, t), Wo(t, n, r), Vo(t, n, r, i), (r = !0);
          else if (null === e) {
            var a = t.stateNode,
              s = t.memoizedProps;
            a.props = s;
            var l = a.context,
              c = n.contextType;
            c = "object" == typeof c && null !== c ? Ao(c) : Ti(t, (c = Mi(n) ? _i : Ni.current));
            var u = n.getDerivedStateFromProps,
              d = "function" == typeof u || "function" == typeof a.getSnapshotBeforeUpdate;
            d ||
              ("function" != typeof a.UNSAFE_componentWillReceiveProps &&
                "function" != typeof a.componentWillReceiveProps) ||
              ((s !== r || l !== c) && qo(t, a, r, c)),
              (To = !1);
            var f = t.memoizedState;
            (a.state = f),
              Fo(t, r, a, i),
              (l = t.memoizedState),
              s !== r || f !== l || Pi.current || To
                ? ("function" == typeof u && (zo(t, n, u, r), (l = t.memoizedState)),
                  (s = To || Ko(t, n, s, r, f, l, c))
                    ? (d ||
                        ("function" != typeof a.UNSAFE_componentWillMount &&
                          "function" != typeof a.componentWillMount) ||
                        ("function" == typeof a.componentWillMount && a.componentWillMount(),
                        "function" == typeof a.UNSAFE_componentWillMount && a.UNSAFE_componentWillMount()),
                      "function" == typeof a.componentDidMount && (t.flags |= 4194308))
                    : ("function" == typeof a.componentDidMount && (t.flags |= 4194308),
                      (t.memoizedProps = r),
                      (t.memoizedState = l)),
                  (a.props = r),
                  (a.state = l),
                  (a.context = c),
                  (r = s))
                : ("function" == typeof a.componentDidMount && (t.flags |= 4194308), (r = !1));
          } else {
            (a = t.stateNode),
              Ro(e, t),
              (s = t.memoizedProps),
              (c = t.type === t.elementType ? s : go(t.type, s)),
              (a.props = c),
              (d = t.pendingProps),
              (f = a.context),
              (l = "object" == typeof (l = n.contextType) && null !== l ? Ao(l) : Ti(t, (l = Mi(n) ? _i : Ni.current)));
            var h = n.getDerivedStateFromProps;
            (u = "function" == typeof h || "function" == typeof a.getSnapshotBeforeUpdate) ||
              ("function" != typeof a.UNSAFE_componentWillReceiveProps &&
                "function" != typeof a.componentWillReceiveProps) ||
              ((s !== d || f !== l) && qo(t, a, r, l)),
              (To = !1),
              (f = t.memoizedState),
              (a.state = f),
              Fo(t, r, a, i);
            var p = t.memoizedState;
            s !== d || f !== p || Pi.current || To
              ? ("function" == typeof h && (zo(t, n, h, r), (p = t.memoizedState)),
                (c = To || Ko(t, n, c, r, f, p, l) || !1)
                  ? (u ||
                      ("function" != typeof a.UNSAFE_componentWillUpdate &&
                        "function" != typeof a.componentWillUpdate) ||
                      ("function" == typeof a.componentWillUpdate && a.componentWillUpdate(r, p, l),
                      "function" == typeof a.UNSAFE_componentWillUpdate && a.UNSAFE_componentWillUpdate(r, p, l)),
                    "function" == typeof a.componentDidUpdate && (t.flags |= 4),
                    "function" == typeof a.getSnapshotBeforeUpdate && (t.flags |= 1024))
                  : ("function" != typeof a.componentDidUpdate ||
                      (s === e.memoizedProps && f === e.memoizedState) ||
                      (t.flags |= 4),
                    "function" != typeof a.getSnapshotBeforeUpdate ||
                      (s === e.memoizedProps && f === e.memoizedState) ||
                      (t.flags |= 1024),
                    (t.memoizedProps = r),
                    (t.memoizedState = p)),
                (a.props = r),
                (a.state = p),
                (a.context = l),
                (r = c))
              : ("function" != typeof a.componentDidUpdate ||
                  (s === e.memoizedProps && f === e.memoizedState) ||
                  (t.flags |= 4),
                "function" != typeof a.getSnapshotBeforeUpdate ||
                  (s === e.memoizedProps && f === e.memoizedState) ||
                  (t.flags |= 1024),
                (r = !1));
          }
          return Ps(e, t, n, r, o, i);
        }
        function Ps(e, t, n, r, i, o) {
          As(e, t);
          var a = 0 != (128 & t.flags);
          if (!r && !a) return i && Ii(t, n, !1), qs(e, t, o);
          (r = t.stateNode), (ws.current = t);
          var s = a && "function" != typeof n.getDerivedStateFromError ? null : r.render();
          return (
            (t.flags |= 1),
            null !== e && a ? ((t.child = Xo(t, e.child, null, o)), (t.child = Xo(t, null, s, o))) : xs(e, t, s, o),
            (t.memoizedState = r.state),
            i && Ii(t, n, !0),
            t.child
          );
        }
        function _s(e) {
          var t = e.stateNode;
          t.pendingContext
            ? Bi(0, t.pendingContext, t.pendingContext !== t.context)
            : t.context && Bi(0, t.context, !1),
            ia(e, t.containerInfo);
        }
        function Ts(e, t, n, r, i) {
          return po(), mo(i), (t.flags |= 256), xs(e, t, n, r), t.child;
        }
        var Ms,
          Rs,
          Bs,
          Os,
          Ls = { dehydrated: null, treeContext: null, retryLane: 0 };
        function Is(e) {
          return { baseLanes: e, cachePool: null, transitions: null };
        }
        function Fs(e, t, n) {
          var r,
            i = t.pendingProps,
            a = la.current,
            s = !1,
            l = 0 != (128 & t.flags);
          if (
            ((r = l) || (r = (null === e || null !== e.memoizedState) && 0 != (2 & a)),
            r ? ((s = !0), (t.flags &= -129)) : (null !== e && null === e.memoizedState) || (a |= 1),
            Ai(la, 1 & a),
            null === e)
          )
            return (
              co(t),
              null !== (e = t.memoizedState) && null !== (e = e.dehydrated)
                ? (0 == (1 & t.mode) ? (t.lanes = 1) : "$!" === e.data ? (t.lanes = 8) : (t.lanes = 1073741824), null)
                : ((l = i.children),
                  (e = i.fallback),
                  s
                    ? ((i = t.mode),
                      (s = t.child),
                      (l = { mode: "hidden", children: l }),
                      0 == (1 & i) && null !== s ? ((s.childLanes = 0), (s.pendingProps = l)) : (s = Ic(l, i, 0, null)),
                      (e = Lc(e, i, n, null)),
                      (s.return = t),
                      (e.return = t),
                      (s.sibling = e),
                      (t.child = s),
                      (t.child.memoizedState = Is(n)),
                      (t.memoizedState = Ls),
                      e)
                    : Ds(t, l))
            );
          if (null !== (a = e.memoizedState) && null !== (r = a.dehydrated))
            return (function (e, t, n, r, i, a, s) {
              if (n)
                return 256 & t.flags
                  ? ((t.flags &= -257), Us(e, t, s, (r = ds(Error(o(422))))))
                  : null !== t.memoizedState
                  ? ((t.child = e.child), (t.flags |= 128), null)
                  : ((a = r.fallback),
                    (i = t.mode),
                    (r = Ic({ mode: "visible", children: r.children }, i, 0, null)),
                    ((a = Lc(a, i, s, null)).flags |= 2),
                    (r.return = t),
                    (a.return = t),
                    (r.sibling = a),
                    (t.child = r),
                    0 != (1 & t.mode) && Xo(t, e.child, null, s),
                    (t.child.memoizedState = Is(s)),
                    (t.memoizedState = Ls),
                    a);
              if (0 == (1 & t.mode)) return Us(e, t, s, null);
              if ("$!" === i.data) {
                if ((r = i.nextSibling && i.nextSibling.dataset)) var l = r.dgst;
                return (r = l), Us(e, t, s, (r = ds((a = Error(o(419))), r, void 0)));
              }
              if (((l = 0 != (s & e.childLanes)), bs || l)) {
                if (null !== (r = _l)) {
                  switch (s & -s) {
                    case 4:
                      i = 2;
                      break;
                    case 16:
                      i = 8;
                      break;
                    case 64:
                    case 128:
                    case 256:
                    case 512:
                    case 1024:
                    case 2048:
                    case 4096:
                    case 8192:
                    case 16384:
                    case 32768:
                    case 65536:
                    case 131072:
                    case 262144:
                    case 524288:
                    case 1048576:
                    case 2097152:
                    case 4194304:
                    case 8388608:
                    case 16777216:
                    case 33554432:
                    case 67108864:
                      i = 32;
                      break;
                    case 536870912:
                      i = 268435456;
                      break;
                    default:
                      i = 0;
                  }
                  0 !== (i = 0 != (i & (r.suspendedLanes | s)) ? 0 : i) &&
                    i !== a.retryLane &&
                    ((a.retryLane = i), _o(e, i), rc(r, e, i, -1));
                }
                return yc(), Us(e, t, s, (r = ds(Error(o(421)))));
              }
              return "$?" === i.data
                ? ((t.flags |= 128), (t.child = e.child), (t = Nc.bind(null, e)), (i._reactRetry = t), null)
                : ((e = a.treeContext),
                  (ro = ci(i.nextSibling)),
                  (no = t),
                  (io = !0),
                  (oo = null),
                  null !== e &&
                    (($i[Gi++] = Yi), ($i[Gi++] = Xi), ($i[Gi++] = Zi), (Yi = e.id), (Xi = e.overflow), (Zi = t)),
                  ((t = Ds(t, r.children)).flags |= 4096),
                  t);
            })(e, t, l, i, r, a, n);
          if (s) {
            (s = i.fallback), (l = t.mode), (r = (a = e.child).sibling);
            var c = { mode: "hidden", children: i.children };
            return (
              0 == (1 & l) && t.child !== a
                ? (((i = t.child).childLanes = 0), (i.pendingProps = c), (t.deletions = null))
                : ((i = Bc(a, c)).subtreeFlags = 14680064 & a.subtreeFlags),
              null !== r ? (s = Bc(r, s)) : ((s = Lc(s, l, n, null)).flags |= 2),
              (s.return = t),
              (i.return = t),
              (i.sibling = s),
              (t.child = i),
              (i = s),
              (s = t.child),
              (l =
                null === (l = e.child.memoizedState)
                  ? Is(n)
                  : { baseLanes: l.baseLanes | n, cachePool: null, transitions: l.transitions }),
              (s.memoizedState = l),
              (s.childLanes = e.childLanes & ~n),
              (t.memoizedState = Ls),
              i
            );
          }
          return (
            (e = (s = e.child).sibling),
            (i = Bc(s, { mode: "visible", children: i.children })),
            0 == (1 & t.mode) && (i.lanes = n),
            (i.return = t),
            (i.sibling = null),
            null !== e && (null === (n = t.deletions) ? ((t.deletions = [e]), (t.flags |= 16)) : n.push(e)),
            (t.child = i),
            (t.memoizedState = null),
            i
          );
        }
        function Ds(e, t) {
          return ((t = Ic({ mode: "visible", children: t }, e.mode, 0, null)).return = e), (e.child = t);
        }
        function Us(e, t, n, r) {
          return (
            null !== r && mo(r),
            Xo(t, e.child, null, n),
            ((e = Ds(t, t.pendingProps.children)).flags |= 2),
            (t.memoizedState = null),
            e
          );
        }
        function zs(e, t, n) {
          e.lanes |= t;
          var r = e.alternate;
          null !== r && (r.lanes |= t), jo(e.return, t, n);
        }
        function Hs(e, t, n, r, i) {
          var o = e.memoizedState;
          null === o
            ? (e.memoizedState = {
                isBackwards: t,
                rendering: null,
                renderingStartTime: 0,
                last: r,
                tail: n,
                tailMode: i,
              })
            : ((o.isBackwards = t),
              (o.rendering = null),
              (o.renderingStartTime = 0),
              (o.last = r),
              (o.tail = n),
              (o.tailMode = i));
        }
        function Ks(e, t, n) {
          var r = t.pendingProps,
            i = r.revealOrder,
            o = r.tail;
          if ((xs(e, t, r.children, n), 0 != (2 & (r = la.current)))) (r = (1 & r) | 2), (t.flags |= 128);
          else {
            if (null !== e && 0 != (128 & e.flags))
              e: for (e = t.child; null !== e; ) {
                if (13 === e.tag) null !== e.memoizedState && zs(e, n, t);
                else if (19 === e.tag) zs(e, n, t);
                else if (null !== e.child) {
                  (e.child.return = e), (e = e.child);
                  continue;
                }
                if (e === t) break e;
                for (; null === e.sibling; ) {
                  if (null === e.return || e.return === t) break e;
                  e = e.return;
                }
                (e.sibling.return = e.return), (e = e.sibling);
              }
            r &= 1;
          }
          if ((Ai(la, r), 0 == (1 & t.mode))) t.memoizedState = null;
          else
            switch (i) {
              case "forwards":
                for (n = t.child, i = null; null !== n; )
                  null !== (e = n.alternate) && null === ca(e) && (i = n), (n = n.sibling);
                null === (n = i) ? ((i = t.child), (t.child = null)) : ((i = n.sibling), (n.sibling = null)),
                  Hs(t, !1, i, n, o);
                break;
              case "backwards":
                for (n = null, i = t.child, t.child = null; null !== i; ) {
                  if (null !== (e = i.alternate) && null === ca(e)) {
                    t.child = i;
                    break;
                  }
                  (e = i.sibling), (i.sibling = n), (n = i), (i = e);
                }
                Hs(t, !0, n, null, o);
                break;
              case "together":
                Hs(t, !1, null, null, void 0);
                break;
              default:
                t.memoizedState = null;
            }
          return t.child;
        }
        function Ws(e, t) {
          0 == (1 & t.mode) && null !== e && ((e.alternate = null), (t.alternate = null), (t.flags |= 2));
        }
        function qs(e, t, n) {
          if ((null !== e && (t.dependencies = e.dependencies), (Il |= t.lanes), 0 == (n & t.childLanes))) return null;
          if (null !== e && t.child !== e.child) throw Error(o(153));
          if (null !== t.child) {
            for (n = Bc((e = t.child), e.pendingProps), t.child = n, n.return = t; null !== e.sibling; )
              (e = e.sibling), ((n = n.sibling = Bc(e, e.pendingProps)).return = t);
            n.sibling = null;
          }
          return t.child;
        }
        function Vs(e, t) {
          if (!io)
            switch (e.tailMode) {
              case "hidden":
                t = e.tail;
                for (var n = null; null !== t; ) null !== t.alternate && (n = t), (t = t.sibling);
                null === n ? (e.tail = null) : (n.sibling = null);
                break;
              case "collapsed":
                n = e.tail;
                for (var r = null; null !== n; ) null !== n.alternate && (r = n), (n = n.sibling);
                null === r ? (t || null === e.tail ? (e.tail = null) : (e.tail.sibling = null)) : (r.sibling = null);
            }
        }
        function $s(e) {
          var t = null !== e.alternate && e.alternate.child === e.child,
            n = 0,
            r = 0;
          if (t)
            for (var i = e.child; null !== i; )
              (n |= i.lanes | i.childLanes),
                (r |= 14680064 & i.subtreeFlags),
                (r |= 14680064 & i.flags),
                (i.return = e),
                (i = i.sibling);
          else
            for (i = e.child; null !== i; )
              (n |= i.lanes | i.childLanes), (r |= i.subtreeFlags), (r |= i.flags), (i.return = e), (i = i.sibling);
          return (e.subtreeFlags |= r), (e.childLanes = n), t;
        }
        function Gs(e, t, n) {
          var r = t.pendingProps;
          switch ((to(t), t.tag)) {
            case 2:
            case 16:
            case 15:
            case 0:
            case 11:
            case 7:
            case 8:
            case 12:
            case 9:
            case 14:
              return $s(t), null;
            case 1:
            case 17:
              return Mi(t.type) && Ri(), $s(t), null;
            case 3:
              return (
                (r = t.stateNode),
                oa(),
                Si(Pi),
                Si(Ni),
                da(),
                r.pendingContext && ((r.context = r.pendingContext), (r.pendingContext = null)),
                (null !== e && null !== e.child) ||
                  (fo(t)
                    ? (t.flags |= 4)
                    : null === e ||
                      (e.memoizedState.isDehydrated && 0 == (256 & t.flags)) ||
                      ((t.flags |= 1024), null !== oo && (sc(oo), (oo = null)))),
                Rs(e, t),
                $s(t),
                null
              );
            case 5:
              sa(t);
              var i = ra(na.current);
              if (((n = t.type), null !== e && null != t.stateNode))
                Bs(e, t, n, r, i), e.ref !== t.ref && ((t.flags |= 512), (t.flags |= 2097152));
              else {
                if (!r) {
                  if (null === t.stateNode) throw Error(o(166));
                  return $s(t), null;
                }
                if (((e = ra(ea.current)), fo(t))) {
                  (r = t.stateNode), (n = t.type);
                  var a = t.memoizedProps;
                  switch (((r[fi] = t), (r[hi] = a), (e = 0 != (1 & t.mode)), n)) {
                    case "dialog":
                      Dr("cancel", r), Dr("close", r);
                      break;
                    case "iframe":
                    case "object":
                    case "embed":
                      Dr("load", r);
                      break;
                    case "video":
                    case "audio":
                      for (i = 0; i < Or.length; i++) Dr(Or[i], r);
                      break;
                    case "source":
                      Dr("error", r);
                      break;
                    case "img":
                    case "image":
                    case "link":
                      Dr("error", r), Dr("load", r);
                      break;
                    case "details":
                      Dr("toggle", r);
                      break;
                    case "input":
                      Y(r, a), Dr("invalid", r);
                      break;
                    case "select":
                      (r._wrapperState = { wasMultiple: !!a.multiple }), Dr("invalid", r);
                      break;
                    case "textarea":
                      ie(r, a), Dr("invalid", r);
                  }
                  for (var l in (ve(n, a), (i = null), a))
                    if (a.hasOwnProperty(l)) {
                      var c = a[l];
                      "children" === l
                        ? "string" == typeof c
                          ? r.textContent !== c &&
                            (!0 !== a.suppressHydrationWarning && Qr(r.textContent, c, e), (i = ["children", c]))
                          : "number" == typeof c &&
                            r.textContent !== "" + c &&
                            (!0 !== a.suppressHydrationWarning && Qr(r.textContent, c, e), (i = ["children", "" + c]))
                        : s.hasOwnProperty(l) && null != c && "onScroll" === l && Dr("scroll", r);
                    }
                  switch (n) {
                    case "input":
                      V(r), J(r, a, !0);
                      break;
                    case "textarea":
                      V(r), ae(r);
                      break;
                    case "select":
                    case "option":
                      break;
                    default:
                      "function" == typeof a.onClick && (r.onclick = Jr);
                  }
                  (r = i), (t.updateQueue = r), null !== r && (t.flags |= 4);
                } else {
                  (l = 9 === i.nodeType ? i : i.ownerDocument),
                    "http://www.w3.org/1999/xhtml" === e && (e = se(n)),
                    "http://www.w3.org/1999/xhtml" === e
                      ? "script" === n
                        ? (((e = l.createElement("div")).innerHTML = "<script></script>"),
                          (e = e.removeChild(e.firstChild)))
                        : "string" == typeof r.is
                        ? (e = l.createElement(n, { is: r.is }))
                        : ((e = l.createElement(n)),
                          "select" === n && ((l = e), r.multiple ? (l.multiple = !0) : r.size && (l.size = r.size)))
                      : (e = l.createElementNS(e, n)),
                    (e[fi] = t),
                    (e[hi] = r),
                    Ms(e, t, !1, !1),
                    (t.stateNode = e);
                  e: {
                    switch (((l = we(n, r)), n)) {
                      case "dialog":
                        Dr("cancel", e), Dr("close", e), (i = r);
                        break;
                      case "iframe":
                      case "object":
                      case "embed":
                        Dr("load", e), (i = r);
                        break;
                      case "video":
                      case "audio":
                        for (i = 0; i < Or.length; i++) Dr(Or[i], e);
                        i = r;
                        break;
                      case "source":
                        Dr("error", e), (i = r);
                        break;
                      case "img":
                      case "image":
                      case "link":
                        Dr("error", e), Dr("load", e), (i = r);
                        break;
                      case "details":
                        Dr("toggle", e), (i = r);
                        break;
                      case "input":
                        Y(e, r), (i = Z(e, r)), Dr("invalid", e);
                        break;
                      case "option":
                      default:
                        i = r;
                        break;
                      case "select":
                        (e._wrapperState = { wasMultiple: !!r.multiple }),
                          (i = I({}, r, { value: void 0 })),
                          Dr("invalid", e);
                        break;
                      case "textarea":
                        ie(e, r), (i = re(e, r)), Dr("invalid", e);
                    }
                    for (a in (ve(n, i), (c = i)))
                      if (c.hasOwnProperty(a)) {
                        var u = c[a];
                        "style" === a
                          ? ye(e, u)
                          : "dangerouslySetInnerHTML" === a
                          ? null != (u = u ? u.__html : void 0) && de(e, u)
                          : "children" === a
                          ? "string" == typeof u
                            ? ("textarea" !== n || "" !== u) && fe(e, u)
                            : "number" == typeof u && fe(e, "" + u)
                          : "suppressContentEditableWarning" !== a &&
                            "suppressHydrationWarning" !== a &&
                            "autoFocus" !== a &&
                            (s.hasOwnProperty(a)
                              ? null != u && "onScroll" === a && Dr("scroll", e)
                              : null != u && w(e, a, u, l));
                      }
                    switch (n) {
                      case "input":
                        V(e), J(e, r, !1);
                        break;
                      case "textarea":
                        V(e), ae(e);
                        break;
                      case "option":
                        null != r.value && e.setAttribute("value", "" + W(r.value));
                        break;
                      case "select":
                        (e.multiple = !!r.multiple),
                          null != (a = r.value)
                            ? ne(e, !!r.multiple, a, !1)
                            : null != r.defaultValue && ne(e, !!r.multiple, r.defaultValue, !0);
                        break;
                      default:
                        "function" == typeof i.onClick && (e.onclick = Jr);
                    }
                    switch (n) {
                      case "button":
                      case "input":
                      case "select":
                      case "textarea":
                        r = !!r.autoFocus;
                        break e;
                      case "img":
                        r = !0;
                        break e;
                      default:
                        r = !1;
                    }
                  }
                  r && (t.flags |= 4);
                }
                null !== t.ref && ((t.flags |= 512), (t.flags |= 2097152));
              }
              return $s(t), null;
            case 6:
              if (e && null != t.stateNode) Os(e, t, e.memoizedProps, r);
              else {
                if ("string" != typeof r && null === t.stateNode) throw Error(o(166));
                if (((n = ra(na.current)), ra(ea.current), fo(t))) {
                  if (
                    ((r = t.stateNode),
                    (n = t.memoizedProps),
                    (r[fi] = t),
                    (a = r.nodeValue !== n) && null !== (e = no))
                  )
                    switch (e.tag) {
                      case 3:
                        Qr(r.nodeValue, n, 0 != (1 & e.mode));
                        break;
                      case 5:
                        !0 !== e.memoizedProps.suppressHydrationWarning && Qr(r.nodeValue, n, 0 != (1 & e.mode));
                    }
                  a && (t.flags |= 4);
                } else ((r = (9 === n.nodeType ? n : n.ownerDocument).createTextNode(r))[fi] = t), (t.stateNode = r);
              }
              return $s(t), null;
            case 13:
              if (
                (Si(la),
                (r = t.memoizedState),
                null === e || (null !== e.memoizedState && null !== e.memoizedState.dehydrated))
              ) {
                if (io && null !== ro && 0 != (1 & t.mode) && 0 == (128 & t.flags))
                  ho(), po(), (t.flags |= 98560), (a = !1);
                else if (((a = fo(t)), null !== r && null !== r.dehydrated)) {
                  if (null === e) {
                    if (!a) throw Error(o(318));
                    if (!(a = null !== (a = t.memoizedState) ? a.dehydrated : null)) throw Error(o(317));
                    a[fi] = t;
                  } else po(), 0 == (128 & t.flags) && (t.memoizedState = null), (t.flags |= 4);
                  $s(t), (a = !1);
                } else null !== oo && (sc(oo), (oo = null)), (a = !0);
                if (!a) return 65536 & t.flags ? t : null;
              }
              return 0 != (128 & t.flags)
                ? ((t.lanes = n), t)
                : ((r = null !== r) != (null !== e && null !== e.memoizedState) &&
                    r &&
                    ((t.child.flags |= 8192),
                    0 != (1 & t.mode) && (null === e || 0 != (1 & la.current) ? 0 === Ol && (Ol = 3) : yc())),
                  null !== t.updateQueue && (t.flags |= 4),
                  $s(t),
                  null);
            case 4:
              return oa(), Rs(e, t), null === e && Hr(t.stateNode.containerInfo), $s(t), null;
            case 10:
              return ko(t.type._context), $s(t), null;
            case 19:
              if ((Si(la), null === (a = t.memoizedState))) return $s(t), null;
              if (((r = 0 != (128 & t.flags)), null === (l = a.rendering)))
                if (r) Vs(a, !1);
                else {
                  if (0 !== Ol || (null !== e && 0 != (128 & e.flags)))
                    for (e = t.child; null !== e; ) {
                      if (null !== (l = ca(e))) {
                        for (
                          t.flags |= 128,
                            Vs(a, !1),
                            null !== (r = l.updateQueue) && ((t.updateQueue = r), (t.flags |= 4)),
                            t.subtreeFlags = 0,
                            r = n,
                            n = t.child;
                          null !== n;

                        )
                          (e = r),
                            ((a = n).flags &= 14680066),
                            null === (l = a.alternate)
                              ? ((a.childLanes = 0),
                                (a.lanes = e),
                                (a.child = null),
                                (a.subtreeFlags = 0),
                                (a.memoizedProps = null),
                                (a.memoizedState = null),
                                (a.updateQueue = null),
                                (a.dependencies = null),
                                (a.stateNode = null))
                              : ((a.childLanes = l.childLanes),
                                (a.lanes = l.lanes),
                                (a.child = l.child),
                                (a.subtreeFlags = 0),
                                (a.deletions = null),
                                (a.memoizedProps = l.memoizedProps),
                                (a.memoizedState = l.memoizedState),
                                (a.updateQueue = l.updateQueue),
                                (a.type = l.type),
                                (e = l.dependencies),
                                (a.dependencies =
                                  null === e ? null : { lanes: e.lanes, firstContext: e.firstContext })),
                            (n = n.sibling);
                        return Ai(la, (1 & la.current) | 2), t.child;
                      }
                      e = e.sibling;
                    }
                  null !== a.tail && Xe() > Kl && ((t.flags |= 128), (r = !0), Vs(a, !1), (t.lanes = 4194304));
                }
              else {
                if (!r)
                  if (null !== (e = ca(l))) {
                    if (
                      ((t.flags |= 128),
                      (r = !0),
                      null !== (n = e.updateQueue) && ((t.updateQueue = n), (t.flags |= 4)),
                      Vs(a, !0),
                      null === a.tail && "hidden" === a.tailMode && !l.alternate && !io)
                    )
                      return $s(t), null;
                  } else
                    2 * Xe() - a.renderingStartTime > Kl &&
                      1073741824 !== n &&
                      ((t.flags |= 128), (r = !0), Vs(a, !1), (t.lanes = 4194304));
                a.isBackwards
                  ? ((l.sibling = t.child), (t.child = l))
                  : (null !== (n = a.last) ? (n.sibling = l) : (t.child = l), (a.last = l));
              }
              return null !== a.tail
                ? ((t = a.tail),
                  (a.rendering = t),
                  (a.tail = t.sibling),
                  (a.renderingStartTime = Xe()),
                  (t.sibling = null),
                  (n = la.current),
                  Ai(la, r ? (1 & n) | 2 : 1 & n),
                  t)
                : ($s(t), null);
            case 22:
            case 23:
              return (
                fc(),
                (r = null !== t.memoizedState),
                null !== e && (null !== e.memoizedState) !== r && (t.flags |= 8192),
                r && 0 != (1 & t.mode)
                  ? 0 != (1073741824 & Rl) && ($s(t), 6 & t.subtreeFlags && (t.flags |= 8192))
                  : $s(t),
                null
              );
            case 24:
            case 25:
              return null;
          }
          throw Error(o(156, t.tag));
        }
        function Zs(e, t) {
          switch ((to(t), t.tag)) {
            case 1:
              return Mi(t.type) && Ri(), 65536 & (e = t.flags) ? ((t.flags = (-65537 & e) | 128), t) : null;
            case 3:
              return (
                oa(),
                Si(Pi),
                Si(Ni),
                da(),
                0 != (65536 & (e = t.flags)) && 0 == (128 & e) ? ((t.flags = (-65537 & e) | 128), t) : null
              );
            case 5:
              return sa(t), null;
            case 13:
              if ((Si(la), null !== (e = t.memoizedState) && null !== e.dehydrated)) {
                if (null === t.alternate) throw Error(o(340));
                po();
              }
              return 65536 & (e = t.flags) ? ((t.flags = (-65537 & e) | 128), t) : null;
            case 19:
              return Si(la), null;
            case 4:
              return oa(), null;
            case 10:
              return ko(t.type._context), null;
            case 22:
            case 23:
              return fc(), null;
            default:
              return null;
          }
        }
        (Ms = function (e, t) {
          for (var n = t.child; null !== n; ) {
            if (5 === n.tag || 6 === n.tag) e.appendChild(n.stateNode);
            else if (4 !== n.tag && null !== n.child) {
              (n.child.return = n), (n = n.child);
              continue;
            }
            if (n === t) break;
            for (; null === n.sibling; ) {
              if (null === n.return || n.return === t) return;
              n = n.return;
            }
            (n.sibling.return = n.return), (n = n.sibling);
          }
        }),
          (Rs = function () {}),
          (Bs = function (e, t, n, r) {
            var i = e.memoizedProps;
            if (i !== r) {
              (e = t.stateNode), ra(ea.current);
              var o,
                a = null;
              switch (n) {
                case "input":
                  (i = Z(e, i)), (r = Z(e, r)), (a = []);
                  break;
                case "select":
                  (i = I({}, i, { value: void 0 })), (r = I({}, r, { value: void 0 })), (a = []);
                  break;
                case "textarea":
                  (i = re(e, i)), (r = re(e, r)), (a = []);
                  break;
                default:
                  "function" != typeof i.onClick && "function" == typeof r.onClick && (e.onclick = Jr);
              }
              for (u in (ve(n, r), (n = null), i))
                if (!r.hasOwnProperty(u) && i.hasOwnProperty(u) && null != i[u])
                  if ("style" === u) {
                    var l = i[u];
                    for (o in l) l.hasOwnProperty(o) && (n || (n = {}), (n[o] = ""));
                  } else
                    "dangerouslySetInnerHTML" !== u &&
                      "children" !== u &&
                      "suppressContentEditableWarning" !== u &&
                      "suppressHydrationWarning" !== u &&
                      "autoFocus" !== u &&
                      (s.hasOwnProperty(u) ? a || (a = []) : (a = a || []).push(u, null));
              for (u in r) {
                var c = r[u];
                if (((l = null != i ? i[u] : void 0), r.hasOwnProperty(u) && c !== l && (null != c || null != l)))
                  if ("style" === u)
                    if (l) {
                      for (o in l) !l.hasOwnProperty(o) || (c && c.hasOwnProperty(o)) || (n || (n = {}), (n[o] = ""));
                      for (o in c) c.hasOwnProperty(o) && l[o] !== c[o] && (n || (n = {}), (n[o] = c[o]));
                    } else n || (a || (a = []), a.push(u, n)), (n = c);
                  else
                    "dangerouslySetInnerHTML" === u
                      ? ((c = c ? c.__html : void 0),
                        (l = l ? l.__html : void 0),
                        null != c && l !== c && (a = a || []).push(u, c))
                      : "children" === u
                      ? ("string" != typeof c && "number" != typeof c) || (a = a || []).push(u, "" + c)
                      : "suppressContentEditableWarning" !== u &&
                        "suppressHydrationWarning" !== u &&
                        (s.hasOwnProperty(u)
                          ? (null != c && "onScroll" === u && Dr("scroll", e), a || l === c || (a = []))
                          : (a = a || []).push(u, c));
              }
              n && (a = a || []).push("style", n);
              var u = a;
              (t.updateQueue = u) && (t.flags |= 4);
            }
          }),
          (Os = function (e, t, n, r) {
            n !== r && (t.flags |= 4);
          });
        var Ys = !1,
          Xs = !1,
          Qs = "function" == typeof WeakSet ? WeakSet : Set,
          Js = null;
        function el(e, t) {
          var n = e.ref;
          if (null !== n)
            if ("function" == typeof n)
              try {
                n(null);
              } catch (n) {
                Sc(e, t, n);
              }
            else n.current = null;
        }
        function tl(e, t, n) {
          try {
            n();
          } catch (n) {
            Sc(e, t, n);
          }
        }
        var nl = !1;
        function rl(e, t, n) {
          var r = t.updateQueue;
          if (null !== (r = null !== r ? r.lastEffect : null)) {
            var i = (r = r.next);
            do {
              if ((i.tag & e) === e) {
                var o = i.destroy;
                (i.destroy = void 0), void 0 !== o && tl(t, n, o);
              }
              i = i.next;
            } while (i !== r);
          }
        }
        function il(e, t) {
          if (null !== (t = null !== (t = t.updateQueue) ? t.lastEffect : null)) {
            var n = (t = t.next);
            do {
              if ((n.tag & e) === e) {
                var r = n.create;
                n.destroy = r();
              }
              n = n.next;
            } while (n !== t);
          }
        }
        function ol(e) {
          var t = e.ref;
          if (null !== t) {
            var n = e.stateNode;
            e.tag, (e = n), "function" == typeof t ? t(e) : (t.current = e);
          }
        }
        function al(e) {
          var t = e.alternate;
          null !== t && ((e.alternate = null), al(t)),
            (e.child = null),
            (e.deletions = null),
            (e.sibling = null),
            5 === e.tag &&
              null !== (t = e.stateNode) &&
              (delete t[fi], delete t[hi], delete t[mi], delete t[yi], delete t[gi]),
            (e.stateNode = null),
            (e.return = null),
            (e.dependencies = null),
            (e.memoizedProps = null),
            (e.memoizedState = null),
            (e.pendingProps = null),
            (e.stateNode = null),
            (e.updateQueue = null);
        }
        function sl(e) {
          return 5 === e.tag || 3 === e.tag || 4 === e.tag;
        }
        function ll(e) {
          e: for (;;) {
            for (; null === e.sibling; ) {
              if (null === e.return || sl(e.return)) return null;
              e = e.return;
            }
            for (e.sibling.return = e.return, e = e.sibling; 5 !== e.tag && 6 !== e.tag && 18 !== e.tag; ) {
              if (2 & e.flags) continue e;
              if (null === e.child || 4 === e.tag) continue e;
              (e.child.return = e), (e = e.child);
            }
            if (!(2 & e.flags)) return e.stateNode;
          }
        }
        function cl(e, t, n) {
          var r = e.tag;
          if (5 === r || 6 === r)
            (e = e.stateNode),
              t
                ? 8 === n.nodeType
                  ? n.parentNode.insertBefore(e, t)
                  : n.insertBefore(e, t)
                : (8 === n.nodeType ? (t = n.parentNode).insertBefore(e, n) : (t = n).appendChild(e),
                  null != (n = n._reactRootContainer) || null !== t.onclick || (t.onclick = Jr));
          else if (4 !== r && null !== (e = e.child))
            for (cl(e, t, n), e = e.sibling; null !== e; ) cl(e, t, n), (e = e.sibling);
        }
        function ul(e, t, n) {
          var r = e.tag;
          if (5 === r || 6 === r) (e = e.stateNode), t ? n.insertBefore(e, t) : n.appendChild(e);
          else if (4 !== r && null !== (e = e.child))
            for (ul(e, t, n), e = e.sibling; null !== e; ) ul(e, t, n), (e = e.sibling);
        }
        var dl = null,
          fl = !1;
        function hl(e, t, n) {
          for (n = n.child; null !== n; ) pl(e, t, n), (n = n.sibling);
        }
        function pl(e, t, n) {
          if (ot && "function" == typeof ot.onCommitFiberUnmount)
            try {
              ot.onCommitFiberUnmount(it, n);
            } catch (e) {}
          switch (n.tag) {
            case 5:
              Xs || el(n, t);
            case 6:
              var r = dl,
                i = fl;
              (dl = null),
                hl(e, t, n),
                (fl = i),
                null !== (dl = r) &&
                  (fl
                    ? ((e = dl), (n = n.stateNode), 8 === e.nodeType ? e.parentNode.removeChild(n) : e.removeChild(n))
                    : dl.removeChild(n.stateNode));
              break;
            case 18:
              null !== dl &&
                (fl
                  ? ((e = dl),
                    (n = n.stateNode),
                    8 === e.nodeType ? li(e.parentNode, n) : 1 === e.nodeType && li(e, n),
                    Ht(e))
                  : li(dl, n.stateNode));
              break;
            case 4:
              (r = dl), (i = fl), (dl = n.stateNode.containerInfo), (fl = !0), hl(e, t, n), (dl = r), (fl = i);
              break;
            case 0:
            case 11:
            case 14:
            case 15:
              if (!Xs && null !== (r = n.updateQueue) && null !== (r = r.lastEffect)) {
                i = r = r.next;
                do {
                  var o = i,
                    a = o.destroy;
                  (o = o.tag), void 0 !== a && (0 != (2 & o) || 0 != (4 & o)) && tl(n, t, a), (i = i.next);
                } while (i !== r);
              }
              hl(e, t, n);
              break;
            case 1:
              if (!Xs && (el(n, t), "function" == typeof (r = n.stateNode).componentWillUnmount))
                try {
                  (r.props = n.memoizedProps), (r.state = n.memoizedState), r.componentWillUnmount();
                } catch (e) {
                  Sc(n, t, e);
                }
              hl(e, t, n);
              break;
            case 21:
              hl(e, t, n);
              break;
            case 22:
              1 & n.mode ? ((Xs = (r = Xs) || null !== n.memoizedState), hl(e, t, n), (Xs = r)) : hl(e, t, n);
              break;
            default:
              hl(e, t, n);
          }
        }
        function ml(e) {
          var t = e.updateQueue;
          if (null !== t) {
            e.updateQueue = null;
            var n = e.stateNode;
            null === n && (n = e.stateNode = new Qs()),
              t.forEach(function (t) {
                var r = Pc.bind(null, e, t);
                n.has(t) || (n.add(t), t.then(r, r));
              });
          }
        }
        function yl(e, t) {
          var n = t.deletions;
          if (null !== n)
            for (var r = 0; r < n.length; r++) {
              var i = n[r];
              try {
                var a = e,
                  s = t,
                  l = s;
                e: for (; null !== l; ) {
                  switch (l.tag) {
                    case 5:
                      (dl = l.stateNode), (fl = !1);
                      break e;
                    case 3:
                    case 4:
                      (dl = l.stateNode.containerInfo), (fl = !0);
                      break e;
                  }
                  l = l.return;
                }
                if (null === dl) throw Error(o(160));
                pl(a, s, i), (dl = null), (fl = !1);
                var c = i.alternate;
                null !== c && (c.return = null), (i.return = null);
              } catch (e) {
                Sc(i, t, e);
              }
            }
          if (12854 & t.subtreeFlags) for (t = t.child; null !== t; ) gl(t, e), (t = t.sibling);
        }
        function gl(e, t) {
          var n = e.alternate,
            r = e.flags;
          switch (e.tag) {
            case 0:
            case 11:
            case 14:
            case 15:
              if ((yl(t, e), vl(e), 4 & r)) {
                try {
                  rl(3, e, e.return), il(3, e);
                } catch (t) {
                  Sc(e, e.return, t);
                }
                try {
                  rl(5, e, e.return);
                } catch (t) {
                  Sc(e, e.return, t);
                }
              }
              break;
            case 1:
              yl(t, e), vl(e), 512 & r && null !== n && el(n, n.return);
              break;
            case 5:
              if ((yl(t, e), vl(e), 512 & r && null !== n && el(n, n.return), 32 & e.flags)) {
                var i = e.stateNode;
                try {
                  fe(i, "");
                } catch (t) {
                  Sc(e, e.return, t);
                }
              }
              if (4 & r && null != (i = e.stateNode)) {
                var a = e.memoizedProps,
                  s = null !== n ? n.memoizedProps : a,
                  l = e.type,
                  c = e.updateQueue;
                if (((e.updateQueue = null), null !== c))
                  try {
                    "input" === l && "radio" === a.type && null != a.name && X(i, a), we(l, s);
                    var u = we(l, a);
                    for (s = 0; s < c.length; s += 2) {
                      var d = c[s],
                        f = c[s + 1];
                      "style" === d
                        ? ye(i, f)
                        : "dangerouslySetInnerHTML" === d
                        ? de(i, f)
                        : "children" === d
                        ? fe(i, f)
                        : w(i, d, f, u);
                    }
                    switch (l) {
                      case "input":
                        Q(i, a);
                        break;
                      case "textarea":
                        oe(i, a);
                        break;
                      case "select":
                        var h = i._wrapperState.wasMultiple;
                        i._wrapperState.wasMultiple = !!a.multiple;
                        var p = a.value;
                        null != p
                          ? ne(i, !!a.multiple, p, !1)
                          : h !== !!a.multiple &&
                            (null != a.defaultValue
                              ? ne(i, !!a.multiple, a.defaultValue, !0)
                              : ne(i, !!a.multiple, a.multiple ? [] : "", !1));
                    }
                    i[hi] = a;
                  } catch (t) {
                    Sc(e, e.return, t);
                  }
              }
              break;
            case 6:
              if ((yl(t, e), vl(e), 4 & r)) {
                if (null === e.stateNode) throw Error(o(162));
                (i = e.stateNode), (a = e.memoizedProps);
                try {
                  i.nodeValue = a;
                } catch (t) {
                  Sc(e, e.return, t);
                }
              }
              break;
            case 3:
              if ((yl(t, e), vl(e), 4 & r && null !== n && n.memoizedState.isDehydrated))
                try {
                  Ht(t.containerInfo);
                } catch (t) {
                  Sc(e, e.return, t);
                }
              break;
            case 4:
            default:
              yl(t, e), vl(e);
              break;
            case 13:
              yl(t, e),
                vl(e),
                8192 & (i = e.child).flags &&
                  ((a = null !== i.memoizedState),
                  (i.stateNode.isHidden = a),
                  !a || (null !== i.alternate && null !== i.alternate.memoizedState) || (Hl = Xe())),
                4 & r && ml(e);
              break;
            case 22:
              if (
                ((d = null !== n && null !== n.memoizedState),
                1 & e.mode ? ((Xs = (u = Xs) || d), yl(t, e), (Xs = u)) : yl(t, e),
                vl(e),
                8192 & r)
              ) {
                if (((u = null !== e.memoizedState), (e.stateNode.isHidden = u) && !d && 0 != (1 & e.mode)))
                  for (Js = e, d = e.child; null !== d; ) {
                    for (f = Js = d; null !== Js; ) {
                      switch (((p = (h = Js).child), h.tag)) {
                        case 0:
                        case 11:
                        case 14:
                        case 15:
                          rl(4, h, h.return);
                          break;
                        case 1:
                          el(h, h.return);
                          var m = h.stateNode;
                          if ("function" == typeof m.componentWillUnmount) {
                            (r = h), (n = h.return);
                            try {
                              (t = r),
                                (m.props = t.memoizedProps),
                                (m.state = t.memoizedState),
                                m.componentWillUnmount();
                            } catch (e) {
                              Sc(r, n, e);
                            }
                          }
                          break;
                        case 5:
                          el(h, h.return);
                          break;
                        case 22:
                          if (null !== h.memoizedState) {
                            El(f);
                            continue;
                          }
                      }
                      null !== p ? ((p.return = h), (Js = p)) : El(f);
                    }
                    d = d.sibling;
                  }
                e: for (d = null, f = e; ; ) {
                  if (5 === f.tag) {
                    if (null === d) {
                      d = f;
                      try {
                        (i = f.stateNode),
                          u
                            ? "function" == typeof (a = i.style).setProperty
                              ? a.setProperty("display", "none", "important")
                              : (a.display = "none")
                            : ((l = f.stateNode),
                              (s =
                                null != (c = f.memoizedProps.style) && c.hasOwnProperty("display") ? c.display : null),
                              (l.style.display = me("display", s)));
                      } catch (t) {
                        Sc(e, e.return, t);
                      }
                    }
                  } else if (6 === f.tag) {
                    if (null === d)
                      try {
                        f.stateNode.nodeValue = u ? "" : f.memoizedProps;
                      } catch (t) {
                        Sc(e, e.return, t);
                      }
                  } else if (
                    ((22 !== f.tag && 23 !== f.tag) || null === f.memoizedState || f === e) &&
                    null !== f.child
                  ) {
                    (f.child.return = f), (f = f.child);
                    continue;
                  }
                  if (f === e) break e;
                  for (; null === f.sibling; ) {
                    if (null === f.return || f.return === e) break e;
                    d === f && (d = null), (f = f.return);
                  }
                  d === f && (d = null), (f.sibling.return = f.return), (f = f.sibling);
                }
              }
              break;
            case 19:
              yl(t, e), vl(e), 4 & r && ml(e);
            case 21:
          }
        }
        function vl(e) {
          var t = e.flags;
          if (2 & t) {
            try {
              e: {
                for (var n = e.return; null !== n; ) {
                  if (sl(n)) {
                    var r = n;
                    break e;
                  }
                  n = n.return;
                }
                throw Error(o(160));
              }
              switch (r.tag) {
                case 5:
                  var i = r.stateNode;
                  32 & r.flags && (fe(i, ""), (r.flags &= -33)), ul(e, ll(e), i);
                  break;
                case 3:
                case 4:
                  var a = r.stateNode.containerInfo;
                  cl(e, ll(e), a);
                  break;
                default:
                  throw Error(o(161));
              }
            } catch (t) {
              Sc(e, e.return, t);
            }
            e.flags &= -3;
          }
          4096 & t && (e.flags &= -4097);
        }
        function wl(e, t, n) {
          (Js = e), bl(e, t, n);
        }
        function bl(e, t, n) {
          for (var r = 0 != (1 & e.mode); null !== Js; ) {
            var i = Js,
              o = i.child;
            if (22 === i.tag && r) {
              var a = null !== i.memoizedState || Ys;
              if (!a) {
                var s = i.alternate,
                  l = (null !== s && null !== s.memoizedState) || Xs;
                s = Ys;
                var c = Xs;
                if (((Ys = a), (Xs = l) && !c))
                  for (Js = i; null !== Js; )
                    (l = (a = Js).child),
                      22 === a.tag && null !== a.memoizedState
                        ? kl(i)
                        : null !== l
                        ? ((l.return = a), (Js = l))
                        : kl(i);
                for (; null !== o; ) (Js = o), bl(o, t, n), (o = o.sibling);
                (Js = i), (Ys = s), (Xs = c);
              }
              xl(e);
            } else 0 != (8772 & i.subtreeFlags) && null !== o ? ((o.return = i), (Js = o)) : xl(e);
          }
        }
        function xl(e) {
          for (; null !== Js; ) {
            var t = Js;
            if (0 != (8772 & t.flags)) {
              var n = t.alternate;
              try {
                if (0 != (8772 & t.flags))
                  switch (t.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Xs || il(5, t);
                      break;
                    case 1:
                      var r = t.stateNode;
                      if (4 & t.flags && !Xs)
                        if (null === n) r.componentDidMount();
                        else {
                          var i = t.elementType === t.type ? n.memoizedProps : go(t.type, n.memoizedProps);
                          r.componentDidUpdate(i, n.memoizedState, r.__reactInternalSnapshotBeforeUpdate);
                        }
                      var a = t.updateQueue;
                      null !== a && Do(t, a, r);
                      break;
                    case 3:
                      var s = t.updateQueue;
                      if (null !== s) {
                        if (((n = null), null !== t.child))
                          switch (t.child.tag) {
                            case 5:
                            case 1:
                              n = t.child.stateNode;
                          }
                        Do(t, s, n);
                      }
                      break;
                    case 5:
                      var l = t.stateNode;
                      if (null === n && 4 & t.flags) {
                        n = l;
                        var c = t.memoizedProps;
                        switch (t.type) {
                          case "button":
                          case "input":
                          case "select":
                          case "textarea":
                            c.autoFocus && n.focus();
                            break;
                          case "img":
                            c.src && (n.src = c.src);
                        }
                      }
                      break;
                    case 6:
                    case 4:
                    case 12:
                    case 19:
                    case 17:
                    case 21:
                    case 22:
                    case 23:
                    case 25:
                      break;
                    case 13:
                      if (null === t.memoizedState) {
                        var u = t.alternate;
                        if (null !== u) {
                          var d = u.memoizedState;
                          if (null !== d) {
                            var f = d.dehydrated;
                            null !== f && Ht(f);
                          }
                        }
                      }
                      break;
                    default:
                      throw Error(o(163));
                  }
                Xs || (512 & t.flags && ol(t));
              } catch (e) {
                Sc(t, t.return, e);
              }
            }
            if (t === e) {
              Js = null;
              break;
            }
            if (null !== (n = t.sibling)) {
              (n.return = t.return), (Js = n);
              break;
            }
            Js = t.return;
          }
        }
        function El(e) {
          for (; null !== Js; ) {
            var t = Js;
            if (t === e) {
              Js = null;
              break;
            }
            var n = t.sibling;
            if (null !== n) {
              (n.return = t.return), (Js = n);
              break;
            }
            Js = t.return;
          }
        }
        function kl(e) {
          for (; null !== Js; ) {
            var t = Js;
            try {
              switch (t.tag) {
                case 0:
                case 11:
                case 15:
                  var n = t.return;
                  try {
                    il(4, t);
                  } catch (e) {
                    Sc(t, n, e);
                  }
                  break;
                case 1:
                  var r = t.stateNode;
                  if ("function" == typeof r.componentDidMount) {
                    var i = t.return;
                    try {
                      r.componentDidMount();
                    } catch (e) {
                      Sc(t, i, e);
                    }
                  }
                  var o = t.return;
                  try {
                    ol(t);
                  } catch (e) {
                    Sc(t, o, e);
                  }
                  break;
                case 5:
                  var a = t.return;
                  try {
                    ol(t);
                  } catch (e) {
                    Sc(t, a, e);
                  }
              }
            } catch (e) {
              Sc(t, t.return, e);
            }
            if (t === e) {
              Js = null;
              break;
            }
            var s = t.sibling;
            if (null !== s) {
              (s.return = t.return), (Js = s);
              break;
            }
            Js = t.return;
          }
        }
        var jl,
          Sl = Math.ceil,
          Al = b.ReactCurrentDispatcher,
          Cl = b.ReactCurrentOwner,
          Nl = b.ReactCurrentBatchConfig,
          Pl = 0,
          _l = null,
          Tl = null,
          Ml = 0,
          Rl = 0,
          Bl = ji(0),
          Ol = 0,
          Ll = null,
          Il = 0,
          Fl = 0,
          Dl = 0,
          Ul = null,
          zl = null,
          Hl = 0,
          Kl = 1 / 0,
          Wl = null,
          ql = !1,
          Vl = null,
          $l = null,
          Gl = !1,
          Zl = null,
          Yl = 0,
          Xl = 0,
          Ql = null,
          Jl = -1,
          ec = 0;
        function tc() {
          return 0 != (6 & Pl) ? Xe() : -1 !== Jl ? Jl : (Jl = Xe());
        }
        function nc(e) {
          return 0 == (1 & e.mode)
            ? 1
            : 0 != (2 & Pl) && 0 !== Ml
            ? Ml & -Ml
            : null !== yo.transition
            ? (0 === ec && (ec = mt()), ec)
            : 0 !== (e = wt)
            ? e
            : (e = void 0 === (e = window.event) ? 16 : Yt(e.type));
        }
        function rc(e, t, n, r) {
          if (50 < Xl) throw ((Xl = 0), (Ql = null), Error(o(185)));
          gt(e, n, r),
            (0 != (2 & Pl) && e === _l) ||
              (e === _l && (0 == (2 & Pl) && (Fl |= n), 4 === Ol && lc(e, Ml)),
              ic(e, r),
              1 === n && 0 === Pl && 0 == (1 & t.mode) && ((Kl = Xe() + 500), Di && Hi()));
        }
        function ic(e, t) {
          var n = e.callbackNode;
          !(function (e, t) {
            for (var n = e.suspendedLanes, r = e.pingedLanes, i = e.expirationTimes, o = e.pendingLanes; 0 < o; ) {
              var a = 31 - at(o),
                s = 1 << a,
                l = i[a];
              -1 === l ? (0 != (s & n) && 0 == (s & r)) || (i[a] = ht(s, t)) : l <= t && (e.expiredLanes |= s),
                (o &= ~s);
            }
          })(e, t);
          var r = ft(e, e === _l ? Ml : 0);
          if (0 === r) null !== n && Ge(n), (e.callbackNode = null), (e.callbackPriority = 0);
          else if (((t = r & -r), e.callbackPriority !== t)) {
            if ((null != n && Ge(n), 1 === t))
              0 === e.tag
                ? (function (e) {
                    (Di = !0), zi(e);
                  })(cc.bind(null, e))
                : zi(cc.bind(null, e)),
                ai(function () {
                  0 == (6 & Pl) && Hi();
                }),
                (n = null);
            else {
              switch (bt(r)) {
                case 1:
                  n = Je;
                  break;
                case 4:
                  n = et;
                  break;
                case 16:
                default:
                  n = tt;
                  break;
                case 536870912:
                  n = rt;
              }
              n = _c(n, oc.bind(null, e));
            }
            (e.callbackPriority = t), (e.callbackNode = n);
          }
        }
        function oc(e, t) {
          if (((Jl = -1), (ec = 0), 0 != (6 & Pl))) throw Error(o(327));
          var n = e.callbackNode;
          if (kc() && e.callbackNode !== n) return null;
          var r = ft(e, e === _l ? Ml : 0);
          if (0 === r) return null;
          if (0 != (30 & r) || 0 != (r & e.expiredLanes) || t) t = gc(e, r);
          else {
            t = r;
            var i = Pl;
            Pl |= 2;
            var a = mc();
            for ((_l === e && Ml === t) || ((Wl = null), (Kl = Xe() + 500), hc(e, t)); ; )
              try {
                wc();
                break;
              } catch (t) {
                pc(e, t);
              }
            Eo(), (Al.current = a), (Pl = i), null !== Tl ? (t = 0) : ((_l = null), (Ml = 0), (t = Ol));
          }
          if (0 !== t) {
            if ((2 === t && 0 !== (i = pt(e)) && ((r = i), (t = ac(e, i))), 1 === t))
              throw ((n = Ll), hc(e, 0), lc(e, r), ic(e, Xe()), n);
            if (6 === t) lc(e, r);
            else {
              if (
                ((i = e.current.alternate),
                0 == (30 & r) &&
                  !(function (e) {
                    for (var t = e; ; ) {
                      if (16384 & t.flags) {
                        var n = t.updateQueue;
                        if (null !== n && null !== (n = n.stores))
                          for (var r = 0; r < n.length; r++) {
                            var i = n[r],
                              o = i.getSnapshot;
                            i = i.value;
                            try {
                              if (!sr(o(), i)) return !1;
                            } catch (e) {
                              return !1;
                            }
                          }
                      }
                      if (((n = t.child), 16384 & t.subtreeFlags && null !== n)) (n.return = t), (t = n);
                      else {
                        if (t === e) break;
                        for (; null === t.sibling; ) {
                          if (null === t.return || t.return === e) return !0;
                          t = t.return;
                        }
                        (t.sibling.return = t.return), (t = t.sibling);
                      }
                    }
                    return !0;
                  })(i) &&
                  (2 === (t = gc(e, r)) && 0 !== (a = pt(e)) && ((r = a), (t = ac(e, a))), 1 === t))
              )
                throw ((n = Ll), hc(e, 0), lc(e, r), ic(e, Xe()), n);
              switch (((e.finishedWork = i), (e.finishedLanes = r), t)) {
                case 0:
                case 1:
                  throw Error(o(345));
                case 2:
                case 5:
                  Ec(e, zl, Wl);
                  break;
                case 3:
                  if ((lc(e, r), (130023424 & r) === r && 10 < (t = Hl + 500 - Xe()))) {
                    if (0 !== ft(e, 0)) break;
                    if (((i = e.suspendedLanes) & r) !== r) {
                      tc(), (e.pingedLanes |= e.suspendedLanes & i);
                      break;
                    }
                    e.timeoutHandle = ri(Ec.bind(null, e, zl, Wl), t);
                    break;
                  }
                  Ec(e, zl, Wl);
                  break;
                case 4:
                  if ((lc(e, r), (4194240 & r) === r)) break;
                  for (t = e.eventTimes, i = -1; 0 < r; ) {
                    var s = 31 - at(r);
                    (a = 1 << s), (s = t[s]) > i && (i = s), (r &= ~a);
                  }
                  if (
                    ((r = i),
                    10 <
                      (r =
                        (120 > (r = Xe() - r)
                          ? 120
                          : 480 > r
                          ? 480
                          : 1080 > r
                          ? 1080
                          : 1920 > r
                          ? 1920
                          : 3e3 > r
                          ? 3e3
                          : 4320 > r
                          ? 4320
                          : 1960 * Sl(r / 1960)) - r))
                  ) {
                    e.timeoutHandle = ri(Ec.bind(null, e, zl, Wl), r);
                    break;
                  }
                  Ec(e, zl, Wl);
                  break;
                default:
                  throw Error(o(329));
              }
            }
          }
          return ic(e, Xe()), e.callbackNode === n ? oc.bind(null, e) : null;
        }
        function ac(e, t) {
          var n = Ul;
          return (
            e.current.memoizedState.isDehydrated && (hc(e, t).flags |= 256),
            2 !== (e = gc(e, t)) && ((t = zl), (zl = n), null !== t && sc(t)),
            e
          );
        }
        function sc(e) {
          null === zl ? (zl = e) : zl.push.apply(zl, e);
        }
        function lc(e, t) {
          for (t &= ~Dl, t &= ~Fl, e.suspendedLanes |= t, e.pingedLanes &= ~t, e = e.expirationTimes; 0 < t; ) {
            var n = 31 - at(t),
              r = 1 << n;
            (e[n] = -1), (t &= ~r);
          }
        }
        function cc(e) {
          if (0 != (6 & Pl)) throw Error(o(327));
          kc();
          var t = ft(e, 0);
          if (0 == (1 & t)) return ic(e, Xe()), null;
          var n = gc(e, t);
          if (0 !== e.tag && 2 === n) {
            var r = pt(e);
            0 !== r && ((t = r), (n = ac(e, r)));
          }
          if (1 === n) throw ((n = Ll), hc(e, 0), lc(e, t), ic(e, Xe()), n);
          if (6 === n) throw Error(o(345));
          return (e.finishedWork = e.current.alternate), (e.finishedLanes = t), Ec(e, zl, Wl), ic(e, Xe()), null;
        }
        function uc(e, t) {
          var n = Pl;
          Pl |= 1;
          try {
            return e(t);
          } finally {
            0 === (Pl = n) && ((Kl = Xe() + 500), Di && Hi());
          }
        }
        function dc(e) {
          null !== Zl && 0 === Zl.tag && 0 == (6 & Pl) && kc();
          var t = Pl;
          Pl |= 1;
          var n = Nl.transition,
            r = wt;
          try {
            if (((Nl.transition = null), (wt = 1), e)) return e();
          } finally {
            (wt = r), (Nl.transition = n), 0 == (6 & (Pl = t)) && Hi();
          }
        }
        function fc() {
          (Rl = Bl.current), Si(Bl);
        }
        function hc(e, t) {
          (e.finishedWork = null), (e.finishedLanes = 0);
          var n = e.timeoutHandle;
          if ((-1 !== n && ((e.timeoutHandle = -1), ii(n)), null !== Tl))
            for (n = Tl.return; null !== n; ) {
              var r = n;
              switch ((to(r), r.tag)) {
                case 1:
                  null != (r = r.type.childContextTypes) && Ri();
                  break;
                case 3:
                  oa(), Si(Pi), Si(Ni), da();
                  break;
                case 5:
                  sa(r);
                  break;
                case 4:
                  oa();
                  break;
                case 13:
                case 19:
                  Si(la);
                  break;
                case 10:
                  ko(r.type._context);
                  break;
                case 22:
                case 23:
                  fc();
              }
              n = n.return;
            }
          if (
            ((_l = e),
            (Tl = e = Bc(e.current, null)),
            (Ml = Rl = t),
            (Ol = 0),
            (Ll = null),
            (Dl = Fl = Il = 0),
            (zl = Ul = null),
            null !== Co)
          ) {
            for (t = 0; t < Co.length; t++)
              if (null !== (r = (n = Co[t]).interleaved)) {
                n.interleaved = null;
                var i = r.next,
                  o = n.pending;
                if (null !== o) {
                  var a = o.next;
                  (o.next = i), (r.next = a);
                }
                n.pending = r;
              }
            Co = null;
          }
          return e;
        }
        function pc(e, t) {
          for (;;) {
            var n = Tl;
            try {
              if ((Eo(), (fa.current = as), va)) {
                for (var r = ma.memoizedState; null !== r; ) {
                  var i = r.queue;
                  null !== i && (i.pending = null), (r = r.next);
                }
                va = !1;
              }
              if (
                ((pa = 0),
                (ga = ya = ma = null),
                (wa = !1),
                (ba = 0),
                (Cl.current = null),
                null === n || null === n.return)
              ) {
                (Ol = 1), (Ll = t), (Tl = null);
                break;
              }
              e: {
                var a = e,
                  s = n.return,
                  l = n,
                  c = t;
                if (((t = Ml), (l.flags |= 32768), null !== c && "object" == typeof c && "function" == typeof c.then)) {
                  var u = c,
                    d = l,
                    f = d.tag;
                  if (0 == (1 & d.mode) && (0 === f || 11 === f || 15 === f)) {
                    var h = d.alternate;
                    h
                      ? ((d.updateQueue = h.updateQueue), (d.memoizedState = h.memoizedState), (d.lanes = h.lanes))
                      : ((d.updateQueue = null), (d.memoizedState = null));
                  }
                  var p = gs(s);
                  if (null !== p) {
                    (p.flags &= -257), vs(p, s, l, 0, t), 1 & p.mode && ys(a, u, t), (c = u);
                    var m = (t = p).updateQueue;
                    if (null === m) {
                      var y = new Set();
                      y.add(c), (t.updateQueue = y);
                    } else m.add(c);
                    break e;
                  }
                  if (0 == (1 & t)) {
                    ys(a, u, t), yc();
                    break e;
                  }
                  c = Error(o(426));
                } else if (io && 1 & l.mode) {
                  var g = gs(s);
                  if (null !== g) {
                    0 == (65536 & g.flags) && (g.flags |= 256), vs(g, s, l, 0, t), mo(us(c, l));
                    break e;
                  }
                }
                (a = c = us(c, l)), 4 !== Ol && (Ol = 2), null === Ul ? (Ul = [a]) : Ul.push(a), (a = s);
                do {
                  switch (a.tag) {
                    case 3:
                      (a.flags |= 65536), (t &= -t), (a.lanes |= t), Io(a, ps(0, c, t));
                      break e;
                    case 1:
                      l = c;
                      var v = a.type,
                        w = a.stateNode;
                      if (
                        0 == (128 & a.flags) &&
                        ("function" == typeof v.getDerivedStateFromError ||
                          (null !== w && "function" == typeof w.componentDidCatch && (null === $l || !$l.has(w))))
                      ) {
                        (a.flags |= 65536), (t &= -t), (a.lanes |= t), Io(a, ms(a, l, t));
                        break e;
                      }
                  }
                  a = a.return;
                } while (null !== a);
              }
              xc(n);
            } catch (e) {
              (t = e), Tl === n && null !== n && (Tl = n = n.return);
              continue;
            }
            break;
          }
        }
        function mc() {
          var e = Al.current;
          return (Al.current = as), null === e ? as : e;
        }
        function yc() {
          (0 !== Ol && 3 !== Ol && 2 !== Ol) || (Ol = 4),
            null === _l || (0 == (268435455 & Il) && 0 == (268435455 & Fl)) || lc(_l, Ml);
        }
        function gc(e, t) {
          var n = Pl;
          Pl |= 2;
          var r = mc();
          for ((_l === e && Ml === t) || ((Wl = null), hc(e, t)); ; )
            try {
              vc();
              break;
            } catch (t) {
              pc(e, t);
            }
          if ((Eo(), (Pl = n), (Al.current = r), null !== Tl)) throw Error(o(261));
          return (_l = null), (Ml = 0), Ol;
        }
        function vc() {
          for (; null !== Tl; ) bc(Tl);
        }
        function wc() {
          for (; null !== Tl && !Ze(); ) bc(Tl);
        }
        function bc(e) {
          var t = jl(e.alternate, e, Rl);
          (e.memoizedProps = e.pendingProps), null === t ? xc(e) : (Tl = t), (Cl.current = null);
        }
        function xc(e) {
          var t = e;
          do {
            var n = t.alternate;
            if (((e = t.return), 0 == (32768 & t.flags))) {
              if (null !== (n = Gs(n, t, Rl))) return void (Tl = n);
            } else {
              if (null !== (n = Zs(n, t))) return (n.flags &= 32767), void (Tl = n);
              if (null === e) return (Ol = 6), void (Tl = null);
              (e.flags |= 32768), (e.subtreeFlags = 0), (e.deletions = null);
            }
            if (null !== (t = t.sibling)) return void (Tl = t);
            Tl = t = e;
          } while (null !== t);
          0 === Ol && (Ol = 5);
        }
        function Ec(e, t, n) {
          var r = wt,
            i = Nl.transition;
          try {
            (Nl.transition = null),
              (wt = 1),
              (function (e, t, n, r) {
                do {
                  kc();
                } while (null !== Zl);
                if (0 != (6 & Pl)) throw Error(o(327));
                n = e.finishedWork;
                var i = e.finishedLanes;
                if (null === n) return null;
                if (((e.finishedWork = null), (e.finishedLanes = 0), n === e.current)) throw Error(o(177));
                (e.callbackNode = null), (e.callbackPriority = 0);
                var a = n.lanes | n.childLanes;
                if (
                  ((function (e, t) {
                    var n = e.pendingLanes & ~t;
                    (e.pendingLanes = t),
                      (e.suspendedLanes = 0),
                      (e.pingedLanes = 0),
                      (e.expiredLanes &= t),
                      (e.mutableReadLanes &= t),
                      (e.entangledLanes &= t),
                      (t = e.entanglements);
                    var r = e.eventTimes;
                    for (e = e.expirationTimes; 0 < n; ) {
                      var i = 31 - at(n),
                        o = 1 << i;
                      (t[i] = 0), (r[i] = -1), (e[i] = -1), (n &= ~o);
                    }
                  })(e, a),
                  e === _l && ((Tl = _l = null), (Ml = 0)),
                  (0 == (2064 & n.subtreeFlags) && 0 == (2064 & n.flags)) ||
                    Gl ||
                    ((Gl = !0),
                    _c(tt, function () {
                      return kc(), null;
                    })),
                  (a = 0 != (15990 & n.flags)),
                  0 != (15990 & n.subtreeFlags) || a)
                ) {
                  (a = Nl.transition), (Nl.transition = null);
                  var s = wt;
                  wt = 1;
                  var l = Pl;
                  (Pl |= 4),
                    (Cl.current = null),
                    (function (e, t) {
                      if (((ei = Wt), hr((e = fr())))) {
                        if ("selectionStart" in e) var n = { start: e.selectionStart, end: e.selectionEnd };
                        else
                          e: {
                            var r =
                              (n = ((n = e.ownerDocument) && n.defaultView) || window).getSelection && n.getSelection();
                            if (r && 0 !== r.rangeCount) {
                              n = r.anchorNode;
                              var i = r.anchorOffset,
                                a = r.focusNode;
                              r = r.focusOffset;
                              try {
                                n.nodeType, a.nodeType;
                              } catch (e) {
                                n = null;
                                break e;
                              }
                              var s = 0,
                                l = -1,
                                c = -1,
                                u = 0,
                                d = 0,
                                f = e,
                                h = null;
                              t: for (;;) {
                                for (
                                  var p;
                                  f !== n || (0 !== i && 3 !== f.nodeType) || (l = s + i),
                                    f !== a || (0 !== r && 3 !== f.nodeType) || (c = s + r),
                                    3 === f.nodeType && (s += f.nodeValue.length),
                                    null !== (p = f.firstChild);

                                )
                                  (h = f), (f = p);
                                for (;;) {
                                  if (f === e) break t;
                                  if (
                                    (h === n && ++u === i && (l = s),
                                    h === a && ++d === r && (c = s),
                                    null !== (p = f.nextSibling))
                                  )
                                    break;
                                  h = (f = h).parentNode;
                                }
                                f = p;
                              }
                              n = -1 === l || -1 === c ? null : { start: l, end: c };
                            } else n = null;
                          }
                        n = n || { start: 0, end: 0 };
                      } else n = null;
                      for (ti = { focusedElem: e, selectionRange: n }, Wt = !1, Js = t; null !== Js; )
                        if (((e = (t = Js).child), 0 != (1028 & t.subtreeFlags) && null !== e))
                          (e.return = t), (Js = e);
                        else
                          for (; null !== Js; ) {
                            t = Js;
                            try {
                              var m = t.alternate;
                              if (0 != (1024 & t.flags))
                                switch (t.tag) {
                                  case 0:
                                  case 11:
                                  case 15:
                                  case 5:
                                  case 6:
                                  case 4:
                                  case 17:
                                    break;
                                  case 1:
                                    if (null !== m) {
                                      var y = m.memoizedProps,
                                        g = m.memoizedState,
                                        v = t.stateNode,
                                        w = v.getSnapshotBeforeUpdate(t.elementType === t.type ? y : go(t.type, y), g);
                                      v.__reactInternalSnapshotBeforeUpdate = w;
                                    }
                                    break;
                                  case 3:
                                    var b = t.stateNode.containerInfo;
                                    1 === b.nodeType
                                      ? (b.textContent = "")
                                      : 9 === b.nodeType && b.documentElement && b.removeChild(b.documentElement);
                                    break;
                                  default:
                                    throw Error(o(163));
                                }
                            } catch (e) {
                              Sc(t, t.return, e);
                            }
                            if (null !== (e = t.sibling)) {
                              (e.return = t.return), (Js = e);
                              break;
                            }
                            Js = t.return;
                          }
                      (m = nl), (nl = !1);
                    })(e, n),
                    gl(n, e),
                    pr(ti),
                    (Wt = !!ei),
                    (ti = ei = null),
                    (e.current = n),
                    wl(n, e, i),
                    Ye(),
                    (Pl = l),
                    (wt = s),
                    (Nl.transition = a);
                } else e.current = n;
                if (
                  (Gl && ((Gl = !1), (Zl = e), (Yl = i)),
                  0 === (a = e.pendingLanes) && ($l = null),
                  (function (e) {
                    if (ot && "function" == typeof ot.onCommitFiberRoot)
                      try {
                        ot.onCommitFiberRoot(it, e, void 0, 128 == (128 & e.current.flags));
                      } catch (e) {}
                  })(n.stateNode),
                  ic(e, Xe()),
                  null !== t)
                )
                  for (r = e.onRecoverableError, n = 0; n < t.length; n++)
                    r((i = t[n]).value, { componentStack: i.stack, digest: i.digest });
                if (ql) throw ((ql = !1), (e = Vl), (Vl = null), e);
                0 != (1 & Yl) && 0 !== e.tag && kc(),
                  0 != (1 & (a = e.pendingLanes)) ? (e === Ql ? Xl++ : ((Xl = 0), (Ql = e))) : (Xl = 0),
                  Hi();
              })(e, t, n, r);
          } finally {
            (Nl.transition = i), (wt = r);
          }
          return null;
        }
        function kc() {
          if (null !== Zl) {
            var e = bt(Yl),
              t = Nl.transition,
              n = wt;
            try {
              if (((Nl.transition = null), (wt = 16 > e ? 16 : e), null === Zl)) var r = !1;
              else {
                if (((e = Zl), (Zl = null), (Yl = 0), 0 != (6 & Pl))) throw Error(o(331));
                var i = Pl;
                for (Pl |= 4, Js = e.current; null !== Js; ) {
                  var a = Js,
                    s = a.child;
                  if (0 != (16 & Js.flags)) {
                    var l = a.deletions;
                    if (null !== l) {
                      for (var c = 0; c < l.length; c++) {
                        var u = l[c];
                        for (Js = u; null !== Js; ) {
                          var d = Js;
                          switch (d.tag) {
                            case 0:
                            case 11:
                            case 15:
                              rl(8, d, a);
                          }
                          var f = d.child;
                          if (null !== f) (f.return = d), (Js = f);
                          else
                            for (; null !== Js; ) {
                              var h = (d = Js).sibling,
                                p = d.return;
                              if ((al(d), d === u)) {
                                Js = null;
                                break;
                              }
                              if (null !== h) {
                                (h.return = p), (Js = h);
                                break;
                              }
                              Js = p;
                            }
                        }
                      }
                      var m = a.alternate;
                      if (null !== m) {
                        var y = m.child;
                        if (null !== y) {
                          m.child = null;
                          do {
                            var g = y.sibling;
                            (y.sibling = null), (y = g);
                          } while (null !== y);
                        }
                      }
                      Js = a;
                    }
                  }
                  if (0 != (2064 & a.subtreeFlags) && null !== s) (s.return = a), (Js = s);
                  else
                    e: for (; null !== Js; ) {
                      if (0 != (2048 & (a = Js).flags))
                        switch (a.tag) {
                          case 0:
                          case 11:
                          case 15:
                            rl(9, a, a.return);
                        }
                      var v = a.sibling;
                      if (null !== v) {
                        (v.return = a.return), (Js = v);
                        break e;
                      }
                      Js = a.return;
                    }
                }
                var w = e.current;
                for (Js = w; null !== Js; ) {
                  var b = (s = Js).child;
                  if (0 != (2064 & s.subtreeFlags) && null !== b) (b.return = s), (Js = b);
                  else
                    e: for (s = w; null !== Js; ) {
                      if (0 != (2048 & (l = Js).flags))
                        try {
                          switch (l.tag) {
                            case 0:
                            case 11:
                            case 15:
                              il(9, l);
                          }
                        } catch (e) {
                          Sc(l, l.return, e);
                        }
                      if (l === s) {
                        Js = null;
                        break e;
                      }
                      var x = l.sibling;
                      if (null !== x) {
                        (x.return = l.return), (Js = x);
                        break e;
                      }
                      Js = l.return;
                    }
                }
                if (((Pl = i), Hi(), ot && "function" == typeof ot.onPostCommitFiberRoot))
                  try {
                    ot.onPostCommitFiberRoot(it, e);
                  } catch (e) {}
                r = !0;
              }
              return r;
            } finally {
              (wt = n), (Nl.transition = t);
            }
          }
          return !1;
        }
        function jc(e, t, n) {
          (e = Oo(e, (t = ps(0, (t = us(n, t)), 1)), 1)), (t = tc()), null !== e && (gt(e, 1, t), ic(e, t));
        }
        function Sc(e, t, n) {
          if (3 === e.tag) jc(e, e, n);
          else
            for (; null !== t; ) {
              if (3 === t.tag) {
                jc(t, e, n);
                break;
              }
              if (1 === t.tag) {
                var r = t.stateNode;
                if (
                  "function" == typeof t.type.getDerivedStateFromError ||
                  ("function" == typeof r.componentDidCatch && (null === $l || !$l.has(r)))
                ) {
                  (t = Oo(t, (e = ms(t, (e = us(n, e)), 1)), 1)), (e = tc()), null !== t && (gt(t, 1, e), ic(t, e));
                  break;
                }
              }
              t = t.return;
            }
        }
        function Ac(e, t, n) {
          var r = e.pingCache;
          null !== r && r.delete(t),
            (t = tc()),
            (e.pingedLanes |= e.suspendedLanes & n),
            _l === e &&
              (Ml & n) === n &&
              (4 === Ol || (3 === Ol && (130023424 & Ml) === Ml && 500 > Xe() - Hl) ? hc(e, 0) : (Dl |= n)),
            ic(e, t);
        }
        function Cc(e, t) {
          0 === t && (0 == (1 & e.mode) ? (t = 1) : ((t = ut), 0 == (130023424 & (ut <<= 1)) && (ut = 4194304)));
          var n = tc();
          null !== (e = _o(e, t)) && (gt(e, t, n), ic(e, n));
        }
        function Nc(e) {
          var t = e.memoizedState,
            n = 0;
          null !== t && (n = t.retryLane), Cc(e, n);
        }
        function Pc(e, t) {
          var n = 0;
          switch (e.tag) {
            case 13:
              var r = e.stateNode,
                i = e.memoizedState;
              null !== i && (n = i.retryLane);
              break;
            case 19:
              r = e.stateNode;
              break;
            default:
              throw Error(o(314));
          }
          null !== r && r.delete(t), Cc(e, n);
        }
        function _c(e, t) {
          return $e(e, t);
        }
        function Tc(e, t, n, r) {
          (this.tag = e),
            (this.key = n),
            (this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null),
            (this.index = 0),
            (this.ref = null),
            (this.pendingProps = t),
            (this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null),
            (this.mode = r),
            (this.subtreeFlags = this.flags = 0),
            (this.deletions = null),
            (this.childLanes = this.lanes = 0),
            (this.alternate = null);
        }
        function Mc(e, t, n, r) {
          return new Tc(e, t, n, r);
        }
        function Rc(e) {
          return !(!(e = e.prototype) || !e.isReactComponent);
        }
        function Bc(e, t) {
          var n = e.alternate;
          return (
            null === n
              ? (((n = Mc(e.tag, t, e.key, e.mode)).elementType = e.elementType),
                (n.type = e.type),
                (n.stateNode = e.stateNode),
                (n.alternate = e),
                (e.alternate = n))
              : ((n.pendingProps = t), (n.type = e.type), (n.flags = 0), (n.subtreeFlags = 0), (n.deletions = null)),
            (n.flags = 14680064 & e.flags),
            (n.childLanes = e.childLanes),
            (n.lanes = e.lanes),
            (n.child = e.child),
            (n.memoizedProps = e.memoizedProps),
            (n.memoizedState = e.memoizedState),
            (n.updateQueue = e.updateQueue),
            (t = e.dependencies),
            (n.dependencies = null === t ? null : { lanes: t.lanes, firstContext: t.firstContext }),
            (n.sibling = e.sibling),
            (n.index = e.index),
            (n.ref = e.ref),
            n
          );
        }
        function Oc(e, t, n, r, i, a) {
          var s = 2;
          if (((r = e), "function" == typeof e)) Rc(e) && (s = 1);
          else if ("string" == typeof e) s = 5;
          else
            e: switch (e) {
              case k:
                return Lc(n.children, i, a, t);
              case j:
                (s = 8), (i |= 8);
                break;
              case S:
                return ((e = Mc(12, n, t, 2 | i)).elementType = S), (e.lanes = a), e;
              case P:
                return ((e = Mc(13, n, t, i)).elementType = P), (e.lanes = a), e;
              case _:
                return ((e = Mc(19, n, t, i)).elementType = _), (e.lanes = a), e;
              case R:
                return Ic(n, i, a, t);
              default:
                if ("object" == typeof e && null !== e)
                  switch (e.$$typeof) {
                    case A:
                      s = 10;
                      break e;
                    case C:
                      s = 9;
                      break e;
                    case N:
                      s = 11;
                      break e;
                    case T:
                      s = 14;
                      break e;
                    case M:
                      (s = 16), (r = null);
                      break e;
                  }
                throw Error(o(130, null == e ? e : typeof e, ""));
            }
          return ((t = Mc(s, n, t, i)).elementType = e), (t.type = r), (t.lanes = a), t;
        }
        function Lc(e, t, n, r) {
          return ((e = Mc(7, e, r, t)).lanes = n), e;
        }
        function Ic(e, t, n, r) {
          return ((e = Mc(22, e, r, t)).elementType = R), (e.lanes = n), (e.stateNode = { isHidden: !1 }), e;
        }
        function Fc(e, t, n) {
          return ((e = Mc(6, e, null, t)).lanes = n), e;
        }
        function Dc(e, t, n) {
          return (
            ((t = Mc(4, null !== e.children ? e.children : [], e.key, t)).lanes = n),
            (t.stateNode = { containerInfo: e.containerInfo, pendingChildren: null, implementation: e.implementation }),
            t
          );
        }
        function Uc(e, t, n, r, i) {
          (this.tag = t),
            (this.containerInfo = e),
            (this.finishedWork = this.pingCache = this.current = this.pendingChildren = null),
            (this.timeoutHandle = -1),
            (this.callbackNode = this.pendingContext = this.context = null),
            (this.callbackPriority = 0),
            (this.eventTimes = yt(0)),
            (this.expirationTimes = yt(-1)),
            (this.entangledLanes =
              this.finishedLanes =
              this.mutableReadLanes =
              this.expiredLanes =
              this.pingedLanes =
              this.suspendedLanes =
              this.pendingLanes =
                0),
            (this.entanglements = yt(0)),
            (this.identifierPrefix = r),
            (this.onRecoverableError = i),
            (this.mutableSourceEagerHydrationData = null);
        }
        function zc(e, t, n, r, i, o, a, s, l) {
          return (
            (e = new Uc(e, t, n, s, l)),
            1 === t ? ((t = 1), !0 === o && (t |= 8)) : (t = 0),
            (o = Mc(3, null, null, t)),
            (e.current = o),
            (o.stateNode = e),
            (o.memoizedState = {
              element: r,
              isDehydrated: n,
              cache: null,
              transitions: null,
              pendingSuspenseBoundaries: null,
            }),
            Mo(o),
            e
          );
        }
        function Hc(e) {
          if (!e) return Ci;
          e: {
            if (He((e = e._reactInternals)) !== e || 1 !== e.tag) throw Error(o(170));
            var t = e;
            do {
              switch (t.tag) {
                case 3:
                  t = t.stateNode.context;
                  break e;
                case 1:
                  if (Mi(t.type)) {
                    t = t.stateNode.__reactInternalMemoizedMergedChildContext;
                    break e;
                  }
              }
              t = t.return;
            } while (null !== t);
            throw Error(o(171));
          }
          if (1 === e.tag) {
            var n = e.type;
            if (Mi(n)) return Oi(e, n, t);
          }
          return t;
        }
        function Kc(e, t, n, r, i, o, a, s, l) {
          return (
            ((e = zc(n, r, !0, e, 0, o, 0, s, l)).context = Hc(null)),
            (n = e.current),
            ((o = Bo((r = tc()), (i = nc(n)))).callback = null != t ? t : null),
            Oo(n, o, i),
            (e.current.lanes = i),
            gt(e, i, r),
            ic(e, r),
            e
          );
        }
        function Wc(e, t, n, r) {
          var i = t.current,
            o = tc(),
            a = nc(i);
          return (
            (n = Hc(n)),
            null === t.context ? (t.context = n) : (t.pendingContext = n),
            ((t = Bo(o, a)).payload = { element: e }),
            null !== (r = void 0 === r ? null : r) && (t.callback = r),
            null !== (e = Oo(i, t, a)) && (rc(e, i, a, o), Lo(e, i, a)),
            a
          );
        }
        function qc(e) {
          return (e = e.current).child ? (e.child.tag, e.child.stateNode) : null;
        }
        function Vc(e, t) {
          if (null !== (e = e.memoizedState) && null !== e.dehydrated) {
            var n = e.retryLane;
            e.retryLane = 0 !== n && n < t ? n : t;
          }
        }
        function $c(e, t) {
          Vc(e, t), (e = e.alternate) && Vc(e, t);
        }
        jl = function (e, t, n) {
          if (null !== e)
            if (e.memoizedProps !== t.pendingProps || Pi.current) bs = !0;
            else {
              if (0 == (e.lanes & n) && 0 == (128 & t.flags))
                return (
                  (bs = !1),
                  (function (e, t, n) {
                    switch (t.tag) {
                      case 3:
                        _s(t), po();
                        break;
                      case 5:
                        aa(t);
                        break;
                      case 1:
                        Mi(t.type) && Li(t);
                        break;
                      case 4:
                        ia(t, t.stateNode.containerInfo);
                        break;
                      case 10:
                        var r = t.type._context,
                          i = t.memoizedProps.value;
                        Ai(vo, r._currentValue), (r._currentValue = i);
                        break;
                      case 13:
                        if (null !== (r = t.memoizedState))
                          return null !== r.dehydrated
                            ? (Ai(la, 1 & la.current), (t.flags |= 128), null)
                            : 0 != (n & t.child.childLanes)
                            ? Fs(e, t, n)
                            : (Ai(la, 1 & la.current), null !== (e = qs(e, t, n)) ? e.sibling : null);
                        Ai(la, 1 & la.current);
                        break;
                      case 19:
                        if (((r = 0 != (n & t.childLanes)), 0 != (128 & e.flags))) {
                          if (r) return Ks(e, t, n);
                          t.flags |= 128;
                        }
                        if (
                          (null !== (i = t.memoizedState) &&
                            ((i.rendering = null), (i.tail = null), (i.lastEffect = null)),
                          Ai(la, la.current),
                          r)
                        )
                          break;
                        return null;
                      case 22:
                      case 23:
                        return (t.lanes = 0), Ss(e, t, n);
                    }
                    return qs(e, t, n);
                  })(e, t, n)
                );
              bs = 0 != (131072 & e.flags);
            }
          else (bs = !1), io && 0 != (1048576 & t.flags) && Ji(t, Vi, t.index);
          switch (((t.lanes = 0), t.tag)) {
            case 2:
              var r = t.type;
              Ws(e, t), (e = t.pendingProps);
              var i = Ti(t, Ni.current);
              So(t, n), (i = ja(null, t, r, e, i, n));
              var a = Sa();
              return (
                (t.flags |= 1),
                "object" == typeof i && null !== i && "function" == typeof i.render && void 0 === i.$$typeof
                  ? ((t.tag = 1),
                    (t.memoizedState = null),
                    (t.updateQueue = null),
                    Mi(r) ? ((a = !0), Li(t)) : (a = !1),
                    (t.memoizedState = null !== i.state && void 0 !== i.state ? i.state : null),
                    Mo(t),
                    (i.updater = Ho),
                    (t.stateNode = i),
                    (i._reactInternals = t),
                    Vo(t, r, e, n),
                    (t = Ps(null, t, r, !0, a, n)))
                  : ((t.tag = 0), io && a && eo(t), xs(null, t, i, n), (t = t.child)),
                t
              );
            case 16:
              r = t.elementType;
              e: {
                switch (
                  (Ws(e, t),
                  (e = t.pendingProps),
                  (r = (i = r._init)(r._payload)),
                  (t.type = r),
                  (i = t.tag =
                    (function (e) {
                      if ("function" == typeof e) return Rc(e) ? 1 : 0;
                      if (null != e) {
                        if ((e = e.$$typeof) === N) return 11;
                        if (e === T) return 14;
                      }
                      return 2;
                    })(r)),
                  (e = go(r, e)),
                  i)
                ) {
                  case 0:
                    t = Cs(null, t, r, e, n);
                    break e;
                  case 1:
                    t = Ns(null, t, r, e, n);
                    break e;
                  case 11:
                    t = Es(null, t, r, e, n);
                    break e;
                  case 14:
                    t = ks(null, t, r, go(r.type, e), n);
                    break e;
                }
                throw Error(o(306, r, ""));
              }
              return t;
            case 0:
              return (r = t.type), (i = t.pendingProps), Cs(e, t, r, (i = t.elementType === r ? i : go(r, i)), n);
            case 1:
              return (r = t.type), (i = t.pendingProps), Ns(e, t, r, (i = t.elementType === r ? i : go(r, i)), n);
            case 3:
              e: {
                if ((_s(t), null === e)) throw Error(o(387));
                (r = t.pendingProps), (i = (a = t.memoizedState).element), Ro(e, t), Fo(t, r, null, n);
                var s = t.memoizedState;
                if (((r = s.element), a.isDehydrated)) {
                  if (
                    ((a = {
                      element: r,
                      isDehydrated: !1,
                      cache: s.cache,
                      pendingSuspenseBoundaries: s.pendingSuspenseBoundaries,
                      transitions: s.transitions,
                    }),
                    (t.updateQueue.baseState = a),
                    (t.memoizedState = a),
                    256 & t.flags)
                  ) {
                    t = Ts(e, t, r, n, (i = us(Error(o(423)), t)));
                    break e;
                  }
                  if (r !== i) {
                    t = Ts(e, t, r, n, (i = us(Error(o(424)), t)));
                    break e;
                  }
                  for (
                    ro = ci(t.stateNode.containerInfo.firstChild),
                      no = t,
                      io = !0,
                      oo = null,
                      n = Qo(t, null, r, n),
                      t.child = n;
                    n;

                  )
                    (n.flags = (-3 & n.flags) | 4096), (n = n.sibling);
                } else {
                  if ((po(), r === i)) {
                    t = qs(e, t, n);
                    break e;
                  }
                  xs(e, t, r, n);
                }
                t = t.child;
              }
              return t;
            case 5:
              return (
                aa(t),
                null === e && co(t),
                (r = t.type),
                (i = t.pendingProps),
                (a = null !== e ? e.memoizedProps : null),
                (s = i.children),
                ni(r, i) ? (s = null) : null !== a && ni(r, a) && (t.flags |= 32),
                As(e, t),
                xs(e, t, s, n),
                t.child
              );
            case 6:
              return null === e && co(t), null;
            case 13:
              return Fs(e, t, n);
            case 4:
              return (
                ia(t, t.stateNode.containerInfo),
                (r = t.pendingProps),
                null === e ? (t.child = Xo(t, null, r, n)) : xs(e, t, r, n),
                t.child
              );
            case 11:
              return (r = t.type), (i = t.pendingProps), Es(e, t, r, (i = t.elementType === r ? i : go(r, i)), n);
            case 7:
              return xs(e, t, t.pendingProps, n), t.child;
            case 8:
            case 12:
              return xs(e, t, t.pendingProps.children, n), t.child;
            case 10:
              e: {
                if (
                  ((r = t.type._context),
                  (i = t.pendingProps),
                  (a = t.memoizedProps),
                  (s = i.value),
                  Ai(vo, r._currentValue),
                  (r._currentValue = s),
                  null !== a)
                )
                  if (sr(a.value, s)) {
                    if (a.children === i.children && !Pi.current) {
                      t = qs(e, t, n);
                      break e;
                    }
                  } else
                    for (null !== (a = t.child) && (a.return = t); null !== a; ) {
                      var l = a.dependencies;
                      if (null !== l) {
                        s = a.child;
                        for (var c = l.firstContext; null !== c; ) {
                          if (c.context === r) {
                            if (1 === a.tag) {
                              (c = Bo(-1, n & -n)).tag = 2;
                              var u = a.updateQueue;
                              if (null !== u) {
                                var d = (u = u.shared).pending;
                                null === d ? (c.next = c) : ((c.next = d.next), (d.next = c)), (u.pending = c);
                              }
                            }
                            (a.lanes |= n),
                              null !== (c = a.alternate) && (c.lanes |= n),
                              jo(a.return, n, t),
                              (l.lanes |= n);
                            break;
                          }
                          c = c.next;
                        }
                      } else if (10 === a.tag) s = a.type === t.type ? null : a.child;
                      else if (18 === a.tag) {
                        if (null === (s = a.return)) throw Error(o(341));
                        (s.lanes |= n), null !== (l = s.alternate) && (l.lanes |= n), jo(s, n, t), (s = a.sibling);
                      } else s = a.child;
                      if (null !== s) s.return = a;
                      else
                        for (s = a; null !== s; ) {
                          if (s === t) {
                            s = null;
                            break;
                          }
                          if (null !== (a = s.sibling)) {
                            (a.return = s.return), (s = a);
                            break;
                          }
                          s = s.return;
                        }
                      a = s;
                    }
                xs(e, t, i.children, n), (t = t.child);
              }
              return t;
            case 9:
              return (
                (i = t.type),
                (r = t.pendingProps.children),
                So(t, n),
                (r = r((i = Ao(i)))),
                (t.flags |= 1),
                xs(e, t, r, n),
                t.child
              );
            case 14:
              return (i = go((r = t.type), t.pendingProps)), ks(e, t, r, (i = go(r.type, i)), n);
            case 15:
              return js(e, t, t.type, t.pendingProps, n);
            case 17:
              return (
                (r = t.type),
                (i = t.pendingProps),
                (i = t.elementType === r ? i : go(r, i)),
                Ws(e, t),
                (t.tag = 1),
                Mi(r) ? ((e = !0), Li(t)) : (e = !1),
                So(t, n),
                Wo(t, r, i),
                Vo(t, r, i, n),
                Ps(null, t, r, !0, e, n)
              );
            case 19:
              return Ks(e, t, n);
            case 22:
              return Ss(e, t, n);
          }
          throw Error(o(156, t.tag));
        };
        var Gc =
          "function" == typeof reportError
            ? reportError
            : function (e) {
                console.error(e);
              };
        function Zc(e) {
          this._internalRoot = e;
        }
        function Yc(e) {
          this._internalRoot = e;
        }
        function Xc(e) {
          return !(!e || (1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType));
        }
        function Qc(e) {
          return !(
            !e ||
            (1 !== e.nodeType &&
              9 !== e.nodeType &&
              11 !== e.nodeType &&
              (8 !== e.nodeType || " react-mount-point-unstable " !== e.nodeValue))
          );
        }
        function Jc() {}
        function eu(e, t, n, r, i) {
          var o = n._reactRootContainer;
          if (o) {
            var a = o;
            if ("function" == typeof i) {
              var s = i;
              i = function () {
                var e = qc(a);
                s.call(e);
              };
            }
            Wc(t, a, e, i);
          } else
            a = (function (e, t, n, r, i) {
              if (i) {
                if ("function" == typeof r) {
                  var o = r;
                  r = function () {
                    var e = qc(a);
                    o.call(e);
                  };
                }
                var a = Kc(t, r, e, 0, null, !1, 0, "", Jc);
                return (
                  (e._reactRootContainer = a), (e[pi] = a.current), Hr(8 === e.nodeType ? e.parentNode : e), dc(), a
                );
              }
              for (; (i = e.lastChild); ) e.removeChild(i);
              if ("function" == typeof r) {
                var s = r;
                r = function () {
                  var e = qc(l);
                  s.call(e);
                };
              }
              var l = zc(e, 0, !1, null, 0, !1, 0, "", Jc);
              return (
                (e._reactRootContainer = l),
                (e[pi] = l.current),
                Hr(8 === e.nodeType ? e.parentNode : e),
                dc(function () {
                  Wc(t, l, n, r);
                }),
                l
              );
            })(n, t, e, i, r);
          return qc(a);
        }
        (Yc.prototype.render = Zc.prototype.render =
          function (e) {
            var t = this._internalRoot;
            if (null === t) throw Error(o(409));
            Wc(e, t, null, null);
          }),
          (Yc.prototype.unmount = Zc.prototype.unmount =
            function () {
              var e = this._internalRoot;
              if (null !== e) {
                this._internalRoot = null;
                var t = e.containerInfo;
                dc(function () {
                  Wc(null, e, null, null);
                }),
                  (t[pi] = null);
              }
            }),
          (Yc.prototype.unstable_scheduleHydration = function (e) {
            if (e) {
              var t = jt();
              e = { blockedOn: null, target: e, priority: t };
              for (var n = 0; n < Rt.length && 0 !== t && t < Rt[n].priority; n++);
              Rt.splice(n, 0, e), 0 === n && It(e);
            }
          }),
          (xt = function (e) {
            switch (e.tag) {
              case 3:
                var t = e.stateNode;
                if (t.current.memoizedState.isDehydrated) {
                  var n = dt(t.pendingLanes);
                  0 !== n && (vt(t, 1 | n), ic(t, Xe()), 0 == (6 & Pl) && ((Kl = Xe() + 500), Hi()));
                }
                break;
              case 13:
                dc(function () {
                  var t = _o(e, 1);
                  if (null !== t) {
                    var n = tc();
                    rc(t, e, 1, n);
                  }
                }),
                  $c(e, 1);
            }
          }),
          (Et = function (e) {
            if (13 === e.tag) {
              var t = _o(e, 134217728);
              null !== t && rc(t, e, 134217728, tc()), $c(e, 134217728);
            }
          }),
          (kt = function (e) {
            if (13 === e.tag) {
              var t = nc(e),
                n = _o(e, t);
              null !== n && rc(n, e, t, tc()), $c(e, t);
            }
          }),
          (jt = function () {
            return wt;
          }),
          (St = function (e, t) {
            var n = wt;
            try {
              return (wt = e), t();
            } finally {
              wt = n;
            }
          }),
          (Ee = function (e, t, n) {
            switch (t) {
              case "input":
                if ((Q(e, n), (t = n.name), "radio" === n.type && null != t)) {
                  for (n = e; n.parentNode; ) n = n.parentNode;
                  for (
                    n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'), t = 0;
                    t < n.length;
                    t++
                  ) {
                    var r = n[t];
                    if (r !== e && r.form === e.form) {
                      var i = xi(r);
                      if (!i) throw Error(o(90));
                      $(r), Q(r, i);
                    }
                  }
                }
                break;
              case "textarea":
                oe(e, n);
                break;
              case "select":
                null != (t = n.value) && ne(e, !!n.multiple, t, !1);
            }
          }),
          (Ne = uc),
          (Pe = dc);
        var tu = { usingClientEntryPoint: !1, Events: [wi, bi, xi, Ae, Ce, uc] },
          nu = { findFiberByHostInstance: vi, bundleType: 0, version: "18.2.0", rendererPackageName: "react-dom" },
          ru = {
            bundleType: nu.bundleType,
            version: nu.version,
            rendererPackageName: nu.rendererPackageName,
            rendererConfig: nu.rendererConfig,
            overrideHookState: null,
            overrideHookStateDeletePath: null,
            overrideHookStateRenamePath: null,
            overrideProps: null,
            overridePropsDeletePath: null,
            overridePropsRenamePath: null,
            setErrorHandler: null,
            setSuspenseHandler: null,
            scheduleUpdate: null,
            currentDispatcherRef: b.ReactCurrentDispatcher,
            findHostInstanceByFiber: function (e) {
              return null === (e = qe(e)) ? null : e.stateNode;
            },
            findFiberByHostInstance:
              nu.findFiberByHostInstance ||
              function () {
                return null;
              },
            findHostInstancesForRefresh: null,
            scheduleRefresh: null,
            scheduleRoot: null,
            setRefreshHandler: null,
            getCurrentFiber: null,
            reconcilerVersion: "18.2.0-next-9e3b772b8-20220608",
          };
        if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
          var iu = __REACT_DEVTOOLS_GLOBAL_HOOK__;
          if (!iu.isDisabled && iu.supportsFiber)
            try {
              (it = iu.inject(ru)), (ot = iu);
            } catch (ue) {}
        }
        (t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = tu),
          (t.createPortal = function (e, t) {
            var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
            if (!Xc(t)) throw Error(o(200));
            return (function (e, t, n) {
              var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
              return { $$typeof: E, key: null == r ? null : "" + r, children: e, containerInfo: t, implementation: n };
            })(e, t, null, n);
          }),
          (t.createRoot = function (e, t) {
            if (!Xc(e)) throw Error(o(299));
            var n = !1,
              r = "",
              i = Gc;
            return (
              null != t &&
                (!0 === t.unstable_strictMode && (n = !0),
                void 0 !== t.identifierPrefix && (r = t.identifierPrefix),
                void 0 !== t.onRecoverableError && (i = t.onRecoverableError)),
              (t = zc(e, 1, !1, null, 0, n, 0, r, i)),
              (e[pi] = t.current),
              Hr(8 === e.nodeType ? e.parentNode : e),
              new Zc(t)
            );
          }),
          (t.findDOMNode = function (e) {
            if (null == e) return null;
            if (1 === e.nodeType) return e;
            var t = e._reactInternals;
            if (void 0 === t) {
              if ("function" == typeof e.render) throw Error(o(188));
              throw ((e = Object.keys(e).join(",")), Error(o(268, e)));
            }
            return null === (e = qe(t)) ? null : e.stateNode;
          }),
          (t.flushSync = function (e) {
            return dc(e);
          }),
          (t.hydrate = function (e, t, n) {
            if (!Qc(t)) throw Error(o(200));
            return eu(null, e, t, !0, n);
          }),
          (t.hydrateRoot = function (e, t, n) {
            if (!Xc(e)) throw Error(o(405));
            var r = (null != n && n.hydratedSources) || null,
              i = !1,
              a = "",
              s = Gc;
            if (
              (null != n &&
                (!0 === n.unstable_strictMode && (i = !0),
                void 0 !== n.identifierPrefix && (a = n.identifierPrefix),
                void 0 !== n.onRecoverableError && (s = n.onRecoverableError)),
              (t = Kc(t, null, e, 1, null != n ? n : null, i, 0, a, s)),
              (e[pi] = t.current),
              Hr(e),
              r)
            )
              for (e = 0; e < r.length; e++)
                (i = (i = (n = r[e])._getVersion)(n._source)),
                  null == t.mutableSourceEagerHydrationData
                    ? (t.mutableSourceEagerHydrationData = [n, i])
                    : t.mutableSourceEagerHydrationData.push(n, i);
            return new Yc(t);
          }),
          (t.render = function (e, t, n) {
            if (!Qc(t)) throw Error(o(200));
            return eu(null, e, t, !1, n);
          }),
          (t.unmountComponentAtNode = function (e) {
            if (!Qc(e)) throw Error(o(40));
            return (
              !!e._reactRootContainer &&
              (dc(function () {
                eu(null, null, e, !1, function () {
                  (e._reactRootContainer = null), (e[pi] = null);
                });
              }),
              !0)
            );
          }),
          (t.unstable_batchedUpdates = uc),
          (t.unstable_renderSubtreeIntoContainer = function (e, t, n, r) {
            if (!Qc(n)) throw Error(o(200));
            if (null == e || void 0 === e._reactInternals) throw Error(o(38));
            return eu(e, t, n, !1, r);
          }),
          (t.version = "18.2.0-next-9e3b772b8-20220608");
      },
      2274: (e, t, n) => {
        "use strict";
        var r = n(6235);
        (t.s = r.createRoot), r.hydrateRoot;
      },
      6235: (e, t, n) => {
        "use strict";
        !(function e() {
          if (
            "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
            "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE
          )
            try {
              __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e);
            } catch (e) {
              console.error(e);
            }
        })(),
          (e.exports = n(2202));
      },
      2180: (e, t, n) => {
        "use strict";
        var r = n(6174),
          i =
            "function" == typeof Object.is
              ? Object.is
              : function (e, t) {
                  return (e === t && (0 !== e || 1 / e == 1 / t)) || (e != e && t != t);
                },
          o = r.useState,
          a = r.useEffect,
          s = r.useLayoutEffect,
          l = r.useDebugValue;
        function c(e) {
          var t = e.getSnapshot;
          e = e.value;
          try {
            var n = t();
            return !i(e, n);
          } catch (e) {
            return !0;
          }
        }
        var u =
          "undefined" == typeof window || void 0 === window.document || void 0 === window.document.createElement
            ? function (e, t) {
                return t();
              }
            : function (e, t) {
                var n = t(),
                  r = o({ inst: { value: n, getSnapshot: t } }),
                  i = r[0].inst,
                  u = r[1];
                return (
                  s(
                    function () {
                      (i.value = n), (i.getSnapshot = t), c(i) && u({ inst: i });
                    },
                    [e, n, t]
                  ),
                  a(
                    function () {
                      return (
                        c(i) && u({ inst: i }),
                        e(function () {
                          c(i) && u({ inst: i });
                        })
                      );
                    },
                    [e]
                  ),
                  l(n),
                  n
                );
              };
        t.useSyncExternalStore = void 0 !== r.useSyncExternalStore ? r.useSyncExternalStore : u;
      },
      9297: (e, t, n) => {
        "use strict";
        var r = n(6174),
          i = n(1499),
          o =
            "function" == typeof Object.is
              ? Object.is
              : function (e, t) {
                  return (e === t && (0 !== e || 1 / e == 1 / t)) || (e != e && t != t);
                },
          a = i.useSyncExternalStore,
          s = r.useRef,
          l = r.useEffect,
          c = r.useMemo,
          u = r.useDebugValue;
        t.useSyncExternalStoreWithSelector = function (e, t, n, r, i) {
          var d = s(null);
          if (null === d.current) {
            var f = { hasValue: !1, value: null };
            d.current = f;
          } else f = d.current;
          d = c(
            function () {
              function e(e) {
                if (!l) {
                  if (((l = !0), (a = e), (e = r(e)), void 0 !== i && f.hasValue)) {
                    var t = f.value;
                    if (i(t, e)) return (s = t);
                  }
                  return (s = e);
                }
                if (((t = s), o(a, e))) return t;
                var n = r(e);
                return void 0 !== i && i(t, n) ? t : ((a = e), (s = n));
              }
              var a,
                s,
                l = !1,
                c = void 0 === n ? null : n;
              return [
                function () {
                  return e(t());
                },
                null === c
                  ? void 0
                  : function () {
                      return e(c());
                    },
              ];
            },
            [t, n, r, i]
          );
          var h = a(e, d[0], d[1]);
          return (
            l(
              function () {
                (f.hasValue = !0), (f.value = h);
              },
              [h]
            ),
            u(h),
            h
          );
        };
      },
      1499: (e, t, n) => {
        "use strict";
        e.exports = n(2180);
      },
      8138: (e, t, n) => {
        "use strict";
        e.exports = n(9297);
      },
      5447: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.createCurve = t.getHash = void 0);
        const r = n(6289),
          i = n(7571),
          o = n(2307);
        function a(e) {
          return {
            hash: e,
            hmac: (t, ...n) => (0, r.hmac)(e, t, (0, i.concatBytes)(...n)),
            randomBytes: i.randomBytes,
          };
        }
        (t.getHash = a),
          (t.createCurve = function (e, t) {
            const n = t => (0, o.weierstrass)({ ...e, ...a(t) });
            return Object.freeze({ ...n(t), create: n });
          });
      },
      6458: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.validateBasic = t.wNAF = void 0);
        const r = n(2736),
          i = n(2765),
          o = BigInt(0),
          a = BigInt(1);
        (t.wNAF = function (e, t) {
          const n = (e, t) => {
              const n = t.negate();
              return e ? n : t;
            },
            r = e => ({ windows: Math.ceil(t / e) + 1, windowSize: 2 ** (e - 1) });
          return {
            constTimeNegate: n,
            unsafeLadder(t, n) {
              let r = e.ZERO,
                i = t;
              for (; n > o; ) n & a && (r = r.add(i)), (i = i.double()), (n >>= a);
              return r;
            },
            precomputeWindow(e, t) {
              const { windows: n, windowSize: i } = r(t),
                o = [];
              let a = e,
                s = a;
              for (let e = 0; e < n; e++) {
                (s = a), o.push(s);
                for (let e = 1; e < i; e++) (s = s.add(a)), o.push(s);
                a = s.double();
              }
              return o;
            },
            wNAF(t, i, o) {
              const { windows: s, windowSize: l } = r(t);
              let c = e.ZERO,
                u = e.BASE;
              const d = BigInt(2 ** t - 1),
                f = 2 ** t,
                h = BigInt(t);
              for (let e = 0; e < s; e++) {
                const t = e * l;
                let r = Number(o & d);
                (o >>= h), r > l && ((r -= f), (o += a));
                const s = t,
                  p = t + Math.abs(r) - 1,
                  m = e % 2 != 0,
                  y = r < 0;
                0 === r ? (u = u.add(n(m, i[s]))) : (c = c.add(n(y, i[p])));
              }
              return { p: c, f: u };
            },
            wNAFCached(e, t, n, r) {
              const i = e._WINDOW_SIZE || 1;
              let o = t.get(e);
              return o || ((o = this.precomputeWindow(e, i)), 1 !== i && t.set(e, r(o))), this.wNAF(i, o, n);
            },
          };
        }),
          (t.validateBasic = function (e) {
            return (
              (0, r.validateField)(e.Fp),
              (0, i.validateObject)(
                e,
                { n: "bigint", h: "bigint", Gx: "field", Gy: "field" },
                { nBitLength: "isSafeInteger", nByteLength: "isSafeInteger" }
              ),
              Object.freeze({ ...(0, r.nLength)(e.n, e.nBitLength), ...e, p: e.Fp.ORDER })
            );
          });
      },
      2624: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.createHasher = t.isogenyMap = t.hash_to_field = t.expand_message_xof = t.expand_message_xmd = void 0);
        const r = n(2736),
          i = n(2765),
          o = i.bytesToNumberBE;
        function a(e, t) {
          if (e < 0 || e >= 1 << (8 * t)) throw new Error(`bad I2OSP call: value=${e} length=${t}`);
          const n = Array.from({ length: t }).fill(0);
          for (let r = t - 1; r >= 0; r--) (n[r] = 255 & e), (e >>>= 8);
          return new Uint8Array(n);
        }
        function s(e, t) {
          const n = new Uint8Array(e.length);
          for (let r = 0; r < e.length; r++) n[r] = e[r] ^ t[r];
          return n;
        }
        function l(e) {
          if (!(e instanceof Uint8Array)) throw new Error("Uint8Array expected");
        }
        function c(e) {
          if (!Number.isSafeInteger(e)) throw new Error("number expected");
        }
        function u(e, t, n, r) {
          l(e), l(t), c(n), t.length > 255 && (t = r((0, i.concatBytes)((0, i.utf8ToBytes)("H2C-OVERSIZE-DST-"), t)));
          const { outputLen: o, blockLen: u } = r,
            d = Math.ceil(n / o);
          if (d > 255) throw new Error("Invalid xmd length");
          const f = (0, i.concatBytes)(t, a(t.length, 1)),
            h = a(0, u),
            p = a(n, 2),
            m = new Array(d),
            y = r((0, i.concatBytes)(h, e, p, a(0, 1), f));
          m[0] = r((0, i.concatBytes)(y, a(1, 1), f));
          for (let e = 1; e <= d; e++) {
            const t = [s(y, m[e - 1]), a(e + 1, 1), f];
            m[e] = r((0, i.concatBytes)(...t));
          }
          return (0, i.concatBytes)(...m).slice(0, n);
        }
        function d(e, t, n, r, o) {
          if ((l(e), l(t), c(n), t.length > 255)) {
            const e = Math.ceil((2 * r) / 8);
            t = o
              .create({ dkLen: e })
              .update((0, i.utf8ToBytes)("H2C-OVERSIZE-DST-"))
              .update(t)
              .digest();
          }
          if (n > 65535 || t.length > 255) throw new Error("expand_message_xof: invalid lenInBytes");
          return o.create({ dkLen: n }).update(e).update(a(n, 2)).update(t).update(a(t.length, 1)).digest();
        }
        function f(e, t, n) {
          (0, i.validateObject)(n, {
            DST: "string",
            p: "bigint",
            m: "isSafeInteger",
            k: "isSafeInteger",
            hash: "hash",
          });
          const { p: a, k: s, m: f, hash: h, expand: p, DST: m } = n;
          l(e), c(t);
          const y = (function (e) {
              if (e instanceof Uint8Array) return e;
              if ("string" == typeof e) return (0, i.utf8ToBytes)(e);
              throw new Error("DST must be Uint8Array or string");
            })(m),
            g = a.toString(2).length,
            v = Math.ceil((g + s) / 8),
            w = t * f * v;
          let b;
          if ("xmd" === p) b = u(e, y, w, h);
          else if ("xof" === p) b = d(e, y, w, s, h);
          else {
            if ("_internal_pass" !== p) throw new Error('expand must be "xmd" or "xof"');
            b = e;
          }
          const x = new Array(t);
          for (let e = 0; e < t; e++) {
            const t = new Array(f);
            for (let n = 0; n < f; n++) {
              const i = v * (n + e * f),
                s = b.subarray(i, i + v);
              t[n] = (0, r.mod)(o(s), a);
            }
            x[e] = t;
          }
          return x;
        }
        (t.expand_message_xmd = u),
          (t.expand_message_xof = d),
          (t.hash_to_field = f),
          (t.isogenyMap = function (e, t) {
            const n = t.map(e => Array.from(e).reverse());
            return (t, r) => {
              const [i, o, a, s] = n.map(n => n.reduce((n, r) => e.add(e.mul(n, t), r)));
              return (t = e.div(i, o)), (r = e.mul(r, e.div(a, s))), { x: t, y: r };
            };
          }),
          (t.createHasher = function (e, t, n) {
            if ("function" != typeof t) throw new Error("mapToCurve() must be defined");
            return {
              hashToCurve(r, i) {
                const o = f(r, 2, { ...n, DST: n.DST, ...i }),
                  a = e.fromAffine(t(o[0])),
                  s = e.fromAffine(t(o[1])),
                  l = a.add(s).clearCofactor();
                return l.assertValidity(), l;
              },
              encodeToCurve(r, i) {
                const o = f(r, 1, { ...n, DST: n.encodeDST, ...i }),
                  a = e.fromAffine(t(o[0])).clearCofactor();
                return a.assertValidity(), a;
              },
            };
          });
      },
      2736: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hashToPrivateScalar =
            t.FpSqrtEven =
            t.FpSqrtOdd =
            t.Field =
            t.nLength =
            t.FpIsSquare =
            t.FpDiv =
            t.FpInvertBatch =
            t.FpPow =
            t.validateField =
            t.isNegativeLE =
            t.FpSqrt =
            t.tonelliShanks =
            t.invert =
            t.pow2 =
            t.pow =
            t.mod =
              void 0);
        const r = n(2765),
          i = BigInt(0),
          o = BigInt(1),
          a = BigInt(2),
          s = BigInt(3),
          l = BigInt(4),
          c = BigInt(5),
          u = BigInt(8);
        function d(e, t) {
          const n = e % t;
          return n >= i ? n : t + n;
        }
        function f(e, t, n) {
          if (n <= i || t < i) throw new Error("Expected power/modulo > 0");
          if (n === o) return i;
          let r = o;
          for (; t > i; ) t & o && (r = (r * e) % n), (e = (e * e) % n), (t >>= o);
          return r;
        }
        function h(e, t) {
          if (e === i || t <= i) throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);
          let n = d(e, t),
            r = t,
            a = i,
            s = o,
            l = o,
            c = i;
          for (; n !== i; ) {
            const e = r / n,
              t = r % n,
              i = a - l * e,
              o = s - c * e;
            (r = n), (n = t), (a = l), (s = c), (l = i), (c = o);
          }
          if (r !== o) throw new Error("invert: does not exist");
          return d(a, t);
        }
        function p(e) {
          const t = (e - o) / a;
          let n, r, s;
          for (n = e - o, r = 0; n % a === i; n /= a, r++);
          for (s = a; s < e && f(s, t, e) !== e - o; s++);
          if (1 === r) {
            const t = (e + o) / l;
            return function (e, n) {
              const r = e.pow(n, t);
              if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root");
              return r;
            };
          }
          const c = (n + o) / a;
          return function (e, i) {
            if (e.pow(i, t) === e.neg(e.ONE)) throw new Error("Cannot find square root");
            let a = r,
              l = e.pow(e.mul(e.ONE, s), n),
              u = e.pow(i, c),
              d = e.pow(i, n);
            for (; !e.eql(d, e.ONE); ) {
              if (e.eql(d, e.ZERO)) return e.ZERO;
              let t = 1;
              for (let n = e.sqr(d); t < a && !e.eql(n, e.ONE); t++) n = e.sqr(n);
              const n = e.pow(l, o << BigInt(a - t - 1));
              (l = e.sqr(n)), (u = e.mul(u, n)), (d = e.mul(d, l)), (a = t);
            }
            return u;
          };
        }
        function m(e) {
          if (e % l === s) {
            const t = (e + o) / l;
            return function (e, n) {
              const r = e.pow(n, t);
              if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root");
              return r;
            };
          }
          if (e % u === c) {
            const t = (e - c) / u;
            return function (e, n) {
              const r = e.mul(n, a),
                i = e.pow(r, t),
                o = e.mul(n, i),
                s = e.mul(e.mul(o, a), i),
                l = e.mul(o, e.sub(s, e.ONE));
              if (!e.eql(e.sqr(l), n)) throw new Error("Cannot find square root");
              return l;
            };
          }
          return p(e);
        }
        BigInt(9),
          BigInt(16),
          (t.mod = d),
          (t.pow = f),
          (t.pow2 = function (e, t, n) {
            let r = e;
            for (; t-- > i; ) (r *= r), (r %= n);
            return r;
          }),
          (t.invert = h),
          (t.tonelliShanks = p),
          (t.FpSqrt = m),
          (t.isNegativeLE = (e, t) => (d(e, t) & o) === o);
        const y = [
          "create",
          "isValid",
          "is0",
          "neg",
          "inv",
          "sqrt",
          "sqr",
          "eql",
          "add",
          "sub",
          "mul",
          "pow",
          "div",
          "addN",
          "subN",
          "mulN",
          "sqrN",
        ];
        function g(e, t, n) {
          if (n < i) throw new Error("Expected power > 0");
          if (n === i) return e.ONE;
          if (n === o) return t;
          let r = e.ONE,
            a = t;
          for (; n > i; ) n & o && (r = e.mul(r, a)), (a = e.sqr(a)), (n >>= o);
          return r;
        }
        function v(e, t) {
          const n = new Array(t.length),
            r = t.reduce((t, r, i) => (e.is0(r) ? t : ((n[i] = t), e.mul(t, r))), e.ONE),
            i = e.inv(r);
          return t.reduceRight((t, r, i) => (e.is0(r) ? t : ((n[i] = e.mul(t, n[i])), e.mul(t, r))), i), n;
        }
        function w(e, t) {
          const n = void 0 !== t ? t : e.toString(2).length;
          return { nBitLength: n, nByteLength: Math.ceil(n / 8) };
        }
        (t.validateField = function (e) {
          const t = y.reduce((e, t) => ((e[t] = "function"), e), {
            ORDER: "bigint",
            MASK: "bigint",
            BYTES: "isSafeInteger",
            BITS: "isSafeInteger",
          });
          return (0, r.validateObject)(e, t);
        }),
          (t.FpPow = g),
          (t.FpInvertBatch = v),
          (t.FpDiv = function (e, t, n) {
            return e.mul(t, "bigint" == typeof n ? h(n, e.ORDER) : e.inv(n));
          }),
          (t.FpIsSquare = function (e) {
            const t = (e.ORDER - o) / a;
            return n => {
              const r = e.pow(n, t);
              return e.eql(r, e.ZERO) || e.eql(r, e.ONE);
            };
          }),
          (t.nLength = w),
          (t.Field = function (e, t, n = !1, a = {}) {
            if (e <= i) throw new Error(`Expected Fp ORDER > 0, got ${e}`);
            const { nBitLength: s, nByteLength: l } = w(e, t);
            if (l > 2048) throw new Error("Field lengths over 2048 bytes are not supported");
            const c = m(e),
              u = Object.freeze({
                ORDER: e,
                BITS: s,
                BYTES: l,
                MASK: (0, r.bitMask)(s),
                ZERO: i,
                ONE: o,
                create: t => d(t, e),
                isValid: t => {
                  if ("bigint" != typeof t) throw new Error("Invalid field element: expected bigint, got " + typeof t);
                  return i <= t && t < e;
                },
                is0: e => e === i,
                isOdd: e => (e & o) === o,
                neg: t => d(-t, e),
                eql: (e, t) => e === t,
                sqr: t => d(t * t, e),
                add: (t, n) => d(t + n, e),
                sub: (t, n) => d(t - n, e),
                mul: (t, n) => d(t * n, e),
                pow: (e, t) => g(u, e, t),
                div: (t, n) => d(t * h(n, e), e),
                sqrN: e => e * e,
                addN: (e, t) => e + t,
                subN: (e, t) => e - t,
                mulN: (e, t) => e * t,
                inv: t => h(t, e),
                sqrt: a.sqrt || (e => c(u, e)),
                invertBatch: e => v(u, e),
                cmov: (e, t, n) => (n ? t : e),
                toBytes: e => (n ? (0, r.numberToBytesLE)(e, l) : (0, r.numberToBytesBE)(e, l)),
                fromBytes: e => {
                  if (e.length !== l) throw new Error(`Fp.fromBytes: expected ${l}, got ${e.length}`);
                  return n ? (0, r.bytesToNumberLE)(e) : (0, r.bytesToNumberBE)(e);
                },
              });
            return Object.freeze(u);
          }),
          (t.FpSqrtOdd = function (e, t) {
            if (!e.isOdd) throw new Error("Field doesn't have isOdd");
            const n = e.sqrt(t);
            return e.isOdd(n) ? n : e.neg(n);
          }),
          (t.FpSqrtEven = function (e, t) {
            if (!e.isOdd) throw new Error("Field doesn't have isOdd");
            const n = e.sqrt(t);
            return e.isOdd(n) ? e.neg(n) : n;
          }),
          (t.hashToPrivateScalar = function (e, t, n = !1) {
            const i = (e = (0, r.ensureBytes)("privateHash", e)).length,
              a = w(t).nByteLength + 8;
            if (a < 24 || i < a || i > 1024)
              throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${i}`);
            return d(n ? (0, r.bytesToNumberLE)(e) : (0, r.bytesToNumberBE)(e), t - o) + o;
          });
      },
      2765: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.validateObject =
            t.createHmacDrbg =
            t.bitMask =
            t.bitSet =
            t.bitGet =
            t.bitLen =
            t.utf8ToBytes =
            t.equalBytes =
            t.concatBytes =
            t.ensureBytes =
            t.numberToVarBytesBE =
            t.numberToBytesLE =
            t.numberToBytesBE =
            t.bytesToNumberLE =
            t.bytesToNumberBE =
            t.hexToBytes =
            t.hexToNumber =
            t.numberToHexUnpadded =
            t.bytesToHex =
              void 0);
        const n = BigInt(0),
          r = BigInt(1),
          i = BigInt(2),
          o = e => e instanceof Uint8Array,
          a = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0"));
        function s(e) {
          if (!o(e)) throw new Error("Uint8Array expected");
          let t = "";
          for (let n = 0; n < e.length; n++) t += a[e[n]];
          return t;
        }
        function l(e) {
          const t = e.toString(16);
          return 1 & t.length ? `0${t}` : t;
        }
        function c(e) {
          if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
          return BigInt("" === e ? "0" : `0x${e}`);
        }
        function u(e) {
          if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
          if (e.length % 2) throw new Error("hex string is invalid: unpadded " + e.length);
          const t = new Uint8Array(e.length / 2);
          for (let n = 0; n < t.length; n++) {
            const r = 2 * n,
              i = e.slice(r, r + 2),
              o = Number.parseInt(i, 16);
            if (Number.isNaN(o) || o < 0) throw new Error("invalid byte sequence");
            t[n] = o;
          }
          return t;
        }
        function d(...e) {
          const t = new Uint8Array(e.reduce((e, t) => e + t.length, 0));
          let n = 0;
          return (
            e.forEach(e => {
              if (!o(e)) throw new Error("Uint8Array expected");
              t.set(e, n), (n += e.length);
            }),
            t
          );
        }
        (t.bytesToHex = s),
          (t.numberToHexUnpadded = l),
          (t.hexToNumber = c),
          (t.hexToBytes = u),
          (t.bytesToNumberBE = function (e) {
            return c(s(e));
          }),
          (t.bytesToNumberLE = function (e) {
            if (!o(e)) throw new Error("Uint8Array expected");
            return c(s(Uint8Array.from(e).reverse()));
          }),
          (t.numberToBytesBE = (e, t) => u(e.toString(16).padStart(2 * t, "0"))),
          (t.numberToBytesLE = (e, n) => (0, t.numberToBytesBE)(e, n).reverse()),
          (t.numberToVarBytesBE = e => u(l(e))),
          (t.ensureBytes = function (e, t, n) {
            let r;
            if ("string" == typeof t)
              try {
                r = u(t);
              } catch (n) {
                throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`);
              }
            else {
              if (!o(t)) throw new Error(`${e} must be hex string or Uint8Array`);
              r = Uint8Array.from(t);
            }
            const i = r.length;
            if ("number" == typeof n && i !== n) throw new Error(`${e} expected ${n} bytes, got ${i}`);
            return r;
          }),
          (t.concatBytes = d),
          (t.equalBytes = function (e, t) {
            if (e.length !== t.length) return !1;
            for (let n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;
            return !0;
          }),
          (t.utf8ToBytes = function (e) {
            if ("string" != typeof e) throw new Error("utf8ToBytes expected string, got " + typeof e);
            return new TextEncoder().encode(e);
          }),
          (t.bitLen = function (e) {
            let t;
            for (t = 0; e > n; e >>= r, t += 1);
            return t;
          }),
          (t.bitGet = (e, t) => (e >> BigInt(t)) & r),
          (t.bitSet = (e, t, i) => e | ((i ? r : n) << BigInt(t))),
          (t.bitMask = e => (i << BigInt(e - 1)) - r);
        const f = e => new Uint8Array(e),
          h = e => Uint8Array.from(e);
        t.createHmacDrbg = function (e, t, n) {
          if ("number" != typeof e || e < 2) throw new Error("hashLen must be a number");
          if ("number" != typeof t || t < 2) throw new Error("qByteLen must be a number");
          if ("function" != typeof n) throw new Error("hmacFn must be a function");
          let r = f(e),
            i = f(e),
            o = 0;
          const a = () => {
              r.fill(1), i.fill(0), (o = 0);
            },
            s = (...e) => n(i, r, ...e),
            l = (e = f()) => {
              (i = s(h([0]), e)), (r = s()), 0 !== e.length && ((i = s(h([1]), e)), (r = s()));
            },
            c = () => {
              if (o++ >= 1e3) throw new Error("drbg: tried 1000 values");
              let e = 0;
              const n = [];
              for (; e < t; ) {
                r = s();
                const t = r.slice();
                n.push(t), (e += r.length);
              }
              return d(...n);
            };
          return (e, t) => {
            let n;
            for (a(), l(e); !(n = t(c())); ) l();
            return a(), n;
          };
        };
        const p = {
          bigint: e => "bigint" == typeof e,
          function: e => "function" == typeof e,
          boolean: e => "boolean" == typeof e,
          string: e => "string" == typeof e,
          isSafeInteger: e => Number.isSafeInteger(e),
          array: e => Array.isArray(e),
          field: (e, t) => t.Fp.isValid(e),
          hash: e => "function" == typeof e && Number.isSafeInteger(e.outputLen),
        };
        t.validateObject = function (e, t, n = {}) {
          const r = (t, n, r) => {
            const i = p[n];
            if ("function" != typeof i) throw new Error(`Invalid validator "${n}", expected function`);
            const o = e[t];
            if (!((r && void 0 === o) || i(o, e)))
              throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`);
          };
          for (const [e, n] of Object.entries(t)) r(e, n, !1);
          for (const [e, t] of Object.entries(n)) r(e, t, !0);
          return e;
        };
      },
      2307: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.mapToCurveSimpleSWU = t.SWUFpSqrtRatio = t.weierstrass = t.weierstrassPoints = t.DER = void 0);
        const r = n(2736),
          i = n(2765),
          o = n(2765),
          a = n(6458),
          { bytesToNumberBE: s, hexToBytes: l } = i;
        t.DER = {
          Err: class extends Error {
            constructor(e = "") {
              super(e);
            }
          },
          _parseInt(e) {
            const { Err: n } = t.DER;
            if (e.length < 2 || 2 !== e[0]) throw new n("Invalid signature integer tag");
            const r = e[1],
              i = e.subarray(2, r + 2);
            if (!r || i.length !== r) throw new n("Invalid signature integer: wrong length");
            if (128 & i[0]) throw new n("Invalid signature integer: negative");
            if (0 === i[0] && !(128 & i[1])) throw new n("Invalid signature integer: unnecessary leading zero");
            return { d: s(i), l: e.subarray(r + 2) };
          },
          toSig(e) {
            const { Err: n } = t.DER,
              r = "string" == typeof e ? l(e) : e;
            if (!(r instanceof Uint8Array)) throw new Error("ui8a expected");
            let i = r.length;
            if (i < 2 || 48 != r[0]) throw new n("Invalid signature tag");
            if (r[1] !== i - 2) throw new n("Invalid signature: incorrect length");
            const { d: o, l: a } = t.DER._parseInt(r.subarray(2)),
              { d: s, l: c } = t.DER._parseInt(a);
            if (c.length) throw new n("Invalid signature: left bytes after parsing");
            return { r: o, s };
          },
          hexFromSig(e) {
            const t = e => (8 & Number.parseInt(e[0], 16) ? "00" + e : e),
              n = e => {
                const t = e.toString(16);
                return 1 & t.length ? `0${t}` : t;
              },
              r = t(n(e.s)),
              i = t(n(e.r)),
              o = r.length / 2,
              a = i.length / 2,
              s = n(o),
              l = n(a);
            return `30${n(a + o + 4)}02${l}${i}02${s}${r}`;
          },
        };
        const c = BigInt(0),
          u = BigInt(1),
          d = BigInt(2),
          f = BigInt(3),
          h = BigInt(4);
        function p(e) {
          const t = (function (e) {
              const t = (0, a.validateBasic)(e);
              i.validateObject(
                t,
                { a: "field", b: "field" },
                {
                  allowedPrivateKeyLengths: "array",
                  wrapPrivateKey: "boolean",
                  isTorsionFree: "function",
                  clearCofactor: "function",
                  allowInfinityPoint: "boolean",
                  fromBytes: "function",
                  toBytes: "function",
                }
              );
              const { endo: n, Fp: r, a: o } = t;
              if (n) {
                if (!r.eql(o, r.ZERO))
                  throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");
                if ("object" != typeof n || "bigint" != typeof n.beta || "function" != typeof n.splitScalar)
                  throw new Error("Expected endomorphism with beta: bigint and splitScalar: function");
              }
              return Object.freeze({ ...t });
            })(e),
            { Fp: n } = t,
            s =
              t.toBytes ||
              ((e, t, r) => {
                const o = t.toAffine();
                return i.concatBytes(Uint8Array.from([4]), n.toBytes(o.x), n.toBytes(o.y));
              }),
            l =
              t.fromBytes ||
              (e => {
                const t = e.subarray(1);
                return { x: n.fromBytes(t.subarray(0, n.BYTES)), y: n.fromBytes(t.subarray(n.BYTES, 2 * n.BYTES)) };
              });
          function d(e) {
            const { a: r, b: i } = t,
              o = n.sqr(e),
              a = n.mul(o, e);
            return n.add(n.add(a, n.mul(e, r)), i);
          }
          if (!n.eql(n.sqr(t.Gy), d(t.Gx))) throw new Error("bad generator point: equation left != right");
          function h(e) {
            return "bigint" == typeof e && c < e && e < t.n;
          }
          function p(e) {
            if (!h(e)) throw new Error("Expected valid bigint: 0 < bigint < curve.n");
          }
          function m(e) {
            const { allowedPrivateKeyLengths: n, nByteLength: a, wrapPrivateKey: s, n: l } = t;
            if (n && "bigint" != typeof e) {
              if ((e instanceof Uint8Array && (e = i.bytesToHex(e)), "string" != typeof e || !n.includes(e.length)))
                throw new Error("Invalid key");
              e = e.padStart(2 * a, "0");
            }
            let c;
            try {
              c = "bigint" == typeof e ? e : i.bytesToNumberBE((0, o.ensureBytes)("private key", e, a));
            } catch (t) {
              throw new Error(`private key must be ${a} bytes, hex or bigint, not ${typeof e}`);
            }
            return s && (c = r.mod(c, l)), p(c), c;
          }
          const y = new Map();
          function g(e) {
            if (!(e instanceof v)) throw new Error("ProjectivePoint expected");
          }
          class v {
            constructor(e, t, r) {
              if (((this.px = e), (this.py = t), (this.pz = r), null == e || !n.isValid(e)))
                throw new Error("x required");
              if (null == t || !n.isValid(t)) throw new Error("y required");
              if (null == r || !n.isValid(r)) throw new Error("z required");
            }
            static fromAffine(e) {
              const { x: t, y: r } = e || {};
              if (!e || !n.isValid(t) || !n.isValid(r)) throw new Error("invalid affine point");
              if (e instanceof v) throw new Error("projective point not allowed");
              const i = e => n.eql(e, n.ZERO);
              return i(t) && i(r) ? v.ZERO : new v(t, r, n.ONE);
            }
            get x() {
              return this.toAffine().x;
            }
            get y() {
              return this.toAffine().y;
            }
            static normalizeZ(e) {
              const t = n.invertBatch(e.map(e => e.pz));
              return e.map((e, n) => e.toAffine(t[n])).map(v.fromAffine);
            }
            static fromHex(e) {
              const t = v.fromAffine(l((0, o.ensureBytes)("pointHex", e)));
              return t.assertValidity(), t;
            }
            static fromPrivateKey(e) {
              return v.BASE.multiply(m(e));
            }
            _setWindowSize(e) {
              (this._WINDOW_SIZE = e), y.delete(this);
            }
            assertValidity() {
              if (this.is0()) {
                if (t.allowInfinityPoint) return;
                throw new Error("bad point: ZERO");
              }
              const { x: e, y: r } = this.toAffine();
              if (!n.isValid(e) || !n.isValid(r)) throw new Error("bad point: x or y not FE");
              const i = n.sqr(r),
                o = d(e);
              if (!n.eql(i, o)) throw new Error("bad point: equation left != right");
              if (!this.isTorsionFree()) throw new Error("bad point: not in prime-order subgroup");
            }
            hasEvenY() {
              const { y: e } = this.toAffine();
              if (n.isOdd) return !n.isOdd(e);
              throw new Error("Field doesn't support isOdd");
            }
            equals(e) {
              g(e);
              const { px: t, py: r, pz: i } = this,
                { px: o, py: a, pz: s } = e,
                l = n.eql(n.mul(t, s), n.mul(o, i)),
                c = n.eql(n.mul(r, s), n.mul(a, i));
              return l && c;
            }
            negate() {
              return new v(this.px, n.neg(this.py), this.pz);
            }
            double() {
              const { a: e, b: r } = t,
                i = n.mul(r, f),
                { px: o, py: a, pz: s } = this;
              let l = n.ZERO,
                c = n.ZERO,
                u = n.ZERO,
                d = n.mul(o, o),
                h = n.mul(a, a),
                p = n.mul(s, s),
                m = n.mul(o, a);
              return (
                (m = n.add(m, m)),
                (u = n.mul(o, s)),
                (u = n.add(u, u)),
                (l = n.mul(e, u)),
                (c = n.mul(i, p)),
                (c = n.add(l, c)),
                (l = n.sub(h, c)),
                (c = n.add(h, c)),
                (c = n.mul(l, c)),
                (l = n.mul(m, l)),
                (u = n.mul(i, u)),
                (p = n.mul(e, p)),
                (m = n.sub(d, p)),
                (m = n.mul(e, m)),
                (m = n.add(m, u)),
                (u = n.add(d, d)),
                (d = n.add(u, d)),
                (d = n.add(d, p)),
                (d = n.mul(d, m)),
                (c = n.add(c, d)),
                (p = n.mul(a, s)),
                (p = n.add(p, p)),
                (d = n.mul(p, m)),
                (l = n.sub(l, d)),
                (u = n.mul(p, h)),
                (u = n.add(u, u)),
                (u = n.add(u, u)),
                new v(l, c, u)
              );
            }
            add(e) {
              g(e);
              const { px: r, py: i, pz: o } = this,
                { px: a, py: s, pz: l } = e;
              let c = n.ZERO,
                u = n.ZERO,
                d = n.ZERO;
              const h = t.a,
                p = n.mul(t.b, f);
              let m = n.mul(r, a),
                y = n.mul(i, s),
                w = n.mul(o, l),
                b = n.add(r, i),
                x = n.add(a, s);
              (b = n.mul(b, x)), (x = n.add(m, y)), (b = n.sub(b, x)), (x = n.add(r, o));
              let E = n.add(a, l);
              return (
                (x = n.mul(x, E)),
                (E = n.add(m, w)),
                (x = n.sub(x, E)),
                (E = n.add(i, o)),
                (c = n.add(s, l)),
                (E = n.mul(E, c)),
                (c = n.add(y, w)),
                (E = n.sub(E, c)),
                (d = n.mul(h, x)),
                (c = n.mul(p, w)),
                (d = n.add(c, d)),
                (c = n.sub(y, d)),
                (d = n.add(y, d)),
                (u = n.mul(c, d)),
                (y = n.add(m, m)),
                (y = n.add(y, m)),
                (w = n.mul(h, w)),
                (x = n.mul(p, x)),
                (y = n.add(y, w)),
                (w = n.sub(m, w)),
                (w = n.mul(h, w)),
                (x = n.add(x, w)),
                (m = n.mul(y, x)),
                (u = n.add(u, m)),
                (m = n.mul(E, x)),
                (c = n.mul(b, c)),
                (c = n.sub(c, m)),
                (m = n.mul(b, y)),
                (d = n.mul(E, d)),
                (d = n.add(d, m)),
                new v(c, u, d)
              );
            }
            subtract(e) {
              return this.add(e.negate());
            }
            is0() {
              return this.equals(v.ZERO);
            }
            wNAF(e) {
              return b.wNAFCached(this, y, e, e => {
                const t = n.invertBatch(e.map(e => e.pz));
                return e.map((e, n) => e.toAffine(t[n])).map(v.fromAffine);
              });
            }
            multiplyUnsafe(e) {
              const r = v.ZERO;
              if (e === c) return r;
              if ((p(e), e === u)) return this;
              const { endo: i } = t;
              if (!i) return b.unsafeLadder(this, e);
              let { k1neg: o, k1: a, k2neg: s, k2: l } = i.splitScalar(e),
                d = r,
                f = r,
                h = this;
              for (; a > c || l > c; )
                a & u && (d = d.add(h)), l & u && (f = f.add(h)), (h = h.double()), (a >>= u), (l >>= u);
              return (
                o && (d = d.negate()), s && (f = f.negate()), (f = new v(n.mul(f.px, i.beta), f.py, f.pz)), d.add(f)
              );
            }
            multiply(e) {
              p(e);
              let r,
                i,
                o = e;
              const { endo: a } = t;
              if (a) {
                const { k1neg: e, k1: t, k2neg: s, k2: l } = a.splitScalar(o);
                let { p: c, f: u } = this.wNAF(t),
                  { p: d, f } = this.wNAF(l);
                (c = b.constTimeNegate(e, c)),
                  (d = b.constTimeNegate(s, d)),
                  (d = new v(n.mul(d.px, a.beta), d.py, d.pz)),
                  (r = c.add(d)),
                  (i = u.add(f));
              } else {
                const { p: e, f: t } = this.wNAF(o);
                (r = e), (i = t);
              }
              return v.normalizeZ([r, i])[0];
            }
            multiplyAndAddUnsafe(e, t, n) {
              const r = v.BASE,
                i = (e, t) => (t !== c && t !== u && e.equals(r) ? e.multiply(t) : e.multiplyUnsafe(t)),
                o = i(this, t).add(i(e, n));
              return o.is0() ? void 0 : o;
            }
            toAffine(e) {
              const { px: t, py: r, pz: i } = this,
                o = this.is0();
              null == e && (e = o ? n.ONE : n.inv(i));
              const a = n.mul(t, e),
                s = n.mul(r, e),
                l = n.mul(i, e);
              if (o) return { x: n.ZERO, y: n.ZERO };
              if (!n.eql(l, n.ONE)) throw new Error("invZ was invalid");
              return { x: a, y: s };
            }
            isTorsionFree() {
              const { h: e, isTorsionFree: n } = t;
              if (e === u) return !0;
              if (n) return n(v, this);
              throw new Error("isTorsionFree() has not been declared for the elliptic curve");
            }
            clearCofactor() {
              const { h: e, clearCofactor: n } = t;
              return e === u ? this : n ? n(v, this) : this.multiplyUnsafe(t.h);
            }
            toRawBytes(e = !0) {
              return this.assertValidity(), s(v, this, e);
            }
            toHex(e = !0) {
              return i.bytesToHex(this.toRawBytes(e));
            }
          }
          (v.BASE = new v(t.Gx, t.Gy, n.ONE)), (v.ZERO = new v(n.ZERO, n.ONE, n.ZERO));
          const w = t.nBitLength,
            b = (0, a.wNAF)(v, t.endo ? Math.ceil(w / 2) : w);
          return {
            CURVE: t,
            ProjectivePoint: v,
            normPrivateKeyToScalar: m,
            weierstrassEquation: d,
            isWithinCurveOrder: h,
          };
        }
        function m(e, t) {
          const n = e.ORDER;
          let r = c;
          for (let e = n - u; e % d === c; e /= d) r += u;
          const i = r,
            o = (n - u) / d ** i,
            a = (o - u) / d,
            s = d ** i - u,
            l = d ** (i - u),
            p = e.pow(t, o),
            m = e.pow(t, (o + u) / d);
          let y = (t, n) => {
            let r = p,
              o = e.pow(n, s),
              c = e.sqr(o);
            c = e.mul(c, n);
            let f = e.mul(t, c);
            (f = e.pow(f, a)), (f = e.mul(f, o)), (o = e.mul(f, n)), (c = e.mul(f, t));
            let h = e.mul(c, o);
            f = e.pow(h, l);
            let y = e.eql(f, e.ONE);
            (o = e.mul(c, m)), (f = e.mul(h, r)), (c = e.cmov(o, c, y)), (h = e.cmov(f, h, y));
            for (let t = i; t > u; t--) {
              let n = d ** (t - d),
                i = e.pow(h, n);
              const a = e.eql(i, e.ONE);
              (o = e.mul(c, r)), (r = e.mul(r, r)), (i = e.mul(h, r)), (c = e.cmov(o, c, a)), (h = e.cmov(i, h, a));
            }
            return { isValid: y, value: c };
          };
          if (e.ORDER % h === f) {
            const n = (e.ORDER - f) / h,
              r = e.sqrt(e.neg(t));
            y = (t, i) => {
              let o = e.sqr(i);
              const a = e.mul(t, i);
              o = e.mul(o, a);
              let s = e.pow(o, n);
              s = e.mul(s, a);
              const l = e.mul(s, r),
                c = e.mul(e.sqr(s), i),
                u = e.eql(c, t);
              return { isValid: u, value: e.cmov(l, s, u) };
            };
          }
          return y;
        }
        (t.weierstrassPoints = p),
          (t.weierstrass = function (e) {
            const n = (function (e) {
                const t = (0, a.validateBasic)(e);
                return (
                  i.validateObject(
                    t,
                    { hash: "hash", hmac: "function", randomBytes: "function" },
                    { bits2int: "function", bits2int_modN: "function", lowS: "boolean" }
                  ),
                  Object.freeze({ lowS: !0, ...t })
                );
              })(e),
              { Fp: s, n: l } = n,
              d = s.BYTES + 1,
              f = 2 * s.BYTES + 1;
            function h(e) {
              return r.mod(e, l);
            }
            function m(e) {
              return r.invert(e, l);
            }
            const {
                ProjectivePoint: y,
                normPrivateKeyToScalar: g,
                weierstrassEquation: v,
                isWithinCurveOrder: w,
              } = p({
                ...n,
                toBytes(e, t, n) {
                  const r = t.toAffine(),
                    o = s.toBytes(r.x),
                    a = i.concatBytes;
                  return n ? a(Uint8Array.from([t.hasEvenY() ? 2 : 3]), o) : a(Uint8Array.from([4]), o, s.toBytes(r.y));
                },
                fromBytes(e) {
                  const t = e.length,
                    n = e[0],
                    r = e.subarray(1);
                  if (t !== d || (2 !== n && 3 !== n)) {
                    if (t === f && 4 === n)
                      return {
                        x: s.fromBytes(r.subarray(0, s.BYTES)),
                        y: s.fromBytes(r.subarray(s.BYTES, 2 * s.BYTES)),
                      };
                    throw new Error(
                      `Point of length ${t} was invalid. Expected ${d} compressed bytes or ${f} uncompressed bytes`
                    );
                  }
                  {
                    const e = i.bytesToNumberBE(r);
                    if (!(c < (o = e) && o < s.ORDER)) throw new Error("Point is not on curve");
                    const t = v(e);
                    let a = s.sqrt(t);
                    return (1 == (1 & n)) != ((a & u) === u) && (a = s.neg(a)), { x: e, y: a };
                  }
                  var o;
                },
              }),
              b = e => i.bytesToHex(i.numberToBytesBE(e, n.nByteLength));
            function x(e) {
              return e > l >> u;
            }
            const E = (e, t, n) => i.bytesToNumberBE(e.slice(t, n));
            class k {
              constructor(e, t, n) {
                (this.r = e), (this.s = t), (this.recovery = n), this.assertValidity();
              }
              static fromCompact(e) {
                const t = n.nByteLength;
                return (e = (0, o.ensureBytes)("compactSignature", e, 2 * t)), new k(E(e, 0, t), E(e, t, 2 * t));
              }
              static fromDER(e) {
                const { r: n, s: r } = t.DER.toSig((0, o.ensureBytes)("DER", e));
                return new k(n, r);
              }
              assertValidity() {
                if (!w(this.r)) throw new Error("r must be 0 < r < CURVE.n");
                if (!w(this.s)) throw new Error("s must be 0 < s < CURVE.n");
              }
              addRecoveryBit(e) {
                return new k(this.r, this.s, e);
              }
              recoverPublicKey(e) {
                const { r: t, s: r, recovery: i } = this,
                  a = C((0, o.ensureBytes)("msgHash", e));
                if (null == i || ![0, 1, 2, 3].includes(i)) throw new Error("recovery id invalid");
                const l = 2 === i || 3 === i ? t + n.n : t;
                if (l >= s.ORDER) throw new Error("recovery id 2 or 3 invalid");
                const c = 0 == (1 & i) ? "02" : "03",
                  u = y.fromHex(c + b(l)),
                  d = m(l),
                  f = h(-a * d),
                  p = h(r * d),
                  g = y.BASE.multiplyAndAddUnsafe(u, f, p);
                if (!g) throw new Error("point at infinify");
                return g.assertValidity(), g;
              }
              hasHighS() {
                return x(this.s);
              }
              normalizeS() {
                return this.hasHighS() ? new k(this.r, h(-this.s), this.recovery) : this;
              }
              toDERRawBytes() {
                return i.hexToBytes(this.toDERHex());
              }
              toDERHex() {
                return t.DER.hexFromSig({ r: this.r, s: this.s });
              }
              toCompactRawBytes() {
                return i.hexToBytes(this.toCompactHex());
              }
              toCompactHex() {
                return b(this.r) + b(this.s);
              }
            }
            const j = {
              isValidPrivateKey(e) {
                try {
                  return g(e), !0;
                } catch (e) {
                  return !1;
                }
              },
              normPrivateKeyToScalar: g,
              randomPrivateKey: () => {
                const e = n.randomBytes(s.BYTES + 8),
                  t = r.hashToPrivateScalar(e, l);
                return i.numberToBytesBE(t, n.nByteLength);
              },
              precompute: (e = 8, t = y.BASE) => (t._setWindowSize(e), t.multiply(BigInt(3)), t),
            };
            function S(e) {
              const t = e instanceof Uint8Array,
                n = "string" == typeof e,
                r = (t || n) && e.length;
              return t ? r === d || r === f : n ? r === 2 * d || r === 2 * f : e instanceof y;
            }
            const A =
                n.bits2int ||
                function (e) {
                  const t = i.bytesToNumberBE(e),
                    r = 8 * e.length - n.nBitLength;
                  return r > 0 ? t >> BigInt(r) : t;
                },
              C =
                n.bits2int_modN ||
                function (e) {
                  return h(A(e));
                },
              N = i.bitMask(n.nBitLength);
            function P(e) {
              if ("bigint" != typeof e) throw new Error("bigint expected");
              if (!(c <= e && e < N)) throw new Error(`bigint expected < 2^${n.nBitLength}`);
              return i.numberToBytesBE(e, n.nByteLength);
            }
            const _ = { lowS: n.lowS, prehash: !1 },
              T = { lowS: n.lowS, prehash: !1 };
            return (
              y.BASE._setWindowSize(8),
              {
                CURVE: n,
                getPublicKey: function (e, t = !0) {
                  return y.fromPrivateKey(e).toRawBytes(t);
                },
                getSharedSecret: function (e, t, n = !0) {
                  if (S(e)) throw new Error("first arg must be private key");
                  if (!S(t)) throw new Error("second arg must be public key");
                  return y.fromHex(t).multiply(g(e)).toRawBytes(n);
                },
                sign: function (e, t, r = _) {
                  const { seed: a, k2sig: l } = (function (e, t, r = _) {
                    if (["recovered", "canonical"].some(e => e in r))
                      throw new Error("sign() legacy options not supported");
                    const { hash: a, randomBytes: l } = n;
                    let { lowS: d, prehash: f, extraEntropy: p } = r;
                    null == d && (d = !0),
                      (e = (0, o.ensureBytes)("msgHash", e)),
                      f && (e = (0, o.ensureBytes)("prehashed msgHash", a(e)));
                    const v = C(e),
                      b = g(t),
                      E = [P(b), P(v)];
                    if (null != p) {
                      const e = !0 === p ? l(s.BYTES) : p;
                      E.push((0, o.ensureBytes)("extraEntropy", e, s.BYTES));
                    }
                    const j = i.concatBytes(...E),
                      S = v;
                    return {
                      seed: j,
                      k2sig: function (e) {
                        const t = A(e);
                        if (!w(t)) return;
                        const n = m(t),
                          r = y.BASE.multiply(t).toAffine(),
                          i = h(r.x);
                        if (i === c) return;
                        const o = h(n * h(S + i * b));
                        if (o === c) return;
                        let a = (r.x === i ? 0 : 2) | Number(r.y & u),
                          s = o;
                        return (
                          d &&
                            x(o) &&
                            ((s = (function (e) {
                              return x(e) ? h(-e) : e;
                            })(o)),
                            (a ^= 1)),
                          new k(i, s, a)
                        );
                      },
                    };
                  })(e, t, r);
                  return i.createHmacDrbg(n.hash.outputLen, n.nByteLength, n.hmac)(a, l);
                },
                verify: function (e, r, i, a = T) {
                  const s = e;
                  if (((r = (0, o.ensureBytes)("msgHash", r)), (i = (0, o.ensureBytes)("publicKey", i)), "strict" in a))
                    throw new Error("options.strict was renamed to lowS");
                  const { lowS: l, prehash: c } = a;
                  let u, d;
                  try {
                    if ("string" == typeof s || s instanceof Uint8Array)
                      try {
                        u = k.fromDER(s);
                      } catch (e) {
                        if (!(e instanceof t.DER.Err)) throw e;
                        u = k.fromCompact(s);
                      }
                    else {
                      if ("object" != typeof s || "bigint" != typeof s.r || "bigint" != typeof s.s)
                        throw new Error("PARSE");
                      {
                        const { r: e, s: t } = s;
                        u = new k(e, t);
                      }
                    }
                    d = y.fromHex(i);
                  } catch (e) {
                    if ("PARSE" === e.message)
                      throw new Error("signature must be Signature instance, Uint8Array or hex string");
                    return !1;
                  }
                  if (l && u.hasHighS()) return !1;
                  c && (r = n.hash(r));
                  const { r: f, s: p } = u,
                    g = C(r),
                    v = m(p),
                    w = h(g * v),
                    b = h(f * v),
                    x = y.BASE.multiplyAndAddUnsafe(d, w, b)?.toAffine();
                  return !!x && h(x.x) === f;
                },
                ProjectivePoint: y,
                Signature: k,
                utils: j,
              }
            );
          }),
          (t.SWUFpSqrtRatio = m),
          (t.mapToCurveSimpleSWU = function (e, t) {
            if ((r.validateField(e), !e.isValid(t.A) || !e.isValid(t.B) || !e.isValid(t.Z)))
              throw new Error("mapToCurveSimpleSWU: invalid opts");
            const n = m(e, t.Z);
            if (!e.isOdd) throw new Error("Fp.isOdd is not implemented!");
            return r => {
              let i, o, a, s, l, c, u, d;
              (i = e.sqr(r)),
                (i = e.mul(i, t.Z)),
                (o = e.sqr(i)),
                (o = e.add(o, i)),
                (a = e.add(o, e.ONE)),
                (a = e.mul(a, t.B)),
                (s = e.cmov(t.Z, e.neg(o), !e.eql(o, e.ZERO))),
                (s = e.mul(s, t.A)),
                (o = e.sqr(a)),
                (c = e.sqr(s)),
                (l = e.mul(c, t.A)),
                (o = e.add(o, l)),
                (o = e.mul(o, a)),
                (c = e.mul(c, s)),
                (l = e.mul(c, t.B)),
                (o = e.add(o, l)),
                (u = e.mul(i, a));
              const { isValid: f, value: h } = n(o, c);
              (d = e.mul(i, r)), (d = e.mul(d, h)), (u = e.cmov(u, a, f)), (d = e.cmov(d, h, f));
              const p = e.isOdd(r) === e.isOdd(d);
              return (d = e.cmov(e.neg(d), d, p)), (u = e.div(u, s)), { x: u, y: d };
            };
          });
      },
      4146: (e, t, n) => {
        "use strict";
        var r;
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.encodeToCurve = t.hashToCurve = t.schnorr = t.secp256k1 = void 0);
        const i = n(374),
          o = n(7571),
          a = n(2736),
          s = n(2307),
          l = n(2765),
          c = n(2624),
          u = n(5447),
          d = BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),
          f = BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),
          h = BigInt(1),
          p = BigInt(2),
          m = (e, t) => (e + t / p) / t;
        function y(e) {
          const t = d,
            n = BigInt(3),
            r = BigInt(6),
            i = BigInt(11),
            o = BigInt(22),
            s = BigInt(23),
            l = BigInt(44),
            c = BigInt(88),
            u = (e * e * e) % t,
            f = (u * u * e) % t,
            h = ((0, a.pow2)(f, n, t) * f) % t,
            m = ((0, a.pow2)(h, n, t) * f) % t,
            y = ((0, a.pow2)(m, p, t) * u) % t,
            v = ((0, a.pow2)(y, i, t) * y) % t,
            w = ((0, a.pow2)(v, o, t) * v) % t,
            b = ((0, a.pow2)(w, l, t) * w) % t,
            x = ((0, a.pow2)(b, c, t) * b) % t,
            E = ((0, a.pow2)(x, l, t) * w) % t,
            k = ((0, a.pow2)(E, n, t) * f) % t,
            j = ((0, a.pow2)(k, s, t) * v) % t,
            S = ((0, a.pow2)(j, r, t) * u) % t,
            A = (0, a.pow2)(S, p, t);
          if (!g.eql(g.sqr(A), e)) throw new Error("Cannot find square root");
          return A;
        }
        const g = (0, a.Field)(d, void 0, void 0, { sqrt: y });
        t.secp256k1 = (0, u.createCurve)(
          {
            a: BigInt(0),
            b: BigInt(7),
            Fp: g,
            n: f,
            Gx: BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),
            Gy: BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),
            h: BigInt(1),
            lowS: !0,
            endo: {
              beta: BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),
              splitScalar: e => {
                const t = f,
                  n = BigInt("0x3086d221a7d46bcde86c90e49284eb15"),
                  r = -h * BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),
                  i = BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),
                  o = n,
                  s = BigInt("0x100000000000000000000000000000000"),
                  l = m(o * e, t),
                  c = m(-r * e, t);
                let u = (0, a.mod)(e - l * n - c * i, t),
                  d = (0, a.mod)(-l * r - c * o, t);
                const p = u > s,
                  y = d > s;
                if ((p && (u = t - u), y && (d = t - d), u > s || d > s))
                  throw new Error("splitScalar: Endomorphism failed, k=" + e);
                return { k1neg: p, k1: u, k2neg: y, k2: d };
              },
            },
          },
          i.sha256
        );
        const v = BigInt(0),
          w = e => "bigint" == typeof e && v < e && e < d,
          b = {};
        function x(e, ...t) {
          let n = b[e];
          if (void 0 === n) {
            const t = (0, i.sha256)(Uint8Array.from(e, e => e.charCodeAt(0)));
            (n = (0, l.concatBytes)(t, t)), (b[e] = n);
          }
          return (0, i.sha256)((0, l.concatBytes)(n, ...t));
        }
        const E = e => e.toRawBytes(!0).slice(1),
          k = e => (0, l.numberToBytesBE)(e, 32),
          j = e => (0, a.mod)(e, d),
          S = e => (0, a.mod)(e, f),
          A = t.secp256k1.ProjectivePoint;
        function C(e) {
          let n = t.secp256k1.utils.normPrivateKeyToScalar(e),
            r = A.fromPrivateKey(n);
          return { scalar: r.hasEvenY() ? n : S(-n), bytes: E(r) };
        }
        function N(e) {
          if (!w(e)) throw new Error("bad x: need 0 < x < p");
          const t = j(e * e);
          let n = y(j(t * e + BigInt(7)));
          n % p !== v && (n = j(-n));
          const r = new A(e, n, h);
          return r.assertValidity(), r;
        }
        function P(...e) {
          return S((0, l.bytesToNumberBE)(x("BIP0340/challenge", ...e)));
        }
        function _(e, t, n) {
          const r = (0, l.ensureBytes)("signature", e, 64),
            i = (0, l.ensureBytes)("message", t),
            o = (0, l.ensureBytes)("publicKey", n, 32);
          try {
            const e = N((0, l.bytesToNumberBE)(o)),
              t = (0, l.bytesToNumberBE)(r.subarray(0, 32));
            if (!w(t)) return !1;
            const n = (0, l.bytesToNumberBE)(r.subarray(32, 64));
            if (!("bigint" == typeof (u = n) && v < u && u < f)) return !1;
            const d = P(k(t), E(e), i),
              h = ((a = e), (s = n), (c = S(-d)), A.BASE.multiplyAndAddUnsafe(a, s, c));
            return !(!h || !h.hasEvenY() || h.toAffine().x !== t);
          } catch (e) {
            return !1;
          }
          var a, s, c, u;
        }
        t.schnorr = {
          getPublicKey: function (e) {
            return C(e).bytes;
          },
          sign: function (e, t, n = (0, o.randomBytes)(32)) {
            const r = (0, l.ensureBytes)("message", e),
              { bytes: i, scalar: a } = C(t),
              s = (0, l.ensureBytes)("auxRand", n, 32),
              c = k(a ^ (0, l.bytesToNumberBE)(x("BIP0340/aux", s))),
              u = x("BIP0340/nonce", c, i, r),
              d = S((0, l.bytesToNumberBE)(u));
            if (d === v) throw new Error("sign failed: k is zero");
            const { bytes: f, scalar: h } = C(d),
              p = P(f, i, r),
              m = new Uint8Array(64);
            if ((m.set(f, 0), m.set(k(S(h + p * a)), 32), !_(m, r, i)))
              throw new Error("sign: Invalid signature produced");
            return m;
          },
          verify: _,
          utils: {
            randomPrivateKey: t.secp256k1.utils.randomPrivateKey,
            lift_x: N,
            pointToBytes: E,
            numberToBytesBE: l.numberToBytesBE,
            bytesToNumberBE: l.bytesToNumberBE,
            taggedHash: x,
            mod: a.mod,
          },
        };
        const T = c.isogenyMap(
            g,
            [
              [
                "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7",
                "0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581",
                "0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262",
                "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c",
              ],
              [
                "0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b",
                "0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14",
                "0x0000000000000000000000000000000000000000000000000000000000000001",
              ],
              [
                "0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c",
                "0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3",
                "0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931",
                "0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84",
              ],
              [
                "0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b",
                "0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573",
                "0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f",
                "0x0000000000000000000000000000000000000000000000000000000000000001",
              ],
            ].map(e => e.map(e => BigInt(e)))
          ),
          M = (0, s.mapToCurveSimpleSWU)(g, {
            A: BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),
            B: BigInt("1771"),
            Z: g.create(BigInt("-11")),
          });
        (r = c.createHasher(
          t.secp256k1.ProjectivePoint,
          e => {
            const { x: t, y: n } = M(g.create(e[0]));
            return T(t, n);
          },
          {
            DST: "secp256k1_XMD:SHA-256_SSWU_RO_",
            encodeDST: "secp256k1_XMD:SHA-256_SSWU_NU_",
            p: g.ORDER,
            m: 1,
            k: 128,
            expand: "xmd",
            hash: i.sha256,
          }
        )),
          (t.hashToCurve = r.hashToCurve),
          (t.encodeToCurve = r.encodeToCurve);
      },
      9928: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.createCurve = t.getHash = void 0);
        const r = n(67),
          i = n(1937),
          o = n(9682);
        function a(e) {
          return {
            hash: e,
            hmac: (t, ...n) => (0, r.hmac)(e, t, (0, i.concatBytes)(...n)),
            randomBytes: i.randomBytes,
          };
        }
        (t.getHash = a),
          (t.createCurve = function (e, t) {
            const n = t => (0, o.weierstrass)({ ...e, ...a(t) });
            return Object.freeze({ ...n(t), create: n });
          });
      },
      1686: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.validateBasic = t.wNAF = void 0);
        const r = n(6660),
          i = n(8298),
          o = BigInt(0),
          a = BigInt(1);
        (t.wNAF = function (e, t) {
          const n = (e, t) => {
              const n = t.negate();
              return e ? n : t;
            },
            r = e => ({ windows: Math.ceil(t / e) + 1, windowSize: 2 ** (e - 1) });
          return {
            constTimeNegate: n,
            unsafeLadder(t, n) {
              let r = e.ZERO,
                i = t;
              for (; n > o; ) n & a && (r = r.add(i)), (i = i.double()), (n >>= a);
              return r;
            },
            precomputeWindow(e, t) {
              const { windows: n, windowSize: i } = r(t),
                o = [];
              let a = e,
                s = a;
              for (let e = 0; e < n; e++) {
                (s = a), o.push(s);
                for (let e = 1; e < i; e++) (s = s.add(a)), o.push(s);
                a = s.double();
              }
              return o;
            },
            wNAF(t, i, o) {
              const { windows: s, windowSize: l } = r(t);
              let c = e.ZERO,
                u = e.BASE;
              const d = BigInt(2 ** t - 1),
                f = 2 ** t,
                h = BigInt(t);
              for (let e = 0; e < s; e++) {
                const t = e * l;
                let r = Number(o & d);
                (o >>= h), r > l && ((r -= f), (o += a));
                const s = t,
                  p = t + Math.abs(r) - 1,
                  m = e % 2 != 0,
                  y = r < 0;
                0 === r ? (u = u.add(n(m, i[s]))) : (c = c.add(n(y, i[p])));
              }
              return { p: c, f: u };
            },
            wNAFCached(e, t, n, r) {
              const i = e._WINDOW_SIZE || 1;
              let o = t.get(e);
              return o || ((o = this.precomputeWindow(e, i)), 1 !== i && t.set(e, r(o))), this.wNAF(i, o, n);
            },
          };
        }),
          (t.validateBasic = function (e) {
            return (
              (0, r.validateField)(e.Fp),
              (0, i.validateObject)(
                e,
                { n: "bigint", h: "bigint", Gx: "field", Gy: "field" },
                { nBitLength: "isSafeInteger", nByteLength: "isSafeInteger" }
              ),
              Object.freeze({ ...(0, r.nLength)(e.n, e.nBitLength), ...e, p: e.Fp.ORDER })
            );
          });
      },
      7482: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.createHasher = t.isogenyMap = t.hash_to_field = t.expand_message_xof = t.expand_message_xmd = void 0);
        const r = n(6660),
          i = n(8298),
          o = i.bytesToNumberBE;
        function a(e, t) {
          if (e < 0 || e >= 1 << (8 * t)) throw new Error(`bad I2OSP call: value=${e} length=${t}`);
          const n = Array.from({ length: t }).fill(0);
          for (let r = t - 1; r >= 0; r--) (n[r] = 255 & e), (e >>>= 8);
          return new Uint8Array(n);
        }
        function s(e, t) {
          const n = new Uint8Array(e.length);
          for (let r = 0; r < e.length; r++) n[r] = e[r] ^ t[r];
          return n;
        }
        function l(e) {
          if (!(e instanceof Uint8Array)) throw new Error("Uint8Array expected");
        }
        function c(e) {
          if (!Number.isSafeInteger(e)) throw new Error("number expected");
        }
        function u(e, t, n, r) {
          l(e), l(t), c(n), t.length > 255 && (t = r((0, i.concatBytes)((0, i.utf8ToBytes)("H2C-OVERSIZE-DST-"), t)));
          const { outputLen: o, blockLen: u } = r,
            d = Math.ceil(n / o);
          if (d > 255) throw new Error("Invalid xmd length");
          const f = (0, i.concatBytes)(t, a(t.length, 1)),
            h = a(0, u),
            p = a(n, 2),
            m = new Array(d),
            y = r((0, i.concatBytes)(h, e, p, a(0, 1), f));
          m[0] = r((0, i.concatBytes)(y, a(1, 1), f));
          for (let e = 1; e <= d; e++) {
            const t = [s(y, m[e - 1]), a(e + 1, 1), f];
            m[e] = r((0, i.concatBytes)(...t));
          }
          return (0, i.concatBytes)(...m).slice(0, n);
        }
        function d(e, t, n, r, o) {
          if ((l(e), l(t), c(n), t.length > 255)) {
            const e = Math.ceil((2 * r) / 8);
            t = o
              .create({ dkLen: e })
              .update((0, i.utf8ToBytes)("H2C-OVERSIZE-DST-"))
              .update(t)
              .digest();
          }
          if (n > 65535 || t.length > 255) throw new Error("expand_message_xof: invalid lenInBytes");
          return o.create({ dkLen: n }).update(e).update(a(n, 2)).update(t).update(a(t.length, 1)).digest();
        }
        function f(e, t, n) {
          (0, i.validateObject)(n, {
            DST: "string",
            p: "bigint",
            m: "isSafeInteger",
            k: "isSafeInteger",
            hash: "hash",
          });
          const { p: a, k: s, m: f, hash: h, expand: p, DST: m } = n;
          l(e), c(t);
          const y = (function (e) {
              if (e instanceof Uint8Array) return e;
              if ("string" == typeof e) return (0, i.utf8ToBytes)(e);
              throw new Error("DST must be Uint8Array or string");
            })(m),
            g = a.toString(2).length,
            v = Math.ceil((g + s) / 8),
            w = t * f * v;
          let b;
          if ("xmd" === p) b = u(e, y, w, h);
          else if ("xof" === p) b = d(e, y, w, s, h);
          else {
            if ("_internal_pass" !== p) throw new Error('expand must be "xmd" or "xof"');
            b = e;
          }
          const x = new Array(t);
          for (let e = 0; e < t; e++) {
            const t = new Array(f);
            for (let n = 0; n < f; n++) {
              const i = v * (n + e * f),
                s = b.subarray(i, i + v);
              t[n] = (0, r.mod)(o(s), a);
            }
            x[e] = t;
          }
          return x;
        }
        (t.expand_message_xmd = u),
          (t.expand_message_xof = d),
          (t.hash_to_field = f),
          (t.isogenyMap = function (e, t) {
            const n = t.map(e => Array.from(e).reverse());
            return (t, r) => {
              const [i, o, a, s] = n.map(n => n.reduce((n, r) => e.add(e.mul(n, t), r)));
              return (t = e.div(i, o)), (r = e.mul(r, e.div(a, s))), { x: t, y: r };
            };
          }),
          (t.createHasher = function (e, t, n) {
            if ("function" != typeof t) throw new Error("mapToCurve() must be defined");
            return {
              hashToCurve(r, i) {
                const o = f(r, 2, { ...n, DST: n.DST, ...i }),
                  a = e.fromAffine(t(o[0])),
                  s = e.fromAffine(t(o[1])),
                  l = a.add(s).clearCofactor();
                return l.assertValidity(), l;
              },
              encodeToCurve(r, i) {
                const o = f(r, 1, { ...n, DST: n.encodeDST, ...i }),
                  a = e.fromAffine(t(o[0])).clearCofactor();
                return a.assertValidity(), a;
              },
            };
          });
      },
      6660: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.hashToPrivateScalar =
            t.FpSqrtEven =
            t.FpSqrtOdd =
            t.Field =
            t.nLength =
            t.FpIsSquare =
            t.FpDiv =
            t.FpInvertBatch =
            t.FpPow =
            t.validateField =
            t.isNegativeLE =
            t.FpSqrt =
            t.tonelliShanks =
            t.invert =
            t.pow2 =
            t.pow =
            t.mod =
              void 0);
        const r = n(8298),
          i = BigInt(0),
          o = BigInt(1),
          a = BigInt(2),
          s = BigInt(3),
          l = BigInt(4),
          c = BigInt(5),
          u = BigInt(8);
        function d(e, t) {
          const n = e % t;
          return n >= i ? n : t + n;
        }
        function f(e, t, n) {
          if (n <= i || t < i) throw new Error("Expected power/modulo > 0");
          if (n === o) return i;
          let r = o;
          for (; t > i; ) t & o && (r = (r * e) % n), (e = (e * e) % n), (t >>= o);
          return r;
        }
        function h(e, t) {
          if (e === i || t <= i) throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);
          let n = d(e, t),
            r = t,
            a = i,
            s = o,
            l = o,
            c = i;
          for (; n !== i; ) {
            const e = r / n,
              t = r % n,
              i = a - l * e,
              o = s - c * e;
            (r = n), (n = t), (a = l), (s = c), (l = i), (c = o);
          }
          if (r !== o) throw new Error("invert: does not exist");
          return d(a, t);
        }
        function p(e) {
          const t = (e - o) / a;
          let n, r, s;
          for (n = e - o, r = 0; n % a === i; n /= a, r++);
          for (s = a; s < e && f(s, t, e) !== e - o; s++);
          if (1 === r) {
            const t = (e + o) / l;
            return function (e, n) {
              const r = e.pow(n, t);
              if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root");
              return r;
            };
          }
          const c = (n + o) / a;
          return function (e, i) {
            if (e.pow(i, t) === e.neg(e.ONE)) throw new Error("Cannot find square root");
            let a = r,
              l = e.pow(e.mul(e.ONE, s), n),
              u = e.pow(i, c),
              d = e.pow(i, n);
            for (; !e.eql(d, e.ONE); ) {
              if (e.eql(d, e.ZERO)) return e.ZERO;
              let t = 1;
              for (let n = e.sqr(d); t < a && !e.eql(n, e.ONE); t++) n = e.sqr(n);
              const n = e.pow(l, o << BigInt(a - t - 1));
              (l = e.sqr(n)), (u = e.mul(u, n)), (d = e.mul(d, l)), (a = t);
            }
            return u;
          };
        }
        function m(e) {
          if (e % l === s) {
            const t = (e + o) / l;
            return function (e, n) {
              const r = e.pow(n, t);
              if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root");
              return r;
            };
          }
          if (e % u === c) {
            const t = (e - c) / u;
            return function (e, n) {
              const r = e.mul(n, a),
                i = e.pow(r, t),
                o = e.mul(n, i),
                s = e.mul(e.mul(o, a), i),
                l = e.mul(o, e.sub(s, e.ONE));
              if (!e.eql(e.sqr(l), n)) throw new Error("Cannot find square root");
              return l;
            };
          }
          return p(e);
        }
        BigInt(9),
          BigInt(16),
          (t.mod = d),
          (t.pow = f),
          (t.pow2 = function (e, t, n) {
            let r = e;
            for (; t-- > i; ) (r *= r), (r %= n);
            return r;
          }),
          (t.invert = h),
          (t.tonelliShanks = p),
          (t.FpSqrt = m),
          (t.isNegativeLE = (e, t) => (d(e, t) & o) === o);
        const y = [
          "create",
          "isValid",
          "is0",
          "neg",
          "inv",
          "sqrt",
          "sqr",
          "eql",
          "add",
          "sub",
          "mul",
          "pow",
          "div",
          "addN",
          "subN",
          "mulN",
          "sqrN",
        ];
        function g(e, t, n) {
          if (n < i) throw new Error("Expected power > 0");
          if (n === i) return e.ONE;
          if (n === o) return t;
          let r = e.ONE,
            a = t;
          for (; n > i; ) n & o && (r = e.mul(r, a)), (a = e.sqr(a)), (n >>= o);
          return r;
        }
        function v(e, t) {
          const n = new Array(t.length),
            r = t.reduce((t, r, i) => (e.is0(r) ? t : ((n[i] = t), e.mul(t, r))), e.ONE),
            i = e.inv(r);
          return t.reduceRight((t, r, i) => (e.is0(r) ? t : ((n[i] = e.mul(t, n[i])), e.mul(t, r))), i), n;
        }
        function w(e, t) {
          const n = void 0 !== t ? t : e.toString(2).length;
          return { nBitLength: n, nByteLength: Math.ceil(n / 8) };
        }
        (t.validateField = function (e) {
          const t = y.reduce((e, t) => ((e[t] = "function"), e), {
            ORDER: "bigint",
            MASK: "bigint",
            BYTES: "isSafeInteger",
            BITS: "isSafeInteger",
          });
          return (0, r.validateObject)(e, t);
        }),
          (t.FpPow = g),
          (t.FpInvertBatch = v),
          (t.FpDiv = function (e, t, n) {
            return e.mul(t, "bigint" == typeof n ? h(n, e.ORDER) : e.inv(n));
          }),
          (t.FpIsSquare = function (e) {
            const t = (e.ORDER - o) / a;
            return n => {
              const r = e.pow(n, t);
              return e.eql(r, e.ZERO) || e.eql(r, e.ONE);
            };
          }),
          (t.nLength = w),
          (t.Field = function (e, t, n = !1, a = {}) {
            if (e <= i) throw new Error(`Expected Fp ORDER > 0, got ${e}`);
            const { nBitLength: s, nByteLength: l } = w(e, t);
            if (l > 2048) throw new Error("Field lengths over 2048 bytes are not supported");
            const c = m(e),
              u = Object.freeze({
                ORDER: e,
                BITS: s,
                BYTES: l,
                MASK: (0, r.bitMask)(s),
                ZERO: i,
                ONE: o,
                create: t => d(t, e),
                isValid: t => {
                  if ("bigint" != typeof t) throw new Error("Invalid field element: expected bigint, got " + typeof t);
                  return i <= t && t < e;
                },
                is0: e => e === i,
                isOdd: e => (e & o) === o,
                neg: t => d(-t, e),
                eql: (e, t) => e === t,
                sqr: t => d(t * t, e),
                add: (t, n) => d(t + n, e),
                sub: (t, n) => d(t - n, e),
                mul: (t, n) => d(t * n, e),
                pow: (e, t) => g(u, e, t),
                div: (t, n) => d(t * h(n, e), e),
                sqrN: e => e * e,
                addN: (e, t) => e + t,
                subN: (e, t) => e - t,
                mulN: (e, t) => e * t,
                inv: t => h(t, e),
                sqrt: a.sqrt || (e => c(u, e)),
                invertBatch: e => v(u, e),
                cmov: (e, t, n) => (n ? t : e),
                toBytes: e => (n ? (0, r.numberToBytesLE)(e, l) : (0, r.numberToBytesBE)(e, l)),
                fromBytes: e => {
                  if (e.length !== l) throw new Error(`Fp.fromBytes: expected ${l}, got ${e.length}`);
                  return n ? (0, r.bytesToNumberLE)(e) : (0, r.bytesToNumberBE)(e);
                },
              });
            return Object.freeze(u);
          }),
          (t.FpSqrtOdd = function (e, t) {
            if (!e.isOdd) throw new Error("Field doesn't have isOdd");
            const n = e.sqrt(t);
            return e.isOdd(n) ? n : e.neg(n);
          }),
          (t.FpSqrtEven = function (e, t) {
            if (!e.isOdd) throw new Error("Field doesn't have isOdd");
            const n = e.sqrt(t);
            return e.isOdd(n) ? e.neg(n) : n;
          }),
          (t.hashToPrivateScalar = function (e, t, n = !1) {
            const i = (e = (0, r.ensureBytes)("privateHash", e)).length,
              a = w(t).nByteLength + 8;
            if (a < 24 || i < a || i > 1024)
              throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${i}`);
            return d(n ? (0, r.bytesToNumberLE)(e) : (0, r.bytesToNumberBE)(e), t - o) + o;
          });
      },
      8298: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.validateObject =
            t.createHmacDrbg =
            t.bitMask =
            t.bitSet =
            t.bitGet =
            t.bitLen =
            t.utf8ToBytes =
            t.equalBytes =
            t.concatBytes =
            t.ensureBytes =
            t.numberToVarBytesBE =
            t.numberToBytesLE =
            t.numberToBytesBE =
            t.bytesToNumberLE =
            t.bytesToNumberBE =
            t.hexToBytes =
            t.hexToNumber =
            t.numberToHexUnpadded =
            t.bytesToHex =
              void 0);
        const n = BigInt(0),
          r = BigInt(1),
          i = BigInt(2),
          o = e => e instanceof Uint8Array,
          a = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0"));
        function s(e) {
          if (!o(e)) throw new Error("Uint8Array expected");
          let t = "";
          for (let n = 0; n < e.length; n++) t += a[e[n]];
          return t;
        }
        function l(e) {
          const t = e.toString(16);
          return 1 & t.length ? `0${t}` : t;
        }
        function c(e) {
          if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
          return BigInt("" === e ? "0" : `0x${e}`);
        }
        function u(e) {
          if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
          const t = e.length;
          if (t % 2) throw new Error("padded hex string expected, got unpadded hex of length " + t);
          const n = new Uint8Array(t / 2);
          for (let t = 0; t < n.length; t++) {
            const r = 2 * t,
              i = e.slice(r, r + 2),
              o = Number.parseInt(i, 16);
            if (Number.isNaN(o) || o < 0) throw new Error("Invalid byte sequence");
            n[t] = o;
          }
          return n;
        }
        function d(e, t) {
          return u(e.toString(16).padStart(2 * t, "0"));
        }
        function f(...e) {
          const t = new Uint8Array(e.reduce((e, t) => e + t.length, 0));
          let n = 0;
          return (
            e.forEach(e => {
              if (!o(e)) throw new Error("Uint8Array expected");
              t.set(e, n), (n += e.length);
            }),
            t
          );
        }
        (t.bytesToHex = s),
          (t.numberToHexUnpadded = l),
          (t.hexToNumber = c),
          (t.hexToBytes = u),
          (t.bytesToNumberBE = function (e) {
            return c(s(e));
          }),
          (t.bytesToNumberLE = function (e) {
            if (!o(e)) throw new Error("Uint8Array expected");
            return c(s(Uint8Array.from(e).reverse()));
          }),
          (t.numberToBytesBE = d),
          (t.numberToBytesLE = function (e, t) {
            return d(e, t).reverse();
          }),
          (t.numberToVarBytesBE = function (e) {
            return u(l(e));
          }),
          (t.ensureBytes = function (e, t, n) {
            let r;
            if ("string" == typeof t)
              try {
                r = u(t);
              } catch (n) {
                throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`);
              }
            else {
              if (!o(t)) throw new Error(`${e} must be hex string or Uint8Array`);
              r = Uint8Array.from(t);
            }
            const i = r.length;
            if ("number" == typeof n && i !== n) throw new Error(`${e} expected ${n} bytes, got ${i}`);
            return r;
          }),
          (t.concatBytes = f),
          (t.equalBytes = function (e, t) {
            if (e.length !== t.length) return !1;
            for (let n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;
            return !0;
          }),
          (t.utf8ToBytes = function (e) {
            if ("string" != typeof e) throw new Error("utf8ToBytes expected string, got " + typeof e);
            return new Uint8Array(new TextEncoder().encode(e));
          }),
          (t.bitLen = function (e) {
            let t;
            for (t = 0; e > n; e >>= r, t += 1);
            return t;
          }),
          (t.bitGet = function (e, t) {
            return (e >> BigInt(t)) & r;
          }),
          (t.bitSet = (e, t, i) => e | ((i ? r : n) << BigInt(t))),
          (t.bitMask = e => (i << BigInt(e - 1)) - r);
        const h = e => new Uint8Array(e),
          p = e => Uint8Array.from(e);
        t.createHmacDrbg = function (e, t, n) {
          if ("number" != typeof e || e < 2) throw new Error("hashLen must be a number");
          if ("number" != typeof t || t < 2) throw new Error("qByteLen must be a number");
          if ("function" != typeof n) throw new Error("hmacFn must be a function");
          let r = h(e),
            i = h(e),
            o = 0;
          const a = () => {
              r.fill(1), i.fill(0), (o = 0);
            },
            s = (...e) => n(i, r, ...e),
            l = (e = h()) => {
              (i = s(p([0]), e)), (r = s()), 0 !== e.length && ((i = s(p([1]), e)), (r = s()));
            },
            c = () => {
              if (o++ >= 1e3) throw new Error("drbg: tried 1000 values");
              let e = 0;
              const n = [];
              for (; e < t; ) {
                r = s();
                const t = r.slice();
                n.push(t), (e += r.length);
              }
              return f(...n);
            };
          return (e, t) => {
            let n;
            for (a(), l(e); !(n = t(c())); ) l();
            return a(), n;
          };
        };
        const m = {
          bigint: e => "bigint" == typeof e,
          function: e => "function" == typeof e,
          boolean: e => "boolean" == typeof e,
          string: e => "string" == typeof e,
          isSafeInteger: e => Number.isSafeInteger(e),
          array: e => Array.isArray(e),
          field: (e, t) => t.Fp.isValid(e),
          hash: e => "function" == typeof e && Number.isSafeInteger(e.outputLen),
        };
        t.validateObject = function (e, t, n = {}) {
          const r = (t, n, r) => {
            const i = m[n];
            if ("function" != typeof i) throw new Error(`Invalid validator "${n}", expected function`);
            const o = e[t];
            if (!((r && void 0 === o) || i(o, e)))
              throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`);
          };
          for (const [e, n] of Object.entries(t)) r(e, n, !1);
          for (const [e, t] of Object.entries(n)) r(e, t, !0);
          return e;
        };
      },
      9682: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.mapToCurveSimpleSWU = t.SWUFpSqrtRatio = t.weierstrass = t.weierstrassPoints = t.DER = void 0);
        const r = n(6660),
          i = n(8298),
          o = n(8298),
          a = n(1686),
          { bytesToNumberBE: s, hexToBytes: l } = i;
        t.DER = {
          Err: class extends Error {
            constructor(e = "") {
              super(e);
            }
          },
          _parseInt(e) {
            const { Err: n } = t.DER;
            if (e.length < 2 || 2 !== e[0]) throw new n("Invalid signature integer tag");
            const r = e[1],
              i = e.subarray(2, r + 2);
            if (!r || i.length !== r) throw new n("Invalid signature integer: wrong length");
            if (128 & i[0]) throw new n("Invalid signature integer: negative");
            if (0 === i[0] && !(128 & i[1])) throw new n("Invalid signature integer: unnecessary leading zero");
            return { d: s(i), l: e.subarray(r + 2) };
          },
          toSig(e) {
            const { Err: n } = t.DER,
              r = "string" == typeof e ? l(e) : e;
            if (!(r instanceof Uint8Array)) throw new Error("ui8a expected");
            let i = r.length;
            if (i < 2 || 48 != r[0]) throw new n("Invalid signature tag");
            if (r[1] !== i - 2) throw new n("Invalid signature: incorrect length");
            const { d: o, l: a } = t.DER._parseInt(r.subarray(2)),
              { d: s, l: c } = t.DER._parseInt(a);
            if (c.length) throw new n("Invalid signature: left bytes after parsing");
            return { r: o, s };
          },
          hexFromSig(e) {
            const t = e => (8 & Number.parseInt(e[0], 16) ? "00" + e : e),
              n = e => {
                const t = e.toString(16);
                return 1 & t.length ? `0${t}` : t;
              },
              r = t(n(e.s)),
              i = t(n(e.r)),
              o = r.length / 2,
              a = i.length / 2,
              s = n(o),
              l = n(a);
            return `30${n(a + o + 4)}02${l}${i}02${s}${r}`;
          },
        };
        const c = BigInt(0),
          u = BigInt(1),
          d = BigInt(2),
          f = BigInt(3),
          h = BigInt(4);
        function p(e) {
          const t = (function (e) {
              const t = (0, a.validateBasic)(e);
              i.validateObject(
                t,
                { a: "field", b: "field" },
                {
                  allowedPrivateKeyLengths: "array",
                  wrapPrivateKey: "boolean",
                  isTorsionFree: "function",
                  clearCofactor: "function",
                  allowInfinityPoint: "boolean",
                  fromBytes: "function",
                  toBytes: "function",
                }
              );
              const { endo: n, Fp: r, a: o } = t;
              if (n) {
                if (!r.eql(o, r.ZERO))
                  throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");
                if ("object" != typeof n || "bigint" != typeof n.beta || "function" != typeof n.splitScalar)
                  throw new Error("Expected endomorphism with beta: bigint and splitScalar: function");
              }
              return Object.freeze({ ...t });
            })(e),
            { Fp: n } = t,
            s =
              t.toBytes ||
              ((e, t, r) => {
                const o = t.toAffine();
                return i.concatBytes(Uint8Array.from([4]), n.toBytes(o.x), n.toBytes(o.y));
              }),
            l =
              t.fromBytes ||
              (e => {
                const t = e.subarray(1);
                return { x: n.fromBytes(t.subarray(0, n.BYTES)), y: n.fromBytes(t.subarray(n.BYTES, 2 * n.BYTES)) };
              });
          function d(e) {
            const { a: r, b: i } = t,
              o = n.sqr(e),
              a = n.mul(o, e);
            return n.add(n.add(a, n.mul(e, r)), i);
          }
          if (!n.eql(n.sqr(t.Gy), d(t.Gx))) throw new Error("bad generator point: equation left != right");
          function h(e) {
            return "bigint" == typeof e && c < e && e < t.n;
          }
          function p(e) {
            if (!h(e)) throw new Error("Expected valid bigint: 0 < bigint < curve.n");
          }
          function m(e) {
            const { allowedPrivateKeyLengths: n, nByteLength: a, wrapPrivateKey: s, n: l } = t;
            if (n && "bigint" != typeof e) {
              if ((e instanceof Uint8Array && (e = i.bytesToHex(e)), "string" != typeof e || !n.includes(e.length)))
                throw new Error("Invalid key");
              e = e.padStart(2 * a, "0");
            }
            let c;
            try {
              c = "bigint" == typeof e ? e : i.bytesToNumberBE((0, o.ensureBytes)("private key", e, a));
            } catch (t) {
              throw new Error(`private key must be ${a} bytes, hex or bigint, not ${typeof e}`);
            }
            return s && (c = r.mod(c, l)), p(c), c;
          }
          const y = new Map();
          function g(e) {
            if (!(e instanceof v)) throw new Error("ProjectivePoint expected");
          }
          class v {
            constructor(e, t, r) {
              if (((this.px = e), (this.py = t), (this.pz = r), null == e || !n.isValid(e)))
                throw new Error("x required");
              if (null == t || !n.isValid(t)) throw new Error("y required");
              if (null == r || !n.isValid(r)) throw new Error("z required");
            }
            static fromAffine(e) {
              const { x: t, y: r } = e || {};
              if (!e || !n.isValid(t) || !n.isValid(r)) throw new Error("invalid affine point");
              if (e instanceof v) throw new Error("projective point not allowed");
              const i = e => n.eql(e, n.ZERO);
              return i(t) && i(r) ? v.ZERO : new v(t, r, n.ONE);
            }
            get x() {
              return this.toAffine().x;
            }
            get y() {
              return this.toAffine().y;
            }
            static normalizeZ(e) {
              const t = n.invertBatch(e.map(e => e.pz));
              return e.map((e, n) => e.toAffine(t[n])).map(v.fromAffine);
            }
            static fromHex(e) {
              const t = v.fromAffine(l((0, o.ensureBytes)("pointHex", e)));
              return t.assertValidity(), t;
            }
            static fromPrivateKey(e) {
              return v.BASE.multiply(m(e));
            }
            _setWindowSize(e) {
              (this._WINDOW_SIZE = e), y.delete(this);
            }
            assertValidity() {
              if (this.is0()) {
                if (t.allowInfinityPoint) return;
                throw new Error("bad point: ZERO");
              }
              const { x: e, y: r } = this.toAffine();
              if (!n.isValid(e) || !n.isValid(r)) throw new Error("bad point: x or y not FE");
              const i = n.sqr(r),
                o = d(e);
              if (!n.eql(i, o)) throw new Error("bad point: equation left != right");
              if (!this.isTorsionFree()) throw new Error("bad point: not in prime-order subgroup");
            }
            hasEvenY() {
              const { y: e } = this.toAffine();
              if (n.isOdd) return !n.isOdd(e);
              throw new Error("Field doesn't support isOdd");
            }
            equals(e) {
              g(e);
              const { px: t, py: r, pz: i } = this,
                { px: o, py: a, pz: s } = e,
                l = n.eql(n.mul(t, s), n.mul(o, i)),
                c = n.eql(n.mul(r, s), n.mul(a, i));
              return l && c;
            }
            negate() {
              return new v(this.px, n.neg(this.py), this.pz);
            }
            double() {
              const { a: e, b: r } = t,
                i = n.mul(r, f),
                { px: o, py: a, pz: s } = this;
              let l = n.ZERO,
                c = n.ZERO,
                u = n.ZERO,
                d = n.mul(o, o),
                h = n.mul(a, a),
                p = n.mul(s, s),
                m = n.mul(o, a);
              return (
                (m = n.add(m, m)),
                (u = n.mul(o, s)),
                (u = n.add(u, u)),
                (l = n.mul(e, u)),
                (c = n.mul(i, p)),
                (c = n.add(l, c)),
                (l = n.sub(h, c)),
                (c = n.add(h, c)),
                (c = n.mul(l, c)),
                (l = n.mul(m, l)),
                (u = n.mul(i, u)),
                (p = n.mul(e, p)),
                (m = n.sub(d, p)),
                (m = n.mul(e, m)),
                (m = n.add(m, u)),
                (u = n.add(d, d)),
                (d = n.add(u, d)),
                (d = n.add(d, p)),
                (d = n.mul(d, m)),
                (c = n.add(c, d)),
                (p = n.mul(a, s)),
                (p = n.add(p, p)),
                (d = n.mul(p, m)),
                (l = n.sub(l, d)),
                (u = n.mul(p, h)),
                (u = n.add(u, u)),
                (u = n.add(u, u)),
                new v(l, c, u)
              );
            }
            add(e) {
              g(e);
              const { px: r, py: i, pz: o } = this,
                { px: a, py: s, pz: l } = e;
              let c = n.ZERO,
                u = n.ZERO,
                d = n.ZERO;
              const h = t.a,
                p = n.mul(t.b, f);
              let m = n.mul(r, a),
                y = n.mul(i, s),
                w = n.mul(o, l),
                b = n.add(r, i),
                x = n.add(a, s);
              (b = n.mul(b, x)), (x = n.add(m, y)), (b = n.sub(b, x)), (x = n.add(r, o));
              let E = n.add(a, l);
              return (
                (x = n.mul(x, E)),
                (E = n.add(m, w)),
                (x = n.sub(x, E)),
                (E = n.add(i, o)),
                (c = n.add(s, l)),
                (E = n.mul(E, c)),
                (c = n.add(y, w)),
                (E = n.sub(E, c)),
                (d = n.mul(h, x)),
                (c = n.mul(p, w)),
                (d = n.add(c, d)),
                (c = n.sub(y, d)),
                (d = n.add(y, d)),
                (u = n.mul(c, d)),
                (y = n.add(m, m)),
                (y = n.add(y, m)),
                (w = n.mul(h, w)),
                (x = n.mul(p, x)),
                (y = n.add(y, w)),
                (w = n.sub(m, w)),
                (w = n.mul(h, w)),
                (x = n.add(x, w)),
                (m = n.mul(y, x)),
                (u = n.add(u, m)),
                (m = n.mul(E, x)),
                (c = n.mul(b, c)),
                (c = n.sub(c, m)),
                (m = n.mul(b, y)),
                (d = n.mul(E, d)),
                (d = n.add(d, m)),
                new v(c, u, d)
              );
            }
            subtract(e) {
              return this.add(e.negate());
            }
            is0() {
              return this.equals(v.ZERO);
            }
            wNAF(e) {
              return b.wNAFCached(this, y, e, e => {
                const t = n.invertBatch(e.map(e => e.pz));
                return e.map((e, n) => e.toAffine(t[n])).map(v.fromAffine);
              });
            }
            multiplyUnsafe(e) {
              const r = v.ZERO;
              if (e === c) return r;
              if ((p(e), e === u)) return this;
              const { endo: i } = t;
              if (!i) return b.unsafeLadder(this, e);
              let { k1neg: o, k1: a, k2neg: s, k2: l } = i.splitScalar(e),
                d = r,
                f = r,
                h = this;
              for (; a > c || l > c; )
                a & u && (d = d.add(h)), l & u && (f = f.add(h)), (h = h.double()), (a >>= u), (l >>= u);
              return (
                o && (d = d.negate()), s && (f = f.negate()), (f = new v(n.mul(f.px, i.beta), f.py, f.pz)), d.add(f)
              );
            }
            multiply(e) {
              p(e);
              let r,
                i,
                o = e;
              const { endo: a } = t;
              if (a) {
                const { k1neg: e, k1: t, k2neg: s, k2: l } = a.splitScalar(o);
                let { p: c, f: u } = this.wNAF(t),
                  { p: d, f } = this.wNAF(l);
                (c = b.constTimeNegate(e, c)),
                  (d = b.constTimeNegate(s, d)),
                  (d = new v(n.mul(d.px, a.beta), d.py, d.pz)),
                  (r = c.add(d)),
                  (i = u.add(f));
              } else {
                const { p: e, f: t } = this.wNAF(o);
                (r = e), (i = t);
              }
              return v.normalizeZ([r, i])[0];
            }
            multiplyAndAddUnsafe(e, t, n) {
              const r = v.BASE,
                i = (e, t) => (t !== c && t !== u && e.equals(r) ? e.multiply(t) : e.multiplyUnsafe(t)),
                o = i(this, t).add(i(e, n));
              return o.is0() ? void 0 : o;
            }
            toAffine(e) {
              const { px: t, py: r, pz: i } = this,
                o = this.is0();
              null == e && (e = o ? n.ONE : n.inv(i));
              const a = n.mul(t, e),
                s = n.mul(r, e),
                l = n.mul(i, e);
              if (o) return { x: n.ZERO, y: n.ZERO };
              if (!n.eql(l, n.ONE)) throw new Error("invZ was invalid");
              return { x: a, y: s };
            }
            isTorsionFree() {
              const { h: e, isTorsionFree: n } = t;
              if (e === u) return !0;
              if (n) return n(v, this);
              throw new Error("isTorsionFree() has not been declared for the elliptic curve");
            }
            clearCofactor() {
              const { h: e, clearCofactor: n } = t;
              return e === u ? this : n ? n(v, this) : this.multiplyUnsafe(t.h);
            }
            toRawBytes(e = !0) {
              return this.assertValidity(), s(v, this, e);
            }
            toHex(e = !0) {
              return i.bytesToHex(this.toRawBytes(e));
            }
          }
          (v.BASE = new v(t.Gx, t.Gy, n.ONE)), (v.ZERO = new v(n.ZERO, n.ONE, n.ZERO));
          const w = t.nBitLength,
            b = (0, a.wNAF)(v, t.endo ? Math.ceil(w / 2) : w);
          return {
            CURVE: t,
            ProjectivePoint: v,
            normPrivateKeyToScalar: m,
            weierstrassEquation: d,
            isWithinCurveOrder: h,
          };
        }
        function m(e, t) {
          const n = e.ORDER;
          let r = c;
          for (let e = n - u; e % d === c; e /= d) r += u;
          const i = r,
            o = d << (i - u - u),
            a = o * d,
            s = (n - u) / a,
            l = (s - u) / d,
            p = a - u,
            m = o,
            y = e.pow(t, s),
            g = e.pow(t, (s + u) / d);
          let v = (t, n) => {
            let r = y,
              o = e.pow(n, p),
              a = e.sqr(o);
            a = e.mul(a, n);
            let s = e.mul(t, a);
            (s = e.pow(s, l)), (s = e.mul(s, o)), (o = e.mul(s, n)), (a = e.mul(s, t));
            let c = e.mul(a, o);
            s = e.pow(c, m);
            let f = e.eql(s, e.ONE);
            (o = e.mul(a, g)), (s = e.mul(c, r)), (a = e.cmov(o, a, f)), (c = e.cmov(s, c, f));
            for (let t = i; t > u; t--) {
              let n = t - d;
              n = d << (n - u);
              let i = e.pow(c, n);
              const s = e.eql(i, e.ONE);
              (o = e.mul(a, r)), (r = e.mul(r, r)), (i = e.mul(c, r)), (a = e.cmov(o, a, s)), (c = e.cmov(i, c, s));
            }
            return { isValid: f, value: a };
          };
          if (e.ORDER % h === f) {
            const n = (e.ORDER - f) / h,
              r = e.sqrt(e.neg(t));
            v = (t, i) => {
              let o = e.sqr(i);
              const a = e.mul(t, i);
              o = e.mul(o, a);
              let s = e.pow(o, n);
              s = e.mul(s, a);
              const l = e.mul(s, r),
                c = e.mul(e.sqr(s), i),
                u = e.eql(c, t);
              return { isValid: u, value: e.cmov(l, s, u) };
            };
          }
          return v;
        }
        (t.weierstrassPoints = p),
          (t.weierstrass = function (e) {
            const n = (function (e) {
                const t = (0, a.validateBasic)(e);
                return (
                  i.validateObject(
                    t,
                    { hash: "hash", hmac: "function", randomBytes: "function" },
                    { bits2int: "function", bits2int_modN: "function", lowS: "boolean" }
                  ),
                  Object.freeze({ lowS: !0, ...t })
                );
              })(e),
              { Fp: s, n: l } = n,
              d = s.BYTES + 1,
              f = 2 * s.BYTES + 1;
            function h(e) {
              return r.mod(e, l);
            }
            function m(e) {
              return r.invert(e, l);
            }
            const {
                ProjectivePoint: y,
                normPrivateKeyToScalar: g,
                weierstrassEquation: v,
                isWithinCurveOrder: w,
              } = p({
                ...n,
                toBytes(e, t, n) {
                  const r = t.toAffine(),
                    o = s.toBytes(r.x),
                    a = i.concatBytes;
                  return n ? a(Uint8Array.from([t.hasEvenY() ? 2 : 3]), o) : a(Uint8Array.from([4]), o, s.toBytes(r.y));
                },
                fromBytes(e) {
                  const t = e.length,
                    n = e[0],
                    r = e.subarray(1);
                  if (t !== d || (2 !== n && 3 !== n)) {
                    if (t === f && 4 === n)
                      return {
                        x: s.fromBytes(r.subarray(0, s.BYTES)),
                        y: s.fromBytes(r.subarray(s.BYTES, 2 * s.BYTES)),
                      };
                    throw new Error(
                      `Point of length ${t} was invalid. Expected ${d} compressed bytes or ${f} uncompressed bytes`
                    );
                  }
                  {
                    const e = i.bytesToNumberBE(r);
                    if (!(c < (o = e) && o < s.ORDER)) throw new Error("Point is not on curve");
                    const t = v(e);
                    let a = s.sqrt(t);
                    return (1 == (1 & n)) != ((a & u) === u) && (a = s.neg(a)), { x: e, y: a };
                  }
                  var o;
                },
              }),
              b = e => i.bytesToHex(i.numberToBytesBE(e, n.nByteLength));
            function x(e) {
              return e > l >> u;
            }
            const E = (e, t, n) => i.bytesToNumberBE(e.slice(t, n));
            class k {
              constructor(e, t, n) {
                (this.r = e), (this.s = t), (this.recovery = n), this.assertValidity();
              }
              static fromCompact(e) {
                const t = n.nByteLength;
                return (e = (0, o.ensureBytes)("compactSignature", e, 2 * t)), new k(E(e, 0, t), E(e, t, 2 * t));
              }
              static fromDER(e) {
                const { r: n, s: r } = t.DER.toSig((0, o.ensureBytes)("DER", e));
                return new k(n, r);
              }
              assertValidity() {
                if (!w(this.r)) throw new Error("r must be 0 < r < CURVE.n");
                if (!w(this.s)) throw new Error("s must be 0 < s < CURVE.n");
              }
              addRecoveryBit(e) {
                return new k(this.r, this.s, e);
              }
              recoverPublicKey(e) {
                const { r: t, s: r, recovery: i } = this,
                  a = C((0, o.ensureBytes)("msgHash", e));
                if (null == i || ![0, 1, 2, 3].includes(i)) throw new Error("recovery id invalid");
                const l = 2 === i || 3 === i ? t + n.n : t;
                if (l >= s.ORDER) throw new Error("recovery id 2 or 3 invalid");
                const c = 0 == (1 & i) ? "02" : "03",
                  u = y.fromHex(c + b(l)),
                  d = m(l),
                  f = h(-a * d),
                  p = h(r * d),
                  g = y.BASE.multiplyAndAddUnsafe(u, f, p);
                if (!g) throw new Error("point at infinify");
                return g.assertValidity(), g;
              }
              hasHighS() {
                return x(this.s);
              }
              normalizeS() {
                return this.hasHighS() ? new k(this.r, h(-this.s), this.recovery) : this;
              }
              toDERRawBytes() {
                return i.hexToBytes(this.toDERHex());
              }
              toDERHex() {
                return t.DER.hexFromSig({ r: this.r, s: this.s });
              }
              toCompactRawBytes() {
                return i.hexToBytes(this.toCompactHex());
              }
              toCompactHex() {
                return b(this.r) + b(this.s);
              }
            }
            const j = {
              isValidPrivateKey(e) {
                try {
                  return g(e), !0;
                } catch (e) {
                  return !1;
                }
              },
              normPrivateKeyToScalar: g,
              randomPrivateKey: () => {
                const e = n.randomBytes(s.BYTES + 8),
                  t = r.hashToPrivateScalar(e, l);
                return i.numberToBytesBE(t, n.nByteLength);
              },
              precompute: (e = 8, t = y.BASE) => (t._setWindowSize(e), t.multiply(BigInt(3)), t),
            };
            function S(e) {
              const t = e instanceof Uint8Array,
                n = "string" == typeof e,
                r = (t || n) && e.length;
              return t ? r === d || r === f : n ? r === 2 * d || r === 2 * f : e instanceof y;
            }
            const A =
                n.bits2int ||
                function (e) {
                  const t = i.bytesToNumberBE(e),
                    r = 8 * e.length - n.nBitLength;
                  return r > 0 ? t >> BigInt(r) : t;
                },
              C =
                n.bits2int_modN ||
                function (e) {
                  return h(A(e));
                },
              N = i.bitMask(n.nBitLength);
            function P(e) {
              if ("bigint" != typeof e) throw new Error("bigint expected");
              if (!(c <= e && e < N)) throw new Error(`bigint expected < 2^${n.nBitLength}`);
              return i.numberToBytesBE(e, n.nByteLength);
            }
            const _ = { lowS: n.lowS, prehash: !1 },
              T = { lowS: n.lowS, prehash: !1 };
            return (
              y.BASE._setWindowSize(8),
              {
                CURVE: n,
                getPublicKey: function (e, t = !0) {
                  return y.fromPrivateKey(e).toRawBytes(t);
                },
                getSharedSecret: function (e, t, n = !0) {
                  if (S(e)) throw new Error("first arg must be private key");
                  if (!S(t)) throw new Error("second arg must be public key");
                  return y.fromHex(t).multiply(g(e)).toRawBytes(n);
                },
                sign: function (e, t, r = _) {
                  const { seed: a, k2sig: l } = (function (e, t, r = _) {
                      if (["recovered", "canonical"].some(e => e in r))
                        throw new Error("sign() legacy options not supported");
                      const { hash: a, randomBytes: l } = n;
                      let { lowS: d, prehash: f, extraEntropy: p } = r;
                      null == d && (d = !0),
                        (e = (0, o.ensureBytes)("msgHash", e)),
                        f && (e = (0, o.ensureBytes)("prehashed msgHash", a(e)));
                      const v = C(e),
                        b = g(t),
                        E = [P(b), P(v)];
                      if (null != p) {
                        const e = !0 === p ? l(s.BYTES) : p;
                        E.push((0, o.ensureBytes)("extraEntropy", e, s.BYTES));
                      }
                      const j = i.concatBytes(...E),
                        S = v;
                      return {
                        seed: j,
                        k2sig: function (e) {
                          const t = A(e);
                          if (!w(t)) return;
                          const n = m(t),
                            r = y.BASE.multiply(t).toAffine(),
                            i = h(r.x);
                          if (i === c) return;
                          const o = h(n * h(S + i * b));
                          if (o === c) return;
                          let a = (r.x === i ? 0 : 2) | Number(r.y & u),
                            s = o;
                          return (
                            d &&
                              x(o) &&
                              ((s = (function (e) {
                                return x(e) ? h(-e) : e;
                              })(o)),
                              (a ^= 1)),
                            new k(i, s, a)
                          );
                        },
                      };
                    })(e, t, r),
                    d = n;
                  return i.createHmacDrbg(d.hash.outputLen, d.nByteLength, d.hmac)(a, l);
                },
                verify: function (e, r, i, a = T) {
                  const s = e;
                  if (((r = (0, o.ensureBytes)("msgHash", r)), (i = (0, o.ensureBytes)("publicKey", i)), "strict" in a))
                    throw new Error("options.strict was renamed to lowS");
                  const { lowS: l, prehash: c } = a;
                  let u, d;
                  try {
                    if ("string" == typeof s || s instanceof Uint8Array)
                      try {
                        u = k.fromDER(s);
                      } catch (e) {
                        if (!(e instanceof t.DER.Err)) throw e;
                        u = k.fromCompact(s);
                      }
                    else {
                      if ("object" != typeof s || "bigint" != typeof s.r || "bigint" != typeof s.s)
                        throw new Error("PARSE");
                      {
                        const { r: e, s: t } = s;
                        u = new k(e, t);
                      }
                    }
                    d = y.fromHex(i);
                  } catch (e) {
                    if ("PARSE" === e.message)
                      throw new Error("signature must be Signature instance, Uint8Array or hex string");
                    return !1;
                  }
                  if (l && u.hasHighS()) return !1;
                  c && (r = n.hash(r));
                  const { r: f, s: p } = u,
                    g = C(r),
                    v = m(p),
                    w = h(g * v),
                    b = h(f * v),
                    x = y.BASE.multiplyAndAddUnsafe(d, w, b)?.toAffine();
                  return !!x && h(x.x) === f;
                },
                ProjectivePoint: y,
                Signature: k,
                utils: j,
              }
            );
          }),
          (t.SWUFpSqrtRatio = m),
          (t.mapToCurveSimpleSWU = function (e, t) {
            if ((r.validateField(e), !e.isValid(t.A) || !e.isValid(t.B) || !e.isValid(t.Z)))
              throw new Error("mapToCurveSimpleSWU: invalid opts");
            const n = m(e, t.Z);
            if (!e.isOdd) throw new Error("Fp.isOdd is not implemented!");
            return r => {
              let i, o, a, s, l, c, u, d;
              (i = e.sqr(r)),
                (i = e.mul(i, t.Z)),
                (o = e.sqr(i)),
                (o = e.add(o, i)),
                (a = e.add(o, e.ONE)),
                (a = e.mul(a, t.B)),
                (s = e.cmov(t.Z, e.neg(o), !e.eql(o, e.ZERO))),
                (s = e.mul(s, t.A)),
                (o = e.sqr(a)),
                (c = e.sqr(s)),
                (l = e.mul(c, t.A)),
                (o = e.add(o, l)),
                (o = e.mul(o, a)),
                (c = e.mul(c, s)),
                (l = e.mul(c, t.B)),
                (o = e.add(o, l)),
                (u = e.mul(i, a));
              const { isValid: f, value: h } = n(o, c);
              (d = e.mul(i, r)), (d = e.mul(d, h)), (u = e.cmov(u, a, f)), (d = e.cmov(d, h, f));
              const p = e.isOdd(r) === e.isOdd(d);
              return (d = e.cmov(e.neg(d), d, p)), (u = e.div(u, s)), { x: u, y: d };
            };
          });
      },
      5437: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.encodeToCurve = t.hashToCurve = t.schnorr = t.secp256k1 = void 0);
        const r = n(7576),
          i = n(1937),
          o = n(6660),
          a = n(9682),
          s = n(8298),
          l = n(7482),
          c = n(9928),
          u = BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),
          d = BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),
          f = BigInt(1),
          h = BigInt(2),
          p = (e, t) => (e + t / h) / t;
        function m(e) {
          const t = u,
            n = BigInt(3),
            r = BigInt(6),
            i = BigInt(11),
            a = BigInt(22),
            s = BigInt(23),
            l = BigInt(44),
            c = BigInt(88),
            d = (e * e * e) % t,
            f = (d * d * e) % t,
            p = ((0, o.pow2)(f, n, t) * f) % t,
            m = ((0, o.pow2)(p, n, t) * f) % t,
            g = ((0, o.pow2)(m, h, t) * d) % t,
            v = ((0, o.pow2)(g, i, t) * g) % t,
            w = ((0, o.pow2)(v, a, t) * v) % t,
            b = ((0, o.pow2)(w, l, t) * w) % t,
            x = ((0, o.pow2)(b, c, t) * b) % t,
            E = ((0, o.pow2)(x, l, t) * w) % t,
            k = ((0, o.pow2)(E, n, t) * f) % t,
            j = ((0, o.pow2)(k, s, t) * v) % t,
            S = ((0, o.pow2)(j, r, t) * d) % t,
            A = (0, o.pow2)(S, h, t);
          if (!y.eql(y.sqr(A), e)) throw new Error("Cannot find square root");
          return A;
        }
        const y = (0, o.Field)(u, void 0, void 0, { sqrt: m });
        t.secp256k1 = (0, c.createCurve)(
          {
            a: BigInt(0),
            b: BigInt(7),
            Fp: y,
            n: d,
            Gx: BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),
            Gy: BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),
            h: BigInt(1),
            lowS: !0,
            endo: {
              beta: BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),
              splitScalar: e => {
                const t = d,
                  n = BigInt("0x3086d221a7d46bcde86c90e49284eb15"),
                  r = -f * BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),
                  i = BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),
                  a = n,
                  s = BigInt("0x100000000000000000000000000000000"),
                  l = p(a * e, t),
                  c = p(-r * e, t);
                let u = (0, o.mod)(e - l * n - c * i, t),
                  h = (0, o.mod)(-l * r - c * a, t);
                const m = u > s,
                  y = h > s;
                if ((m && (u = t - u), y && (h = t - h), u > s || h > s))
                  throw new Error("splitScalar: Endomorphism failed, k=" + e);
                return { k1neg: m, k1: u, k2neg: y, k2: h };
              },
            },
          },
          r.sha256
        );
        const g = BigInt(0),
          v = e => "bigint" == typeof e && g < e && e < u,
          w = e => "bigint" == typeof e && g < e && e < d,
          b = {};
        function x(e, ...t) {
          let n = b[e];
          if (void 0 === n) {
            const t = (0, r.sha256)(Uint8Array.from(e, e => e.charCodeAt(0)));
            (n = (0, s.concatBytes)(t, t)), (b[e] = n);
          }
          return (0, r.sha256)((0, s.concatBytes)(n, ...t));
        }
        const E = e => e.toRawBytes(!0).slice(1),
          k = e => (0, s.numberToBytesBE)(e, 32),
          j = e => (0, o.mod)(e, u),
          S = e => (0, o.mod)(e, d),
          A = t.secp256k1.ProjectivePoint,
          C = (e, t, n) => A.BASE.multiplyAndAddUnsafe(e, t, n);
        function N(e) {
          let n = t.secp256k1.utils.normPrivateKeyToScalar(e),
            r = A.fromPrivateKey(n);
          return { scalar: r.hasEvenY() ? n : S(-n), bytes: E(r) };
        }
        function P(e) {
          if (!v(e)) throw new Error("bad x: need 0 < x < p");
          const t = j(e * e);
          let n = m(j(t * e + BigInt(7)));
          n % h !== g && (n = j(-n));
          const r = new A(e, n, f);
          return r.assertValidity(), r;
        }
        function _(...e) {
          return S((0, s.bytesToNumberBE)(x("BIP0340/challenge", ...e)));
        }
        function T(e, t, n) {
          const r = (0, s.ensureBytes)("signature", e, 64),
            i = (0, s.ensureBytes)("message", t),
            o = (0, s.ensureBytes)("publicKey", n, 32);
          try {
            const e = P((0, s.bytesToNumberBE)(o)),
              t = (0, s.bytesToNumberBE)(r.subarray(0, 32));
            if (!v(t)) return !1;
            const n = (0, s.bytesToNumberBE)(r.subarray(32, 64));
            if (!w(n)) return !1;
            const a = _(k(t), E(e), i),
              l = C(e, n, S(-a));
            return !(!l || !l.hasEvenY() || l.toAffine().x !== t);
          } catch (e) {
            return !1;
          }
        }
        t.schnorr = {
          getPublicKey: function (e) {
            return N(e).bytes;
          },
          sign: function (e, t, n = (0, i.randomBytes)(32)) {
            const r = (0, s.ensureBytes)("message", e),
              { bytes: o, scalar: a } = N(t),
              l = (0, s.ensureBytes)("auxRand", n, 32),
              c = k(a ^ (0, s.bytesToNumberBE)(x("BIP0340/aux", l))),
              u = x("BIP0340/nonce", c, o, r),
              d = S((0, s.bytesToNumberBE)(u));
            if (d === g) throw new Error("sign failed: k is zero");
            const { bytes: f, scalar: h } = N(d),
              p = _(f, o, r),
              m = new Uint8Array(64);
            if ((m.set(f, 0), m.set(k(S(h + p * a)), 32), !T(m, r, o)))
              throw new Error("sign: Invalid signature produced");
            return m;
          },
          verify: T,
          utils: {
            randomPrivateKey: t.secp256k1.utils.randomPrivateKey,
            lift_x: P,
            pointToBytes: E,
            numberToBytesBE: s.numberToBytesBE,
            bytesToNumberBE: s.bytesToNumberBE,
            taggedHash: x,
            mod: o.mod,
          },
        };
        const M = (() =>
            (0, l.isogenyMap)(
              y,
              [
                [
                  "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7",
                  "0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581",
                  "0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262",
                  "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c",
                ],
                [
                  "0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b",
                  "0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14",
                  "0x0000000000000000000000000000000000000000000000000000000000000001",
                ],
                [
                  "0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c",
                  "0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3",
                  "0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931",
                  "0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84",
                ],
                [
                  "0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b",
                  "0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573",
                  "0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f",
                  "0x0000000000000000000000000000000000000000000000000000000000000001",
                ],
              ].map(e => e.map(e => BigInt(e)))
            ))(),
          R = (() =>
            (0, a.mapToCurveSimpleSWU)(y, {
              A: BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),
              B: BigInt("1771"),
              Z: y.create(BigInt("-11")),
            }))(),
          B = (() =>
            (0, l.createHasher)(
              t.secp256k1.ProjectivePoint,
              e => {
                const { x: t, y: n } = R(y.create(e[0]));
                return M(t, n);
              },
              {
                DST: "secp256k1_XMD:SHA-256_SSWU_RO_",
                encodeDST: "secp256k1_XMD:SHA-256_SSWU_NU_",
                p: y.ORDER,
                m: 1,
                k: 128,
                expand: "xmd",
                hash: r.sha256,
              }
            ))();
        (t.hashToCurve = B.hashToCurve), (t.encodeToCurve = B.encodeToCurve);
      },
      9827: (e, t) => {
        "use strict";
        function n(e) {
          if (!Number.isSafeInteger(e) || e < 0) throw new Error(`Wrong positive integer: ${e}`);
        }
        function r(e) {
          if ("boolean" != typeof e) throw new Error(`Expected boolean, not ${e}`);
        }
        function i(e, ...t) {
          if (!(e instanceof Uint8Array)) throw new TypeError("Expected Uint8Array");
          if (t.length > 0 && !t.includes(e.length))
            throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`);
        }
        function o(e) {
          if ("function" != typeof e || "function" != typeof e.create)
            throw new Error("Hash should be wrapped by utils.wrapConstructor");
          n(e.outputLen), n(e.blockLen);
        }
        function a(e, t = !0) {
          if (e.destroyed) throw new Error("Hash instance has been destroyed");
          if (t && e.finished) throw new Error("Hash#digest() has already been called");
        }
        function s(e, t) {
          i(e);
          const n = t.outputLen;
          if (e.length < n) throw new Error(`digestInto() expects output buffer of length at least ${n}`);
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.output = t.exists = t.hash = t.bytes = t.bool = t.number = void 0),
          (t.number = n),
          (t.bool = r),
          (t.bytes = i),
          (t.hash = o),
          (t.exists = a),
          (t.output = s);
        const l = { number: n, bool: r, bytes: i, hash: o, exists: a, output: s };
        t.default = l;
      },
      9890: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.SHA2 = void 0);
        const r = n(9827),
          i = n(7571);
        class o extends i.Hash {
          constructor(e, t, n, r) {
            super(),
              (this.blockLen = e),
              (this.outputLen = t),
              (this.padOffset = n),
              (this.isLE = r),
              (this.finished = !1),
              (this.length = 0),
              (this.pos = 0),
              (this.destroyed = !1),
              (this.buffer = new Uint8Array(e)),
              (this.view = (0, i.createView)(this.buffer));
          }
          update(e) {
            r.default.exists(this);
            const { view: t, buffer: n, blockLen: o } = this,
              a = (e = (0, i.toBytes)(e)).length;
            for (let r = 0; r < a; ) {
              const s = Math.min(o - this.pos, a - r);
              if (s !== o)
                n.set(e.subarray(r, r + s), this.pos),
                  (this.pos += s),
                  (r += s),
                  this.pos === o && (this.process(t, 0), (this.pos = 0));
              else {
                const t = (0, i.createView)(e);
                for (; o <= a - r; r += o) this.process(t, r);
              }
            }
            return (this.length += e.length), this.roundClean(), this;
          }
          digestInto(e) {
            r.default.exists(this), r.default.output(e, this), (this.finished = !0);
            const { buffer: t, view: n, blockLen: o, isLE: a } = this;
            let { pos: s } = this;
            (t[s++] = 128), this.buffer.subarray(s).fill(0), this.padOffset > o - s && (this.process(n, 0), (s = 0));
            for (let e = s; e < o; e++) t[e] = 0;
            !(function (e, t, n, r) {
              if ("function" == typeof e.setBigUint64) return e.setBigUint64(t, n, r);
              const i = BigInt(32),
                o = BigInt(4294967295),
                a = Number((n >> i) & o),
                s = Number(n & o),
                l = r ? 4 : 0,
                c = r ? 0 : 4;
              e.setUint32(t + l, a, r), e.setUint32(t + c, s, r);
            })(n, o - 8, BigInt(8 * this.length), a),
              this.process(n, 0);
            const l = (0, i.createView)(e),
              c = this.outputLen;
            if (c % 4) throw new Error("_sha2: outputLen should be aligned to 32bit");
            const u = c / 4,
              d = this.get();
            if (u > d.length) throw new Error("_sha2: outputLen bigger than state");
            for (let e = 0; e < u; e++) l.setUint32(4 * e, d[e], a);
          }
          digest() {
            const { buffer: e, outputLen: t } = this;
            this.digestInto(e);
            const n = e.slice(0, t);
            return this.destroy(), n;
          }
          _cloneInto(e) {
            e || (e = new this.constructor()), e.set(...this.get());
            const { blockLen: t, buffer: n, length: r, finished: i, destroyed: o, pos: a } = this;
            return (e.length = r), (e.pos = a), (e.finished = i), (e.destroyed = o), r % t && e.buffer.set(n), e;
          }
        }
        t.SHA2 = o;
      },
      8960: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.add = t.toBig = t.split = t.fromBig = void 0);
        const n = BigInt(2 ** 32 - 1),
          r = BigInt(32);
        function i(e, t = !1) {
          return t
            ? { h: Number(e & n), l: Number((e >> r) & n) }
            : { h: 0 | Number((e >> r) & n), l: 0 | Number(e & n) };
        }
        function o(e, t = !1) {
          let n = new Uint32Array(e.length),
            r = new Uint32Array(e.length);
          for (let o = 0; o < e.length; o++) {
            const { h: a, l: s } = i(e[o], t);
            [n[o], r[o]] = [a, s];
          }
          return [n, r];
        }
        function a(e, t, n, r) {
          const i = (t >>> 0) + (r >>> 0);
          return { h: (e + n + ((i / 2 ** 32) | 0)) | 0, l: 0 | i };
        }
        (t.fromBig = i), (t.split = o), (t.toBig = (e, t) => (BigInt(e >>> 0) << r) | BigInt(t >>> 0)), (t.add = a);
        const s = {
          fromBig: i,
          split: o,
          toBig: t.toBig,
          shrSH: (e, t, n) => e >>> n,
          shrSL: (e, t, n) => (e << (32 - n)) | (t >>> n),
          rotrSH: (e, t, n) => (e >>> n) | (t << (32 - n)),
          rotrSL: (e, t, n) => (e << (32 - n)) | (t >>> n),
          rotrBH: (e, t, n) => (e << (64 - n)) | (t >>> (n - 32)),
          rotrBL: (e, t, n) => (e >>> (n - 32)) | (t << (64 - n)),
          rotr32H: (e, t) => t,
          rotr32L: (e, t) => e,
          rotlSH: (e, t, n) => (e << n) | (t >>> (32 - n)),
          rotlSL: (e, t, n) => (t << n) | (e >>> (32 - n)),
          rotlBH: (e, t, n) => (t << (n - 32)) | (e >>> (64 - n)),
          rotlBL: (e, t, n) => (e << (n - 32)) | (t >>> (64 - n)),
          add: a,
          add3L: (e, t, n) => (e >>> 0) + (t >>> 0) + (n >>> 0),
          add3H: (e, t, n, r) => (t + n + r + ((e / 2 ** 32) | 0)) | 0,
          add4L: (e, t, n, r) => (e >>> 0) + (t >>> 0) + (n >>> 0) + (r >>> 0),
          add4H: (e, t, n, r, i) => (t + n + r + i + ((e / 2 ** 32) | 0)) | 0,
          add5H: (e, t, n, r, i, o) => (t + n + r + i + o + ((e / 2 ** 32) | 0)) | 0,
          add5L: (e, t, n, r, i) => (e >>> 0) + (t >>> 0) + (n >>> 0) + (r >>> 0) + (i >>> 0),
        };
        t.default = s;
      },
      3818: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.crypto = void 0),
          (t.crypto = "object" == typeof globalThis && "crypto" in globalThis ? globalThis.crypto : void 0);
      },
      6289: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.hmac = void 0);
        const r = n(9827),
          i = n(7571);
        class o extends i.Hash {
          constructor(e, t) {
            super(), (this.finished = !1), (this.destroyed = !1), r.default.hash(e);
            const n = (0, i.toBytes)(t);
            if (((this.iHash = e.create()), "function" != typeof this.iHash.update))
              throw new TypeError("Expected instance of class which extends utils.Hash");
            (this.blockLen = this.iHash.blockLen), (this.outputLen = this.iHash.outputLen);
            const o = this.blockLen,
              a = new Uint8Array(o);
            a.set(n.length > o ? e.create().update(n).digest() : n);
            for (let e = 0; e < a.length; e++) a[e] ^= 54;
            this.iHash.update(a), (this.oHash = e.create());
            for (let e = 0; e < a.length; e++) a[e] ^= 106;
            this.oHash.update(a), a.fill(0);
          }
          update(e) {
            return r.default.exists(this), this.iHash.update(e), this;
          }
          digestInto(e) {
            r.default.exists(this),
              r.default.bytes(e, this.outputLen),
              (this.finished = !0),
              this.iHash.digestInto(e),
              this.oHash.update(e),
              this.oHash.digestInto(e),
              this.destroy();
          }
          digest() {
            const e = new Uint8Array(this.oHash.outputLen);
            return this.digestInto(e), e;
          }
          _cloneInto(e) {
            e || (e = Object.create(Object.getPrototypeOf(this), {}));
            const { oHash: t, iHash: n, finished: r, destroyed: i, blockLen: o, outputLen: a } = this;
            return (
              (e.finished = r),
              (e.destroyed = i),
              (e.blockLen = o),
              (e.outputLen = a),
              (e.oHash = t._cloneInto(e.oHash)),
              (e.iHash = n._cloneInto(e.iHash)),
              e
            );
          }
          destroy() {
            (this.destroyed = !0), this.oHash.destroy(), this.iHash.destroy();
          }
        }
        (t.hmac = (e, t, n) => new o(e, t).update(n).digest()), (t.hmac.create = (e, t) => new o(e, t));
      },
      9006: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.pbkdf2Async = t.pbkdf2 = void 0);
        const r = n(9827),
          i = n(6289),
          o = n(7571);
        function a(e, t, n, a) {
          r.default.hash(e);
          const s = (0, o.checkOpts)({ dkLen: 32, asyncTick: 10 }, a),
            { c: l, dkLen: c, asyncTick: u } = s;
          if ((r.default.number(l), r.default.number(c), r.default.number(u), l < 1))
            throw new Error("PBKDF2: iterations (c) should be >= 1");
          const d = (0, o.toBytes)(t),
            f = (0, o.toBytes)(n),
            h = new Uint8Array(c),
            p = i.hmac.create(e, d),
            m = p._cloneInto().update(f);
          return { c: l, dkLen: c, asyncTick: u, DK: h, PRF: p, PRFSalt: m };
        }
        function s(e, t, n, r, i) {
          return e.destroy(), t.destroy(), r && r.destroy(), i.fill(0), n;
        }
        (t.pbkdf2 = function (e, t, n, r) {
          const { c: i, dkLen: l, DK: c, PRF: u, PRFSalt: d } = a(e, t, n, r);
          let f;
          const h = new Uint8Array(4),
            p = (0, o.createView)(h),
            m = new Uint8Array(u.outputLen);
          for (let e = 1, t = 0; t < l; e++, t += u.outputLen) {
            const n = c.subarray(t, t + u.outputLen);
            p.setInt32(0, e, !1), (f = d._cloneInto(f)).update(h).digestInto(m), n.set(m.subarray(0, n.length));
            for (let e = 1; e < i; e++) {
              u._cloneInto(f).update(m).digestInto(m);
              for (let e = 0; e < n.length; e++) n[e] ^= m[e];
            }
          }
          return s(u, d, c, f, m);
        }),
          (t.pbkdf2Async = async function (e, t, n, r) {
            const { c: i, dkLen: l, asyncTick: c, DK: u, PRF: d, PRFSalt: f } = a(e, t, n, r);
            let h;
            const p = new Uint8Array(4),
              m = (0, o.createView)(p),
              y = new Uint8Array(d.outputLen);
            for (let e = 1, t = 0; t < l; e++, t += d.outputLen) {
              const n = u.subarray(t, t + d.outputLen);
              m.setInt32(0, e, !1),
                (h = f._cloneInto(h)).update(p).digestInto(y),
                n.set(y.subarray(0, n.length)),
                await (0, o.asyncLoop)(i - 1, c, e => {
                  d._cloneInto(h).update(y).digestInto(y);
                  for (let e = 0; e < n.length; e++) n[e] ^= y[e];
                });
            }
            return s(d, f, u, h, y);
          });
      },
      374: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.sha224 = t.sha256 = void 0);
        const r = n(9890),
          i = n(7571),
          o = (e, t, n) => (e & t) ^ (e & n) ^ (t & n),
          a = new Uint32Array([
            1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080,
            310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
            264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808,
            3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
            1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817,
            3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
            1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479,
            3329325298,
          ]),
          s = new Uint32Array([
            1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225,
          ]),
          l = new Uint32Array(64);
        class c extends r.SHA2 {
          constructor() {
            super(64, 32, 8, !1),
              (this.A = 0 | s[0]),
              (this.B = 0 | s[1]),
              (this.C = 0 | s[2]),
              (this.D = 0 | s[3]),
              (this.E = 0 | s[4]),
              (this.F = 0 | s[5]),
              (this.G = 0 | s[6]),
              (this.H = 0 | s[7]);
          }
          get() {
            const { A: e, B: t, C: n, D: r, E: i, F: o, G: a, H: s } = this;
            return [e, t, n, r, i, o, a, s];
          }
          set(e, t, n, r, i, o, a, s) {
            (this.A = 0 | e),
              (this.B = 0 | t),
              (this.C = 0 | n),
              (this.D = 0 | r),
              (this.E = 0 | i),
              (this.F = 0 | o),
              (this.G = 0 | a),
              (this.H = 0 | s);
          }
          process(e, t) {
            for (let n = 0; n < 16; n++, t += 4) l[n] = e.getUint32(t, !1);
            for (let e = 16; e < 64; e++) {
              const t = l[e - 15],
                n = l[e - 2],
                r = (0, i.rotr)(t, 7) ^ (0, i.rotr)(t, 18) ^ (t >>> 3),
                o = (0, i.rotr)(n, 17) ^ (0, i.rotr)(n, 19) ^ (n >>> 10);
              l[e] = (o + l[e - 7] + r + l[e - 16]) | 0;
            }
            let { A: n, B: r, C: s, D: c, E: u, F: d, G: f, H: h } = this;
            for (let e = 0; e < 64; e++) {
              const t =
                  (h +
                    ((0, i.rotr)(u, 6) ^ (0, i.rotr)(u, 11) ^ (0, i.rotr)(u, 25)) +
                    (((p = u) & d) ^ (~p & f)) +
                    a[e] +
                    l[e]) |
                  0,
                m = (((0, i.rotr)(n, 2) ^ (0, i.rotr)(n, 13) ^ (0, i.rotr)(n, 22)) + o(n, r, s)) | 0;
              (h = f), (f = d), (d = u), (u = (c + t) | 0), (c = s), (s = r), (r = n), (n = (t + m) | 0);
            }
            var p;
            (n = (n + this.A) | 0),
              (r = (r + this.B) | 0),
              (s = (s + this.C) | 0),
              (c = (c + this.D) | 0),
              (u = (u + this.E) | 0),
              (d = (d + this.F) | 0),
              (f = (f + this.G) | 0),
              (h = (h + this.H) | 0),
              this.set(n, r, s, c, u, d, f, h);
          }
          roundClean() {
            l.fill(0);
          }
          destroy() {
            this.set(0, 0, 0, 0, 0, 0, 0, 0), this.buffer.fill(0);
          }
        }
        class u extends c {
          constructor() {
            super(),
              (this.A = -1056596264),
              (this.B = 914150663),
              (this.C = 812702999),
              (this.D = -150054599),
              (this.E = -4191439),
              (this.F = 1750603025),
              (this.G = 1694076839),
              (this.H = -1090891868),
              (this.outputLen = 28);
          }
        }
        (t.sha256 = (0, i.wrapConstructor)(() => new c())), (t.sha224 = (0, i.wrapConstructor)(() => new u()));
      },
      9868: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.sha384 = t.sha512_256 = t.sha512_224 = t.sha512 = t.SHA512 = void 0);
        const r = n(9890),
          i = n(8960),
          o = n(7571),
          [a, s] = i.default.split(
            [
              "0x428a2f98d728ae22",
              "0x7137449123ef65cd",
              "0xb5c0fbcfec4d3b2f",
              "0xe9b5dba58189dbbc",
              "0x3956c25bf348b538",
              "0x59f111f1b605d019",
              "0x923f82a4af194f9b",
              "0xab1c5ed5da6d8118",
              "0xd807aa98a3030242",
              "0x12835b0145706fbe",
              "0x243185be4ee4b28c",
              "0x550c7dc3d5ffb4e2",
              "0x72be5d74f27b896f",
              "0x80deb1fe3b1696b1",
              "0x9bdc06a725c71235",
              "0xc19bf174cf692694",
              "0xe49b69c19ef14ad2",
              "0xefbe4786384f25e3",
              "0x0fc19dc68b8cd5b5",
              "0x240ca1cc77ac9c65",
              "0x2de92c6f592b0275",
              "0x4a7484aa6ea6e483",
              "0x5cb0a9dcbd41fbd4",
              "0x76f988da831153b5",
              "0x983e5152ee66dfab",
              "0xa831c66d2db43210",
              "0xb00327c898fb213f",
              "0xbf597fc7beef0ee4",
              "0xc6e00bf33da88fc2",
              "0xd5a79147930aa725",
              "0x06ca6351e003826f",
              "0x142929670a0e6e70",
              "0x27b70a8546d22ffc",
              "0x2e1b21385c26c926",
              "0x4d2c6dfc5ac42aed",
              "0x53380d139d95b3df",
              "0x650a73548baf63de",
              "0x766a0abb3c77b2a8",
              "0x81c2c92e47edaee6",
              "0x92722c851482353b",
              "0xa2bfe8a14cf10364",
              "0xa81a664bbc423001",
              "0xc24b8b70d0f89791",
              "0xc76c51a30654be30",
              "0xd192e819d6ef5218",
              "0xd69906245565a910",
              "0xf40e35855771202a",
              "0x106aa07032bbd1b8",
              "0x19a4c116b8d2d0c8",
              "0x1e376c085141ab53",
              "0x2748774cdf8eeb99",
              "0x34b0bcb5e19b48a8",
              "0x391c0cb3c5c95a63",
              "0x4ed8aa4ae3418acb",
              "0x5b9cca4f7763e373",
              "0x682e6ff3d6b2b8a3",
              "0x748f82ee5defb2fc",
              "0x78a5636f43172f60",
              "0x84c87814a1f0ab72",
              "0x8cc702081a6439ec",
              "0x90befffa23631e28",
              "0xa4506cebde82bde9",
              "0xbef9a3f7b2c67915",
              "0xc67178f2e372532b",
              "0xca273eceea26619c",
              "0xd186b8c721c0c207",
              "0xeada7dd6cde0eb1e",
              "0xf57d4f7fee6ed178",
              "0x06f067aa72176fba",
              "0x0a637dc5a2c898a6",
              "0x113f9804bef90dae",
              "0x1b710b35131c471b",
              "0x28db77f523047d84",
              "0x32caab7b40c72493",
              "0x3c9ebe0a15c9bebc",
              "0x431d67c49c100d4c",
              "0x4cc5d4becb3e42b6",
              "0x597f299cfc657e2a",
              "0x5fcb6fab3ad6faec",
              "0x6c44198c4a475817",
            ].map(e => BigInt(e))
          ),
          l = new Uint32Array(80),
          c = new Uint32Array(80);
        class u extends r.SHA2 {
          constructor() {
            super(128, 64, 16, !1),
              (this.Ah = 1779033703),
              (this.Al = -205731576),
              (this.Bh = -1150833019),
              (this.Bl = -2067093701),
              (this.Ch = 1013904242),
              (this.Cl = -23791573),
              (this.Dh = -1521486534),
              (this.Dl = 1595750129),
              (this.Eh = 1359893119),
              (this.El = -1377402159),
              (this.Fh = -1694144372),
              (this.Fl = 725511199),
              (this.Gh = 528734635),
              (this.Gl = -79577749),
              (this.Hh = 1541459225),
              (this.Hl = 327033209);
          }
          get() {
            const {
              Ah: e,
              Al: t,
              Bh: n,
              Bl: r,
              Ch: i,
              Cl: o,
              Dh: a,
              Dl: s,
              Eh: l,
              El: c,
              Fh: u,
              Fl: d,
              Gh: f,
              Gl: h,
              Hh: p,
              Hl: m,
            } = this;
            return [e, t, n, r, i, o, a, s, l, c, u, d, f, h, p, m];
          }
          set(e, t, n, r, i, o, a, s, l, c, u, d, f, h, p, m) {
            (this.Ah = 0 | e),
              (this.Al = 0 | t),
              (this.Bh = 0 | n),
              (this.Bl = 0 | r),
              (this.Ch = 0 | i),
              (this.Cl = 0 | o),
              (this.Dh = 0 | a),
              (this.Dl = 0 | s),
              (this.Eh = 0 | l),
              (this.El = 0 | c),
              (this.Fh = 0 | u),
              (this.Fl = 0 | d),
              (this.Gh = 0 | f),
              (this.Gl = 0 | h),
              (this.Hh = 0 | p),
              (this.Hl = 0 | m);
          }
          process(e, t) {
            for (let n = 0; n < 16; n++, t += 4) (l[n] = e.getUint32(t)), (c[n] = e.getUint32((t += 4)));
            for (let e = 16; e < 80; e++) {
              const t = 0 | l[e - 15],
                n = 0 | c[e - 15],
                r = i.default.rotrSH(t, n, 1) ^ i.default.rotrSH(t, n, 8) ^ i.default.shrSH(t, n, 7),
                o = i.default.rotrSL(t, n, 1) ^ i.default.rotrSL(t, n, 8) ^ i.default.shrSL(t, n, 7),
                a = 0 | l[e - 2],
                s = 0 | c[e - 2],
                u = i.default.rotrSH(a, s, 19) ^ i.default.rotrBH(a, s, 61) ^ i.default.shrSH(a, s, 6),
                d = i.default.rotrSL(a, s, 19) ^ i.default.rotrBL(a, s, 61) ^ i.default.shrSL(a, s, 6),
                f = i.default.add4L(o, d, c[e - 7], c[e - 16]),
                h = i.default.add4H(f, r, u, l[e - 7], l[e - 16]);
              (l[e] = 0 | h), (c[e] = 0 | f);
            }
            let {
              Ah: n,
              Al: r,
              Bh: o,
              Bl: u,
              Ch: d,
              Cl: f,
              Dh: h,
              Dl: p,
              Eh: m,
              El: y,
              Fh: g,
              Fl: v,
              Gh: w,
              Gl: b,
              Hh: x,
              Hl: E,
            } = this;
            for (let e = 0; e < 80; e++) {
              const t = i.default.rotrSH(m, y, 14) ^ i.default.rotrSH(m, y, 18) ^ i.default.rotrBH(m, y, 41),
                k = i.default.rotrSL(m, y, 14) ^ i.default.rotrSL(m, y, 18) ^ i.default.rotrBL(m, y, 41),
                j = (m & g) ^ (~m & w),
                S = (y & v) ^ (~y & b),
                A = i.default.add5L(E, k, S, s[e], c[e]),
                C = i.default.add5H(A, x, t, j, a[e], l[e]),
                N = 0 | A,
                P = i.default.rotrSH(n, r, 28) ^ i.default.rotrBH(n, r, 34) ^ i.default.rotrBH(n, r, 39),
                _ = i.default.rotrSL(n, r, 28) ^ i.default.rotrBL(n, r, 34) ^ i.default.rotrBL(n, r, 39),
                T = (n & o) ^ (n & d) ^ (o & d),
                M = (r & u) ^ (r & f) ^ (u & f);
              (x = 0 | w),
                (E = 0 | b),
                (w = 0 | g),
                (b = 0 | v),
                (g = 0 | m),
                (v = 0 | y),
                ({ h: m, l: y } = i.default.add(0 | h, 0 | p, 0 | C, 0 | N)),
                (h = 0 | d),
                (p = 0 | f),
                (d = 0 | o),
                (f = 0 | u),
                (o = 0 | n),
                (u = 0 | r);
              const R = i.default.add3L(N, _, M);
              (n = i.default.add3H(R, C, P, T)), (r = 0 | R);
            }
            ({ h: n, l: r } = i.default.add(0 | this.Ah, 0 | this.Al, 0 | n, 0 | r)),
              ({ h: o, l: u } = i.default.add(0 | this.Bh, 0 | this.Bl, 0 | o, 0 | u)),
              ({ h: d, l: f } = i.default.add(0 | this.Ch, 0 | this.Cl, 0 | d, 0 | f)),
              ({ h, l: p } = i.default.add(0 | this.Dh, 0 | this.Dl, 0 | h, 0 | p)),
              ({ h: m, l: y } = i.default.add(0 | this.Eh, 0 | this.El, 0 | m, 0 | y)),
              ({ h: g, l: v } = i.default.add(0 | this.Fh, 0 | this.Fl, 0 | g, 0 | v)),
              ({ h: w, l: b } = i.default.add(0 | this.Gh, 0 | this.Gl, 0 | w, 0 | b)),
              ({ h: x, l: E } = i.default.add(0 | this.Hh, 0 | this.Hl, 0 | x, 0 | E)),
              this.set(n, r, o, u, d, f, h, p, m, y, g, v, w, b, x, E);
          }
          roundClean() {
            l.fill(0), c.fill(0);
          }
          destroy() {
            this.buffer.fill(0), this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
          }
        }
        t.SHA512 = u;
        class d extends u {
          constructor() {
            super(),
              (this.Ah = -1942145080),
              (this.Al = 424955298),
              (this.Bh = 1944164710),
              (this.Bl = -1982016298),
              (this.Ch = 502970286),
              (this.Cl = 855612546),
              (this.Dh = 1738396948),
              (this.Dl = 1479516111),
              (this.Eh = 258812777),
              (this.El = 2077511080),
              (this.Fh = 2011393907),
              (this.Fl = 79989058),
              (this.Gh = 1067287976),
              (this.Gl = 1780299464),
              (this.Hh = 286451373),
              (this.Hl = -1848208735),
              (this.outputLen = 28);
          }
        }
        class f extends u {
          constructor() {
            super(),
              (this.Ah = 573645204),
              (this.Al = -64227540),
              (this.Bh = -1621794909),
              (this.Bl = -934517566),
              (this.Ch = 596883563),
              (this.Cl = 1867755857),
              (this.Dh = -1774684391),
              (this.Dl = 1497426621),
              (this.Eh = -1775747358),
              (this.El = -1467023389),
              (this.Fh = -1101128155),
              (this.Fl = 1401305490),
              (this.Gh = 721525244),
              (this.Gl = 746961066),
              (this.Hh = 246885852),
              (this.Hl = -2117784414),
              (this.outputLen = 32);
          }
        }
        class h extends u {
          constructor() {
            super(),
              (this.Ah = -876896931),
              (this.Al = -1056596264),
              (this.Bh = 1654270250),
              (this.Bl = 914150663),
              (this.Ch = -1856437926),
              (this.Cl = 812702999),
              (this.Dh = 355462360),
              (this.Dl = -150054599),
              (this.Eh = 1731405415),
              (this.El = -4191439),
              (this.Fh = -1900787065),
              (this.Fl = 1750603025),
              (this.Gh = -619958771),
              (this.Gl = 1694076839),
              (this.Hh = 1203062813),
              (this.Hl = -1090891868),
              (this.outputLen = 48);
          }
        }
        (t.sha512 = (0, o.wrapConstructor)(() => new u())),
          (t.sha512_224 = (0, o.wrapConstructor)(() => new d())),
          (t.sha512_256 = (0, o.wrapConstructor)(() => new f())),
          (t.sha384 = (0, o.wrapConstructor)(() => new h()));
      },
      7571: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.randomBytes =
            t.wrapConstructorWithOpts =
            t.wrapConstructor =
            t.checkOpts =
            t.Hash =
            t.concatBytes =
            t.toBytes =
            t.utf8ToBytes =
            t.asyncLoop =
            t.nextTick =
            t.hexToBytes =
            t.bytesToHex =
            t.isLE =
            t.rotr =
            t.createView =
            t.u32 =
            t.u8 =
              void 0);
        const r = n(3818);
        if (
          ((t.u8 = e => new Uint8Array(e.buffer, e.byteOffset, e.byteLength)),
          (t.u32 = e => new Uint32Array(e.buffer, e.byteOffset, Math.floor(e.byteLength / 4))),
          (t.createView = e => new DataView(e.buffer, e.byteOffset, e.byteLength)),
          (t.rotr = (e, t) => (e << (32 - t)) | (e >>> t)),
          (t.isLE = 68 === new Uint8Array(new Uint32Array([287454020]).buffer)[0]),
          !t.isLE)
        )
          throw new Error("Non little-endian hardware is not supported");
        const i = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0"));
        function o(e) {
          if ("string" != typeof e) throw new TypeError("utf8ToBytes expected string, got " + typeof e);
          return new TextEncoder().encode(e);
        }
        function a(e) {
          if (("string" == typeof e && (e = o(e)), !(e instanceof Uint8Array)))
            throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);
          return e;
        }
        (t.bytesToHex = function (e) {
          if (!(e instanceof Uint8Array)) throw new Error("Uint8Array expected");
          let t = "";
          for (let n = 0; n < e.length; n++) t += i[e[n]];
          return t;
        }),
          (t.hexToBytes = function (e) {
            if ("string" != typeof e) throw new TypeError("hexToBytes: expected string, got " + typeof e);
            if (e.length % 2) throw new Error("hexToBytes: received invalid unpadded hex");
            const t = new Uint8Array(e.length / 2);
            for (let n = 0; n < t.length; n++) {
              const r = 2 * n,
                i = e.slice(r, r + 2),
                o = Number.parseInt(i, 16);
              if (Number.isNaN(o) || o < 0) throw new Error("Invalid byte sequence");
              t[n] = o;
            }
            return t;
          }),
          (t.nextTick = async () => {}),
          (t.asyncLoop = async function (e, n, r) {
            let i = Date.now();
            for (let o = 0; o < e; o++) {
              r(o);
              const e = Date.now() - i;
              (e >= 0 && e < n) || (await (0, t.nextTick)(), (i += e));
            }
          }),
          (t.utf8ToBytes = o),
          (t.toBytes = a),
          (t.concatBytes = function (...e) {
            if (!e.every(e => e instanceof Uint8Array)) throw new Error("Uint8Array list expected");
            if (1 === e.length) return e[0];
            const t = e.reduce((e, t) => e + t.length, 0),
              n = new Uint8Array(t);
            for (let t = 0, r = 0; t < e.length; t++) {
              const i = e[t];
              n.set(i, r), (r += i.length);
            }
            return n;
          }),
          (t.Hash = class {
            clone() {
              return this._cloneInto();
            }
          }),
          (t.checkOpts = function (e, t) {
            if (
              void 0 !== t &&
              ("object" != typeof t ||
                ((n = t), "[object Object]" !== Object.prototype.toString.call(n) || n.constructor !== Object))
            )
              throw new TypeError("Options should be object or undefined");
            var n;
            return Object.assign(e, t);
          }),
          (t.wrapConstructor = function (e) {
            const t = t => e().update(a(t)).digest(),
              n = e();
            return (t.outputLen = n.outputLen), (t.blockLen = n.blockLen), (t.create = () => e()), t;
          }),
          (t.wrapConstructorWithOpts = function (e) {
            const t = (t, n) => e(n).update(a(t)).digest(),
              n = e({});
            return (t.outputLen = n.outputLen), (t.blockLen = n.blockLen), (t.create = t => e(t)), t;
          }),
          (t.randomBytes = function (e = 32) {
            if (r.crypto && "function" == typeof r.crypto.getRandomValues)
              return r.crypto.getRandomValues(new Uint8Array(e));
            throw new Error("crypto.getRandomValues must be defined");
          });
      },
      7473: (e, t) => {
        "use strict";
        function n(e) {
          if (!Number.isSafeInteger(e) || e < 0) throw new Error(`Wrong positive integer: ${e}`);
        }
        function r(e) {
          if ("boolean" != typeof e) throw new Error(`Expected boolean, not ${e}`);
        }
        function i(e, ...t) {
          if (!(e instanceof Uint8Array)) throw new Error("Expected Uint8Array");
          if (t.length > 0 && !t.includes(e.length))
            throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`);
        }
        function o(e) {
          if ("function" != typeof e || "function" != typeof e.create)
            throw new Error("Hash should be wrapped by utils.wrapConstructor");
          n(e.outputLen), n(e.blockLen);
        }
        function a(e, t = !0) {
          if (e.destroyed) throw new Error("Hash instance has been destroyed");
          if (t && e.finished) throw new Error("Hash#digest() has already been called");
        }
        function s(e, t) {
          i(e);
          const n = t.outputLen;
          if (e.length < n) throw new Error(`digestInto() expects output buffer of length at least ${n}`);
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.output = t.exists = t.hash = t.bytes = t.bool = t.number = void 0),
          (t.number = n),
          (t.bool = r),
          (t.bytes = i),
          (t.hash = o),
          (t.exists = a),
          (t.output = s);
        const l = { number: n, bool: r, bytes: i, hash: o, exists: a, output: s };
        t.default = l;
      },
      3837: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.SHA2 = void 0);
        const r = n(7473),
          i = n(1937);
        class o extends i.Hash {
          constructor(e, t, n, r) {
            super(),
              (this.blockLen = e),
              (this.outputLen = t),
              (this.padOffset = n),
              (this.isLE = r),
              (this.finished = !1),
              (this.length = 0),
              (this.pos = 0),
              (this.destroyed = !1),
              (this.buffer = new Uint8Array(e)),
              (this.view = (0, i.createView)(this.buffer));
          }
          update(e) {
            r.default.exists(this);
            const { view: t, buffer: n, blockLen: o } = this,
              a = (e = (0, i.toBytes)(e)).length;
            for (let r = 0; r < a; ) {
              const s = Math.min(o - this.pos, a - r);
              if (s !== o)
                n.set(e.subarray(r, r + s), this.pos),
                  (this.pos += s),
                  (r += s),
                  this.pos === o && (this.process(t, 0), (this.pos = 0));
              else {
                const t = (0, i.createView)(e);
                for (; o <= a - r; r += o) this.process(t, r);
              }
            }
            return (this.length += e.length), this.roundClean(), this;
          }
          digestInto(e) {
            r.default.exists(this), r.default.output(e, this), (this.finished = !0);
            const { buffer: t, view: n, blockLen: o, isLE: a } = this;
            let { pos: s } = this;
            (t[s++] = 128), this.buffer.subarray(s).fill(0), this.padOffset > o - s && (this.process(n, 0), (s = 0));
            for (let e = s; e < o; e++) t[e] = 0;
            !(function (e, t, n, r) {
              if ("function" == typeof e.setBigUint64) return e.setBigUint64(t, n, r);
              const i = BigInt(32),
                o = BigInt(4294967295),
                a = Number((n >> i) & o),
                s = Number(n & o),
                l = r ? 4 : 0,
                c = r ? 0 : 4;
              e.setUint32(t + l, a, r), e.setUint32(t + c, s, r);
            })(n, o - 8, BigInt(8 * this.length), a),
              this.process(n, 0);
            const l = (0, i.createView)(e),
              c = this.outputLen;
            if (c % 4) throw new Error("_sha2: outputLen should be aligned to 32bit");
            const u = c / 4,
              d = this.get();
            if (u > d.length) throw new Error("_sha2: outputLen bigger than state");
            for (let e = 0; e < u; e++) l.setUint32(4 * e, d[e], a);
          }
          digest() {
            const { buffer: e, outputLen: t } = this;
            this.digestInto(e);
            const n = e.slice(0, t);
            return this.destroy(), n;
          }
          _cloneInto(e) {
            e || (e = new this.constructor()), e.set(...this.get());
            const { blockLen: t, buffer: n, length: r, finished: i, destroyed: o, pos: a } = this;
            return (e.length = r), (e.pos = a), (e.finished = i), (e.destroyed = o), r % t && e.buffer.set(n), e;
          }
        }
        t.SHA2 = o;
      },
      505: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.crypto = void 0),
          (t.crypto = "object" == typeof globalThis && "crypto" in globalThis ? globalThis.crypto : void 0);
      },
      67: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.hmac = t.HMAC = void 0);
        const r = n(7473),
          i = n(1937);
        class o extends i.Hash {
          constructor(e, t) {
            super(), (this.finished = !1), (this.destroyed = !1), r.default.hash(e);
            const n = (0, i.toBytes)(t);
            if (((this.iHash = e.create()), "function" != typeof this.iHash.update))
              throw new Error("Expected instance of class which extends utils.Hash");
            (this.blockLen = this.iHash.blockLen), (this.outputLen = this.iHash.outputLen);
            const o = this.blockLen,
              a = new Uint8Array(o);
            a.set(n.length > o ? e.create().update(n).digest() : n);
            for (let e = 0; e < a.length; e++) a[e] ^= 54;
            this.iHash.update(a), (this.oHash = e.create());
            for (let e = 0; e < a.length; e++) a[e] ^= 106;
            this.oHash.update(a), a.fill(0);
          }
          update(e) {
            return r.default.exists(this), this.iHash.update(e), this;
          }
          digestInto(e) {
            r.default.exists(this),
              r.default.bytes(e, this.outputLen),
              (this.finished = !0),
              this.iHash.digestInto(e),
              this.oHash.update(e),
              this.oHash.digestInto(e),
              this.destroy();
          }
          digest() {
            const e = new Uint8Array(this.oHash.outputLen);
            return this.digestInto(e), e;
          }
          _cloneInto(e) {
            e || (e = Object.create(Object.getPrototypeOf(this), {}));
            const { oHash: t, iHash: n, finished: r, destroyed: i, blockLen: o, outputLen: a } = this;
            return (
              (e.finished = r),
              (e.destroyed = i),
              (e.blockLen = o),
              (e.outputLen = a),
              (e.oHash = t._cloneInto(e.oHash)),
              (e.iHash = n._cloneInto(e.iHash)),
              e
            );
          }
          destroy() {
            (this.destroyed = !0), this.oHash.destroy(), this.iHash.destroy();
          }
        }
        (t.HMAC = o), (t.hmac = (e, t, n) => new o(e, t).update(n).digest()), (t.hmac.create = (e, t) => new o(e, t));
      },
      7576: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.sha224 = t.sha256 = void 0);
        const r = n(3837),
          i = n(1937),
          o = (e, t, n) => (e & t) ^ (e & n) ^ (t & n),
          a = new Uint32Array([
            1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080,
            310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
            264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808,
            3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
            1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817,
            3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
            1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479,
            3329325298,
          ]),
          s = new Uint32Array([
            1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225,
          ]),
          l = new Uint32Array(64);
        class c extends r.SHA2 {
          constructor() {
            super(64, 32, 8, !1),
              (this.A = 0 | s[0]),
              (this.B = 0 | s[1]),
              (this.C = 0 | s[2]),
              (this.D = 0 | s[3]),
              (this.E = 0 | s[4]),
              (this.F = 0 | s[5]),
              (this.G = 0 | s[6]),
              (this.H = 0 | s[7]);
          }
          get() {
            const { A: e, B: t, C: n, D: r, E: i, F: o, G: a, H: s } = this;
            return [e, t, n, r, i, o, a, s];
          }
          set(e, t, n, r, i, o, a, s) {
            (this.A = 0 | e),
              (this.B = 0 | t),
              (this.C = 0 | n),
              (this.D = 0 | r),
              (this.E = 0 | i),
              (this.F = 0 | o),
              (this.G = 0 | a),
              (this.H = 0 | s);
          }
          process(e, t) {
            for (let n = 0; n < 16; n++, t += 4) l[n] = e.getUint32(t, !1);
            for (let e = 16; e < 64; e++) {
              const t = l[e - 15],
                n = l[e - 2],
                r = (0, i.rotr)(t, 7) ^ (0, i.rotr)(t, 18) ^ (t >>> 3),
                o = (0, i.rotr)(n, 17) ^ (0, i.rotr)(n, 19) ^ (n >>> 10);
              l[e] = (o + l[e - 7] + r + l[e - 16]) | 0;
            }
            let { A: n, B: r, C: s, D: c, E: u, F: d, G: f, H: h } = this;
            for (let e = 0; e < 64; e++) {
              const t =
                  (h +
                    ((0, i.rotr)(u, 6) ^ (0, i.rotr)(u, 11) ^ (0, i.rotr)(u, 25)) +
                    (((p = u) & d) ^ (~p & f)) +
                    a[e] +
                    l[e]) |
                  0,
                m = (((0, i.rotr)(n, 2) ^ (0, i.rotr)(n, 13) ^ (0, i.rotr)(n, 22)) + o(n, r, s)) | 0;
              (h = f), (f = d), (d = u), (u = (c + t) | 0), (c = s), (s = r), (r = n), (n = (t + m) | 0);
            }
            var p;
            (n = (n + this.A) | 0),
              (r = (r + this.B) | 0),
              (s = (s + this.C) | 0),
              (c = (c + this.D) | 0),
              (u = (u + this.E) | 0),
              (d = (d + this.F) | 0),
              (f = (f + this.G) | 0),
              (h = (h + this.H) | 0),
              this.set(n, r, s, c, u, d, f, h);
          }
          roundClean() {
            l.fill(0);
          }
          destroy() {
            this.set(0, 0, 0, 0, 0, 0, 0, 0), this.buffer.fill(0);
          }
        }
        class u extends c {
          constructor() {
            super(),
              (this.A = -1056596264),
              (this.B = 914150663),
              (this.C = 812702999),
              (this.D = -150054599),
              (this.E = -4191439),
              (this.F = 1750603025),
              (this.G = 1694076839),
              (this.H = -1090891868),
              (this.outputLen = 28);
          }
        }
        (t.sha256 = (0, i.wrapConstructor)(() => new c())), (t.sha224 = (0, i.wrapConstructor)(() => new u()));
      },
      1937: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.randomBytes =
            t.wrapXOFConstructorWithOpts =
            t.wrapConstructorWithOpts =
            t.wrapConstructor =
            t.checkOpts =
            t.Hash =
            t.concatBytes =
            t.toBytes =
            t.utf8ToBytes =
            t.asyncLoop =
            t.nextTick =
            t.hexToBytes =
            t.bytesToHex =
            t.isLE =
            t.rotr =
            t.createView =
            t.u32 =
            t.u8 =
              void 0);
        const r = n(505),
          i = e => e instanceof Uint8Array;
        if (
          ((t.u8 = e => new Uint8Array(e.buffer, e.byteOffset, e.byteLength)),
          (t.u32 = e => new Uint32Array(e.buffer, e.byteOffset, Math.floor(e.byteLength / 4))),
          (t.createView = e => new DataView(e.buffer, e.byteOffset, e.byteLength)),
          (t.rotr = (e, t) => (e << (32 - t)) | (e >>> t)),
          (t.isLE = 68 === new Uint8Array(new Uint32Array([287454020]).buffer)[0]),
          !t.isLE)
        )
          throw new Error("Non little-endian hardware is not supported");
        const o = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0"));
        function a(e) {
          if ("string" != typeof e) throw new Error("utf8ToBytes expected string, got " + typeof e);
          return new Uint8Array(new TextEncoder().encode(e));
        }
        function s(e) {
          if (("string" == typeof e && (e = a(e)), !i(e))) throw new Error("expected Uint8Array, got " + typeof e);
          return e;
        }
        (t.bytesToHex = function (e) {
          if (!i(e)) throw new Error("Uint8Array expected");
          let t = "";
          for (let n = 0; n < e.length; n++) t += o[e[n]];
          return t;
        }),
          (t.hexToBytes = function (e) {
            if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
            const t = e.length;
            if (t % 2) throw new Error("padded hex string expected, got unpadded hex of length " + t);
            const n = new Uint8Array(t / 2);
            for (let t = 0; t < n.length; t++) {
              const r = 2 * t,
                i = e.slice(r, r + 2),
                o = Number.parseInt(i, 16);
              if (Number.isNaN(o) || o < 0) throw new Error("Invalid byte sequence");
              n[t] = o;
            }
            return n;
          }),
          (t.nextTick = async () => {}),
          (t.asyncLoop = async function (e, n, r) {
            let i = Date.now();
            for (let o = 0; o < e; o++) {
              r(o);
              const e = Date.now() - i;
              (e >= 0 && e < n) || (await (0, t.nextTick)(), (i += e));
            }
          }),
          (t.utf8ToBytes = a),
          (t.toBytes = s),
          (t.concatBytes = function (...e) {
            const t = new Uint8Array(e.reduce((e, t) => e + t.length, 0));
            let n = 0;
            return (
              e.forEach(e => {
                if (!i(e)) throw new Error("Uint8Array expected");
                t.set(e, n), (n += e.length);
              }),
              t
            );
          }),
          (t.Hash = class {
            clone() {
              return this._cloneInto();
            }
          }),
          (t.checkOpts = function (e, t) {
            if (
              void 0 !== t &&
              ("object" != typeof t ||
                ((n = t), "[object Object]" !== Object.prototype.toString.call(n) || n.constructor !== Object))
            )
              throw new Error("Options should be object or undefined");
            var n;
            return Object.assign(e, t);
          }),
          (t.wrapConstructor = function (e) {
            const t = t => e().update(s(t)).digest(),
              n = e();
            return (t.outputLen = n.outputLen), (t.blockLen = n.blockLen), (t.create = () => e()), t;
          }),
          (t.wrapConstructorWithOpts = function (e) {
            const t = (t, n) => e(n).update(s(t)).digest(),
              n = e({});
            return (t.outputLen = n.outputLen), (t.blockLen = n.blockLen), (t.create = t => e(t)), t;
          }),
          (t.wrapXOFConstructorWithOpts = function (e) {
            const t = (t, n) => e(n).update(s(t)).digest(),
              n = e({});
            return (t.outputLen = n.outputLen), (t.blockLen = n.blockLen), (t.create = t => e(t)), t;
          }),
          (t.randomBytes = function (e = 32) {
            if (r.crypto && "function" == typeof r.crypto.getRandomValues)
              return r.crypto.getRandomValues(new Uint8Array(e));
            throw new Error("crypto.getRandomValues must be defined");
          });
      },
      5856: (e, t) => {
        "use strict";
        function n(e) {
          if (!Number.isSafeInteger(e)) throw new Error(`Wrong integer: ${e}`);
        }
        function r(...e) {
          const t = (e, t) => n => e(t(n));
          return {
            encode: Array.from(e)
              .reverse()
              .reduce((e, n) => (e ? t(e, n.encode) : n.encode), void 0),
            decode: e.reduce((e, n) => (e ? t(e, n.decode) : n.decode), void 0),
          };
        }
        function i(e) {
          return {
            encode: t => {
              if (!Array.isArray(t) || (t.length && "number" != typeof t[0]))
                throw new Error("alphabet.encode input should be an array of numbers");
              return t.map(t => {
                if ((n(t), t < 0 || t >= e.length))
                  throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);
                return e[t];
              });
            },
            decode: t => {
              if (!Array.isArray(t) || (t.length && "string" != typeof t[0]))
                throw new Error("alphabet.decode input should be array of strings");
              return t.map(t => {
                if ("string" != typeof t) throw new Error(`alphabet.decode: not string element=${t}`);
                const n = e.indexOf(t);
                if (-1 === n) throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);
                return n;
              });
            },
          };
        }
        function o(e = "") {
          if ("string" != typeof e) throw new Error("join separator should be string");
          return {
            encode: t => {
              if (!Array.isArray(t) || (t.length && "string" != typeof t[0]))
                throw new Error("join.encode input should be array of strings");
              for (let e of t) if ("string" != typeof e) throw new Error(`join.encode: non-string input=${e}`);
              return t.join(e);
            },
            decode: t => {
              if ("string" != typeof t) throw new Error("join.decode input should be string");
              return t.split(e);
            },
          };
        }
        function a(e, t = "=") {
          if ((n(e), "string" != typeof t)) throw new Error("padding chr should be string");
          return {
            encode(n) {
              if (!Array.isArray(n) || (n.length && "string" != typeof n[0]))
                throw new Error("padding.encode input should be array of strings");
              for (let e of n) if ("string" != typeof e) throw new Error(`padding.encode: non-string input=${e}`);
              for (; (n.length * e) % 8; ) n.push(t);
              return n;
            },
            decode(n) {
              if (!Array.isArray(n) || (n.length && "string" != typeof n[0]))
                throw new Error("padding.encode input should be array of strings");
              for (let e of n) if ("string" != typeof e) throw new Error(`padding.decode: non-string input=${e}`);
              let r = n.length;
              if ((r * e) % 8) throw new Error("Invalid padding: string should have whole number of bytes");
              for (; r > 0 && n[r - 1] === t; r--)
                if (!(((r - 1) * e) % 8)) throw new Error("Invalid padding: string has too much padding");
              return n.slice(0, r);
            },
          };
        }
        function s(e) {
          if ("function" != typeof e) throw new Error("normalize fn should be function");
          return { encode: e => e, decode: t => e(t) };
        }
        function l(e, t, r) {
          if (t < 2) throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);
          if (r < 2) throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);
          if (!Array.isArray(e)) throw new Error("convertRadix: data should be array");
          if (!e.length) return [];
          let i = 0;
          const o = [],
            a = Array.from(e);
          for (
            a.forEach(e => {
              if ((n(e), e < 0 || e >= t)) throw new Error(`Wrong integer: ${e}`);
            });
            ;

          ) {
            let e = 0,
              n = !0;
            for (let o = i; o < a.length; o++) {
              const s = a[o],
                l = t * e + s;
              if (!Number.isSafeInteger(l) || (t * e) / t !== e || l - s != t * e)
                throw new Error("convertRadix: carry overflow");
              if (((e = l % r), (a[o] = Math.floor(l / r)), !Number.isSafeInteger(a[o]) || a[o] * r + e !== l))
                throw new Error("convertRadix: carry overflow");
              n && (a[o] ? (n = !1) : (i = o));
            }
            if ((o.push(e), n)) break;
          }
          for (let t = 0; t < e.length - 1 && 0 === e[t]; t++) o.push(0);
          return o.reverse();
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.bytes =
            t.stringToBytes =
            t.str =
            t.bytesToString =
            t.hex =
            t.utf8 =
            t.bech32m =
            t.bech32 =
            t.base58check =
            t.base58xmr =
            t.base58xrp =
            t.base58flickr =
            t.base58 =
            t.base64url =
            t.base64 =
            t.base32crockford =
            t.base32hex =
            t.base32 =
            t.base16 =
            t.utils =
            t.assertNumber =
              void 0),
          (t.assertNumber = n);
        const c = (e, t) => (t ? c(t, e % t) : e),
          u = (e, t) => e + (t - c(e, t));
        function d(e, t, r, i) {
          if (!Array.isArray(e)) throw new Error("convertRadix2: data should be array");
          if (t <= 0 || t > 32) throw new Error(`convertRadix2: wrong from=${t}`);
          if (r <= 0 || r > 32) throw new Error(`convertRadix2: wrong to=${r}`);
          if (u(t, r) > 32) throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${u(t, r)}`);
          let o = 0,
            a = 0;
          const s = 2 ** r - 1,
            l = [];
          for (const i of e) {
            if ((n(i), i >= 2 ** t)) throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);
            if (((o = (o << t) | i), a + t > 32)) throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);
            for (a += t; a >= r; a -= r) l.push(((o >> (a - r)) & s) >>> 0);
            o &= 2 ** a - 1;
          }
          if (((o = (o << (r - a)) & s), !i && a >= t)) throw new Error("Excess padding");
          if (!i && o) throw new Error(`Non-zero padding: ${o}`);
          return i && a > 0 && l.push(o >>> 0), l;
        }
        function f(e) {
          return (
            n(e),
            {
              encode: t => {
                if (!(t instanceof Uint8Array)) throw new Error("radix.encode input should be Uint8Array");
                return l(Array.from(t), 256, e);
              },
              decode: t => {
                if (!Array.isArray(t) || (t.length && "number" != typeof t[0]))
                  throw new Error("radix.decode input should be array of strings");
                return Uint8Array.from(l(t, e, 256));
              },
            }
          );
        }
        function h(e, t = !1) {
          if ((n(e), e <= 0 || e > 32)) throw new Error("radix2: bits should be in (0..32]");
          if (u(8, e) > 32 || u(e, 8) > 32) throw new Error("radix2: carry overflow");
          return {
            encode: n => {
              if (!(n instanceof Uint8Array)) throw new Error("radix2.encode input should be Uint8Array");
              return d(Array.from(n), 8, e, !t);
            },
            decode: n => {
              if (!Array.isArray(n) || (n.length && "number" != typeof n[0]))
                throw new Error("radix2.decode input should be array of strings");
              return Uint8Array.from(d(n, e, 8, t));
            },
          };
        }
        function p(e) {
          if ("function" != typeof e) throw new Error("unsafeWrapper fn should be function");
          return function (...t) {
            try {
              return e.apply(null, t);
            } catch (e) {}
          };
        }
        function m(e, t) {
          if ((n(e), "function" != typeof t)) throw new Error("checksum fn should be function");
          return {
            encode(n) {
              if (!(n instanceof Uint8Array)) throw new Error("checksum.encode: input should be Uint8Array");
              const r = t(n).slice(0, e),
                i = new Uint8Array(n.length + e);
              return i.set(n), i.set(r, n.length), i;
            },
            decode(n) {
              if (!(n instanceof Uint8Array)) throw new Error("checksum.decode: input should be Uint8Array");
              const r = n.slice(0, -e),
                i = t(r).slice(0, e),
                o = n.slice(-e);
              for (let t = 0; t < e; t++) if (i[t] !== o[t]) throw new Error("Invalid checksum");
              return r;
            },
          };
        }
        (t.utils = { alphabet: i, chain: r, checksum: m, radix: f, radix2: h, join: o, padding: a }),
          (t.base16 = r(h(4), i("0123456789ABCDEF"), o(""))),
          (t.base32 = r(h(5), i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"), a(5), o(""))),
          (t.base32hex = r(h(5), i("0123456789ABCDEFGHIJKLMNOPQRSTUV"), a(5), o(""))),
          (t.base32crockford = r(
            h(5),
            i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),
            o(""),
            s(e => e.toUpperCase().replace(/O/g, "0").replace(/[IL]/g, "1"))
          )),
          (t.base64 = r(h(6), i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"), a(6), o(""))),
          (t.base64url = r(h(6), i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"), a(6), o("")));
        const y = e => r(f(58), i(e), o(""));
        (t.base58 = y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),
          (t.base58flickr = y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")),
          (t.base58xrp = y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"));
        const g = [0, 2, 3, 5, 6, 7, 9, 10, 11];
        (t.base58xmr = {
          encode(e) {
            let n = "";
            for (let r = 0; r < e.length; r += 8) {
              const i = e.subarray(r, r + 8);
              n += t.base58.encode(i).padStart(g[i.length], "1");
            }
            return n;
          },
          decode(e) {
            let n = [];
            for (let r = 0; r < e.length; r += 11) {
              const i = e.slice(r, r + 11),
                o = g.indexOf(i.length),
                a = t.base58.decode(i);
              for (let e = 0; e < a.length - o; e++) if (0 !== a[e]) throw new Error("base58xmr: wrong padding");
              n = n.concat(Array.from(a.slice(a.length - o)));
            }
            return Uint8Array.from(n);
          },
        }),
          (t.base58check = e =>
            r(
              m(4, t => e(e(t))),
              t.base58
            ));
        const v = r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"), o("")),
          w = [996825010, 642813549, 513874426, 1027748829, 705979059];
        function b(e) {
          const t = e >> 25;
          let n = (33554431 & e) << 5;
          for (let e = 0; e < w.length; e++) 1 == ((t >> e) & 1) && (n ^= w[e]);
          return n;
        }
        function x(e, t, n = 1) {
          const r = e.length;
          let i = 1;
          for (let t = 0; t < r; t++) {
            const n = e.charCodeAt(t);
            if (n < 33 || n > 126) throw new Error(`Invalid prefix (${e})`);
            i = b(i) ^ (n >> 5);
          }
          i = b(i);
          for (let t = 0; t < r; t++) i = b(i) ^ (31 & e.charCodeAt(t));
          for (let e of t) i = b(i) ^ e;
          for (let e = 0; e < 6; e++) i = b(i);
          return (i ^= n), v.encode(d([i % 2 ** 30], 30, 5, !1));
        }
        function E(e) {
          const t = "bech32" === e ? 1 : 734539939,
            n = h(5),
            r = n.decode,
            i = n.encode,
            o = p(r);
          function a(e, n = 90) {
            if ("string" != typeof e) throw new Error("bech32.decode input should be string, not " + typeof e);
            if (e.length < 8 || (!1 !== n && e.length > n))
              throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);
            const r = e.toLowerCase();
            if (e !== r && e !== e.toUpperCase()) throw new Error("String must be lowercase or uppercase");
            const i = (e = r).lastIndexOf("1");
            if (0 === i || -1 === i) throw new Error('Letter "1" must be present between prefix and data only');
            const o = e.slice(0, i),
              a = e.slice(i + 1);
            if (a.length < 6) throw new Error("Data must be at least 6 characters long");
            const s = v.decode(a).slice(0, -6),
              l = x(o, s, t);
            if (!a.endsWith(l)) throw new Error(`Invalid checksum in ${e}: expected "${l}"`);
            return { prefix: o, words: s };
          }
          return {
            encode: function (e, n, r = 90) {
              if ("string" != typeof e) throw new Error("bech32.encode prefix should be string, not " + typeof e);
              if (!Array.isArray(n) || (n.length && "number" != typeof n[0]))
                throw new Error("bech32.encode words should be array of numbers, not " + typeof n);
              const i = e.length + 7 + n.length;
              if (!1 !== r && i > r) throw new TypeError(`Length ${i} exceeds limit ${r}`);
              return `${(e = e.toLowerCase())}1${v.encode(n)}${x(e, n, t)}`;
            },
            decode: a,
            decodeToBytes: function (e) {
              const { prefix: t, words: n } = a(e, !1);
              return { prefix: t, words: n, bytes: r(n) };
            },
            decodeUnsafe: p(a),
            fromWords: r,
            fromWordsUnsafe: o,
            toWords: i,
          };
        }
        (t.bech32 = E("bech32")),
          (t.bech32m = E("bech32m")),
          (t.utf8 = { encode: e => new TextDecoder().decode(e), decode: e => new TextEncoder().encode(e) }),
          (t.hex = r(
            h(4),
            i("0123456789abcdef"),
            o(""),
            s(e => {
              if ("string" != typeof e || e.length % 2)
                throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);
              return e.toLowerCase();
            })
          ));
        const k = {
            utf8: t.utf8,
            hex: t.hex,
            base16: t.base16,
            base32: t.base32,
            base64: t.base64,
            base64url: t.base64url,
            base58: t.base58,
            base58xmr: t.base58xmr,
          },
          j = `Invalid encoding type. Available types: ${Object.keys(k).join(", ")}`;
        (t.bytesToString = (e, t) => {
          if ("string" != typeof e || !k.hasOwnProperty(e)) throw new TypeError(j);
          if (!(t instanceof Uint8Array)) throw new TypeError("bytesToString() expects Uint8Array");
          return k[e].encode(t);
        }),
          (t.str = t.bytesToString),
          (t.stringToBytes = (e, t) => {
            if (!k.hasOwnProperty(e)) throw new TypeError(j);
            if ("string" != typeof t) throw new TypeError("stringToBytes() expects string");
            return k[e].decode(t);
          }),
          (t.bytes = t.stringToBytes);
      },
      8092: (e, t, n) => {
        "use strict";
        t.JJ = t.oy = t.OF = void 0;
        const r = n(9827),
          i = (n(9006), n(374)),
          o = (n(9868), n(7571)),
          a = n(5856);
        function s(e) {
          if ("string" != typeof e) throw new TypeError("Invalid mnemonic type: " + typeof e);
          return e.normalize("NFKD");
        }
        function l(e) {
          r.default.bytes(e, 16, 20, 24, 28, 32);
        }
        t.OF = function (e, t = 128) {
          if ((r.default.number(t), t % 32 != 0 || t > 256)) throw new TypeError("Invalid entropy");
          return d((0, o.randomBytes)(t / 8), e);
        };
        const c = e => {
          const t = 8 - e.length / 4;
          return new Uint8Array([((0, i.sha256)(e)[0] >> t) << t]);
        };
        function u(e) {
          if (!Array.isArray(e) || 2048 !== e.length || "string" != typeof e[0])
            throw new Error("Worlist: expected array of 2048 strings");
          return (
            e.forEach(e => {
              if ("string" != typeof e) throw new Error(`Wordlist: non-string element: ${e}`);
            }),
            a.utils.chain(a.utils.checksum(1, c), a.utils.radix2(11, !0), a.utils.alphabet(e))
          );
        }
        function d(e, t) {
          return (
            l(e),
            u(t)
              .encode(e)
              .join((e => "あいこくしん" === e[0])(t) ? "　" : " ")
          );
        }
        (t.oy = function (e, t) {
          const { words: n } = (function (e) {
              const t = s(e),
                n = t.split(" ");
              if (![12, 15, 18, 21, 24].includes(n.length)) throw new Error("Invalid mnemonic");
              return { nfkd: t, words: n };
            })(e),
            r = u(t).decode(n);
          return l(r), r;
        }),
          (t.JJ = d);
      },
      530: (e, t) => {
        "use strict";
        (t.U = void 0),
          (t.U =
            "abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split(
              "\n"
            ));
      },
      6376: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var r = n(9352);
        function i(e, t, n) {
          return (
            void 0 === t && (t = new Uint8Array(2)),
            void 0 === n && (n = 0),
            (t[n + 0] = e >>> 8),
            (t[n + 1] = e >>> 0),
            t
          );
        }
        function o(e, t, n) {
          return (
            void 0 === t && (t = new Uint8Array(2)),
            void 0 === n && (n = 0),
            (t[n + 0] = e >>> 0),
            (t[n + 1] = e >>> 8),
            t
          );
        }
        function a(e, t) {
          return void 0 === t && (t = 0), (e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3];
        }
        function s(e, t) {
          return void 0 === t && (t = 0), ((e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3]) >>> 0;
        }
        function l(e, t) {
          return void 0 === t && (t = 0), (e[t + 3] << 24) | (e[t + 2] << 16) | (e[t + 1] << 8) | e[t];
        }
        function c(e, t) {
          return void 0 === t && (t = 0), ((e[t + 3] << 24) | (e[t + 2] << 16) | (e[t + 1] << 8) | e[t]) >>> 0;
        }
        function u(e, t, n) {
          return (
            void 0 === t && (t = new Uint8Array(4)),
            void 0 === n && (n = 0),
            (t[n + 0] = e >>> 24),
            (t[n + 1] = e >>> 16),
            (t[n + 2] = e >>> 8),
            (t[n + 3] = e >>> 0),
            t
          );
        }
        function d(e, t, n) {
          return (
            void 0 === t && (t = new Uint8Array(4)),
            void 0 === n && (n = 0),
            (t[n + 0] = e >>> 0),
            (t[n + 1] = e >>> 8),
            (t[n + 2] = e >>> 16),
            (t[n + 3] = e >>> 24),
            t
          );
        }
        function f(e, t, n) {
          return (
            void 0 === t && (t = new Uint8Array(8)),
            void 0 === n && (n = 0),
            u((e / 4294967296) >>> 0, t, n),
            u(e >>> 0, t, n + 4),
            t
          );
        }
        function h(e, t, n) {
          return (
            void 0 === t && (t = new Uint8Array(8)),
            void 0 === n && (n = 0),
            d(e >>> 0, t, n),
            d((e / 4294967296) >>> 0, t, n + 4),
            t
          );
        }
        (t.readInt16BE = function (e, t) {
          return void 0 === t && (t = 0), (((e[t + 0] << 8) | e[t + 1]) << 16) >> 16;
        }),
          (t.readUint16BE = function (e, t) {
            return void 0 === t && (t = 0), ((e[t + 0] << 8) | e[t + 1]) >>> 0;
          }),
          (t.readInt16LE = function (e, t) {
            return void 0 === t && (t = 0), (((e[t + 1] << 8) | e[t]) << 16) >> 16;
          }),
          (t.readUint16LE = function (e, t) {
            return void 0 === t && (t = 0), ((e[t + 1] << 8) | e[t]) >>> 0;
          }),
          (t.writeUint16BE = i),
          (t.writeInt16BE = i),
          (t.writeUint16LE = o),
          (t.writeInt16LE = o),
          (t.readInt32BE = a),
          (t.readUint32BE = s),
          (t.readInt32LE = l),
          (t.readUint32LE = c),
          (t.writeUint32BE = u),
          (t.writeInt32BE = u),
          (t.writeUint32LE = d),
          (t.writeInt32LE = d),
          (t.readInt64BE = function (e, t) {
            void 0 === t && (t = 0);
            var n = a(e, t),
              r = a(e, t + 4);
            return 4294967296 * n + r - 4294967296 * (r >> 31);
          }),
          (t.readUint64BE = function (e, t) {
            return void 0 === t && (t = 0), 4294967296 * s(e, t) + s(e, t + 4);
          }),
          (t.readInt64LE = function (e, t) {
            void 0 === t && (t = 0);
            var n = l(e, t);
            return 4294967296 * l(e, t + 4) + n - 4294967296 * (n >> 31);
          }),
          (t.readUint64LE = function (e, t) {
            void 0 === t && (t = 0);
            var n = c(e, t);
            return 4294967296 * c(e, t + 4) + n;
          }),
          (t.writeUint64BE = f),
          (t.writeInt64BE = f),
          (t.writeUint64LE = h),
          (t.writeInt64LE = h),
          (t.readUintBE = function (e, t, n) {
            if ((void 0 === n && (n = 0), e % 8 != 0))
              throw new Error("readUintBE supports only bitLengths divisible by 8");
            if (e / 8 > t.length - n) throw new Error("readUintBE: array is too short for the given bitLength");
            for (var r = 0, i = 1, o = e / 8 + n - 1; o >= n; o--) (r += t[o] * i), (i *= 256);
            return r;
          }),
          (t.readUintLE = function (e, t, n) {
            if ((void 0 === n && (n = 0), e % 8 != 0))
              throw new Error("readUintLE supports only bitLengths divisible by 8");
            if (e / 8 > t.length - n) throw new Error("readUintLE: array is too short for the given bitLength");
            for (var r = 0, i = 1, o = n; o < n + e / 8; o++) (r += t[o] * i), (i *= 256);
            return r;
          }),
          (t.writeUintBE = function (e, t, n, i) {
            if ((void 0 === n && (n = new Uint8Array(e / 8)), void 0 === i && (i = 0), e % 8 != 0))
              throw new Error("writeUintBE supports only bitLengths divisible by 8");
            if (!r.isSafeInteger(t)) throw new Error("writeUintBE value must be an integer");
            for (var o = 1, a = e / 8 + i - 1; a >= i; a--) (n[a] = (t / o) & 255), (o *= 256);
            return n;
          }),
          (t.writeUintLE = function (e, t, n, i) {
            if ((void 0 === n && (n = new Uint8Array(e / 8)), void 0 === i && (i = 0), e % 8 != 0))
              throw new Error("writeUintLE supports only bitLengths divisible by 8");
            if (!r.isSafeInteger(t)) throw new Error("writeUintLE value must be an integer");
            for (var o = 1, a = i; a < i + e / 8; a++) (n[a] = (t / o) & 255), (o *= 256);
            return n;
          }),
          (t.readFloat32BE = function (e, t) {
            return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat32(t);
          }),
          (t.readFloat32LE = function (e, t) {
            return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat32(t, !0);
          }),
          (t.readFloat64BE = function (e, t) {
            return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat64(t);
          }),
          (t.readFloat64LE = function (e, t) {
            return void 0 === t && (t = 0), new DataView(e.buffer, e.byteOffset, e.byteLength).getFloat64(t, !0);
          }),
          (t.writeFloat32BE = function (e, t, n) {
            return (
              void 0 === t && (t = new Uint8Array(4)),
              void 0 === n && (n = 0),
              new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat32(n, e),
              t
            );
          }),
          (t.writeFloat32LE = function (e, t, n) {
            return (
              void 0 === t && (t = new Uint8Array(4)),
              void 0 === n && (n = 0),
              new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat32(n, e, !0),
              t
            );
          }),
          (t.writeFloat64BE = function (e, t, n) {
            return (
              void 0 === t && (t = new Uint8Array(8)),
              void 0 === n && (n = 0),
              new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat64(n, e),
              t
            );
          }),
          (t.writeFloat64LE = function (e, t, n) {
            return (
              void 0 === t && (t = new Uint8Array(8)),
              void 0 === n && (n = 0),
              new DataView(t.buffer, t.byteOffset, t.byteLength).setFloat64(n, e, !0),
              t
            );
          });
      },
      4388: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var r = n(6376),
          i = n(7873),
          o = 20;
        function a(e, t, n) {
          for (
            var i = 1634760805,
              a = 857760878,
              s = 2036477234,
              l = 1797285236,
              c = (n[3] << 24) | (n[2] << 16) | (n[1] << 8) | n[0],
              u = (n[7] << 24) | (n[6] << 16) | (n[5] << 8) | n[4],
              d = (n[11] << 24) | (n[10] << 16) | (n[9] << 8) | n[8],
              f = (n[15] << 24) | (n[14] << 16) | (n[13] << 8) | n[12],
              h = (n[19] << 24) | (n[18] << 16) | (n[17] << 8) | n[16],
              p = (n[23] << 24) | (n[22] << 16) | (n[21] << 8) | n[20],
              m = (n[27] << 24) | (n[26] << 16) | (n[25] << 8) | n[24],
              y = (n[31] << 24) | (n[30] << 16) | (n[29] << 8) | n[28],
              g = (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0],
              v = (t[7] << 24) | (t[6] << 16) | (t[5] << 8) | t[4],
              w = (t[11] << 24) | (t[10] << 16) | (t[9] << 8) | t[8],
              b = (t[15] << 24) | (t[14] << 16) | (t[13] << 8) | t[12],
              x = i,
              E = a,
              k = s,
              j = l,
              S = c,
              A = u,
              C = d,
              N = f,
              P = h,
              _ = p,
              T = m,
              M = y,
              R = g,
              B = v,
              O = w,
              L = b,
              I = 0;
            I < o;
            I += 2
          )
            (S = ((S ^= P = (P + (R = ((R ^= x = (x + S) | 0) >>> 16) | (R << 16))) | 0) >>> 20) | (S << 12)),
              (A = ((A ^= _ = (_ + (B = ((B ^= E = (E + A) | 0) >>> 16) | (B << 16))) | 0) >>> 20) | (A << 12)),
              (C = ((C ^= T = (T + (O = ((O ^= k = (k + C) | 0) >>> 16) | (O << 16))) | 0) >>> 20) | (C << 12)),
              (N = ((N ^= M = (M + (L = ((L ^= j = (j + N) | 0) >>> 16) | (L << 16))) | 0) >>> 20) | (N << 12)),
              (C = ((C ^= T = (T + (O = ((O ^= k = (k + C) | 0) >>> 24) | (O << 8))) | 0) >>> 25) | (C << 7)),
              (N = ((N ^= M = (M + (L = ((L ^= j = (j + N) | 0) >>> 24) | (L << 8))) | 0) >>> 25) | (N << 7)),
              (A = ((A ^= _ = (_ + (B = ((B ^= E = (E + A) | 0) >>> 24) | (B << 8))) | 0) >>> 25) | (A << 7)),
              (S = ((S ^= P = (P + (R = ((R ^= x = (x + S) | 0) >>> 24) | (R << 8))) | 0) >>> 25) | (S << 7)),
              (A = ((A ^= T = (T + (L = ((L ^= x = (x + A) | 0) >>> 16) | (L << 16))) | 0) >>> 20) | (A << 12)),
              (C = ((C ^= M = (M + (R = ((R ^= E = (E + C) | 0) >>> 16) | (R << 16))) | 0) >>> 20) | (C << 12)),
              (N = ((N ^= P = (P + (B = ((B ^= k = (k + N) | 0) >>> 16) | (B << 16))) | 0) >>> 20) | (N << 12)),
              (S = ((S ^= _ = (_ + (O = ((O ^= j = (j + S) | 0) >>> 16) | (O << 16))) | 0) >>> 20) | (S << 12)),
              (N = ((N ^= P = (P + (B = ((B ^= k = (k + N) | 0) >>> 24) | (B << 8))) | 0) >>> 25) | (N << 7)),
              (S = ((S ^= _ = (_ + (O = ((O ^= j = (j + S) | 0) >>> 24) | (O << 8))) | 0) >>> 25) | (S << 7)),
              (C = ((C ^= M = (M + (R = ((R ^= E = (E + C) | 0) >>> 24) | (R << 8))) | 0) >>> 25) | (C << 7)),
              (A = ((A ^= T = (T + (L = ((L ^= x = (x + A) | 0) >>> 24) | (L << 8))) | 0) >>> 25) | (A << 7));
          r.writeUint32LE((x + i) | 0, e, 0),
            r.writeUint32LE((E + a) | 0, e, 4),
            r.writeUint32LE((k + s) | 0, e, 8),
            r.writeUint32LE((j + l) | 0, e, 12),
            r.writeUint32LE((S + c) | 0, e, 16),
            r.writeUint32LE((A + u) | 0, e, 20),
            r.writeUint32LE((C + d) | 0, e, 24),
            r.writeUint32LE((N + f) | 0, e, 28),
            r.writeUint32LE((P + h) | 0, e, 32),
            r.writeUint32LE((_ + p) | 0, e, 36),
            r.writeUint32LE((T + m) | 0, e, 40),
            r.writeUint32LE((M + y) | 0, e, 44),
            r.writeUint32LE((R + g) | 0, e, 48),
            r.writeUint32LE((B + v) | 0, e, 52),
            r.writeUint32LE((O + w) | 0, e, 56),
            r.writeUint32LE((L + b) | 0, e, 60);
        }
        function s(e, t, n, r, o) {
          if ((void 0 === o && (o = 0), 32 !== e.length)) throw new Error("ChaCha: key size must be 32 bytes");
          if (r.length < n.length) throw new Error("ChaCha: destination is shorter than source");
          var s, c;
          if (0 === o) {
            if (8 !== t.length && 12 !== t.length) throw new Error("ChaCha nonce must be 8 or 12 bytes");
            (c = (s = new Uint8Array(16)).length - t.length), s.set(t, c);
          } else {
            if (16 !== t.length) throw new Error("ChaCha nonce with counter must be 16 bytes");
            (s = t), (c = o);
          }
          for (var u = new Uint8Array(64), d = 0; d < n.length; d += 64) {
            a(u, s, e);
            for (var f = d; f < d + 64 && f < n.length; f++) r[f] = n[f] ^ u[f - d];
            l(s, 0, c);
          }
          return i.wipe(u), 0 === o && i.wipe(s), r;
        }
        function l(e, t, n) {
          for (var r = 1; n--; ) (r = (r + (255 & e[t])) | 0), (e[t] = 255 & r), (r >>>= 8), t++;
          if (r > 0) throw new Error("ChaCha: counter overflow");
        }
        (t.streamXOR = s),
          (t.stream = function (e, t, n, r) {
            return void 0 === r && (r = 0), i.wipe(n), s(e, t, n, n, r);
          });
      },
      9352: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.mul =
            Math.imul ||
            function (e, t) {
              var n = 65535 & e,
                r = 65535 & t;
              return (n * r + (((((e >>> 16) & 65535) * r + n * ((t >>> 16) & 65535)) << 16) >>> 0)) | 0;
            }),
          (t.add = function (e, t) {
            return (e + t) | 0;
          }),
          (t.sub = function (e, t) {
            return (e - t) | 0;
          }),
          (t.rotl = function (e, t) {
            return (e << t) | (e >>> (32 - t));
          }),
          (t.rotr = function (e, t) {
            return (e << (32 - t)) | (e >>> t);
          }),
          (t.isInteger =
            Number.isInteger ||
            function (e) {
              return "number" == typeof e && isFinite(e) && Math.floor(e) === e;
            }),
          (t.MAX_SAFE_INTEGER = 9007199254740991),
          (t.isSafeInteger = function (e) {
            return t.isInteger(e) && e >= -t.MAX_SAFE_INTEGER && e <= t.MAX_SAFE_INTEGER;
          });
      },
      7873: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.wipe = function (e) {
            for (var t = 0; t < e.length; t++) e[t] = 0;
            return e;
          });
      },
      8884: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
        var r = n(6376),
          i = n(7873),
          o = n(4388),
          a = 20;
        function s(e, t, n, r) {
          if (24 !== t.length) throw new Error("XChaCha20 nonce must be 24 bytes");
          var a = l(e, t.subarray(0, 16), new Uint8Array(32)),
            s = new Uint8Array(12);
          s.set(t.subarray(16), 4);
          var c = o.streamXOR(a, s, n, r);
          return i.wipe(a), c;
        }
        function l(e, t, n) {
          for (
            var i = 1634760805,
              o = 857760878,
              s = 2036477234,
              l = 1797285236,
              c = (e[3] << 24) | (e[2] << 16) | (e[1] << 8) | e[0],
              u = (e[7] << 24) | (e[6] << 16) | (e[5] << 8) | e[4],
              d = (e[11] << 24) | (e[10] << 16) | (e[9] << 8) | e[8],
              f = (e[15] << 24) | (e[14] << 16) | (e[13] << 8) | e[12],
              h = (e[19] << 24) | (e[18] << 16) | (e[17] << 8) | e[16],
              p = (e[23] << 24) | (e[22] << 16) | (e[21] << 8) | e[20],
              m = (e[27] << 24) | (e[26] << 16) | (e[25] << 8) | e[24],
              y = (e[31] << 24) | (e[30] << 16) | (e[29] << 8) | e[28],
              g = (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0],
              v = (t[7] << 24) | (t[6] << 16) | (t[5] << 8) | t[4],
              w = (t[11] << 24) | (t[10] << 16) | (t[9] << 8) | t[8],
              b = (t[15] << 24) | (t[14] << 16) | (t[13] << 8) | t[12],
              x = 0;
            x < a;
            x += 2
          )
            (c = ((c ^= h = (h + (g = ((g ^= i = (i + c) | 0) >>> 16) | (g << 16))) | 0) >>> 20) | (c << 12)),
              (u = ((u ^= p = (p + (v = ((v ^= o = (o + u) | 0) >>> 16) | (v << 16))) | 0) >>> 20) | (u << 12)),
              (d = ((d ^= m = (m + (w = ((w ^= s = (s + d) | 0) >>> 16) | (w << 16))) | 0) >>> 20) | (d << 12)),
              (f = ((f ^= y = (y + (b = ((b ^= l = (l + f) | 0) >>> 16) | (b << 16))) | 0) >>> 20) | (f << 12)),
              (d = ((d ^= m = (m + (w = ((w ^= s = (s + d) | 0) >>> 24) | (w << 8))) | 0) >>> 25) | (d << 7)),
              (f = ((f ^= y = (y + (b = ((b ^= l = (l + f) | 0) >>> 24) | (b << 8))) | 0) >>> 25) | (f << 7)),
              (u = ((u ^= p = (p + (v = ((v ^= o = (o + u) | 0) >>> 24) | (v << 8))) | 0) >>> 25) | (u << 7)),
              (c = ((c ^= h = (h + (g = ((g ^= i = (i + c) | 0) >>> 24) | (g << 8))) | 0) >>> 25) | (c << 7)),
              (u = ((u ^= m = (m + (b = ((b ^= i = (i + u) | 0) >>> 16) | (b << 16))) | 0) >>> 20) | (u << 12)),
              (d = ((d ^= y = (y + (g = ((g ^= o = (o + d) | 0) >>> 16) | (g << 16))) | 0) >>> 20) | (d << 12)),
              (f = ((f ^= h = (h + (v = ((v ^= s = (s + f) | 0) >>> 16) | (v << 16))) | 0) >>> 20) | (f << 12)),
              (c = ((c ^= p = (p + (w = ((w ^= l = (l + c) | 0) >>> 16) | (w << 16))) | 0) >>> 20) | (c << 12)),
              (f = ((f ^= h = (h + (v = ((v ^= s = (s + f) | 0) >>> 24) | (v << 8))) | 0) >>> 25) | (f << 7)),
              (c = ((c ^= p = (p + (w = ((w ^= l = (l + c) | 0) >>> 24) | (w << 8))) | 0) >>> 25) | (c << 7)),
              (d = ((d ^= y = (y + (g = ((g ^= o = (o + d) | 0) >>> 24) | (g << 8))) | 0) >>> 25) | (d << 7)),
              (u = ((u ^= m = (m + (b = ((b ^= i = (i + u) | 0) >>> 24) | (b << 8))) | 0) >>> 25) | (u << 7));
          return (
            r.writeUint32LE(i, n, 0),
            r.writeUint32LE(o, n, 4),
            r.writeUint32LE(s, n, 8),
            r.writeUint32LE(l, n, 12),
            r.writeUint32LE(g, n, 16),
            r.writeUint32LE(v, n, 20),
            r.writeUint32LE(w, n, 24),
            r.writeUint32LE(b, n, 28),
            n
          );
        }
        (t.streamXOR = s),
          (t.stream = function (e, t, n) {
            return i.wipe(n), s(e, t, n, n);
          }),
          (t.hchacha = l);
      },
      5616: e => {
        var t;
        self,
          (t = () =>
            (() => {
              var e = {
                  446: (e, t, n) => {
                    "use strict";
                    var r,
                      i = {
                        cipher: {},
                        hash: {},
                        keyexchange: {},
                        mode: {},
                        misc: {},
                        codec: {},
                        exception: {
                          corrupt: function (e) {
                            (this.toString = function () {
                              return "CORRUPT: " + this.message;
                            }),
                              (this.message = e);
                          },
                          invalid: function (e) {
                            (this.toString = function () {
                              return "INVALID: " + this.message;
                            }),
                              (this.message = e);
                          },
                          bug: function (e) {
                            (this.toString = function () {
                              return "BUG: " + this.message;
                            }),
                              (this.message = e);
                          },
                          notReady: function (e) {
                            (this.toString = function () {
                              return "NOT READY: " + this.message;
                            }),
                              (this.message = e);
                          },
                        },
                      };
                    function o(e, t, n) {
                      if (4 !== t.length) throw new i.exception.invalid("invalid aes block size");
                      var r = e.b[n],
                        o = t[0] ^ r[0],
                        a = t[n ? 3 : 1] ^ r[1],
                        s = t[2] ^ r[2];
                      t = t[n ? 1 : 3] ^ r[3];
                      var l,
                        c,
                        u,
                        d,
                        f = r.length / 4 - 2,
                        h = 4,
                        p = [0, 0, 0, 0];
                      e = (l = e.s[n])[0];
                      var m = l[1],
                        y = l[2],
                        g = l[3],
                        v = l[4];
                      for (d = 0; d < f; d++)
                        (l = e[o >>> 24] ^ m[(a >> 16) & 255] ^ y[(s >> 8) & 255] ^ g[255 & t] ^ r[h]),
                          (c = e[a >>> 24] ^ m[(s >> 16) & 255] ^ y[(t >> 8) & 255] ^ g[255 & o] ^ r[h + 1]),
                          (u = e[s >>> 24] ^ m[(t >> 16) & 255] ^ y[(o >> 8) & 255] ^ g[255 & a] ^ r[h + 2]),
                          (t = e[t >>> 24] ^ m[(o >> 16) & 255] ^ y[(a >> 8) & 255] ^ g[255 & s] ^ r[h + 3]),
                          (h += 4),
                          (o = l),
                          (a = c),
                          (s = u);
                      for (d = 0; 4 > d; d++)
                        (p[n ? 3 & -d : d] =
                          (v[o >>> 24] << 24) ^
                          (v[(a >> 16) & 255] << 16) ^
                          (v[(s >> 8) & 255] << 8) ^
                          v[255 & t] ^
                          r[h++]),
                          (l = o),
                          (o = a),
                          (a = s),
                          (s = t),
                          (t = l);
                      return p;
                    }
                    function a(e, t) {
                      var n,
                        r,
                        i,
                        o = e.F,
                        a = e.b,
                        s = o[0],
                        l = o[1],
                        c = o[2],
                        u = o[3],
                        d = o[4],
                        f = o[5],
                        h = o[6],
                        p = o[7];
                      for (n = 0; 64 > n; n++)
                        16 > n
                          ? (r = t[n])
                          : ((r = t[(n + 1) & 15]),
                            (i = t[(n + 14) & 15]),
                            (r = t[15 & n] =
                              (((r >>> 7) ^ (r >>> 18) ^ (r >>> 3) ^ (r << 25) ^ (r << 14)) +
                                ((i >>> 17) ^ (i >>> 19) ^ (i >>> 10) ^ (i << 15) ^ (i << 13)) +
                                t[15 & n] +
                                t[(n + 9) & 15]) |
                              0)),
                          (r =
                            r +
                            p +
                            ((d >>> 6) ^ (d >>> 11) ^ (d >>> 25) ^ (d << 26) ^ (d << 21) ^ (d << 7)) +
                            (h ^ (d & (f ^ h))) +
                            a[n]),
                          (p = h),
                          (h = f),
                          (f = d),
                          (d = (u + r) | 0),
                          (u = c),
                          (c = l),
                          (s =
                            (r +
                              (((l = s) & c) ^ (u & (l ^ c))) +
                              ((l >>> 2) ^ (l >>> 13) ^ (l >>> 22) ^ (l << 30) ^ (l << 19) ^ (l << 10))) |
                            0);
                      (o[0] = (o[0] + s) | 0),
                        (o[1] = (o[1] + l) | 0),
                        (o[2] = (o[2] + c) | 0),
                        (o[3] = (o[3] + u) | 0),
                        (o[4] = (o[4] + d) | 0),
                        (o[5] = (o[5] + f) | 0),
                        (o[6] = (o[6] + h) | 0),
                        (o[7] = (o[7] + p) | 0);
                    }
                    function s(e, t) {
                      var n,
                        r = i.random.K[e],
                        o = [];
                      for (n in r) r.hasOwnProperty(n) && o.push(r[n]);
                      for (n = 0; n < o.length; n++) o[n](t);
                    }
                    function l(e, t) {
                      "undefined" != typeof window && window.performance && "function" == typeof window.performance.now
                        ? e.addEntropy(window.performance.now(), t, "loadtime")
                        : e.addEntropy(new Date().valueOf(), t, "loadtime");
                    }
                    function c(e) {
                      (e.b = u(e).concat(u(e))), (e.L = new i.cipher.aes(e.b));
                    }
                    function u(e) {
                      for (var t = 0; 4 > t && ((e.h[t] = (e.h[t] + 1) | 0), !e.h[t]); t++);
                      return e.L.encrypt(e.h);
                    }
                    function d(e, t) {
                      return function () {
                        t.apply(e, arguments);
                      };
                    }
                    (i.cipher.aes = function (e) {
                      this.s[0][0][0] || this.O();
                      var t,
                        n,
                        r,
                        o,
                        a = this.s[0][4],
                        s = this.s[1],
                        l = 1;
                      if (4 !== (t = e.length) && 6 !== t && 8 !== t)
                        throw new i.exception.invalid("invalid aes key size");
                      for (this.b = [(r = e.slice(0)), (o = [])], e = t; e < 4 * t + 28; e++)
                        (n = r[e - 1]),
                          (0 == e % t || (8 === t && 4 == e % t)) &&
                            ((n =
                              (a[n >>> 24] << 24) ^ (a[(n >> 16) & 255] << 16) ^ (a[(n >> 8) & 255] << 8) ^ a[255 & n]),
                            0 == e % t && ((n = (n << 8) ^ (n >>> 24) ^ (l << 24)), (l = (l << 1) ^ (283 * (l >> 7))))),
                          (r[e] = r[e - t] ^ n);
                      for (t = 0; e; t++, e--)
                        (n = r[3 & t ? e : e - 4]),
                          (o[t] =
                            4 >= e || 4 > t
                              ? n
                              : s[0][a[n >>> 24]] ^
                                s[1][a[(n >> 16) & 255]] ^
                                s[2][a[(n >> 8) & 255]] ^
                                s[3][a[255 & n]]);
                    }),
                      (i.cipher.aes.prototype = {
                        encrypt: function (e) {
                          return o(this, e, 0);
                        },
                        decrypt: function (e) {
                          return o(this, e, 1);
                        },
                        s: [
                          [[], [], [], [], []],
                          [[], [], [], [], []],
                        ],
                        O: function () {
                          var e,
                            t,
                            n,
                            r,
                            i,
                            o,
                            a,
                            s = this.s[0],
                            l = this.s[1],
                            c = s[4],
                            u = l[4],
                            d = [],
                            f = [];
                          for (e = 0; 256 > e; e++) f[(d[e] = (e << 1) ^ (283 * (e >> 7))) ^ e] = e;
                          for (t = n = 0; !c[t]; t ^= r || 1, n = f[n] || 1)
                            for (
                              o = ((o = n ^ (n << 1) ^ (n << 2) ^ (n << 3) ^ (n << 4)) >> 8) ^ (255 & o) ^ 99,
                                c[t] = o,
                                u[o] = t,
                                a =
                                  (16843009 * (i = d[(e = d[(r = d[t])])])) ^ (65537 * e) ^ (257 * r) ^ (16843008 * t),
                                i = (257 * d[o]) ^ (16843008 * o),
                                e = 0;
                              4 > e;
                              e++
                            )
                              (s[e][t] = i = (i << 24) ^ (i >>> 8)), (l[e][o] = a = (a << 24) ^ (a >>> 8));
                          for (e = 0; 5 > e; e++) (s[e] = s[e].slice(0)), (l[e] = l[e].slice(0));
                        },
                      }),
                      (i.bitArray = {
                        bitSlice: function (e, t, n) {
                          return (
                            (e = i.bitArray.$(e.slice(t / 32), 32 - (31 & t)).slice(1)),
                            void 0 === n ? e : i.bitArray.clamp(e, n - t)
                          );
                        },
                        extract: function (e, t, n) {
                          var r = Math.floor((-t - n) & 31);
                          return (
                            (-32 & ((t + n - 1) ^ t)
                              ? (e[(t / 32) | 0] << (32 - r)) ^ (e[(t / 32 + 1) | 0] >>> r)
                              : e[(t / 32) | 0] >>> r) &
                            ((1 << n) - 1)
                          );
                        },
                        concat: function (e, t) {
                          if (0 === e.length || 0 === t.length) return e.concat(t);
                          var n = e[e.length - 1],
                            r = i.bitArray.getPartial(n);
                          return 32 === r ? e.concat(t) : i.bitArray.$(t, r, 0 | n, e.slice(0, e.length - 1));
                        },
                        bitLength: function (e) {
                          var t = e.length;
                          return 0 === t ? 0 : 32 * (t - 1) + i.bitArray.getPartial(e[t - 1]);
                        },
                        clamp: function (e, t) {
                          if (32 * e.length < t) return e;
                          var n = (e = e.slice(0, Math.ceil(t / 32))).length;
                          return (
                            (t &= 31),
                            0 < n && t && (e[n - 1] = i.bitArray.partial(t, e[n - 1] & (2147483648 >> (t - 1)), 1)),
                            e
                          );
                        },
                        partial: function (e, t, n) {
                          return 32 === e ? t : (n ? 0 | t : t << (32 - e)) + 1099511627776 * e;
                        },
                        getPartial: function (e) {
                          return Math.round(e / 1099511627776) || 32;
                        },
                        equal: function (e, t) {
                          if (i.bitArray.bitLength(e) !== i.bitArray.bitLength(t)) return !1;
                          var n,
                            r = 0;
                          for (n = 0; n < e.length; n++) r |= e[n] ^ t[n];
                          return 0 === r;
                        },
                        $: function (e, t, n, r) {
                          var o;
                          for (o = 0, void 0 === r && (r = []); 32 <= t; t -= 32) r.push(n), (n = 0);
                          if (0 === t) return r.concat(e);
                          for (o = 0; o < e.length; o++) r.push(n | (e[o] >>> t)), (n = e[o] << (32 - t));
                          return (
                            (o = e.length ? e[e.length - 1] : 0),
                            (e = i.bitArray.getPartial(o)),
                            r.push(i.bitArray.partial((t + e) & 31, 32 < t + e ? n : r.pop(), 1)),
                            r
                          );
                        },
                        i: function (e, t) {
                          return [e[0] ^ t[0], e[1] ^ t[1], e[2] ^ t[2], e[3] ^ t[3]];
                        },
                        byteswapM: function (e) {
                          var t, n;
                          for (t = 0; t < e.length; ++t)
                            (n = e[t]), (e[t] = (n >>> 24) | ((n >>> 8) & 65280) | ((65280 & n) << 8) | (n << 24));
                          return e;
                        },
                      }),
                      (i.codec.utf8String = {
                        fromBits: function (e) {
                          var t,
                            n,
                            r = "",
                            o = i.bitArray.bitLength(e);
                          for (t = 0; t < o / 8; t++)
                            0 == (3 & t) && (n = e[t / 4]),
                              (r += String.fromCharCode(((n >>> 8) >>> 8) >>> 8)),
                              (n <<= 8);
                          return decodeURIComponent(escape(r));
                        },
                        toBits: function (e) {
                          e = unescape(encodeURIComponent(e));
                          var t,
                            n = [],
                            r = 0;
                          for (t = 0; t < e.length; t++)
                            (r = (r << 8) | e.charCodeAt(t)), 3 == (3 & t) && (n.push(r), (r = 0));
                          return 3 & t && n.push(i.bitArray.partial(8 * (3 & t), r)), n;
                        },
                      }),
                      (i.codec.hex = {
                        fromBits: function (e) {
                          var t,
                            n = "";
                          for (t = 0; t < e.length; t++) n += (0xf00000000000 + (0 | e[t])).toString(16).substr(4);
                          return n.substr(0, i.bitArray.bitLength(e) / 4);
                        },
                        toBits: function (e) {
                          var t,
                            n,
                            r = [];
                          for (n = (e = e.replace(/\s|0x/g, "")).length, e += "00000000", t = 0; t < e.length; t += 8)
                            r.push(0 ^ parseInt(e.substr(t, 8), 16));
                          return i.bitArray.clamp(r, 4 * n);
                        },
                      }),
                      (i.codec.base32 = {
                        B: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
                        X: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
                        BITS: 32,
                        BASE: 5,
                        REMAINING: 27,
                        fromBits: function (e, t, n) {
                          var r = i.codec.base32.BASE,
                            o = i.codec.base32.REMAINING,
                            a = "",
                            s = 0,
                            l = i.codec.base32.B,
                            c = 0,
                            u = i.bitArray.bitLength(e);
                          for (n && (l = i.codec.base32.X), n = 0; a.length * r < u; )
                            (a += l.charAt((c ^ (e[n] >>> s)) >>> o)),
                              s < r ? ((c = e[n] << (r - s)), (s += o), n++) : ((c <<= r), (s -= r));
                          for (; 7 & a.length && !t; ) a += "=";
                          return a;
                        },
                        toBits: function (e, t) {
                          e = e.replace(/\s|=/g, "").toUpperCase();
                          var n,
                            r,
                            o = i.codec.base32.BITS,
                            a = i.codec.base32.BASE,
                            s = i.codec.base32.REMAINING,
                            l = [],
                            c = 0,
                            u = i.codec.base32.B,
                            d = 0,
                            f = "base32";
                          for (t && ((u = i.codec.base32.X), (f = "base32hex")), n = 0; n < e.length; n++) {
                            if (0 > (r = u.indexOf(e.charAt(n)))) {
                              if (!t)
                                try {
                                  return i.codec.base32hex.toBits(e);
                                } catch (e) {}
                              throw new i.exception.invalid("this isn't " + f + "!");
                            }
                            c > s ? ((c -= s), l.push(d ^ (r >>> c)), (d = r << (o - c))) : (d ^= r << (o - (c += a)));
                          }
                          return 56 & c && l.push(i.bitArray.partial(56 & c, d, 1)), l;
                        },
                      }),
                      (i.codec.base32hex = {
                        fromBits: function (e, t) {
                          return i.codec.base32.fromBits(e, t, 1);
                        },
                        toBits: function (e) {
                          return i.codec.base32.toBits(e, 1);
                        },
                      }),
                      (i.codec.base64 = {
                        B: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                        fromBits: function (e, t, n) {
                          var r = "",
                            o = 0,
                            a = i.codec.base64.B,
                            s = 0,
                            l = i.bitArray.bitLength(e);
                          for (n && (a = a.substr(0, 62) + "-_"), n = 0; 6 * r.length < l; )
                            (r += a.charAt((s ^ (e[n] >>> o)) >>> 26)),
                              6 > o ? ((s = e[n] << (6 - o)), (o += 26), n++) : ((s <<= 6), (o -= 6));
                          for (; 3 & r.length && !t; ) r += "=";
                          return r;
                        },
                        toBits: function (e, t) {
                          e = e.replace(/\s|=/g, "");
                          var n,
                            r,
                            o = [],
                            a = 0,
                            s = i.codec.base64.B,
                            l = 0;
                          for (t && (s = s.substr(0, 62) + "-_"), n = 0; n < e.length; n++) {
                            if (0 > (r = s.indexOf(e.charAt(n)))) throw new i.exception.invalid("this isn't base64!");
                            26 < a
                              ? ((a -= 26), o.push(l ^ (r >>> a)), (l = r << (32 - a)))
                              : (l ^= r << (32 - (a += 6)));
                          }
                          return 56 & a && o.push(i.bitArray.partial(56 & a, l, 1)), o;
                        },
                      }),
                      (i.codec.base64url = {
                        fromBits: function (e) {
                          return i.codec.base64.fromBits(e, 1, 1);
                        },
                        toBits: function (e) {
                          return i.codec.base64.toBits(e, 1);
                        },
                      }),
                      (i.hash.sha256 = function (e) {
                        this.b[0] || this.O(),
                          e ? ((this.F = e.F.slice(0)), (this.A = e.A.slice(0)), (this.l = e.l)) : this.reset();
                      }),
                      (i.hash.sha256.hash = function (e) {
                        return new i.hash.sha256().update(e).finalize();
                      }),
                      (i.hash.sha256.prototype = {
                        blockSize: 512,
                        reset: function () {
                          return (this.F = this.Y.slice(0)), (this.A = []), (this.l = 0), this;
                        },
                        update: function (e) {
                          "string" == typeof e && (e = i.codec.utf8String.toBits(e));
                          var t,
                            n = (this.A = i.bitArray.concat(this.A, e));
                          if (((t = this.l), 9007199254740991 < (e = this.l = t + i.bitArray.bitLength(e))))
                            throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");
                          if ("undefined" != typeof Uint32Array) {
                            var r = new Uint32Array(n),
                              o = 0;
                            for (t = 512 + t - ((512 + t) & 511); t <= e; t += 512)
                              a(this, r.subarray(16 * o, 16 * (o + 1))), (o += 1);
                            n.splice(0, 16 * o);
                          } else for (t = 512 + t - ((512 + t) & 511); t <= e; t += 512) a(this, n.splice(0, 16));
                          return this;
                        },
                        finalize: function () {
                          var e,
                            t = this.A,
                            n = this.F;
                          for (e = (t = i.bitArray.concat(t, [i.bitArray.partial(1, 1)])).length + 2; 15 & e; e++)
                            t.push(0);
                          for (t.push(Math.floor(this.l / 4294967296)), t.push(0 | this.l); t.length; )
                            a(this, t.splice(0, 16));
                          return this.reset(), n;
                        },
                        Y: [],
                        b: [],
                        O: function () {
                          function e(e) {
                            return (4294967296 * (e - Math.floor(e))) | 0;
                          }
                          for (var t, n, r = 0, i = 2; 64 > r; i++) {
                            for (n = !0, t = 2; t * t <= i; t++)
                              if (0 == i % t) {
                                n = !1;
                                break;
                              }
                            n && (8 > r && (this.Y[r] = e(Math.pow(i, 0.5))), (this.b[r] = e(Math.pow(i, 1 / 3))), r++);
                          }
                        },
                      }),
                      (i.mode.ccm = {
                        name: "ccm",
                        G: [],
                        listenProgress: function (e) {
                          i.mode.ccm.G.push(e);
                        },
                        unListenProgress: function (e) {
                          -1 < (e = i.mode.ccm.G.indexOf(e)) && i.mode.ccm.G.splice(e, 1);
                        },
                        fa: function (e) {
                          var t,
                            n = i.mode.ccm.G.slice();
                          for (t = 0; t < n.length; t += 1) n[t](e);
                        },
                        encrypt: function (e, t, n, r, o) {
                          var a,
                            s = t.slice(0),
                            l = i.bitArray,
                            c = l.bitLength(n) / 8,
                            u = l.bitLength(s) / 8;
                          if (((o = o || 64), (r = r || []), 7 > c))
                            throw new i.exception.invalid("ccm: iv must be at least 7 bytes");
                          for (a = 2; 4 > a && u >>> (8 * a); a++);
                          return (
                            a < 15 - c && (a = 15 - c),
                            (n = l.clamp(n, 8 * (15 - a))),
                            (t = i.mode.ccm.V(e, t, n, r, o, a)),
                            (s = i.mode.ccm.C(e, s, n, t, o, a)),
                            l.concat(s.data, s.tag)
                          );
                        },
                        decrypt: function (e, t, n, r, o) {
                          (o = o || 64), (r = r || []);
                          var a = i.bitArray,
                            s = a.bitLength(n) / 8,
                            l = a.bitLength(t),
                            c = a.clamp(t, l - o),
                            u = a.bitSlice(t, l - o);
                          if (((l = (l - o) / 8), 7 > s))
                            throw new i.exception.invalid("ccm: iv must be at least 7 bytes");
                          for (t = 2; 4 > t && l >>> (8 * t); t++);
                          if (
                            (t < 15 - s && (t = 15 - s),
                            (n = a.clamp(n, 8 * (15 - t))),
                            (c = i.mode.ccm.C(e, c, n, u, o, t)),
                            (e = i.mode.ccm.V(e, c.data, n, r, o, t)),
                            !a.equal(c.tag, e))
                          )
                            throw new i.exception.corrupt("ccm: tag doesn't match");
                          return c.data;
                        },
                        na: function (e, t, n, r, o, a) {
                          var s = [],
                            l = i.bitArray,
                            c = l.i;
                          if (
                            ((r = [l.partial(8, (t.length ? 64 : 0) | ((r - 2) << 2) | (a - 1))]),
                            ((r = l.concat(r, n))[3] |= o),
                            (r = e.encrypt(r)),
                            t.length)
                          )
                            for (
                              65279 >= (n = l.bitLength(t) / 8)
                                ? (s = [l.partial(16, n)])
                                : 4294967295 >= n && (s = l.concat([l.partial(16, 65534)], [n])),
                                s = l.concat(s, t),
                                t = 0;
                              t < s.length;
                              t += 4
                            )
                              r = e.encrypt(c(r, s.slice(t, t + 4).concat([0, 0, 0])));
                          return r;
                        },
                        V: function (e, t, n, r, o, a) {
                          var s = i.bitArray,
                            l = s.i;
                          if ((o /= 8) % 2 || 4 > o || 16 < o) throw new i.exception.invalid("ccm: invalid tag length");
                          if (4294967295 < r.length || 4294967295 < t.length)
                            throw new i.exception.bug("ccm: can't deal with 4GiB or more data");
                          for (n = i.mode.ccm.na(e, r, n, o, s.bitLength(t) / 8, a), r = 0; r < t.length; r += 4)
                            n = e.encrypt(l(n, t.slice(r, r + 4).concat([0, 0, 0])));
                          return s.clamp(n, 8 * o);
                        },
                        C: function (e, t, n, r, o, a) {
                          var s,
                            l = i.bitArray;
                          s = l.i;
                          var c = t.length,
                            u = l.bitLength(t),
                            d = c / 50,
                            f = d;
                          if (
                            ((n = l
                              .concat([l.partial(8, a - 1)], n)
                              .concat([0, 0, 0])
                              .slice(0, 4)),
                            (r = l.bitSlice(s(r, e.encrypt(n)), 0, o)),
                            !c)
                          )
                            return { tag: r, data: [] };
                          for (s = 0; s < c; s += 4)
                            s > d && (i.mode.ccm.fa(s / c), (d += f)),
                              n[3]++,
                              (o = e.encrypt(n)),
                              (t[s] ^= o[0]),
                              (t[s + 1] ^= o[1]),
                              (t[s + 2] ^= o[2]),
                              (t[s + 3] ^= o[3]);
                          return { tag: r, data: l.clamp(t, u) };
                        },
                      }),
                      (i.mode.ocb2 = {
                        name: "ocb2",
                        encrypt: function (e, t, n, r, o, a) {
                          if (128 !== i.bitArray.bitLength(n)) throw new i.exception.invalid("ocb iv must be 128 bits");
                          var s,
                            l = i.mode.ocb2.S,
                            c = i.bitArray,
                            u = c.i,
                            d = [0, 0, 0, 0];
                          n = l(e.encrypt(n));
                          var f,
                            h = [];
                          for (r = r || [], o = o || 64, s = 0; s + 4 < t.length; s += 4)
                            (d = u(d, (f = t.slice(s, s + 4)))), (h = h.concat(u(n, e.encrypt(u(n, f))))), (n = l(n));
                          return (
                            (f = t.slice(s)),
                            (t = c.bitLength(f)),
                            (s = e.encrypt(u(n, [0, 0, 0, t]))),
                            (f = c.clamp(u(f.concat([0, 0, 0]), s), t)),
                            (d = u(d, u(f.concat([0, 0, 0]), s))),
                            (d = e.encrypt(u(d, u(n, l(n))))),
                            r.length && (d = u(d, a ? r : i.mode.ocb2.pmac(e, r))),
                            h.concat(c.concat(f, c.clamp(d, o)))
                          );
                        },
                        decrypt: function (e, t, n, r, o, a) {
                          if (128 !== i.bitArray.bitLength(n)) throw new i.exception.invalid("ocb iv must be 128 bits");
                          o = o || 64;
                          var s,
                            l,
                            c = i.mode.ocb2.S,
                            u = i.bitArray,
                            d = u.i,
                            f = [0, 0, 0, 0],
                            h = c(e.encrypt(n)),
                            p = i.bitArray.bitLength(t) - o,
                            m = [];
                          for (r = r || [], n = 0; n + 4 < p / 32; n += 4)
                            (s = d(h, e.decrypt(d(h, t.slice(n, n + 4))))),
                              (f = d(f, s)),
                              (m = m.concat(s)),
                              (h = c(h));
                          if (
                            ((l = p - 32 * n),
                            (s = e.encrypt(d(h, [0, 0, 0, l]))),
                            (s = d(s, u.clamp(t.slice(n), l).concat([0, 0, 0]))),
                            (f = d(f, s)),
                            (f = e.encrypt(d(f, d(h, c(h))))),
                            r.length && (f = d(f, a ? r : i.mode.ocb2.pmac(e, r))),
                            !u.equal(u.clamp(f, o), u.bitSlice(t, p)))
                          )
                            throw new i.exception.corrupt("ocb: tag doesn't match");
                          return m.concat(u.clamp(s, l));
                        },
                        pmac: function (e, t) {
                          var n,
                            r = i.mode.ocb2.S,
                            o = i.bitArray,
                            a = o.i,
                            s = [0, 0, 0, 0],
                            l = a((l = e.encrypt([0, 0, 0, 0])), r(r(l)));
                          for (n = 0; n + 4 < t.length; n += 4)
                            (l = r(l)), (s = a(s, e.encrypt(a(l, t.slice(n, n + 4)))));
                          return (
                            (n = t.slice(n)),
                            128 > o.bitLength(n) && ((l = a(l, r(l))), (n = o.concat(n, [-2147483648, 0, 0, 0]))),
                            (s = a(s, n)),
                            e.encrypt(a(r(a(l, r(l))), s))
                          );
                        },
                        S: function (e) {
                          return [
                            (e[0] << 1) ^ (e[1] >>> 31),
                            (e[1] << 1) ^ (e[2] >>> 31),
                            (e[2] << 1) ^ (e[3] >>> 31),
                            (e[3] << 1) ^ (135 * (e[0] >>> 31)),
                          ];
                        },
                      }),
                      (i.mode.gcm = {
                        name: "gcm",
                        encrypt: function (e, t, n, r, o) {
                          var a = t.slice(0);
                          return (
                            (t = i.bitArray),
                            (r = r || []),
                            (e = i.mode.gcm.C(!0, e, a, r, n, o || 128)),
                            t.concat(e.data, e.tag)
                          );
                        },
                        decrypt: function (e, t, n, r, o) {
                          var a = t.slice(0),
                            s = i.bitArray,
                            l = s.bitLength(a);
                          if (
                            ((r = r || []),
                            (o = o || 128) <= l
                              ? ((t = s.bitSlice(a, l - o)), (a = s.bitSlice(a, 0, l - o)))
                              : ((t = a), (a = [])),
                            (e = i.mode.gcm.C(!1, e, a, r, n, o)),
                            !s.equal(e.tag, t))
                          )
                            throw new i.exception.corrupt("gcm: tag doesn't match");
                          return e.data;
                        },
                        ka: function (e, t) {
                          var n,
                            r,
                            o,
                            a,
                            s,
                            l = i.bitArray.i;
                          for (o = [0, 0, 0, 0], a = t.slice(0), n = 0; 128 > n; n++) {
                            for (
                              (r = 0 != (e[Math.floor(n / 32)] & (1 << (31 - (n % 32))))) && (o = l(o, a)),
                                s = 0 != (1 & a[3]),
                                r = 3;
                              0 < r;
                              r--
                            )
                              a[r] = (a[r] >>> 1) | ((1 & a[r - 1]) << 31);
                            (a[0] >>>= 1), s && (a[0] ^= -520093696);
                          }
                          return o;
                        },
                        j: function (e, t, n) {
                          var r,
                            o = n.length;
                          for (t = t.slice(0), r = 0; r < o; r += 4)
                            (t[0] ^= 4294967295 & n[r]),
                              (t[1] ^= 4294967295 & n[r + 1]),
                              (t[2] ^= 4294967295 & n[r + 2]),
                              (t[3] ^= 4294967295 & n[r + 3]),
                              (t = i.mode.gcm.ka(t, e));
                          return t;
                        },
                        C: function (e, t, n, r, o, a) {
                          var s,
                            l,
                            c,
                            u,
                            d,
                            f,
                            h,
                            p,
                            m = i.bitArray;
                          for (
                            f = n.length,
                              h = m.bitLength(n),
                              p = m.bitLength(r),
                              l = m.bitLength(o),
                              s = t.encrypt([0, 0, 0, 0]),
                              96 === l
                                ? ((o = o.slice(0)), (o = m.concat(o, [1])))
                                : ((o = i.mode.gcm.j(s, [0, 0, 0, 0], o)),
                                  (o = i.mode.gcm.j(s, o, [0, 0, Math.floor(l / 4294967296), 4294967295 & l]))),
                              l = i.mode.gcm.j(s, [0, 0, 0, 0], r),
                              d = o.slice(0),
                              r = l.slice(0),
                              e || (r = i.mode.gcm.j(s, l, n)),
                              u = 0;
                            u < f;
                            u += 4
                          )
                            d[3]++,
                              (c = t.encrypt(d)),
                              (n[u] ^= c[0]),
                              (n[u + 1] ^= c[1]),
                              (n[u + 2] ^= c[2]),
                              (n[u + 3] ^= c[3]);
                          return (
                            (n = m.clamp(n, h)),
                            e && (r = i.mode.gcm.j(s, l, n)),
                            (e = [
                              Math.floor(p / 4294967296),
                              4294967295 & p,
                              Math.floor(h / 4294967296),
                              4294967295 & h,
                            ]),
                            (r = i.mode.gcm.j(s, r, e)),
                            (c = t.encrypt(o)),
                            (r[0] ^= c[0]),
                            (r[1] ^= c[1]),
                            (r[2] ^= c[2]),
                            (r[3] ^= c[3]),
                            { tag: m.bitSlice(r, 0, a), data: n }
                          );
                        },
                      }),
                      (i.misc.hmac = function (e, t) {
                        this.W = t = t || i.hash.sha256;
                        var n,
                          r = [[], []],
                          o = t.prototype.blockSize / 32;
                        for (this.w = [new t(), new t()], e.length > o && (e = t.hash(e)), n = 0; n < o; n++)
                          (r[0][n] = 909522486 ^ e[n]), (r[1][n] = 1549556828 ^ e[n]);
                        this.w[0].update(r[0]), this.w[1].update(r[1]), (this.R = new t(this.w[0]));
                      }),
                      (i.misc.hmac.prototype.encrypt = i.misc.hmac.prototype.mac =
                        function (e) {
                          if (this.aa) throw new i.exception.invalid("encrypt on already updated hmac called!");
                          return this.update(e), this.digest(e);
                        }),
                      (i.misc.hmac.prototype.reset = function () {
                        (this.R = new this.W(this.w[0])), (this.aa = !1);
                      }),
                      (i.misc.hmac.prototype.update = function (e) {
                        (this.aa = !0), this.R.update(e);
                      }),
                      (i.misc.hmac.prototype.digest = function () {
                        var e = this.R.finalize();
                        return (e = new this.W(this.w[1]).update(e).finalize()), this.reset(), e;
                      }),
                      (i.misc.pbkdf2 = function (e, t, n, r, o) {
                        if (((n = n || 1e4), 0 > r || 0 > n)) throw new i.exception.invalid("invalid params to pbkdf2");
                        "string" == typeof e && (e = i.codec.utf8String.toBits(e)),
                          "string" == typeof t && (t = i.codec.utf8String.toBits(t)),
                          (e = new (o = o || i.misc.hmac)(e));
                        var a,
                          s,
                          l,
                          c,
                          u = [],
                          d = i.bitArray;
                        for (c = 1; 32 * u.length < (r || 1); c++) {
                          for (o = a = e.encrypt(d.concat(t, [c])), s = 1; s < n; s++)
                            for (a = e.encrypt(a), l = 0; l < a.length; l++) o[l] ^= a[l];
                          u = u.concat(o);
                        }
                        return r && (u = d.clamp(u, r)), u;
                      }),
                      (i.prng = function (e) {
                        (this.c = [new i.hash.sha256()]),
                          (this.m = [0]),
                          (this.P = 0),
                          (this.H = {}),
                          (this.N = 0),
                          (this.U = {}),
                          (this.Z = this.f = this.o = this.ha = 0),
                          (this.b = [0, 0, 0, 0, 0, 0, 0, 0]),
                          (this.h = [0, 0, 0, 0]),
                          (this.L = void 0),
                          (this.M = e),
                          (this.D = !1),
                          (this.K = { progress: {}, seeded: {} }),
                          (this.u = this.ga = 0),
                          (this.I = 1),
                          (this.J = 2),
                          (this.ca = 65536),
                          (this.T = [0, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024]),
                          (this.da = 3e4),
                          (this.ba = 80);
                      }),
                      (i.prng.prototype = {
                        randomWords: function (e, t) {
                          var n,
                            r,
                            o = [];
                          if ((n = this.isReady(t)) === this.u)
                            throw new i.exception.notReady("generator isn't seeded");
                          if (n & this.J) {
                            (n = !(n & this.I)), (r = []);
                            var a,
                              s = 0;
                            for (this.Z = r[0] = new Date().valueOf() + this.da, a = 0; 16 > a; a++)
                              r.push((4294967296 * Math.random()) | 0);
                            for (
                              a = 0;
                              a < this.c.length &&
                              ((r = r.concat(this.c[a].finalize())),
                              (s += this.m[a]),
                              (this.m[a] = 0),
                              n || !(this.P & (1 << a)));
                              a++
                            );
                            for (
                              this.P >= 1 << this.c.length && (this.c.push(new i.hash.sha256()), this.m.push(0)),
                                this.f -= s,
                                s > this.o && (this.o = s),
                                this.P++,
                                this.b = i.hash.sha256.hash(this.b.concat(r)),
                                this.L = new i.cipher.aes(this.b),
                                n = 0;
                              4 > n && ((this.h[n] = (this.h[n] + 1) | 0), !this.h[n]);
                              n++
                            );
                          }
                          for (n = 0; n < e; n += 4)
                            0 == (n + 1) % this.ca && c(this), (r = u(this)), o.push(r[0], r[1], r[2], r[3]);
                          return c(this), o.slice(0, e);
                        },
                        setDefaultParanoia: function (e, t) {
                          if (0 === e && "Setting paranoia=0 will ruin your security; use it only for testing" !== t)
                            throw new i.exception.invalid(
                              "Setting paranoia=0 will ruin your security; use it only for testing"
                            );
                          this.M = e;
                        },
                        addEntropy: function (e, t, n) {
                          n = n || "user";
                          var r,
                            o,
                            a = new Date().valueOf(),
                            l = this.H[n],
                            c = this.isReady(),
                            u = 0;
                          switch (
                            (void 0 === (r = this.U[n]) && (r = this.U[n] = this.ha++),
                            void 0 === l && (l = this.H[n] = 0),
                            (this.H[n] = (this.H[n] + 1) % this.c.length),
                            typeof e)
                          ) {
                            case "number":
                              void 0 === t && (t = 1), this.c[l].update([r, this.N++, 1, t, a, 1, 0 | e]);
                              break;
                            case "object":
                              if ("[object Uint32Array]" === (n = Object.prototype.toString.call(e))) {
                                for (o = [], n = 0; n < e.length; n++) o.push(e[n]);
                                e = o;
                              } else
                                for ("[object Array]" !== n && (u = 1), n = 0; n < e.length && !u; n++)
                                  "number" != typeof e[n] && (u = 1);
                              if (!u) {
                                if (void 0 === t)
                                  for (n = t = 0; n < e.length; n++) for (o = e[n]; 0 < o; ) t++, (o >>>= 1);
                                this.c[l].update([r, this.N++, 2, t, a, e.length].concat(e));
                              }
                              break;
                            case "string":
                              void 0 === t && (t = e.length),
                                this.c[l].update([r, this.N++, 3, t, a, e.length]),
                                this.c[l].update(e);
                              break;
                            default:
                              u = 1;
                          }
                          if (u)
                            throw new i.exception.bug(
                              "random: addEntropy only supports number, array of numbers or string"
                            );
                          (this.m[l] += t),
                            (this.f += t),
                            c === this.u &&
                              (this.isReady() !== this.u && s("seeded", Math.max(this.o, this.f)),
                              s("progress", this.getProgress()));
                        },
                        isReady: function (e) {
                          return (
                            (e = this.T[void 0 !== e ? e : this.M]),
                            this.o && this.o >= e
                              ? this.m[0] > this.ba && new Date().valueOf() > this.Z
                                ? this.J | this.I
                                : this.I
                              : this.f >= e
                              ? this.J | this.u
                              : this.u
                          );
                        },
                        getProgress: function (e) {
                          return (e = this.T[e || this.M]), this.o >= e || this.f > e ? 1 : this.f / e;
                        },
                        startCollectors: function () {
                          if (!this.D) {
                            if (
                              ((this.a = {
                                loadTimeCollector: d(this, this.ma),
                                mouseCollector: d(this, this.oa),
                                keyboardCollector: d(this, this.la),
                                accelerometerCollector: d(this, this.ea),
                                touchCollector: d(this, this.qa),
                              }),
                              window.addEventListener)
                            )
                              window.addEventListener("load", this.a.loadTimeCollector, !1),
                                window.addEventListener("mousemove", this.a.mouseCollector, !1),
                                window.addEventListener("keypress", this.a.keyboardCollector, !1),
                                window.addEventListener("devicemotion", this.a.accelerometerCollector, !1),
                                window.addEventListener("touchmove", this.a.touchCollector, !1);
                            else {
                              if (!document.attachEvent) throw new i.exception.bug("can't attach event");
                              document.attachEvent("onload", this.a.loadTimeCollector),
                                document.attachEvent("onmousemove", this.a.mouseCollector),
                                document.attachEvent("keypress", this.a.keyboardCollector);
                            }
                            this.D = !0;
                          }
                        },
                        stopCollectors: function () {
                          this.D &&
                            (window.removeEventListener
                              ? (window.removeEventListener("load", this.a.loadTimeCollector, !1),
                                window.removeEventListener("mousemove", this.a.mouseCollector, !1),
                                window.removeEventListener("keypress", this.a.keyboardCollector, !1),
                                window.removeEventListener("devicemotion", this.a.accelerometerCollector, !1),
                                window.removeEventListener("touchmove", this.a.touchCollector, !1))
                              : document.detachEvent &&
                                (document.detachEvent("onload", this.a.loadTimeCollector),
                                document.detachEvent("onmousemove", this.a.mouseCollector),
                                document.detachEvent("keypress", this.a.keyboardCollector)),
                            (this.D = !1));
                        },
                        addEventListener: function (e, t) {
                          this.K[e][this.ga++] = t;
                        },
                        removeEventListener: function (e, t) {
                          var n,
                            r,
                            i = this.K[e],
                            o = [];
                          for (r in i) i.hasOwnProperty(r) && i[r] === t && o.push(r);
                          for (n = 0; n < o.length; n++) delete i[(r = o[n])];
                        },
                        la: function () {
                          l(this, 1);
                        },
                        oa: function (e) {
                          var t, n;
                          try {
                            (t = e.x || e.clientX || e.offsetX || 0), (n = e.y || e.clientY || e.offsetY || 0);
                          } catch (e) {
                            n = t = 0;
                          }
                          0 != t && 0 != n && this.addEntropy([t, n], 2, "mouse"), l(this, 0);
                        },
                        qa: function (e) {
                          (e = e.touches[0] || e.changedTouches[0]),
                            this.addEntropy([e.pageX || e.clientX, e.pageY || e.clientY], 1, "touch"),
                            l(this, 0);
                        },
                        ma: function () {
                          l(this, 2);
                        },
                        ea: function (e) {
                          if (
                            ((e =
                              e.accelerationIncludingGravity.x ||
                              e.accelerationIncludingGravity.y ||
                              e.accelerationIncludingGravity.z),
                            window.orientation)
                          ) {
                            var t = window.orientation;
                            "number" == typeof t && this.addEntropy(t, 1, "accelerometer");
                          }
                          e && this.addEntropy(e, 2, "accelerometer"), l(this, 0);
                        },
                      }),
                      (i.random = new i.prng(6));
                    e: try {
                      var f, h, p, m;
                      if ((m = e.exports)) {
                        var y;
                        try {
                          y = n(674);
                        } catch (e) {
                          y = null;
                        }
                        m = h = y;
                      }
                      if (m && h.randomBytes)
                        (f = h.randomBytes(128)),
                          (f = new Uint32Array(new Uint8Array(f).buffer)),
                          i.random.addEntropy(f, 1024, "crypto['randomBytes']");
                      else if ("undefined" != typeof window && "undefined" != typeof Uint32Array) {
                        if (((p = new Uint32Array(32)), window.crypto && window.crypto.getRandomValues))
                          window.crypto.getRandomValues(p);
                        else {
                          if (!window.msCrypto || !window.msCrypto.getRandomValues) break e;
                          window.msCrypto.getRandomValues(p);
                        }
                        i.random.addEntropy(p, 1024, "crypto['getRandomValues']");
                      }
                    } catch (e) {
                      "undefined" != typeof window &&
                        window.console &&
                        (console.log("There was an error collecting entropy from the browser:"), console.log(e));
                    }
                    (i.json = {
                      defaults: { v: 1, iter: 1e4, ks: 128, ts: 64, mode: "ccm", adata: "", cipher: "aes" },
                      ja: function (e, t, n, r) {
                        (n = n || {}), (r = r || {});
                        var o,
                          a = i.json,
                          s = a.g({ iv: i.random.randomWords(4, 0) }, a.defaults);
                        if (
                          (a.g(s, n),
                          (n = s.adata),
                          "string" == typeof s.salt && (s.salt = i.codec.base64.toBits(s.salt)),
                          "string" == typeof s.iv && (s.iv = i.codec.base64.toBits(s.iv)),
                          !i.mode[s.mode] ||
                            !i.cipher[s.cipher] ||
                            ("string" == typeof e && 100 >= s.iter) ||
                            (64 !== s.ts && 96 !== s.ts && 128 !== s.ts) ||
                            (128 !== s.ks && 192 !== s.ks && 256 !== s.ks) ||
                            2 > s.iv.length ||
                            4 < s.iv.length)
                        )
                          throw new i.exception.invalid("json encrypt: invalid parameters");
                        return (
                          "string" == typeof e
                            ? ((e = (o = i.misc.cachedPbkdf2(e, s)).key.slice(0, s.ks / 32)), (s.salt = o.salt))
                            : i.ecc &&
                              e instanceof i.ecc.elGamal.publicKey &&
                              ((o = e.kem()), (s.kemtag = o.tag), (e = o.key.slice(0, s.ks / 32))),
                          "string" == typeof t && (t = i.codec.utf8String.toBits(t)),
                          "string" == typeof n && (s.adata = n = i.codec.utf8String.toBits(n)),
                          (o = new i.cipher[s.cipher](e)),
                          a.g(r, s),
                          (r.key = e),
                          (s.ct =
                            "ccm" === s.mode && i.arrayBuffer && i.arrayBuffer.ccm && t instanceof ArrayBuffer
                              ? i.arrayBuffer.ccm.encrypt(o, t, s.iv, n, s.ts)
                              : i.mode[s.mode].encrypt(o, t, s.iv, n, s.ts)),
                          s
                        );
                      },
                      encrypt: function (e, t, n, r) {
                        var o = i.json,
                          a = o.ja.apply(o, arguments);
                        return o.encode(a);
                      },
                      ia: function (e, t, n, r) {
                        (n = n || {}), (r = r || {});
                        var o,
                          a,
                          s = i.json;
                        if (
                          ((o = (t = s.g(s.g(s.g({}, s.defaults), t), n, !0)).adata),
                          "string" == typeof t.salt && (t.salt = i.codec.base64.toBits(t.salt)),
                          "string" == typeof t.iv && (t.iv = i.codec.base64.toBits(t.iv)),
                          !i.mode[t.mode] ||
                            !i.cipher[t.cipher] ||
                            ("string" == typeof e && 100 >= t.iter) ||
                            (64 !== t.ts && 96 !== t.ts && 128 !== t.ts) ||
                            (128 !== t.ks && 192 !== t.ks && 256 !== t.ks) ||
                            !t.iv ||
                            2 > t.iv.length ||
                            4 < t.iv.length)
                        )
                          throw new i.exception.invalid("json decrypt: invalid parameters");
                        return (
                          "string" == typeof e
                            ? ((e = (a = i.misc.cachedPbkdf2(e, t)).key.slice(0, t.ks / 32)), (t.salt = a.salt))
                            : i.ecc &&
                              e instanceof i.ecc.elGamal.secretKey &&
                              (e = e.unkem(i.codec.base64.toBits(t.kemtag)).slice(0, t.ks / 32)),
                          "string" == typeof o && (o = i.codec.utf8String.toBits(o)),
                          (a = new i.cipher[t.cipher](e)),
                          (o =
                            "ccm" === t.mode && i.arrayBuffer && i.arrayBuffer.ccm && t.ct instanceof ArrayBuffer
                              ? i.arrayBuffer.ccm.decrypt(a, t.ct, t.iv, t.tag, o, t.ts)
                              : i.mode[t.mode].decrypt(a, t.ct, t.iv, o, t.ts)),
                          s.g(r, t),
                          (r.key = e),
                          1 === n.raw ? o : i.codec.utf8String.fromBits(o)
                        );
                      },
                      decrypt: function (e, t, n, r) {
                        var o = i.json;
                        return o.ia(e, o.decode(t), n, r);
                      },
                      encode: function (e) {
                        var t,
                          n = "{",
                          r = "";
                        for (t in e)
                          if (e.hasOwnProperty(t)) {
                            if (!t.match(/^[a-z0-9]+$/i))
                              throw new i.exception.invalid("json encode: invalid property name");
                            switch (((n += r + '"' + t + '":'), (r = ","), typeof e[t])) {
                              case "number":
                              case "boolean":
                                n += e[t];
                                break;
                              case "string":
                                n += '"' + escape(e[t]) + '"';
                                break;
                              case "object":
                                n += '"' + i.codec.base64.fromBits(e[t], 0) + '"';
                                break;
                              default:
                                throw new i.exception.bug("json encode: unsupported type");
                            }
                          }
                        return n + "}";
                      },
                      decode: function (e) {
                        if (!(e = e.replace(/\s/g, "")).match(/^\{.*\}$/))
                          throw new i.exception.invalid("json decode: this isn't json!");
                        e = e.replace(/^\{|\}$/g, "").split(/,/);
                        var t,
                          n,
                          r = {};
                        for (t = 0; t < e.length; t++) {
                          if (
                            !(n = e[t].match(
                              /^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i
                            ))
                          )
                            throw new i.exception.invalid("json decode: this isn't json!");
                          null != n[3]
                            ? (r[n[2]] = parseInt(n[3], 10))
                            : null != n[4]
                            ? (r[n[2]] = n[2].match(/^(ct|adata|salt|iv)$/)
                                ? i.codec.base64.toBits(n[4])
                                : unescape(n[4]))
                            : null != n[5] && (r[n[2]] = "true" === n[5]);
                        }
                        return r;
                      },
                      g: function (e, t, n) {
                        if ((void 0 === e && (e = {}), void 0 === t)) return e;
                        for (var r in t)
                          if (t.hasOwnProperty(r)) {
                            if (n && void 0 !== e[r] && e[r] !== t[r])
                              throw new i.exception.invalid("required parameter overridden");
                            e[r] = t[r];
                          }
                        return e;
                      },
                      sa: function (e, t) {
                        var n,
                          r = {};
                        for (n in e) e.hasOwnProperty(n) && e[n] !== t[n] && (r[n] = e[n]);
                        return r;
                      },
                      ra: function (e, t) {
                        var n,
                          r = {};
                        for (n = 0; n < t.length; n++) void 0 !== e[t[n]] && (r[t[n]] = e[t[n]]);
                        return r;
                      },
                    }),
                      (i.encrypt = i.json.encrypt),
                      (i.decrypt = i.json.decrypt),
                      (i.misc.pa = {}),
                      (i.misc.cachedPbkdf2 = function (e, t) {
                        var n,
                          r = i.misc.pa;
                        return (
                          (n = (t = t || {}).iter || 1e3),
                          ((n = (r = r[e] = r[e] || {})[n] =
                            r[n] || {
                              firstSalt: t.salt && t.salt.length ? t.salt.slice(0) : i.random.randomWords(2, 0),
                            })[(r = void 0 === t.salt ? n.firstSalt : t.salt)] = n[r] || i.misc.pbkdf2(e, r, t.iter)),
                          { key: n[r].slice(0), salt: r.slice(0) }
                        );
                      }),
                      e.exports && (e.exports = i),
                      void 0 ===
                        (r = function () {
                          return i;
                        }.apply(t, [])) || (e.exports = r);
                  },
                  338: function (e, t, n) {
                    "use strict";
                    var r,
                      i,
                      o,
                      a,
                      s =
                        (this && this.__classPrivateFieldSet) ||
                        function (e, t, n, r, i) {
                          if ("m" === r) throw new TypeError("Private method is not writable");
                          if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
                          if ("function" == typeof t ? e !== t || !i : !t.has(e))
                            throw new TypeError(
                              "Cannot write private member to an object whose class did not declare it"
                            );
                          return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
                        },
                      l =
                        (this && this.__classPrivateFieldGet) ||
                        function (e, t, n, r) {
                          if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
                          if ("function" == typeof t ? e !== t || !r : !t.has(e))
                            throw new TypeError(
                              "Cannot read private member from an object whose class did not declare it"
                            );
                          return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
                        };
                    Object.defineProperty(t, "__esModule", { value: !0 }), (t.VoidApi = void 0);
                    const c = n(920),
                      u = n(609),
                      d = n(2);
                    (t.VoidApi = class {
                      constructor(e, t) {
                        r.add(this), i.set(this, void 0), o.set(this, void 0), s(this, i, e, "f"), s(this, o, t, "f");
                      }
                      getUploader(e, t, n, r, a) {
                        return u.StreamUploader.canUse()
                          ? new u.StreamUploader(l(this, i, "f"), e, t, n, r, l(this, o, "f"), a)
                          : new d.XHRUploader(l(this, i, "f"), e, t, n, r, l(this, o, "f"), a);
                      }
                      info() {
                        return l(this, r, "m", a).call(this, "GET", "/info");
                      }
                      fileInfo(e) {
                        return l(this, r, "m", a).call(this, "GET", `/upload/${e}`);
                      }
                      setPaymentConfig(e, t) {
                        return l(this, r, "m", a).call(this, "POST", `/upload/${e}/payment`, t);
                      }
                      createOrder(e) {
                        return l(this, r, "m", a).call(this, "GET", `/upload/${e}/payment`);
                      }
                      getOrder(e, t) {
                        return l(this, r, "m", a).call(this, "GET", `/upload/${e}/payment/${t}`);
                      }
                      login(e, t, n) {
                        return l(this, r, "m", a).call(this, "POST", "/auth/login", {
                          username: e,
                          password: t,
                          captcha: n,
                        });
                      }
                      register(e, t, n) {
                        return l(this, r, "m", a).call(this, "POST", "/auth/register", {
                          username: e,
                          password: t,
                          captcha: n,
                        });
                      }
                      getUser(e) {
                        return l(this, r, "m", a).call(this, "GET", `/user/${e}`);
                      }
                      updateUser(e) {
                        return l(this, r, "m", a).call(this, "POST", `/user/${e.id}`, e);
                      }
                      listUserFiles(e, t) {
                        return l(this, r, "m", a).call(this, "POST", `/user/${e}/files`, t);
                      }
                      submitVerifyCode(e, t) {
                        return l(this, r, "m", a).call(this, "POST", `/user/${e}/verify`, { code: t });
                      }
                      sendNewCode(e) {
                        return l(this, r, "m", a).call(this, "GET", `/user/${e}/verify`);
                      }
                      updateFileMetadata(e, t) {
                        return l(this, r, "m", a).call(this, "POST", `/upload/${e}/meta`, t);
                      }
                      listApiKeys() {
                        return l(this, r, "m", a).call(this, "GET", "/auth/api-key");
                      }
                      createApiKey(e) {
                        return l(this, r, "m", a).call(this, "POST", "/auth/api-key", e);
                      }
                      adminListFiles(e) {
                        return l(this, r, "m", a).call(this, "POST", "/admin/file", e);
                      }
                      adminDeleteFile(e) {
                        return l(this, r, "m", a).call(this, "DELETE", `/admin/file/${e}`);
                      }
                      adminUserList(e) {
                        return l(this, r, "m", a).call(this, "POST", "/admin/users", e);
                      }
                      adminUpdateUser(e) {
                        return l(this, r, "m", a).call(this, "POST", "/admin/update-user", e);
                      }
                    }),
                      (i = new WeakMap()),
                      (o = new WeakMap()),
                      (r = new WeakSet()),
                      (a = async function (e, t, n) {
                        let r = { Accept: "application/json" };
                        l(this, o, "f") && (r.Authorization = `Bearer ${l(this, o, "f")}`),
                          n && (r["Content-Type"] = "application/json");
                        const a = await fetch(`${l(this, i, "f")}${t}`, {
                            method: e,
                            headers: r,
                            mode: "cors",
                            body: n ? JSON.stringify(n) : void 0,
                          }),
                          s = await a.text();
                        if (a.ok) return s ? JSON.parse(s) : {};
                        throw new c.ApiError(a.status, s);
                      });
                  },
                  410: function (e, t, n) {
                    "use strict";
                    var r,
                      i,
                      o,
                      a,
                      s,
                      l =
                        (this && this.__classPrivateFieldSet) ||
                        function (e, t, n, r, i) {
                          if ("m" === r) throw new TypeError("Private method is not writable");
                          if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
                          if ("function" == typeof t ? e !== t || !i : !t.has(e))
                            throw new TypeError(
                              "Cannot write private member to an object whose class did not declare it"
                            );
                          return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
                        },
                      c =
                        (this && this.__classPrivateFieldGet) ||
                        function (e, t, n, r) {
                          if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
                          if ("function" == typeof t ? e !== t || !r : !t.has(e))
                            throw new TypeError(
                              "Cannot read private member from an object whose class did not declare it"
                            );
                          return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
                        },
                      u =
                        (this && this.__importDefault) ||
                        function (e) {
                          return e && e.__esModule ? e : { default: e };
                        };
                    Object.defineProperty(t, "__esModule", { value: !0 }), (t.StreamEncryption = void 0);
                    const d = n(964),
                      f = u(n(446)),
                      h = n(663);
                    (t.StreamEncryption = class {
                      constructor(e, t, n) {
                        if (
                          (r.set(this, void 0),
                          i.set(this, void 0),
                          o.set(this, void 0),
                          a.set(this, void 0),
                          s.set(this, void 0),
                          e ||
                            t ||
                            ((e = (0, h.buf2hex)(globalThis.crypto.getRandomValues(new Uint8Array(16)))),
                            (t = (0, h.buf2hex)(globalThis.crypto.getRandomValues(new Uint8Array(12))))),
                          "string" == typeof e && "string" == typeof t)
                        )
                          (e = f.default.codec.hex.toBits(e)), (t = f.default.codec.hex.toBits(t));
                        else if (!Array.isArray(e) || !Array.isArray(t))
                          throw "Key and IV must be hex string or bitArray";
                        "string" == typeof n && (n = JSON.parse(n)),
                          l(this, r, n?.ts ?? 128, "f"),
                          l(this, i, n?.cs ?? 10485760, "f"),
                          l(this, o, new f.default.cipher.aes(e), "f"),
                          l(this, a, e, "f"),
                          l(this, s, t, "f"),
                          console.log(`ts=${c(this, r, "f")}, cs=${c(this, i, "f")}, key=${e}, iv=${c(this, s, "f")}`);
                      }
                      getKey() {
                        return `${f.default.codec.hex.fromBits(c(this, a, "f"))}:${f.default.codec.hex.fromBits(
                          c(this, s, "f")
                        )}`;
                      }
                      getParams() {
                        return { ts: c(this, r, "f"), cs: c(this, i, "f") };
                      }
                      getEncryptionTransform() {
                        return this._getCryptoStream(0);
                      }
                      getDecryptionTransform() {
                        return this._getCryptoStream(1);
                      }
                      _getCryptoStream(e) {
                        let t = 0,
                          n = new Uint8Array(c(this, i, "f") + (1 === e ? c(this, r, "f") / 8 : 0));
                        return new TransformStream(
                          {
                            transform: async (i, a) => {
                              i = await i;
                              try {
                                let l = Math.min(i.byteLength, n.byteLength - t);
                                if ((n.set(i.slice(0, l), t), (t += l), t === n.byteLength)) {
                                  let u = d.sjclcodec.toBits(n),
                                    h = d.sjclcodec.fromBits(
                                      0 === e
                                        ? f.default.mode.gcm.encrypt(
                                            c(this, o, "f"),
                                            u,
                                            c(this, s, "f"),
                                            [],
                                            c(this, r, "f")
                                          )
                                        : f.default.mode.gcm.decrypt(
                                            c(this, o, "f"),
                                            u,
                                            c(this, s, "f"),
                                            [],
                                            c(this, r, "f")
                                          )
                                    );
                                  a.enqueue(new Uint8Array(h)), (t = i.byteLength - l), n.set(i.slice(l));
                                }
                              } catch (e) {
                                throw (console.error(e), e);
                              }
                            },
                            flush: i => {
                              let a = n.slice(0, t),
                                l = d.sjclcodec.toBits(a),
                                u = d.sjclcodec.fromBits(
                                  0 === e
                                    ? f.default.mode.gcm.encrypt(
                                        c(this, o, "f"),
                                        l,
                                        c(this, s, "f"),
                                        [],
                                        c(this, r, "f")
                                      )
                                    : f.default.mode.gcm.decrypt(
                                        c(this, o, "f"),
                                        l,
                                        c(this, s, "f"),
                                        [],
                                        c(this, r, "f")
                                      )
                                );
                              i.enqueue(new Uint8Array(u));
                            },
                          },
                          { highWaterMark: c(this, i, "f") }
                        );
                      }
                    }),
                      (r = new WeakMap()),
                      (i = new WeakMap()),
                      (o = new WeakMap()),
                      (a = new WeakMap()),
                      (s = new WeakMap());
                  },
                  609: function (e, t, n) {
                    "use strict";
                    var r,
                      i =
                        (this && this.__classPrivateFieldSet) ||
                        function (e, t, n, r, i) {
                          if ("m" === r) throw new TypeError("Private method is not writable");
                          if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
                          if ("function" == typeof t ? e !== t || !i : !t.has(e))
                            throw new TypeError(
                              "Cannot write private member to an object whose class did not declare it"
                            );
                          return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
                        },
                      o =
                        (this && this.__classPrivateFieldGet) ||
                        function (e, t, n, r) {
                          if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
                          if ("function" == typeof t ? e !== t || !r : !t.has(e))
                            throw new TypeError(
                              "Cannot read private member from an object whose class did not declare it"
                            );
                          return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
                        };
                    Object.defineProperty(t, "__esModule", { value: !0 }), (t.StreamUploader = void 0);
                    const a = n(496),
                      s = n(410);
                    class l extends a.VoidUploader {
                      constructor() {
                        super(...arguments), r.set(this, void 0);
                      }
                      static canUse() {
                        const e = globalThis.navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
                        return (
                          (e ? parseInt(e[2], 10) : 0) >= 105 &&
                          "getRandomValues" in globalThis.crypto &&
                          "https:" === globalThis.location.protocol
                        );
                      }
                      canEncrypt() {
                        return !0;
                      }
                      setEncryption(e) {
                        i(this, r, e ? new s.StreamEncryption(void 0, void 0, void 0) : void 0, "f");
                      }
                      getEncryptionKey() {
                        return o(this, r, "f")?.getKey();
                      }
                      async upload(e) {
                        this.onStateChange?.(a.UploadState.Hashing);
                        const t = await this.digest(this.file);
                        let n = 0;
                        const i = 1048576,
                          s = new ReadableStream(
                            {
                              start: async () => {
                                this.onStateChange?.(a.UploadState.Uploading);
                              },
                              pull: async e => {
                                const t = await this.readChunk(n, e.desiredSize ?? i);
                                0 !== t.byteLength
                                  ? (this.onProgress?.(n + t.byteLength), (n += t.byteLength), e.enqueue(t))
                                  : e.close();
                              },
                              cancel: e => {
                                console.log(e);
                              },
                              type: "bytes",
                            },
                            { highWaterMark: i }
                          ),
                          l = {
                            "Content-Type": "application/octet-stream",
                            "V-Content-Type": this.file.type ? this.file.type : "application/octet-stream",
                            "V-Filename": "name" in this.file ? this.file.name : "",
                            "V-Full-Digest": t,
                          };
                        o(this, r, "f") && (l["V-EncryptionParams"] = JSON.stringify(o(this, r, "f").getParams())),
                          this.auth && (l.Authorization = `Bearer ${this.auth}`);
                        const c = await fetch(`${this.uri}/upload`, {
                          method: "POST",
                          mode: "cors",
                          body: o(this, r, "f") ? s.pipeThrough(o(this, r, "f").getEncryptionTransform()) : s,
                          headers: { ...l, ...e },
                          duplex: "half",
                        });
                        if (c.ok) return await c.json();
                        throw new Error("Unknown error");
                      }
                      async readChunk(e, t) {
                        if (e > this.file.size) return new Uint8Array(0);
                        const n = Math.min(e + t, this.file.size),
                          r = this.file.slice(e, n, this.file.type),
                          i = await r.arrayBuffer();
                        return new Uint8Array(i);
                      }
                    }
                    (t.StreamUploader = l), (r = new WeakMap());
                  },
                  496: function (e, t, n) {
                    "use strict";
                    var r =
                      (this && this.__importDefault) ||
                      function (e) {
                        return e && e.__esModule ? e : { default: e };
                      };
                    Object.defineProperty(t, "__esModule", { value: !0 }), (t.VoidUploader = t.UploadState = void 0);
                    const i = r(n(446)),
                      o = n(964),
                      a = n(663);
                    var s;
                    ((s = t.UploadState || (t.UploadState = {}))[(s.NotStarted = 0)] = "NotStarted"),
                      (s[(s.Starting = 1)] = "Starting"),
                      (s[(s.Hashing = 2)] = "Hashing"),
                      (s[(s.Uploading = 3)] = "Uploading"),
                      (s[(s.Done = 4)] = "Done"),
                      (s[(s.Failed = 5)] = "Failed"),
                      (s[(s.Challenge = 6)] = "Challenge"),
                      (t.VoidUploader = class {
                        constructor(e, t, n, r, i, o, a) {
                          (this.uri = e),
                            (this.file = t),
                            (this.onStateChange = n),
                            (this.onProgress = r),
                            (this.onProxyChallenge = i),
                            (this.auth = o),
                            (this.maxChunkSize = a ?? Number.MAX_VALUE);
                        }
                        async digest(e) {
                          const t = 1048576,
                            n = new i.default.hash.sha256();
                          let r = 0;
                          for (let i = 0; i < Math.ceil(e.size / t); i++) {
                            const a = i * t,
                              s = e.slice(a, a + t),
                              l = await s.arrayBuffer();
                            n.update(o.sjclcodec.toBits(new Uint8Array(l))), this.onProgress?.((r += l.byteLength));
                          }
                          return (0, a.buf2hex)(o.sjclcodec.fromBits(n.finalize()));
                        }
                      });
                  },
                  663: (e, t) => {
                    "use strict";
                    Object.defineProperty(t, "__esModule", { value: !0 }),
                      (t.buf2hex = void 0),
                      (t.buf2hex = function (e) {
                        return [...new Uint8Array(e)].map(e => e.toString(16).padStart(2, "0")).join("");
                      });
                  },
                  2: function (e, t, n) {
                    "use strict";
                    var r,
                      i,
                      o,
                      a =
                        (this && this.__classPrivateFieldGet) ||
                        function (e, t, n, r) {
                          if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
                          if ("function" == typeof t ? e !== t || !r : !t.has(e))
                            throw new TypeError(
                              "Cannot read private member from an object whose class did not declare it"
                            );
                          return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
                        };
                    Object.defineProperty(t, "__esModule", { value: !0 }), (t.XHRUploader = void 0);
                    const s = n(496);
                    class l extends s.VoidUploader {
                      constructor() {
                        super(...arguments), r.add(this);
                      }
                      canEncrypt() {
                        return !1;
                      }
                      setEncryption() {}
                      getEncryptionKey() {}
                      async upload(e) {
                        this.onStateChange?.(s.UploadState.Hashing);
                        const t = await this.digest(this.file);
                        return this.file.size > this.maxChunkSize
                          ? await a(this, r, "m", i).call(this, t, this.maxChunkSize, e)
                          : await a(this, r, "m", o).call(this, this.file, t, void 0, void 0, 1, 1, e);
                      }
                    }
                    (t.XHRUploader = l),
                      (r = new WeakSet()),
                      (i = async function (e, t, n) {
                        let i = null;
                        const s = Math.ceil(this.file.size / t);
                        for (let l = 0; l < s; l++) {
                          const c = l * t,
                            u = this.file.slice(c, c + t, this.file.type);
                          if (
                            ((i = await a(this, r, "m", o).call(
                              this,
                              u,
                              e,
                              i?.file?.id,
                              i?.file?.metadata?.editSecret,
                              l + 1,
                              s,
                              n
                            )),
                            !i.ok)
                          )
                            break;
                        }
                        return i;
                      }),
                      (o = async function (e, t, n, r, i, o, a) {
                        return (
                          this.onStateChange?.(s.UploadState.Uploading),
                          await new Promise((l, c) => {
                            try {
                              const u = new XMLHttpRequest();
                              if (
                                ((u.onreadystatechange = () => {
                                  if (u.readyState === XMLHttpRequest.DONE && 200 === u.status) {
                                    const e = JSON.parse(u.responseText);
                                    l(e);
                                  } else if (u.readyState === XMLHttpRequest.DONE && 403 === u.status) {
                                    const e = u.getResponseHeader("content-type");
                                    0 === e?.toLowerCase().trim().indexOf("text/html") &&
                                      (this.onProxyChallenge?.(u.response),
                                      this.onStateChange?.(s.UploadState.Challenge),
                                      c(new Error("CF Challenge")));
                                  }
                                }),
                                (u.upload.onprogress = e => {
                                  e instanceof ProgressEvent && this.onProgress?.(e.loaded);
                                }),
                                u.open("POST", n ? `${this.uri}/upload/${n}` : `${this.uri}/upload`),
                                u.setRequestHeader("Content-Type", "application/octet-stream"),
                                u.setRequestHeader(
                                  "V-Content-Type",
                                  this.file.type ? this.file.type : "application/octet-stream"
                                ),
                                u.setRequestHeader("V-Filename", "name" in this.file ? this.file.name : ""),
                                u.setRequestHeader("V-Full-Digest", t),
                                u.setRequestHeader("V-Segment", `${i}/${o}`),
                                this.auth &&
                                  ((u.withCredentials = !0),
                                  u.setRequestHeader("Authorization", `Bearer ${this.auth}`)),
                                r && u.setRequestHeader("V-EditSecret", r),
                                a)
                              )
                                for (const [e, t] of Object.entries(a)) u.setRequestHeader(e, t);
                              u.send(e);
                            } catch (e) {
                              c(e);
                            }
                          })
                        );
                      });
                  },
                  920: (e, t, n) => {
                    "use strict";
                    Object.defineProperty(t, "__esModule", { value: !0 }),
                      (t.PageSortOrder =
                        t.PagedSortBy =
                        t.PaymentOrderState =
                        t.PaymentServices =
                        t.PaymentCurrencies =
                        t.ApiError =
                        t.StreamEncryption =
                        t.UploadState =
                        t.VoidApi =
                          void 0);
                    var r = n(338);
                    Object.defineProperty(t, "VoidApi", {
                      enumerable: !0,
                      get: function () {
                        return r.VoidApi;
                      },
                    });
                    var i = n(496);
                    Object.defineProperty(t, "UploadState", {
                      enumerable: !0,
                      get: function () {
                        return i.UploadState;
                      },
                    });
                    var o,
                      a,
                      s,
                      l,
                      c,
                      u = n(410);
                    Object.defineProperty(t, "StreamEncryption", {
                      enumerable: !0,
                      get: function () {
                        return u.StreamEncryption;
                      },
                    });
                    class d extends Error {
                      constructor(e, t) {
                        super(t), (this.statusCode = e);
                      }
                    }
                    (t.ApiError = d),
                      ((c = t.PaymentCurrencies || (t.PaymentCurrencies = {}))[(c.BTC = 0)] = "BTC"),
                      (c[(c.USD = 1)] = "USD"),
                      (c[(c.EUR = 2)] = "EUR"),
                      (c[(c.GBP = 3)] = "GBP"),
                      ((l = t.PaymentServices || (t.PaymentServices = {}))[(l.None = 0)] = "None"),
                      (l[(l.Strike = 1)] = "Strike"),
                      ((s = t.PaymentOrderState || (t.PaymentOrderState = {}))[(s.Unpaid = 0)] = "Unpaid"),
                      (s[(s.Paid = 1)] = "Paid"),
                      (s[(s.Expired = 2)] = "Expired"),
                      ((a = t.PagedSortBy || (t.PagedSortBy = {}))[(a.Name = 0)] = "Name"),
                      (a[(a.Date = 1)] = "Date"),
                      (a[(a.Size = 2)] = "Size"),
                      (a[(a.Id = 3)] = "Id"),
                      ((o = t.PageSortOrder || (t.PageSortOrder = {}))[(o.Asc = 0)] = "Asc"),
                      (o[(o.Dsc = 1)] = "Dsc");
                  },
                  964: (e, t, n) => {
                    "use strict";
                    n.r(t), n.d(t, { sjclcodec: () => o });
                    var r = n(446),
                      i = n.n(r);
                    const o = {
                      fromBits: function (e) {
                        var t,
                          n,
                          r = [],
                          o = i().bitArray.bitLength(e);
                        for (t = 0; t < o / 8; t++) 0 == (3 & t) && (n = e[t / 4]), r.push(n >>> 24), (n <<= 8);
                        return r;
                      },
                      toBits: function (e) {
                        var t,
                          n = [],
                          r = 0;
                        for (t = 0; t < e.length; t++) (r = (r << 8) | e[t]), 3 == (3 & t) && (n.push(r), (r = 0));
                        return 3 & t && n.push(i().bitArray.partial(8 * (3 & t), r)), n;
                      },
                    };
                  },
                  674: () => {},
                },
                t = {};
              function n(r) {
                var i = t[r];
                if (void 0 !== i) return i.exports;
                var o = (t[r] = { exports: {} });
                return e[r].call(o.exports, o, o.exports, n), o.exports;
              }
              return (
                (n.n = e => {
                  var t = e && e.__esModule ? () => e.default : () => e;
                  return n.d(t, { a: t }), t;
                }),
                (n.d = (e, t) => {
                  for (var r in t)
                    n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, { enumerable: !0, get: t[r] });
                }),
                (n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
                (n.r = e => {
                  "undefined" != typeof Symbol &&
                    Symbol.toStringTag &&
                    Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
                    Object.defineProperty(e, "__esModule", { value: !0 });
                }),
                n(920)
              );
            })()),
          (e.exports = t());
      },
      160: (e, t, n) => {
        var r = n.g.CustomEvent;
        e.exports = (function () {
          try {
            var e = new r("cat", { detail: { foo: "bar" } });
            return "cat" === e.type && "bar" === e.detail.foo;
          } catch (e) {}
          return !1;
        })()
          ? r
          : "undefined" != typeof document && "function" == typeof document.createEvent
          ? function (e, t) {
              var n = document.createEvent("CustomEvent");
              return (
                t ? n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail) : n.initCustomEvent(e, !1, !1, void 0), n
              );
            }
          : function (e, t) {
              var n = document.createEventObject();
              return (
                (n.type = e),
                t
                  ? ((n.bubbles = Boolean(t.bubbles)), (n.cancelable = Boolean(t.cancelable)), (n.detail = t.detail))
                  : ((n.bubbles = !1), (n.cancelable = !1), (n.detail = void 0)),
                n
              );
            };
      },
      5121: (e, t, n) => {
        "use strict";
        var r = n(1802),
          i = {
            childContextTypes: !0,
            contextType: !0,
            contextTypes: !0,
            defaultProps: !0,
            displayName: !0,
            getDefaultProps: !0,
            getDerivedStateFromError: !0,
            getDerivedStateFromProps: !0,
            mixins: !0,
            propTypes: !0,
            type: !0,
          },
          o = { name: !0, length: !0, prototype: !0, caller: !0, callee: !0, arguments: !0, arity: !0 },
          a = { $$typeof: !0, compare: !0, defaultProps: !0, displayName: !0, propTypes: !0, type: !0 },
          s = {};
        function l(e) {
          return r.isMemo(e) ? a : s[e.$$typeof] || i;
        }
        (s[r.ForwardRef] = { $$typeof: !0, render: !0, defaultProps: !0, displayName: !0, propTypes: !0 }),
          (s[r.Memo] = a);
        var c = Object.defineProperty,
          u = Object.getOwnPropertyNames,
          d = Object.getOwnPropertySymbols,
          f = Object.getOwnPropertyDescriptor,
          h = Object.getPrototypeOf,
          p = Object.prototype;
        e.exports = function e(t, n, r) {
          if ("string" != typeof n) {
            if (p) {
              var i = h(n);
              i && i !== p && e(t, i, r);
            }
            var a = u(n);
            d && (a = a.concat(d(n)));
            for (var s = l(t), m = l(n), y = 0; y < a.length; ++y) {
              var g = a[y];
              if (!(o[g] || (r && r[g]) || (m && m[g]) || (s && s[g]))) {
                var v = f(n, g);
                try {
                  c(t, g, v);
                } catch (e) {}
              }
            }
          }
          return t;
        };
      },
      2104: (e, t, n) => {
        const { bech32: r, hex: i, utf8: o } = n(5856),
          a = { bech32: "bc", pubKeyHash: 0, scriptHash: 5, validWitnessVersions: [0] },
          s = { bech32: "tb", pubKeyHash: 111, scriptHash: 196, validWitnessVersions: [0] },
          l = { bech32: "bcrt", pubKeyHash: 111, scriptHash: 196, validWitnessVersions: [0] },
          c = { bech32: "sb", pubKeyHash: 63, scriptHash: 123, validWitnessVersions: [0] },
          u = [
            "option_data_loss_protect",
            "initial_routing_sync",
            "option_upfront_shutdown_script",
            "gossip_queries",
            "var_onion_optin",
            "gossip_queries_ex",
            "option_static_remotekey",
            "payment_secret",
            "basic_mpp",
            "option_support_large_channel",
          ],
          d = { m: BigInt(1e3), u: BigInt(1e6), n: BigInt(1e9), p: BigInt(1e12) },
          f = BigInt("2100000000000000000"),
          h = BigInt(1e11),
          p = {
            payment_hash: 1,
            payment_secret: 16,
            description: 13,
            payee: 19,
            description_hash: 23,
            expiry: 6,
            min_final_cltv_expiry: 24,
            fallback_address: 9,
            route_hint: 3,
            feature_bits: 5,
            metadata: 27,
          },
          m = {};
        for (let e = 0, t = Object.keys(p); e < t.length; e++) {
          const n = t[e],
            r = p[t[e]].toString();
          m[r] = n;
        }
        const y = {
          1: e => i.encode(r.fromWordsUnsafe(e)),
          16: e => i.encode(r.fromWordsUnsafe(e)),
          13: e => o.encode(r.fromWordsUnsafe(e)),
          19: e => i.encode(r.fromWordsUnsafe(e)),
          23: e => i.encode(r.fromWordsUnsafe(e)),
          27: e => i.encode(r.fromWordsUnsafe(e)),
          6: v,
          24: v,
          3: function (e) {
            const t = [];
            let n,
              o,
              a,
              s,
              l,
              c = r.fromWordsUnsafe(e);
            for (; c.length > 0; )
              (n = i.encode(c.slice(0, 33))),
                (o = i.encode(c.slice(33, 41))),
                (a = parseInt(i.encode(c.slice(41, 45)), 16)),
                (s = parseInt(i.encode(c.slice(45, 49)), 16)),
                (l = parseInt(i.encode(c.slice(49, 51)), 16)),
                (c = c.slice(51)),
                t.push({
                  pubkey: n,
                  short_channel_id: o,
                  fee_base_msat: a,
                  fee_proportional_millionths: s,
                  cltv_expiry_delta: l,
                });
            return t;
          },
          5: function (e) {
            const t = e
              .slice()
              .reverse()
              .map(e => [!!(1 & e), !!(2 & e), !!(4 & e), !!(8 & e), !!(16 & e)])
              .reduce((e, t) => e.concat(t), []);
            for (; t.length < 2 * u.length; ) t.push(!1);
            const n = {};
            u.forEach((e, r) => {
              let i;
              (i = t[2 * r] ? "required" : t[2 * r + 1] ? "supported" : "unsupported"), (n[e] = i);
            });
            const r = t.slice(2 * u.length);
            return (
              (n.extra_bits = {
                start_bit: 2 * u.length,
                bits: r,
                has_required: r.reduce((e, t, n) => (n % 2 != 0 ? e || !1 : e || t), !1),
              }),
              n
            );
          },
        };
        function g(e) {
          return t => ({ tagCode: parseInt(e), words: r.encode("unknown", t, Number.MAX_SAFE_INTEGER) });
        }
        function v(e) {
          return e.reverse().reduce((e, t, n) => e + t * Math.pow(32, n), 0);
        }
        function w(e, t) {
          let n, r;
          if (e.slice(-1).match(/^[munp]$/)) (n = e.slice(-1)), (r = e.slice(0, -1));
          else {
            if (e.slice(-1).match(/^[^munp0-9]$/)) throw new Error("Not a valid multiplier for the amount");
            r = e;
          }
          if (!r.match(/^\d+$/)) throw new Error("Not a valid human readable amount");
          const i = BigInt(r),
            o = n ? (i * h) / d[n] : i * h;
          if (("p" === n && i % BigInt(10) !== BigInt(0)) || o > f) throw new Error("Amount is outside of valid range");
          return t ? o.toString() : o;
        }
        e.exports = {
          decode: function (e, t) {
            if ("string" != typeof e) throw new Error("Lightning Payment Request must be string");
            if ("ln" !== e.slice(0, 2).toLowerCase()) throw new Error("Not a proper lightning payment request");
            const n = [],
              o = r.decode(e, Number.MAX_SAFE_INTEGER);
            e = e.toLowerCase();
            const u = o.prefix;
            let d = o.words,
              f = e.slice(u.length + 1),
              h = d.slice(-104);
            d = d.slice(0, -104);
            let b = u.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);
            if ((b && !b[2] && (b = u.match(/^ln(\S+)$/)), !b))
              throw new Error("Not a proper lightning payment request");
            n.push({ name: "lightning_network", letters: "ln" });
            const x = b[1];
            let E;
            if (t) {
              if (
                void 0 === t.bech32 ||
                void 0 === t.pubKeyHash ||
                void 0 === t.scriptHash ||
                !Array.isArray(t.validWitnessVersions)
              )
                throw new Error("Invalid network");
              E = t;
            } else
              switch (x) {
                case a.bech32:
                  E = a;
                  break;
                case s.bech32:
                  E = s;
                  break;
                case l.bech32:
                  E = l;
                  break;
                case c.bech32:
                  E = c;
              }
            if (!E || E.bech32 !== x) throw new Error("Unknown coin bech32 prefix");
            n.push({ name: "coin_network", letters: x, value: E });
            const k = b[2];
            let j;
            k ? ((j = w(k + b[3], !0)), n.push({ name: "amount", letters: b[2] + b[3], value: j })) : (j = null),
              n.push({ name: "separator", letters: "1" });
            const S = v(d.slice(0, 7));
            let A, C, N, P;
            for (
              d = d.slice(7), n.push({ name: "timestamp", letters: f.slice(0, 7), value: S }), f = f.slice(7);
              d.length > 0;

            ) {
              const e = d[0].toString();
              (A = m[e] || "unknown_tag"),
                (C = y[e] || g(e)),
                (d = d.slice(1)),
                (N = v(d.slice(0, 2))),
                (d = d.slice(2)),
                (P = d.slice(0, N)),
                (d = d.slice(N)),
                n.push({ name: A, tag: f[0], letters: f.slice(0, 3 + N), value: C(P) }),
                (f = f.slice(3 + N));
            }
            n.push({ name: "signature", letters: f.slice(0, 104), value: i.encode(r.fromWordsUnsafe(h)) }),
              (f = f.slice(104)),
              n.push({ name: "checksum", letters: f });
            let _ = {
              paymentRequest: e,
              sections: n,
              get expiry() {
                let e = n.find(e => "expiry" === e.name);
                if (e) return T("timestamp") + e.value;
              },
              get route_hints() {
                return n.filter(e => "route_hint" === e.name).map(e => e.value);
              },
            };
            for (let e in p) "route_hint" !== e && Object.defineProperty(_, e, { get: () => T(e) });
            return _;
            function T(e) {
              let t = n.find(t => t.name === e);
              return t ? t.value : void 0;
            }
          },
          hrpToMillisat: w,
        };
      },
      4895: e => {
        var t = 1e3,
          n = 60 * t,
          r = 60 * n,
          i = 24 * r;
        function o(e, t, n, r) {
          var i = t >= 1.5 * n;
          return Math.round(e / n) + " " + r + (i ? "s" : "");
        }
        e.exports = function (e, a) {
          a = a || {};
          var s,
            l,
            c = typeof e;
          if ("string" === c && e.length > 0)
            return (function (e) {
              if (!((e = String(e)).length > 100)) {
                var o =
                  /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
                    e
                  );
                if (o) {
                  var a = parseFloat(o[1]);
                  switch ((o[2] || "ms").toLowerCase()) {
                    case "years":
                    case "year":
                    case "yrs":
                    case "yr":
                    case "y":
                      return 315576e5 * a;
                    case "weeks":
                    case "week":
                    case "w":
                      return 6048e5 * a;
                    case "days":
                    case "day":
                    case "d":
                      return a * i;
                    case "hours":
                    case "hour":
                    case "hrs":
                    case "hr":
                    case "h":
                      return a * r;
                    case "minutes":
                    case "minute":
                    case "mins":
                    case "min":
                    case "m":
                      return a * n;
                    case "seconds":
                    case "second":
                    case "secs":
                    case "sec":
                    case "s":
                      return a * t;
                    case "milliseconds":
                    case "millisecond":
                    case "msecs":
                    case "msec":
                    case "ms":
                      return a;
                    default:
                      return;
                  }
                }
              }
            })(e);
          if ("number" === c && isFinite(e))
            return a.long
              ? ((s = e),
                (l = Math.abs(s)) >= i
                  ? o(s, l, i, "day")
                  : l >= r
                  ? o(s, l, r, "hour")
                  : l >= n
                  ? o(s, l, n, "minute")
                  : l >= t
                  ? o(s, l, t, "second")
                  : s + " ms")
              : (function (e) {
                  var o = Math.abs(e);
                  return o >= i
                    ? Math.round(e / i) + "d"
                    : o >= r
                    ? Math.round(e / r) + "h"
                    : o >= n
                    ? Math.round(e / n) + "m"
                    : o >= t
                    ? Math.round(e / t) + "s"
                    : e + "ms";
                })(e);
          throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e));
        };
      },
      2828: e => {
        self,
          (e.exports = (() => {
            var e = {
                192: (e, t) => {
                  var n,
                    r,
                    i = (function () {
                      var e = function (e, t) {
                        var n = e,
                          r = a[t],
                          i = null,
                          o = 0,
                          l = null,
                          y = [],
                          g = {},
                          w = function (e, t) {
                            (i = (function (e) {
                              for (var t = new Array(e), n = 0; n < e; n += 1) {
                                t[n] = new Array(e);
                                for (var r = 0; r < e; r += 1) t[n][r] = null;
                              }
                              return t;
                            })((o = 4 * n + 17))),
                              b(0, 0),
                              b(o - 7, 0),
                              b(0, o - 7),
                              E(),
                              x(),
                              j(e, t),
                              n >= 7 && k(e),
                              null == l && (l = A(n, r, y)),
                              S(l, t);
                          },
                          b = function (e, t) {
                            for (var n = -1; n <= 7; n += 1)
                              if (!(e + n <= -1 || o <= e + n))
                                for (var r = -1; r <= 7; r += 1)
                                  t + r <= -1 ||
                                    o <= t + r ||
                                    (i[e + n][t + r] =
                                      (0 <= n && n <= 6 && (0 == r || 6 == r)) ||
                                      (0 <= r && r <= 6 && (0 == n || 6 == n)) ||
                                      (2 <= n && n <= 4 && 2 <= r && r <= 4));
                          },
                          x = function () {
                            for (var e = 8; e < o - 8; e += 1) null == i[e][6] && (i[e][6] = e % 2 == 0);
                            for (var t = 8; t < o - 8; t += 1) null == i[6][t] && (i[6][t] = t % 2 == 0);
                          },
                          E = function () {
                            for (var e = s.getPatternPosition(n), t = 0; t < e.length; t += 1)
                              for (var r = 0; r < e.length; r += 1) {
                                var o = e[t],
                                  a = e[r];
                                if (null == i[o][a])
                                  for (var l = -2; l <= 2; l += 1)
                                    for (var c = -2; c <= 2; c += 1)
                                      i[o + l][a + c] = -2 == l || 2 == l || -2 == c || 2 == c || (0 == l && 0 == c);
                              }
                          },
                          k = function (e) {
                            for (var t = s.getBCHTypeNumber(n), r = 0; r < 18; r += 1) {
                              var a = !e && 1 == ((t >> r) & 1);
                              i[Math.floor(r / 3)][(r % 3) + o - 8 - 3] = a;
                            }
                            for (r = 0; r < 18; r += 1)
                              (a = !e && 1 == ((t >> r) & 1)), (i[(r % 3) + o - 8 - 3][Math.floor(r / 3)] = a);
                          },
                          j = function (e, t) {
                            for (var n = (r << 3) | t, a = s.getBCHTypeInfo(n), l = 0; l < 15; l += 1) {
                              var c = !e && 1 == ((a >> l) & 1);
                              l < 6 ? (i[l][8] = c) : l < 8 ? (i[l + 1][8] = c) : (i[o - 15 + l][8] = c);
                            }
                            for (l = 0; l < 15; l += 1)
                              (c = !e && 1 == ((a >> l) & 1)),
                                l < 8
                                  ? (i[8][o - l - 1] = c)
                                  : l < 9
                                  ? (i[8][15 - l - 1 + 1] = c)
                                  : (i[8][15 - l - 1] = c);
                            i[o - 8][8] = !e;
                          },
                          S = function (e, t) {
                            for (
                              var n = -1, r = o - 1, a = 7, l = 0, c = s.getMaskFunction(t), u = o - 1;
                              u > 0;
                              u -= 2
                            )
                              for (6 == u && (u -= 1); ; ) {
                                for (var d = 0; d < 2; d += 1)
                                  if (null == i[r][u - d]) {
                                    var f = !1;
                                    l < e.length && (f = 1 == ((e[l] >>> a) & 1)),
                                      c(r, u - d) && (f = !f),
                                      (i[r][u - d] = f),
                                      -1 == (a -= 1) && ((l += 1), (a = 7));
                                  }
                                if ((r += n) < 0 || o <= r) {
                                  (r -= n), (n = -n);
                                  break;
                                }
                              }
                          },
                          A = function (e, t, n) {
                            for (var r = u.getRSBlocks(e, t), i = d(), o = 0; o < n.length; o += 1) {
                              var a = n[o];
                              i.put(a.getMode(), 4),
                                i.put(a.getLength(), s.getLengthInBits(a.getMode(), e)),
                                a.write(i);
                            }
                            var l = 0;
                            for (o = 0; o < r.length; o += 1) l += r[o].dataCount;
                            if (i.getLengthInBits() > 8 * l)
                              throw "code length overflow. (" + i.getLengthInBits() + ">" + 8 * l + ")";
                            for (i.getLengthInBits() + 4 <= 8 * l && i.put(0, 4); i.getLengthInBits() % 8 != 0; )
                              i.putBit(!1);
                            for (; !(i.getLengthInBits() >= 8 * l || (i.put(236, 8), i.getLengthInBits() >= 8 * l)); )
                              i.put(17, 8);
                            return (function (e, t) {
                              for (
                                var n = 0, r = 0, i = 0, o = new Array(t.length), a = new Array(t.length), l = 0;
                                l < t.length;
                                l += 1
                              ) {
                                var u = t[l].dataCount,
                                  d = t[l].totalCount - u;
                                (r = Math.max(r, u)), (i = Math.max(i, d)), (o[l] = new Array(u));
                                for (var f = 0; f < o[l].length; f += 1) o[l][f] = 255 & e.getBuffer()[f + n];
                                n += u;
                                var h = s.getErrorCorrectPolynomial(d),
                                  p = c(o[l], h.getLength() - 1).mod(h);
                                for (a[l] = new Array(h.getLength() - 1), f = 0; f < a[l].length; f += 1) {
                                  var m = f + p.getLength() - a[l].length;
                                  a[l][f] = m >= 0 ? p.getAt(m) : 0;
                                }
                              }
                              var y = 0;
                              for (f = 0; f < t.length; f += 1) y += t[f].totalCount;
                              var g = new Array(y),
                                v = 0;
                              for (f = 0; f < r; f += 1)
                                for (l = 0; l < t.length; l += 1) f < o[l].length && ((g[v] = o[l][f]), (v += 1));
                              for (f = 0; f < i; f += 1)
                                for (l = 0; l < t.length; l += 1) f < a[l].length && ((g[v] = a[l][f]), (v += 1));
                              return g;
                            })(i, r);
                          };
                        (g.addData = function (e, t) {
                          var n = null;
                          switch ((t = t || "Byte")) {
                            case "Numeric":
                              n = f(e);
                              break;
                            case "Alphanumeric":
                              n = h(e);
                              break;
                            case "Byte":
                              n = p(e);
                              break;
                            case "Kanji":
                              n = m(e);
                              break;
                            default:
                              throw "mode:" + t;
                          }
                          y.push(n), (l = null);
                        }),
                          (g.isDark = function (e, t) {
                            if (e < 0 || o <= e || t < 0 || o <= t) throw e + "," + t;
                            return i[e][t];
                          }),
                          (g.getModuleCount = function () {
                            return o;
                          }),
                          (g.make = function () {
                            if (n < 1) {
                              for (var e = 1; e < 40; e++) {
                                for (var t = u.getRSBlocks(e, r), i = d(), o = 0; o < y.length; o++) {
                                  var a = y[o];
                                  i.put(a.getMode(), 4),
                                    i.put(a.getLength(), s.getLengthInBits(a.getMode(), e)),
                                    a.write(i);
                                }
                                var l = 0;
                                for (o = 0; o < t.length; o++) l += t[o].dataCount;
                                if (i.getLengthInBits() <= 8 * l) break;
                              }
                              n = e;
                            }
                            w(
                              !1,
                              (function () {
                                for (var e = 0, t = 0, n = 0; n < 8; n += 1) {
                                  w(!0, n);
                                  var r = s.getLostPoint(g);
                                  (0 == n || e > r) && ((e = r), (t = n));
                                }
                                return t;
                              })()
                            );
                          }),
                          (g.createTableTag = function (e, t) {
                            e = e || 2;
                            var n = "";
                            (n += '<table style="'),
                              (n += " border-width: 0px; border-style: none;"),
                              (n += " border-collapse: collapse;"),
                              (n += " padding: 0px; margin: " + (t = void 0 === t ? 4 * e : t) + "px;"),
                              (n += '">'),
                              (n += "<tbody>");
                            for (var r = 0; r < g.getModuleCount(); r += 1) {
                              n += "<tr>";
                              for (var i = 0; i < g.getModuleCount(); i += 1)
                                (n += '<td style="'),
                                  (n += " border-width: 0px; border-style: none;"),
                                  (n += " border-collapse: collapse;"),
                                  (n += " padding: 0px; margin: 0px;"),
                                  (n += " width: " + e + "px;"),
                                  (n += " height: " + e + "px;"),
                                  (n += " background-color: "),
                                  (n += g.isDark(r, i) ? "#000000" : "#ffffff"),
                                  (n += ";"),
                                  (n += '"/>');
                              n += "</tr>";
                            }
                            return (n += "</tbody>") + "</table>";
                          }),
                          (g.createSvgTag = function (e, t, n, r) {
                            var i = {};
                            "object" == typeof arguments[0] &&
                              ((e = (i = arguments[0]).cellSize), (t = i.margin), (n = i.alt), (r = i.title)),
                              (e = e || 2),
                              (t = void 0 === t ? 4 * e : t),
                              ((n = "string" == typeof n ? { text: n } : n || {}).text = n.text || null),
                              (n.id = n.text ? n.id || "qrcode-description" : null),
                              ((r = "string" == typeof r ? { text: r } : r || {}).text = r.text || null),
                              (r.id = r.text ? r.id || "qrcode-title" : null);
                            var o,
                              a,
                              s,
                              l,
                              c = g.getModuleCount() * e + 2 * t,
                              u = "";
                            for (
                              l = "l" + e + ",0 0," + e + " -" + e + ",0 0,-" + e + "z ",
                                u += '<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',
                                u += i.scalable ? "" : ' width="' + c + 'px" height="' + c + 'px"',
                                u += ' viewBox="0 0 ' + c + " " + c + '" ',
                                u += ' preserveAspectRatio="xMinYMin meet"',
                                u +=
                                  r.text || n.text
                                    ? ' role="img" aria-labelledby="' + C([r.id, n.id].join(" ").trim()) + '"'
                                    : "",
                                u += ">",
                                u += r.text ? '<title id="' + C(r.id) + '">' + C(r.text) + "</title>" : "",
                                u += n.text ? '<description id="' + C(n.id) + '">' + C(n.text) + "</description>" : "",
                                u += '<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',
                                u += '<path d="',
                                a = 0;
                              a < g.getModuleCount();
                              a += 1
                            )
                              for (s = a * e + t, o = 0; o < g.getModuleCount(); o += 1)
                                g.isDark(a, o) && (u += "M" + (o * e + t) + "," + s + l);
                            return (u += '" stroke="transparent" fill="black"/>') + "</svg>";
                          }),
                          (g.createDataURL = function (e, t) {
                            (e = e || 2), (t = void 0 === t ? 4 * e : t);
                            var n = g.getModuleCount() * e + 2 * t,
                              r = t,
                              i = n - t;
                            return v(n, n, function (t, n) {
                              if (r <= t && t < i && r <= n && n < i) {
                                var o = Math.floor((t - r) / e),
                                  a = Math.floor((n - r) / e);
                                return g.isDark(a, o) ? 0 : 1;
                              }
                              return 1;
                            });
                          }),
                          (g.createImgTag = function (e, t, n) {
                            (e = e || 2), (t = void 0 === t ? 4 * e : t);
                            var r = g.getModuleCount() * e + 2 * t,
                              i = "";
                            return (
                              (i += "<img"),
                              (i += ' src="'),
                              (i += g.createDataURL(e, t)),
                              (i += '"'),
                              (i += ' width="'),
                              (i += r),
                              (i += '"'),
                              (i += ' height="'),
                              (i += r),
                              (i += '"'),
                              n && ((i += ' alt="'), (i += C(n)), (i += '"')),
                              i + "/>"
                            );
                          });
                        var C = function (e) {
                          for (var t = "", n = 0; n < e.length; n += 1) {
                            var r = e.charAt(n);
                            switch (r) {
                              case "<":
                                t += "&lt;";
                                break;
                              case ">":
                                t += "&gt;";
                                break;
                              case "&":
                                t += "&amp;";
                                break;
                              case '"':
                                t += "&quot;";
                                break;
                              default:
                                t += r;
                            }
                          }
                          return t;
                        };
                        return (
                          (g.createASCII = function (e, t) {
                            if ((e = e || 1) < 2)
                              return (function (e) {
                                e = void 0 === e ? 2 : e;
                                var t,
                                  n,
                                  r,
                                  i,
                                  o,
                                  a = 1 * g.getModuleCount() + 2 * e,
                                  s = e,
                                  l = a - e,
                                  c = { "██": "█", "█ ": "▀", " █": "▄", "  ": " " },
                                  u = { "██": "▀", "█ ": "▀", " █": " ", "  ": " " },
                                  d = "";
                                for (t = 0; t < a; t += 2) {
                                  for (
                                    r = Math.floor((t - s) / 1), i = Math.floor((t + 1 - s) / 1), n = 0;
                                    n < a;
                                    n += 1
                                  )
                                    (o = "█"),
                                      s <= n &&
                                        n < l &&
                                        s <= t &&
                                        t < l &&
                                        g.isDark(r, Math.floor((n - s) / 1)) &&
                                        (o = " "),
                                      s <= n && n < l && s <= t + 1 && t + 1 < l && g.isDark(i, Math.floor((n - s) / 1))
                                        ? (o += " ")
                                        : (o += "█"),
                                      (d += e < 1 && t + 1 >= l ? u[o] : c[o]);
                                  d += "\n";
                                }
                                return a % 2 && e > 0
                                  ? d.substring(0, d.length - a - 1) + Array(a + 1).join("▀")
                                  : d.substring(0, d.length - 1);
                              })(t);
                            (e -= 1), (t = void 0 === t ? 2 * e : t);
                            var n,
                              r,
                              i,
                              o,
                              a = g.getModuleCount() * e + 2 * t,
                              s = t,
                              l = a - t,
                              c = Array(e + 1).join("██"),
                              u = Array(e + 1).join("  "),
                              d = "",
                              f = "";
                            for (n = 0; n < a; n += 1) {
                              for (i = Math.floor((n - s) / e), f = "", r = 0; r < a; r += 1)
                                (o = 1),
                                  s <= r && r < l && s <= n && n < l && g.isDark(i, Math.floor((r - s) / e)) && (o = 0),
                                  (f += o ? c : u);
                              for (i = 0; i < e; i += 1) d += f + "\n";
                            }
                            return d.substring(0, d.length - 1);
                          }),
                          (g.renderTo2dContext = function (e, t) {
                            t = t || 2;
                            for (var n = g.getModuleCount(), r = 0; r < n; r++)
                              for (var i = 0; i < n; i++)
                                (e.fillStyle = g.isDark(r, i) ? "black" : "white"), e.fillRect(r * t, i * t, t, t);
                          }),
                          g
                        );
                      };
                      (e.stringToBytes = (e.stringToBytesFuncs = {
                        default: function (e) {
                          for (var t = [], n = 0; n < e.length; n += 1) {
                            var r = e.charCodeAt(n);
                            t.push(255 & r);
                          }
                          return t;
                        },
                      }).default),
                        (e.createStringToBytes = function (e, t) {
                          var n = (function () {
                              for (
                                var n = g(e),
                                  r = function () {
                                    var e = n.read();
                                    if (-1 == e) throw "eof";
                                    return e;
                                  },
                                  i = 0,
                                  o = {};
                                ;

                              ) {
                                var a = n.read();
                                if (-1 == a) break;
                                var s = r(),
                                  l = (r() << 8) | r();
                                (o[String.fromCharCode((a << 8) | s)] = l), (i += 1);
                              }
                              if (i != t) throw i + " != " + t;
                              return o;
                            })(),
                            r = "?".charCodeAt(0);
                          return function (e) {
                            for (var t = [], i = 0; i < e.length; i += 1) {
                              var o = e.charCodeAt(i);
                              if (o < 128) t.push(o);
                              else {
                                var a = n[e.charAt(i)];
                                "number" == typeof a
                                  ? (255 & a) == a
                                    ? t.push(a)
                                    : (t.push(a >>> 8), t.push(255 & a))
                                  : t.push(r);
                              }
                            }
                            return t;
                          };
                        });
                      var t,
                        n,
                        r,
                        i,
                        o,
                        a = { L: 1, M: 0, Q: 3, H: 2 },
                        s =
                          ((t = [
                            [],
                            [6, 18],
                            [6, 22],
                            [6, 26],
                            [6, 30],
                            [6, 34],
                            [6, 22, 38],
                            [6, 24, 42],
                            [6, 26, 46],
                            [6, 28, 50],
                            [6, 30, 54],
                            [6, 32, 58],
                            [6, 34, 62],
                            [6, 26, 46, 66],
                            [6, 26, 48, 70],
                            [6, 26, 50, 74],
                            [6, 30, 54, 78],
                            [6, 30, 56, 82],
                            [6, 30, 58, 86],
                            [6, 34, 62, 90],
                            [6, 28, 50, 72, 94],
                            [6, 26, 50, 74, 98],
                            [6, 30, 54, 78, 102],
                            [6, 28, 54, 80, 106],
                            [6, 32, 58, 84, 110],
                            [6, 30, 58, 86, 114],
                            [6, 34, 62, 90, 118],
                            [6, 26, 50, 74, 98, 122],
                            [6, 30, 54, 78, 102, 126],
                            [6, 26, 52, 78, 104, 130],
                            [6, 30, 56, 82, 108, 134],
                            [6, 34, 60, 86, 112, 138],
                            [6, 30, 58, 86, 114, 142],
                            [6, 34, 62, 90, 118, 146],
                            [6, 30, 54, 78, 102, 126, 150],
                            [6, 24, 50, 76, 102, 128, 154],
                            [6, 28, 54, 80, 106, 132, 158],
                            [6, 32, 58, 84, 110, 136, 162],
                            [6, 26, 54, 82, 110, 138, 166],
                            [6, 30, 58, 86, 114, 142, 170],
                          ]),
                          (n = 1335),
                          (r = 7973),
                          (o = function (e) {
                            for (var t = 0; 0 != e; ) (t += 1), (e >>>= 1);
                            return t;
                          }),
                          ((i = {}).getBCHTypeInfo = function (e) {
                            for (var t = e << 10; o(t) - o(n) >= 0; ) t ^= n << (o(t) - o(n));
                            return 21522 ^ ((e << 10) | t);
                          }),
                          (i.getBCHTypeNumber = function (e) {
                            for (var t = e << 12; o(t) - o(r) >= 0; ) t ^= r << (o(t) - o(r));
                            return (e << 12) | t;
                          }),
                          (i.getPatternPosition = function (e) {
                            return t[e - 1];
                          }),
                          (i.getMaskFunction = function (e) {
                            switch (e) {
                              case 0:
                                return function (e, t) {
                                  return (e + t) % 2 == 0;
                                };
                              case 1:
                                return function (e, t) {
                                  return e % 2 == 0;
                                };
                              case 2:
                                return function (e, t) {
                                  return t % 3 == 0;
                                };
                              case 3:
                                return function (e, t) {
                                  return (e + t) % 3 == 0;
                                };
                              case 4:
                                return function (e, t) {
                                  return (Math.floor(e / 2) + Math.floor(t / 3)) % 2 == 0;
                                };
                              case 5:
                                return function (e, t) {
                                  return ((e * t) % 2) + ((e * t) % 3) == 0;
                                };
                              case 6:
                                return function (e, t) {
                                  return (((e * t) % 2) + ((e * t) % 3)) % 2 == 0;
                                };
                              case 7:
                                return function (e, t) {
                                  return (((e * t) % 3) + ((e + t) % 2)) % 2 == 0;
                                };
                              default:
                                throw "bad maskPattern:" + e;
                            }
                          }),
                          (i.getErrorCorrectPolynomial = function (e) {
                            for (var t = c([1], 0), n = 0; n < e; n += 1) t = t.multiply(c([1, l.gexp(n)], 0));
                            return t;
                          }),
                          (i.getLengthInBits = function (e, t) {
                            if (1 <= t && t < 10)
                              switch (e) {
                                case 1:
                                  return 10;
                                case 2:
                                  return 9;
                                case 4:
                                case 8:
                                  return 8;
                                default:
                                  throw "mode:" + e;
                              }
                            else if (t < 27)
                              switch (e) {
                                case 1:
                                  return 12;
                                case 2:
                                  return 11;
                                case 4:
                                  return 16;
                                case 8:
                                  return 10;
                                default:
                                  throw "mode:" + e;
                              }
                            else {
                              if (!(t < 41)) throw "type:" + t;
                              switch (e) {
                                case 1:
                                  return 14;
                                case 2:
                                  return 13;
                                case 4:
                                  return 16;
                                case 8:
                                  return 12;
                                default:
                                  throw "mode:" + e;
                              }
                            }
                          }),
                          (i.getLostPoint = function (e) {
                            for (var t = e.getModuleCount(), n = 0, r = 0; r < t; r += 1)
                              for (var i = 0; i < t; i += 1) {
                                for (var o = 0, a = e.isDark(r, i), s = -1; s <= 1; s += 1)
                                  if (!(r + s < 0 || t <= r + s))
                                    for (var l = -1; l <= 1; l += 1)
                                      i + l < 0 ||
                                        t <= i + l ||
                                        (0 == s && 0 == l) ||
                                        (a == e.isDark(r + s, i + l) && (o += 1));
                                o > 5 && (n += 3 + o - 5);
                              }
                            for (r = 0; r < t - 1; r += 1)
                              for (i = 0; i < t - 1; i += 1) {
                                var c = 0;
                                e.isDark(r, i) && (c += 1),
                                  e.isDark(r + 1, i) && (c += 1),
                                  e.isDark(r, i + 1) && (c += 1),
                                  e.isDark(r + 1, i + 1) && (c += 1),
                                  (0 != c && 4 != c) || (n += 3);
                              }
                            for (r = 0; r < t; r += 1)
                              for (i = 0; i < t - 6; i += 1)
                                e.isDark(r, i) &&
                                  !e.isDark(r, i + 1) &&
                                  e.isDark(r, i + 2) &&
                                  e.isDark(r, i + 3) &&
                                  e.isDark(r, i + 4) &&
                                  !e.isDark(r, i + 5) &&
                                  e.isDark(r, i + 6) &&
                                  (n += 40);
                            for (i = 0; i < t; i += 1)
                              for (r = 0; r < t - 6; r += 1)
                                e.isDark(r, i) &&
                                  !e.isDark(r + 1, i) &&
                                  e.isDark(r + 2, i) &&
                                  e.isDark(r + 3, i) &&
                                  e.isDark(r + 4, i) &&
                                  !e.isDark(r + 5, i) &&
                                  e.isDark(r + 6, i) &&
                                  (n += 40);
                            var u = 0;
                            for (i = 0; i < t; i += 1) for (r = 0; r < t; r += 1) e.isDark(r, i) && (u += 1);
                            return n + (Math.abs((100 * u) / t / t - 50) / 5) * 10;
                          }),
                          i),
                        l = (function () {
                          for (var e = new Array(256), t = new Array(256), n = 0; n < 8; n += 1) e[n] = 1 << n;
                          for (n = 8; n < 256; n += 1) e[n] = e[n - 4] ^ e[n - 5] ^ e[n - 6] ^ e[n - 8];
                          for (n = 0; n < 255; n += 1) t[e[n]] = n;
                          return {
                            glog: function (e) {
                              if (e < 1) throw "glog(" + e + ")";
                              return t[e];
                            },
                            gexp: function (t) {
                              for (; t < 0; ) t += 255;
                              for (; t >= 256; ) t -= 255;
                              return e[t];
                            },
                          };
                        })();
                      function c(e, t) {
                        if (void 0 === e.length) throw e.length + "/" + t;
                        var n = (function () {
                            for (var n = 0; n < e.length && 0 == e[n]; ) n += 1;
                            for (var r = new Array(e.length - n + t), i = 0; i < e.length - n; i += 1) r[i] = e[i + n];
                            return r;
                          })(),
                          r = {
                            getAt: function (e) {
                              return n[e];
                            },
                            getLength: function () {
                              return n.length;
                            },
                            multiply: function (e) {
                              for (
                                var t = new Array(r.getLength() + e.getLength() - 1), n = 0;
                                n < r.getLength();
                                n += 1
                              )
                                for (var i = 0; i < e.getLength(); i += 1)
                                  t[n + i] ^= l.gexp(l.glog(r.getAt(n)) + l.glog(e.getAt(i)));
                              return c(t, 0);
                            },
                            mod: function (e) {
                              if (r.getLength() - e.getLength() < 0) return r;
                              for (
                                var t = l.glog(r.getAt(0)) - l.glog(e.getAt(0)), n = new Array(r.getLength()), i = 0;
                                i < r.getLength();
                                i += 1
                              )
                                n[i] = r.getAt(i);
                              for (i = 0; i < e.getLength(); i += 1) n[i] ^= l.gexp(l.glog(e.getAt(i)) + t);
                              return c(n, 0).mod(e);
                            },
                          };
                        return r;
                      }
                      var u = (function () {
                          var e = [
                              [1, 26, 19],
                              [1, 26, 16],
                              [1, 26, 13],
                              [1, 26, 9],
                              [1, 44, 34],
                              [1, 44, 28],
                              [1, 44, 22],
                              [1, 44, 16],
                              [1, 70, 55],
                              [1, 70, 44],
                              [2, 35, 17],
                              [2, 35, 13],
                              [1, 100, 80],
                              [2, 50, 32],
                              [2, 50, 24],
                              [4, 25, 9],
                              [1, 134, 108],
                              [2, 67, 43],
                              [2, 33, 15, 2, 34, 16],
                              [2, 33, 11, 2, 34, 12],
                              [2, 86, 68],
                              [4, 43, 27],
                              [4, 43, 19],
                              [4, 43, 15],
                              [2, 98, 78],
                              [4, 49, 31],
                              [2, 32, 14, 4, 33, 15],
                              [4, 39, 13, 1, 40, 14],
                              [2, 121, 97],
                              [2, 60, 38, 2, 61, 39],
                              [4, 40, 18, 2, 41, 19],
                              [4, 40, 14, 2, 41, 15],
                              [2, 146, 116],
                              [3, 58, 36, 2, 59, 37],
                              [4, 36, 16, 4, 37, 17],
                              [4, 36, 12, 4, 37, 13],
                              [2, 86, 68, 2, 87, 69],
                              [4, 69, 43, 1, 70, 44],
                              [6, 43, 19, 2, 44, 20],
                              [6, 43, 15, 2, 44, 16],
                              [4, 101, 81],
                              [1, 80, 50, 4, 81, 51],
                              [4, 50, 22, 4, 51, 23],
                              [3, 36, 12, 8, 37, 13],
                              [2, 116, 92, 2, 117, 93],
                              [6, 58, 36, 2, 59, 37],
                              [4, 46, 20, 6, 47, 21],
                              [7, 42, 14, 4, 43, 15],
                              [4, 133, 107],
                              [8, 59, 37, 1, 60, 38],
                              [8, 44, 20, 4, 45, 21],
                              [12, 33, 11, 4, 34, 12],
                              [3, 145, 115, 1, 146, 116],
                              [4, 64, 40, 5, 65, 41],
                              [11, 36, 16, 5, 37, 17],
                              [11, 36, 12, 5, 37, 13],
                              [5, 109, 87, 1, 110, 88],
                              [5, 65, 41, 5, 66, 42],
                              [5, 54, 24, 7, 55, 25],
                              [11, 36, 12, 7, 37, 13],
                              [5, 122, 98, 1, 123, 99],
                              [7, 73, 45, 3, 74, 46],
                              [15, 43, 19, 2, 44, 20],
                              [3, 45, 15, 13, 46, 16],
                              [1, 135, 107, 5, 136, 108],
                              [10, 74, 46, 1, 75, 47],
                              [1, 50, 22, 15, 51, 23],
                              [2, 42, 14, 17, 43, 15],
                              [5, 150, 120, 1, 151, 121],
                              [9, 69, 43, 4, 70, 44],
                              [17, 50, 22, 1, 51, 23],
                              [2, 42, 14, 19, 43, 15],
                              [3, 141, 113, 4, 142, 114],
                              [3, 70, 44, 11, 71, 45],
                              [17, 47, 21, 4, 48, 22],
                              [9, 39, 13, 16, 40, 14],
                              [3, 135, 107, 5, 136, 108],
                              [3, 67, 41, 13, 68, 42],
                              [15, 54, 24, 5, 55, 25],
                              [15, 43, 15, 10, 44, 16],
                              [4, 144, 116, 4, 145, 117],
                              [17, 68, 42],
                              [17, 50, 22, 6, 51, 23],
                              [19, 46, 16, 6, 47, 17],
                              [2, 139, 111, 7, 140, 112],
                              [17, 74, 46],
                              [7, 54, 24, 16, 55, 25],
                              [34, 37, 13],
                              [4, 151, 121, 5, 152, 122],
                              [4, 75, 47, 14, 76, 48],
                              [11, 54, 24, 14, 55, 25],
                              [16, 45, 15, 14, 46, 16],
                              [6, 147, 117, 4, 148, 118],
                              [6, 73, 45, 14, 74, 46],
                              [11, 54, 24, 16, 55, 25],
                              [30, 46, 16, 2, 47, 17],
                              [8, 132, 106, 4, 133, 107],
                              [8, 75, 47, 13, 76, 48],
                              [7, 54, 24, 22, 55, 25],
                              [22, 45, 15, 13, 46, 16],
                              [10, 142, 114, 2, 143, 115],
                              [19, 74, 46, 4, 75, 47],
                              [28, 50, 22, 6, 51, 23],
                              [33, 46, 16, 4, 47, 17],
                              [8, 152, 122, 4, 153, 123],
                              [22, 73, 45, 3, 74, 46],
                              [8, 53, 23, 26, 54, 24],
                              [12, 45, 15, 28, 46, 16],
                              [3, 147, 117, 10, 148, 118],
                              [3, 73, 45, 23, 74, 46],
                              [4, 54, 24, 31, 55, 25],
                              [11, 45, 15, 31, 46, 16],
                              [7, 146, 116, 7, 147, 117],
                              [21, 73, 45, 7, 74, 46],
                              [1, 53, 23, 37, 54, 24],
                              [19, 45, 15, 26, 46, 16],
                              [5, 145, 115, 10, 146, 116],
                              [19, 75, 47, 10, 76, 48],
                              [15, 54, 24, 25, 55, 25],
                              [23, 45, 15, 25, 46, 16],
                              [13, 145, 115, 3, 146, 116],
                              [2, 74, 46, 29, 75, 47],
                              [42, 54, 24, 1, 55, 25],
                              [23, 45, 15, 28, 46, 16],
                              [17, 145, 115],
                              [10, 74, 46, 23, 75, 47],
                              [10, 54, 24, 35, 55, 25],
                              [19, 45, 15, 35, 46, 16],
                              [17, 145, 115, 1, 146, 116],
                              [14, 74, 46, 21, 75, 47],
                              [29, 54, 24, 19, 55, 25],
                              [11, 45, 15, 46, 46, 16],
                              [13, 145, 115, 6, 146, 116],
                              [14, 74, 46, 23, 75, 47],
                              [44, 54, 24, 7, 55, 25],
                              [59, 46, 16, 1, 47, 17],
                              [12, 151, 121, 7, 152, 122],
                              [12, 75, 47, 26, 76, 48],
                              [39, 54, 24, 14, 55, 25],
                              [22, 45, 15, 41, 46, 16],
                              [6, 151, 121, 14, 152, 122],
                              [6, 75, 47, 34, 76, 48],
                              [46, 54, 24, 10, 55, 25],
                              [2, 45, 15, 64, 46, 16],
                              [17, 152, 122, 4, 153, 123],
                              [29, 74, 46, 14, 75, 47],
                              [49, 54, 24, 10, 55, 25],
                              [24, 45, 15, 46, 46, 16],
                              [4, 152, 122, 18, 153, 123],
                              [13, 74, 46, 32, 75, 47],
                              [48, 54, 24, 14, 55, 25],
                              [42, 45, 15, 32, 46, 16],
                              [20, 147, 117, 4, 148, 118],
                              [40, 75, 47, 7, 76, 48],
                              [43, 54, 24, 22, 55, 25],
                              [10, 45, 15, 67, 46, 16],
                              [19, 148, 118, 6, 149, 119],
                              [18, 75, 47, 31, 76, 48],
                              [34, 54, 24, 34, 55, 25],
                              [20, 45, 15, 61, 46, 16],
                            ],
                            t = function (e, t) {
                              var n = {};
                              return (n.totalCount = e), (n.dataCount = t), n;
                            },
                            n = {
                              getRSBlocks: function (n, r) {
                                var i = (function (t, n) {
                                  switch (n) {
                                    case a.L:
                                      return e[4 * (t - 1) + 0];
                                    case a.M:
                                      return e[4 * (t - 1) + 1];
                                    case a.Q:
                                      return e[4 * (t - 1) + 2];
                                    case a.H:
                                      return e[4 * (t - 1) + 3];
                                    default:
                                      return;
                                  }
                                })(n, r);
                                if (void 0 === i) throw "bad rs block @ typeNumber:" + n + "/errorCorrectionLevel:" + r;
                                for (var o = i.length / 3, s = [], l = 0; l < o; l += 1)
                                  for (var c = i[3 * l + 0], u = i[3 * l + 1], d = i[3 * l + 2], f = 0; f < c; f += 1)
                                    s.push(t(u, d));
                                return s;
                              },
                            };
                          return n;
                        })(),
                        d = function () {
                          var e = [],
                            t = 0,
                            n = {
                              getBuffer: function () {
                                return e;
                              },
                              getAt: function (t) {
                                var n = Math.floor(t / 8);
                                return 1 == ((e[n] >>> (7 - (t % 8))) & 1);
                              },
                              put: function (e, t) {
                                for (var r = 0; r < t; r += 1) n.putBit(1 == ((e >>> (t - r - 1)) & 1));
                              },
                              getLengthInBits: function () {
                                return t;
                              },
                              putBit: function (n) {
                                var r = Math.floor(t / 8);
                                e.length <= r && e.push(0), n && (e[r] |= 128 >>> t % 8), (t += 1);
                              },
                            };
                          return n;
                        },
                        f = function (e) {
                          var t = e,
                            n = {
                              getMode: function () {
                                return 1;
                              },
                              getLength: function (e) {
                                return t.length;
                              },
                              write: function (e) {
                                for (var n = t, i = 0; i + 2 < n.length; )
                                  e.put(r(n.substring(i, i + 3)), 10), (i += 3);
                                i < n.length &&
                                  (n.length - i == 1
                                    ? e.put(r(n.substring(i, i + 1)), 4)
                                    : n.length - i == 2 && e.put(r(n.substring(i, i + 2)), 7));
                              },
                            },
                            r = function (e) {
                              for (var t = 0, n = 0; n < e.length; n += 1) t = 10 * t + i(e.charAt(n));
                              return t;
                            },
                            i = function (e) {
                              if ("0" <= e && e <= "9") return e.charCodeAt(0) - "0".charCodeAt(0);
                              throw "illegal char :" + e;
                            };
                          return n;
                        },
                        h = function (e) {
                          var t = e,
                            n = {
                              getMode: function () {
                                return 2;
                              },
                              getLength: function (e) {
                                return t.length;
                              },
                              write: function (e) {
                                for (var n = t, i = 0; i + 1 < n.length; )
                                  e.put(45 * r(n.charAt(i)) + r(n.charAt(i + 1)), 11), (i += 2);
                                i < n.length && e.put(r(n.charAt(i)), 6);
                              },
                            },
                            r = function (e) {
                              if ("0" <= e && e <= "9") return e.charCodeAt(0) - "0".charCodeAt(0);
                              if ("A" <= e && e <= "Z") return e.charCodeAt(0) - "A".charCodeAt(0) + 10;
                              switch (e) {
                                case " ":
                                  return 36;
                                case "$":
                                  return 37;
                                case "%":
                                  return 38;
                                case "*":
                                  return 39;
                                case "+":
                                  return 40;
                                case "-":
                                  return 41;
                                case ".":
                                  return 42;
                                case "/":
                                  return 43;
                                case ":":
                                  return 44;
                                default:
                                  throw "illegal char :" + e;
                              }
                            };
                          return n;
                        },
                        p = function (t) {
                          var n = e.stringToBytes(t);
                          return {
                            getMode: function () {
                              return 4;
                            },
                            getLength: function (e) {
                              return n.length;
                            },
                            write: function (e) {
                              for (var t = 0; t < n.length; t += 1) e.put(n[t], 8);
                            },
                          };
                        },
                        m = function (t) {
                          var n = e.stringToBytesFuncs.SJIS;
                          if (!n) throw "sjis not supported.";
                          !(function (e, t) {
                            var r = n("友");
                            if (2 != r.length || 38726 != ((r[0] << 8) | r[1])) throw "sjis not supported.";
                          })();
                          var r = n(t);
                          return {
                            getMode: function () {
                              return 8;
                            },
                            getLength: function (e) {
                              return ~~(r.length / 2);
                            },
                            write: function (e) {
                              for (var t = r, n = 0; n + 1 < t.length; ) {
                                var i = ((255 & t[n]) << 8) | (255 & t[n + 1]);
                                if (33088 <= i && i <= 40956) i -= 33088;
                                else {
                                  if (!(57408 <= i && i <= 60351)) throw "illegal char at " + (n + 1) + "/" + i;
                                  i -= 49472;
                                }
                                (i = 192 * ((i >>> 8) & 255) + (255 & i)), e.put(i, 13), (n += 2);
                              }
                              if (n < t.length) throw "illegal char at " + (n + 1);
                            },
                          };
                        },
                        y = function () {
                          var e = [],
                            t = {
                              writeByte: function (t) {
                                e.push(255 & t);
                              },
                              writeShort: function (e) {
                                t.writeByte(e), t.writeByte(e >>> 8);
                              },
                              writeBytes: function (e, n, r) {
                                (n = n || 0), (r = r || e.length);
                                for (var i = 0; i < r; i += 1) t.writeByte(e[i + n]);
                              },
                              writeString: function (e) {
                                for (var n = 0; n < e.length; n += 1) t.writeByte(e.charCodeAt(n));
                              },
                              toByteArray: function () {
                                return e;
                              },
                              toString: function () {
                                var t = "";
                                t += "[";
                                for (var n = 0; n < e.length; n += 1) n > 0 && (t += ","), (t += e[n]);
                                return t + "]";
                              },
                            };
                          return t;
                        },
                        g = function (e) {
                          var t = e,
                            n = 0,
                            r = 0,
                            i = 0,
                            o = {
                              read: function () {
                                for (; i < 8; ) {
                                  if (n >= t.length) {
                                    if (0 == i) return -1;
                                    throw "unexpected end of file./" + i;
                                  }
                                  var e = t.charAt(n);
                                  if (((n += 1), "=" == e)) return (i = 0), -1;
                                  e.match(/^\s$/) || ((r = (r << 6) | a(e.charCodeAt(0))), (i += 6));
                                }
                                var o = (r >>> (i - 8)) & 255;
                                return (i -= 8), o;
                              },
                            },
                            a = function (e) {
                              if (65 <= e && e <= 90) return e - 65;
                              if (97 <= e && e <= 122) return e - 97 + 26;
                              if (48 <= e && e <= 57) return e - 48 + 52;
                              if (43 == e) return 62;
                              if (47 == e) return 63;
                              throw "c:" + e;
                            };
                          return o;
                        },
                        v = function (e, t, n) {
                          for (
                            var r = (function (e, t) {
                                var n = e,
                                  r = t,
                                  i = new Array(e * t),
                                  o = {
                                    setPixel: function (e, t, r) {
                                      i[t * n + e] = r;
                                    },
                                    write: function (e) {
                                      e.writeString("GIF87a"),
                                        e.writeShort(n),
                                        e.writeShort(r),
                                        e.writeByte(128),
                                        e.writeByte(0),
                                        e.writeByte(0),
                                        e.writeByte(0),
                                        e.writeByte(0),
                                        e.writeByte(0),
                                        e.writeByte(255),
                                        e.writeByte(255),
                                        e.writeByte(255),
                                        e.writeString(","),
                                        e.writeShort(0),
                                        e.writeShort(0),
                                        e.writeShort(n),
                                        e.writeShort(r),
                                        e.writeByte(0);
                                      var t = a(2);
                                      e.writeByte(2);
                                      for (var i = 0; t.length - i > 255; )
                                        e.writeByte(255), e.writeBytes(t, i, 255), (i += 255);
                                      e.writeByte(t.length - i),
                                        e.writeBytes(t, i, t.length - i),
                                        e.writeByte(0),
                                        e.writeString(";");
                                    },
                                  },
                                  a = function (e) {
                                    for (var t = 1 << e, n = 1 + (1 << e), r = e + 1, o = s(), a = 0; a < t; a += 1)
                                      o.add(String.fromCharCode(a));
                                    o.add(String.fromCharCode(t)), o.add(String.fromCharCode(n));
                                    var l,
                                      c,
                                      u,
                                      d = y(),
                                      f =
                                        ((l = d),
                                        (c = 0),
                                        (u = 0),
                                        {
                                          write: function (e, t) {
                                            if (e >>> t != 0) throw "length over";
                                            for (; c + t >= 8; )
                                              l.writeByte(255 & ((e << c) | u)),
                                                (t -= 8 - c),
                                                (e >>>= 8 - c),
                                                (u = 0),
                                                (c = 0);
                                            (u |= e << c), (c += t);
                                          },
                                          flush: function () {
                                            c > 0 && l.writeByte(u);
                                          },
                                        });
                                    f.write(t, r);
                                    var h = 0,
                                      p = String.fromCharCode(i[h]);
                                    for (h += 1; h < i.length; ) {
                                      var m = String.fromCharCode(i[h]);
                                      (h += 1),
                                        o.contains(p + m)
                                          ? (p += m)
                                          : (f.write(o.indexOf(p), r),
                                            o.size() < 4095 && (o.size() == 1 << r && (r += 1), o.add(p + m)),
                                            (p = m));
                                    }
                                    return f.write(o.indexOf(p), r), f.write(n, r), f.flush(), d.toByteArray();
                                  },
                                  s = function () {
                                    var e = {},
                                      t = 0,
                                      n = {
                                        add: function (r) {
                                          if (n.contains(r)) throw "dup key:" + r;
                                          (e[r] = t), (t += 1);
                                        },
                                        size: function () {
                                          return t;
                                        },
                                        indexOf: function (t) {
                                          return e[t];
                                        },
                                        contains: function (t) {
                                          return void 0 !== e[t];
                                        },
                                      };
                                    return n;
                                  };
                                return o;
                              })(e, t),
                              i = 0;
                            i < t;
                            i += 1
                          )
                            for (var o = 0; o < e; o += 1) r.setPixel(o, i, n(o, i));
                          var a = y();
                          r.write(a);
                          for (
                            var s = (function () {
                                var e = 0,
                                  t = 0,
                                  n = 0,
                                  r = "",
                                  i = {},
                                  o = function (e) {
                                    r += String.fromCharCode(a(63 & e));
                                  },
                                  a = function (e) {
                                    if (e < 0);
                                    else {
                                      if (e < 26) return 65 + e;
                                      if (e < 52) return e - 26 + 97;
                                      if (e < 62) return e - 52 + 48;
                                      if (62 == e) return 43;
                                      if (63 == e) return 47;
                                    }
                                    throw "n:" + e;
                                  };
                                return (
                                  (i.writeByte = function (r) {
                                    for (e = (e << 8) | (255 & r), t += 8, n += 1; t >= 6; ) o(e >>> (t - 6)), (t -= 6);
                                  }),
                                  (i.flush = function () {
                                    if ((t > 0 && (o(e << (6 - t)), (e = 0), (t = 0)), n % 3 != 0))
                                      for (var i = 3 - (n % 3), a = 0; a < i; a += 1) r += "=";
                                  }),
                                  (i.toString = function () {
                                    return r;
                                  }),
                                  i
                                );
                              })(),
                              l = a.toByteArray(),
                              c = 0;
                            c < l.length;
                            c += 1
                          )
                            s.writeByte(l[c]);
                          return s.flush(), "data:image/gif;base64," + s;
                        };
                      return e;
                    })();
                  (i.stringToBytesFuncs["UTF-8"] = function (e) {
                    return (function (e) {
                      for (var t = [], n = 0; n < e.length; n++) {
                        var r = e.charCodeAt(n);
                        r < 128
                          ? t.push(r)
                          : r < 2048
                          ? t.push(192 | (r >> 6), 128 | (63 & r))
                          : r < 55296 || r >= 57344
                          ? t.push(224 | (r >> 12), 128 | ((r >> 6) & 63), 128 | (63 & r))
                          : (n++,
                            (r = 65536 + (((1023 & r) << 10) | (1023 & e.charCodeAt(n)))),
                            t.push(240 | (r >> 18), 128 | ((r >> 12) & 63), 128 | ((r >> 6) & 63), 128 | (63 & r)));
                      }
                      return t;
                    })(e);
                  }),
                    void 0 ===
                      (r =
                        "function" ==
                        typeof (n = function () {
                          return i;
                        })
                          ? n.apply(t, [])
                          : n) || (e.exports = r);
                },
                676: (e, t, n) => {
                  "use strict";
                  n.d(t, { default: () => M });
                  var r = function () {
                      return (r =
                        Object.assign ||
                        function (e) {
                          for (var t, n = 1, r = arguments.length; n < r; n++)
                            for (var i in (t = arguments[n]))
                              Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                          return e;
                        }).apply(this, arguments);
                    },
                    i = function (e) {
                      return !!e && "object" == typeof e && !Array.isArray(e);
                    };
                  function o(e) {
                    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                    if (!t.length) return e;
                    var a = t.shift();
                    return void 0 !== a && i(e) && i(a)
                      ? ((e = r({}, e)),
                        Object.keys(a).forEach(function (t) {
                          var n = e[t],
                            r = a[t];
                          Array.isArray(n) && Array.isArray(r)
                            ? (e[t] = r)
                            : i(n) && i(r)
                            ? (e[t] = o(Object.assign({}, n), r))
                            : (e[t] = r);
                        }),
                        o.apply(
                          void 0,
                          (function () {
                            for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
                            var r = Array(e),
                              i = 0;
                            for (t = 0; t < n; t++)
                              for (var o = arguments[t], a = 0, s = o.length; a < s; a++, i++) r[i] = o[a];
                            return r;
                          })([e], t)
                        ))
                      : e;
                  }
                  function a(e, t) {
                    var n = document.createElement("a");
                    (n.download = t),
                      (n.href = e),
                      document.body.appendChild(n),
                      n.click(),
                      document.body.removeChild(n);
                  }
                  function s(e) {
                    return (
                      (t = this),
                      void 0,
                      (r = function () {
                        return (function (e, t) {
                          var n,
                            r,
                            i,
                            o,
                            a = {
                              label: 0,
                              sent: function () {
                                if (1 & i[0]) throw i[1];
                                return i[1];
                              },
                              trys: [],
                              ops: [],
                            };
                          return (
                            (o = { next: s(0), throw: s(1), return: s(2) }),
                            "function" == typeof Symbol &&
                              (o[Symbol.iterator] = function () {
                                return this;
                              }),
                            o
                          );
                          function s(o) {
                            return function (s) {
                              return (function (o) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; a; )
                                  try {
                                    if (
                                      ((n = 1),
                                      r &&
                                        (i =
                                          2 & o[0]
                                            ? r.return
                                            : o[0]
                                            ? r.throw || ((i = r.return) && i.call(r), 0)
                                            : r.next) &&
                                        !(i = i.call(r, o[1])).done)
                                    )
                                      return i;
                                    switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                                      case 0:
                                      case 1:
                                        i = o;
                                        break;
                                      case 4:
                                        return a.label++, { value: o[1], done: !1 };
                                      case 5:
                                        a.label++, (r = o[1]), (o = [0]);
                                        continue;
                                      case 7:
                                        (o = a.ops.pop()), a.trys.pop();
                                        continue;
                                      default:
                                        if (
                                          !(
                                            (i = (i = a.trys).length > 0 && i[i.length - 1]) ||
                                            (6 !== o[0] && 2 !== o[0])
                                          )
                                        ) {
                                          a = 0;
                                          continue;
                                        }
                                        if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                          a.label = o[1];
                                          break;
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                          (a.label = i[1]), (i = o);
                                          break;
                                        }
                                        if (i && a.label < i[2]) {
                                          (a.label = i[2]), a.ops.push(o);
                                          break;
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue;
                                    }
                                    o = t.call(e, a);
                                  } catch (e) {
                                    (o = [6, e]), (r = 0);
                                  } finally {
                                    n = i = 0;
                                  }
                                if (5 & o[0]) throw o[1];
                                return { value: o[0] ? o[1] : void 0, done: !0 };
                              })([o, s]);
                            };
                          }
                        })(this, function (t) {
                          return [
                            2,
                            new Promise(function (t) {
                              var n = new XMLHttpRequest();
                              (n.onload = function () {
                                var e = new FileReader();
                                (e.onloadend = function () {
                                  t(e.result);
                                }),
                                  e.readAsDataURL(n.response);
                              }),
                                n.open("GET", e),
                                (n.responseType = "blob"),
                                n.send();
                            }),
                          ];
                        });
                      }),
                      new ((n = void 0) || (n = Promise))(function (e, i) {
                        function o(e) {
                          try {
                            s(r.next(e));
                          } catch (e) {
                            i(e);
                          }
                        }
                        function a(e) {
                          try {
                            s(r.throw(e));
                          } catch (e) {
                            i(e);
                          }
                        }
                        function s(t) {
                          var r;
                          t.done
                            ? e(t.value)
                            : ((r = t.value),
                              r instanceof n
                                ? r
                                : new n(function (e) {
                                    e(r);
                                  })).then(o, a);
                        }
                        s((r = r.apply(t, [])).next());
                      })
                    );
                    var t, n, r;
                  }
                  const l = { L: 0.07, M: 0.15, Q: 0.25, H: 0.3 };
                  var c = function () {
                    return (c =
                      Object.assign ||
                      function (e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                          for (var i in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                        return e;
                      }).apply(this, arguments);
                  };
                  const u = (function () {
                    function e(e) {
                      var t = e.svg,
                        n = e.type;
                      (this._svg = t), (this._type = n);
                    }
                    return (
                      (e.prototype.draw = function (e, t, n, r) {
                        var i;
                        switch (this._type) {
                          case "dots":
                            i = this._drawDot;
                            break;
                          case "classy":
                            i = this._drawClassy;
                            break;
                          case "classy-rounded":
                            i = this._drawClassyRounded;
                            break;
                          case "rounded":
                            i = this._drawRounded;
                            break;
                          case "extra-rounded":
                            i = this._drawExtraRounded;
                            break;
                          default:
                            i = this._drawSquare;
                        }
                        i.call(this, { x: e, y: t, size: n, getNeighbor: r });
                      }),
                      (e.prototype._rotateFigure = function (e) {
                        var t,
                          n = e.x,
                          r = e.y,
                          i = e.size,
                          o = e.rotation,
                          a = void 0 === o ? 0 : o,
                          s = n + i / 2,
                          l = r + i / 2;
                        (0, e.draw)(),
                          null === (t = this._element) ||
                            void 0 === t ||
                            t.setAttribute("transform", "rotate(" + (180 * a) / Math.PI + "," + s + "," + l + ")");
                      }),
                      (e.prototype._basicDot = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y;
                        this._rotateFigure(
                          c(c({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "circle")),
                                t._element.setAttribute("cx", String(r + n / 2)),
                                t._element.setAttribute("cy", String(i + n / 2)),
                                t._element.setAttribute("r", String(n / 2));
                            },
                          })
                        );
                      }),
                      (e.prototype._basicSquare = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y;
                        this._rotateFigure(
                          c(c({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "rect")),
                                t._element.setAttribute("x", String(r)),
                                t._element.setAttribute("y", String(i)),
                                t._element.setAttribute("width", String(n)),
                                t._element.setAttribute("height", String(n));
                            },
                          })
                        );
                      }),
                      (e.prototype._basicSideRounded = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y;
                        this._rotateFigure(
                          c(c({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    r +
                                    " " +
                                    i +
                                    "v " +
                                    n +
                                    "h " +
                                    n / 2 +
                                    "a " +
                                    n / 2 +
                                    " " +
                                    n / 2 +
                                    ", 0, 0, 0, 0 " +
                                    -n
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._basicCornerRounded = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y;
                        this._rotateFigure(
                          c(c({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    r +
                                    " " +
                                    i +
                                    "v " +
                                    n +
                                    "h " +
                                    n +
                                    "v " +
                                    -n / 2 +
                                    "a " +
                                    n / 2 +
                                    " " +
                                    n / 2 +
                                    ", 0, 0, 0, " +
                                    -n / 2 +
                                    " " +
                                    -n / 2
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._basicCornerExtraRounded = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y;
                        this._rotateFigure(
                          c(c({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    r +
                                    " " +
                                    i +
                                    "v " +
                                    n +
                                    "h " +
                                    n +
                                    "a " +
                                    n +
                                    " " +
                                    n +
                                    ", 0, 0, 0, " +
                                    -n +
                                    " " +
                                    -n
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._basicCornersRounded = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y;
                        this._rotateFigure(
                          c(c({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    r +
                                    " " +
                                    i +
                                    "v " +
                                    n / 2 +
                                    "a " +
                                    n / 2 +
                                    " " +
                                    n / 2 +
                                    ", 0, 0, 0, " +
                                    n / 2 +
                                    " " +
                                    n / 2 +
                                    "h " +
                                    n / 2 +
                                    "v " +
                                    -n / 2 +
                                    "a " +
                                    n / 2 +
                                    " " +
                                    n / 2 +
                                    ", 0, 0, 0, " +
                                    -n / 2 +
                                    " " +
                                    -n / 2
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._drawDot = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size;
                        this._basicDot({ x: t, y: n, size: r, rotation: 0 });
                      }),
                      (e.prototype._drawSquare = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size;
                        this._basicSquare({ x: t, y: n, size: r, rotation: 0 });
                      }),
                      (e.prototype._drawRounded = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.getNeighbor,
                          o = i ? +i(-1, 0) : 0,
                          a = i ? +i(1, 0) : 0,
                          s = i ? +i(0, -1) : 0,
                          l = i ? +i(0, 1) : 0,
                          c = o + a + s + l;
                        if (0 !== c)
                          if (c > 2 || (o && a) || (s && l)) this._basicSquare({ x: t, y: n, size: r, rotation: 0 });
                          else {
                            if (2 === c) {
                              var u = 0;
                              return (
                                o && s ? (u = Math.PI / 2) : s && a ? (u = Math.PI) : a && l && (u = -Math.PI / 2),
                                void this._basicCornerRounded({ x: t, y: n, size: r, rotation: u })
                              );
                            }
                            if (1 === c)
                              return (
                                (u = 0),
                                s ? (u = Math.PI / 2) : a ? (u = Math.PI) : l && (u = -Math.PI / 2),
                                void this._basicSideRounded({ x: t, y: n, size: r, rotation: u })
                              );
                          }
                        else this._basicDot({ x: t, y: n, size: r, rotation: 0 });
                      }),
                      (e.prototype._drawExtraRounded = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.getNeighbor,
                          o = i ? +i(-1, 0) : 0,
                          a = i ? +i(1, 0) : 0,
                          s = i ? +i(0, -1) : 0,
                          l = i ? +i(0, 1) : 0,
                          c = o + a + s + l;
                        if (0 !== c)
                          if (c > 2 || (o && a) || (s && l)) this._basicSquare({ x: t, y: n, size: r, rotation: 0 });
                          else {
                            if (2 === c) {
                              var u = 0;
                              return (
                                o && s ? (u = Math.PI / 2) : s && a ? (u = Math.PI) : a && l && (u = -Math.PI / 2),
                                void this._basicCornerExtraRounded({ x: t, y: n, size: r, rotation: u })
                              );
                            }
                            if (1 === c)
                              return (
                                (u = 0),
                                s ? (u = Math.PI / 2) : a ? (u = Math.PI) : l && (u = -Math.PI / 2),
                                void this._basicSideRounded({ x: t, y: n, size: r, rotation: u })
                              );
                          }
                        else this._basicDot({ x: t, y: n, size: r, rotation: 0 });
                      }),
                      (e.prototype._drawClassy = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.getNeighbor,
                          o = i ? +i(-1, 0) : 0,
                          a = i ? +i(1, 0) : 0,
                          s = i ? +i(0, -1) : 0,
                          l = i ? +i(0, 1) : 0;
                        0 !== o + a + s + l
                          ? o || s
                            ? a || l
                              ? this._basicSquare({ x: t, y: n, size: r, rotation: 0 })
                              : this._basicCornerRounded({ x: t, y: n, size: r, rotation: Math.PI / 2 })
                            : this._basicCornerRounded({ x: t, y: n, size: r, rotation: -Math.PI / 2 })
                          : this._basicCornersRounded({ x: t, y: n, size: r, rotation: Math.PI / 2 });
                      }),
                      (e.prototype._drawClassyRounded = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.getNeighbor,
                          o = i ? +i(-1, 0) : 0,
                          a = i ? +i(1, 0) : 0,
                          s = i ? +i(0, -1) : 0,
                          l = i ? +i(0, 1) : 0;
                        0 !== o + a + s + l
                          ? o || s
                            ? a || l
                              ? this._basicSquare({ x: t, y: n, size: r, rotation: 0 })
                              : this._basicCornerExtraRounded({ x: t, y: n, size: r, rotation: Math.PI / 2 })
                            : this._basicCornerExtraRounded({ x: t, y: n, size: r, rotation: -Math.PI / 2 })
                          : this._basicCornersRounded({ x: t, y: n, size: r, rotation: Math.PI / 2 });
                      }),
                      e
                    );
                  })();
                  var d = function () {
                    return (d =
                      Object.assign ||
                      function (e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                          for (var i in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                        return e;
                      }).apply(this, arguments);
                  };
                  const f = (function () {
                    function e(e) {
                      var t = e.svg,
                        n = e.type;
                      (this._svg = t), (this._type = n);
                    }
                    return (
                      (e.prototype.draw = function (e, t, n, r) {
                        var i;
                        switch (this._type) {
                          case "square":
                            i = this._drawSquare;
                            break;
                          case "extra-rounded":
                            i = this._drawExtraRounded;
                            break;
                          default:
                            i = this._drawDot;
                        }
                        i.call(this, { x: e, y: t, size: n, rotation: r });
                      }),
                      (e.prototype._rotateFigure = function (e) {
                        var t,
                          n = e.x,
                          r = e.y,
                          i = e.size,
                          o = e.rotation,
                          a = void 0 === o ? 0 : o,
                          s = n + i / 2,
                          l = r + i / 2;
                        (0, e.draw)(),
                          null === (t = this._element) ||
                            void 0 === t ||
                            t.setAttribute("transform", "rotate(" + (180 * a) / Math.PI + "," + s + "," + l + ")");
                      }),
                      (e.prototype._basicDot = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y,
                          o = n / 7;
                        this._rotateFigure(
                          d(d({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute("clip-rule", "evenodd"),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    (r + n / 2) +
                                    " " +
                                    i +
                                    "a " +
                                    n / 2 +
                                    " " +
                                    n / 2 +
                                    " 0 1 0 0.1 0zm 0 " +
                                    o +
                                    "a " +
                                    (n / 2 - o) +
                                    " " +
                                    (n / 2 - o) +
                                    " 0 1 1 -0.1 0Z"
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._basicSquare = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y,
                          o = n / 7;
                        this._rotateFigure(
                          d(d({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute("clip-rule", "evenodd"),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    r +
                                    " " +
                                    i +
                                    "v " +
                                    n +
                                    "h " +
                                    n +
                                    "v " +
                                    -n +
                                    "zM " +
                                    (r + o) +
                                    " " +
                                    (i + o) +
                                    "h " +
                                    (n - 2 * o) +
                                    "v " +
                                    (n - 2 * o) +
                                    "h " +
                                    (2 * o - n) +
                                    "z"
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._basicExtraRounded = function (e) {
                        var t = this,
                          n = e.size,
                          r = e.x,
                          i = e.y,
                          o = n / 7;
                        this._rotateFigure(
                          d(d({}, e), {
                            draw: function () {
                              (t._element = document.createElementNS("http://www.w3.org/2000/svg", "path")),
                                t._element.setAttribute("clip-rule", "evenodd"),
                                t._element.setAttribute(
                                  "d",
                                  "M " +
                                    r +
                                    " " +
                                    (i + 2.5 * o) +
                                    "v " +
                                    2 * o +
                                    "a " +
                                    2.5 * o +
                                    " " +
                                    2.5 * o +
                                    ", 0, 0, 0, " +
                                    2.5 * o +
                                    " " +
                                    2.5 * o +
                                    "h " +
                                    2 * o +
                                    "a " +
                                    2.5 * o +
                                    " " +
                                    2.5 * o +
                                    ", 0, 0, 0, " +
                                    2.5 * o +
                                    " " +
                                    2.5 * -o +
                                    "v " +
                                    -2 * o +
                                    "a " +
                                    2.5 * o +
                                    " " +
                                    2.5 * o +
                                    ", 0, 0, 0, " +
                                    2.5 * -o +
                                    " " +
                                    2.5 * -o +
                                    "h " +
                                    -2 * o +
                                    "a " +
                                    2.5 * o +
                                    " " +
                                    2.5 * o +
                                    ", 0, 0, 0, " +
                                    2.5 * -o +
                                    " " +
                                    2.5 * o +
                                    "M " +
                                    (r + 2.5 * o) +
                                    " " +
                                    (i + o) +
                                    "h " +
                                    2 * o +
                                    "a " +
                                    1.5 * o +
                                    " " +
                                    1.5 * o +
                                    ", 0, 0, 1, " +
                                    1.5 * o +
                                    " " +
                                    1.5 * o +
                                    "v " +
                                    2 * o +
                                    "a " +
                                    1.5 * o +
                                    " " +
                                    1.5 * o +
                                    ", 0, 0, 1, " +
                                    1.5 * -o +
                                    " " +
                                    1.5 * o +
                                    "h " +
                                    -2 * o +
                                    "a " +
                                    1.5 * o +
                                    " " +
                                    1.5 * o +
                                    ", 0, 0, 1, " +
                                    1.5 * -o +
                                    " " +
                                    1.5 * -o +
                                    "v " +
                                    -2 * o +
                                    "a " +
                                    1.5 * o +
                                    " " +
                                    1.5 * o +
                                    ", 0, 0, 1, " +
                                    1.5 * o +
                                    " " +
                                    1.5 * -o
                                );
                            },
                          })
                        );
                      }),
                      (e.prototype._drawDot = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.rotation;
                        this._basicDot({ x: t, y: n, size: r, rotation: i });
                      }),
                      (e.prototype._drawSquare = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.rotation;
                        this._basicSquare({ x: t, y: n, size: r, rotation: i });
                      }),
                      (e.prototype._drawExtraRounded = function (e) {
                        var t = e.x,
                          n = e.y,
                          r = e.size,
                          i = e.rotation;
                        this._basicExtraRounded({ x: t, y: n, size: r, rotation: i });
                      }),
                      e
                    );
                  })();
                  var h = function () {
                    return (h =
                      Object.assign ||
                      function (e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                          for (var i in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                        return e;
                      }).apply(this, arguments);
                  };
                  const p = (function () {
                      function e(e) {
                        var t = e.svg,
                          n = e.type;
                        (this._svg = t), (this._type = n);
                      }
                      return (
                        (e.prototype.draw = function (e, t, n, r) {
                          ("square" === this._type ? this._drawSquare : this._drawDot).call(this, {
                            x: e,
                            y: t,
                            size: n,
                            rotation: r,
                          });
                        }),
                        (e.prototype._rotateFigure = function (e) {
                          var t,
                            n = e.x,
                            r = e.y,
                            i = e.size,
                            o = e.rotation,
                            a = void 0 === o ? 0 : o,
                            s = n + i / 2,
                            l = r + i / 2;
                          (0, e.draw)(),
                            null === (t = this._element) ||
                              void 0 === t ||
                              t.setAttribute("transform", "rotate(" + (180 * a) / Math.PI + "," + s + "," + l + ")");
                        }),
                        (e.prototype._basicDot = function (e) {
                          var t = this,
                            n = e.size,
                            r = e.x,
                            i = e.y;
                          this._rotateFigure(
                            h(h({}, e), {
                              draw: function () {
                                (t._element = document.createElementNS("http://www.w3.org/2000/svg", "circle")),
                                  t._element.setAttribute("cx", String(r + n / 2)),
                                  t._element.setAttribute("cy", String(i + n / 2)),
                                  t._element.setAttribute("r", String(n / 2));
                              },
                            })
                          );
                        }),
                        (e.prototype._basicSquare = function (e) {
                          var t = this,
                            n = e.size,
                            r = e.x,
                            i = e.y;
                          this._rotateFigure(
                            h(h({}, e), {
                              draw: function () {
                                (t._element = document.createElementNS("http://www.w3.org/2000/svg", "rect")),
                                  t._element.setAttribute("x", String(r)),
                                  t._element.setAttribute("y", String(i)),
                                  t._element.setAttribute("width", String(n)),
                                  t._element.setAttribute("height", String(n));
                              },
                            })
                          );
                        }),
                        (e.prototype._drawDot = function (e) {
                          var t = e.x,
                            n = e.y,
                            r = e.size,
                            i = e.rotation;
                          this._basicDot({ x: t, y: n, size: r, rotation: i });
                        }),
                        (e.prototype._drawSquare = function (e) {
                          var t = e.x,
                            n = e.y,
                            r = e.size,
                            i = e.rotation;
                          this._basicSquare({ x: t, y: n, size: r, rotation: i });
                        }),
                        e
                      );
                    })(),
                    m = "circle";
                  var y = function (e, t, n, r) {
                      return new (n || (n = Promise))(function (i, o) {
                        function a(e) {
                          try {
                            l(r.next(e));
                          } catch (e) {
                            o(e);
                          }
                        }
                        function s(e) {
                          try {
                            l(r.throw(e));
                          } catch (e) {
                            o(e);
                          }
                        }
                        function l(e) {
                          var t;
                          e.done
                            ? i(e.value)
                            : ((t = e.value),
                              t instanceof n
                                ? t
                                : new n(function (e) {
                                    e(t);
                                  })).then(a, s);
                        }
                        l((r = r.apply(e, t || [])).next());
                      });
                    },
                    g = function (e, t) {
                      var n,
                        r,
                        i,
                        o,
                        a = {
                          label: 0,
                          sent: function () {
                            if (1 & i[0]) throw i[1];
                            return i[1];
                          },
                          trys: [],
                          ops: [],
                        };
                      return (
                        (o = { next: s(0), throw: s(1), return: s(2) }),
                        "function" == typeof Symbol &&
                          (o[Symbol.iterator] = function () {
                            return this;
                          }),
                        o
                      );
                      function s(o) {
                        return function (s) {
                          return (function (o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a; )
                              try {
                                if (
                                  ((n = 1),
                                  r &&
                                    (i =
                                      2 & o[0]
                                        ? r.return
                                        : o[0]
                                        ? r.throw || ((i = r.return) && i.call(r), 0)
                                        : r.next) &&
                                    !(i = i.call(r, o[1])).done)
                                )
                                  return i;
                                switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                                  case 0:
                                  case 1:
                                    i = o;
                                    break;
                                  case 4:
                                    return a.label++, { value: o[1], done: !1 };
                                  case 5:
                                    a.label++, (r = o[1]), (o = [0]);
                                    continue;
                                  case 7:
                                    (o = a.ops.pop()), a.trys.pop();
                                    continue;
                                  default:
                                    if (
                                      !((i = (i = a.trys).length > 0 && i[i.length - 1]) || (6 !== o[0] && 2 !== o[0]))
                                    ) {
                                      a = 0;
                                      continue;
                                    }
                                    if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                      a.label = o[1];
                                      break;
                                    }
                                    if (6 === o[0] && a.label < i[1]) {
                                      (a.label = i[1]), (i = o);
                                      break;
                                    }
                                    if (i && a.label < i[2]) {
                                      (a.label = i[2]), a.ops.push(o);
                                      break;
                                    }
                                    i[2] && a.ops.pop(), a.trys.pop();
                                    continue;
                                }
                                o = t.call(e, a);
                              } catch (e) {
                                (o = [6, e]), (r = 0);
                              } finally {
                                n = i = 0;
                              }
                            if (5 & o[0]) throw o[1];
                            return { value: o[0] ? o[1] : void 0, done: !0 };
                          })([o, s]);
                        };
                      }
                    },
                    v = [
                      [1, 1, 1, 1, 1, 1, 1],
                      [1, 0, 0, 0, 0, 0, 1],
                      [1, 0, 0, 0, 0, 0, 1],
                      [1, 0, 0, 0, 0, 0, 1],
                      [1, 0, 0, 0, 0, 0, 1],
                      [1, 0, 0, 0, 0, 0, 1],
                      [1, 1, 1, 1, 1, 1, 1],
                    ],
                    w = [
                      [0, 0, 0, 0, 0, 0, 0],
                      [0, 0, 0, 0, 0, 0, 0],
                      [0, 0, 1, 1, 1, 0, 0],
                      [0, 0, 1, 1, 1, 0, 0],
                      [0, 0, 1, 1, 1, 0, 0],
                      [0, 0, 0, 0, 0, 0, 0],
                      [0, 0, 0, 0, 0, 0, 0],
                    ];
                  const b = (function () {
                      function e(e) {
                        (this._element = document.createElementNS("http://www.w3.org/2000/svg", "svg")),
                          this._element.setAttribute("width", String(e.width)),
                          this._element.setAttribute("height", String(e.height)),
                          (this._defs = document.createElementNS("http://www.w3.org/2000/svg", "defs")),
                          this._element.appendChild(this._defs),
                          (this._options = e);
                      }
                      return (
                        Object.defineProperty(e.prototype, "width", {
                          get: function () {
                            return this._options.width;
                          },
                          enumerable: !1,
                          configurable: !0,
                        }),
                        Object.defineProperty(e.prototype, "height", {
                          get: function () {
                            return this._options.height;
                          },
                          enumerable: !1,
                          configurable: !0,
                        }),
                        (e.prototype.getElement = function () {
                          return this._element;
                        }),
                        (e.prototype.drawQR = function (e) {
                          return y(this, void 0, void 0, function () {
                            var t,
                              n,
                              r,
                              i,
                              o,
                              a,
                              s,
                              c,
                              u,
                              d,
                              f = this;
                            return g(this, function (h) {
                              switch (h.label) {
                                case 0:
                                  return (
                                    (t = e.getModuleCount()),
                                    (n =
                                      Math.min(this._options.width, this._options.height) - 2 * this._options.margin),
                                    (r = this._options.shape === m ? n / Math.sqrt(2) : n),
                                    (i = Math.floor(r / t)),
                                    (o = { hideXDots: 0, hideYDots: 0, width: 0, height: 0 }),
                                    (this._qr = e),
                                    this._options.image ? [4, this.loadImage()] : [3, 2]
                                  );
                                case 1:
                                  if ((h.sent(), !this._image)) return [2];
                                  (a = this._options),
                                    (s = a.imageOptions),
                                    (c = a.qrOptions),
                                    (u = s.imageSize * l[c.errorCorrectionLevel]),
                                    (d = Math.floor(u * t * t)),
                                    (o = (function (e) {
                                      var t = e.originalHeight,
                                        n = e.originalWidth,
                                        r = e.maxHiddenDots,
                                        i = e.maxHiddenAxisDots,
                                        o = e.dotSize,
                                        a = { x: 0, y: 0 },
                                        s = { x: 0, y: 0 };
                                      if (t <= 0 || n <= 0 || r <= 0 || o <= 0)
                                        return { height: 0, width: 0, hideYDots: 0, hideXDots: 0 };
                                      var l = t / n;
                                      return (
                                        (a.x = Math.floor(Math.sqrt(r / l))),
                                        a.x <= 0 && (a.x = 1),
                                        i && i < a.x && (a.x = i),
                                        a.x % 2 == 0 && a.x--,
                                        (s.x = a.x * o),
                                        (a.y = 1 + 2 * Math.ceil((a.x * l - 1) / 2)),
                                        (s.y = Math.round(s.x * l)),
                                        (a.y * a.x > r || (i && i < a.y)) &&
                                          (i && i < a.y ? ((a.y = i), a.y % 2 == 0 && a.x--) : (a.y -= 2),
                                          (s.y = a.y * o),
                                          (a.x = 1 + 2 * Math.ceil((a.y / l - 1) / 2)),
                                          (s.x = Math.round(s.y / l))),
                                        { height: s.y, width: s.x, hideYDots: a.y, hideXDots: a.x }
                                      );
                                    })({
                                      originalWidth: this._image.width,
                                      originalHeight: this._image.height,
                                      maxHiddenDots: d,
                                      maxHiddenAxisDots: t - 14,
                                      dotSize: i,
                                    })),
                                    (h.label = 2);
                                case 2:
                                  return (
                                    this.drawBackground(),
                                    this.drawDots(function (e, n) {
                                      var r, i, a, s, l, c;
                                      return !(
                                        (f._options.imageOptions.hideBackgroundDots &&
                                          e >= (t - o.hideXDots) / 2 &&
                                          e < (t + o.hideXDots) / 2 &&
                                          n >= (t - o.hideYDots) / 2 &&
                                          n < (t + o.hideYDots) / 2) ||
                                        (null === (r = v[e]) || void 0 === r ? void 0 : r[n]) ||
                                        (null === (i = v[e - t + 7]) || void 0 === i ? void 0 : i[n]) ||
                                        (null === (a = v[e]) || void 0 === a ? void 0 : a[n - t + 7]) ||
                                        (null === (s = w[e]) || void 0 === s ? void 0 : s[n]) ||
                                        (null === (l = w[e - t + 7]) || void 0 === l ? void 0 : l[n]) ||
                                        (null === (c = w[e]) || void 0 === c ? void 0 : c[n - t + 7])
                                      );
                                    }),
                                    this.drawCorners(),
                                    this._options.image
                                      ? [4, this.drawImage({ width: o.width, height: o.height, count: t, dotSize: i })]
                                      : [3, 4]
                                  );
                                case 3:
                                  h.sent(), (h.label = 4);
                                case 4:
                                  return [2];
                              }
                            });
                          });
                        }),
                        (e.prototype.drawBackground = function () {
                          var e,
                            t,
                            n,
                            r = this._element,
                            i = this._options;
                          if (r) {
                            var o = null === (e = i.backgroundOptions) || void 0 === e ? void 0 : e.gradient,
                              a = null === (t = i.backgroundOptions) || void 0 === t ? void 0 : t.color;
                            if (
                              ((o || a) &&
                                this._createColor({
                                  options: o,
                                  color: a,
                                  additionalRotation: 0,
                                  x: 0,
                                  y: 0,
                                  height: i.height,
                                  width: i.width,
                                  name: "background-color",
                                }),
                              null === (n = i.backgroundOptions) || void 0 === n ? void 0 : n.round)
                            ) {
                              var s = Math.min(i.width, i.height),
                                l = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                              (this._backgroundClipPath = document.createElementNS(
                                "http://www.w3.org/2000/svg",
                                "clipPath"
                              )),
                                this._backgroundClipPath.setAttribute("id", "clip-path-background-color"),
                                this._defs.appendChild(this._backgroundClipPath),
                                l.setAttribute("x", String((i.width - s) / 2)),
                                l.setAttribute("y", String((i.height - s) / 2)),
                                l.setAttribute("width", String(s)),
                                l.setAttribute("height", String(s)),
                                l.setAttribute("rx", String((s / 2) * i.backgroundOptions.round)),
                                this._backgroundClipPath.appendChild(l);
                            }
                          }
                        }),
                        (e.prototype.drawDots = function (e) {
                          var t,
                            n,
                            r = this;
                          if (!this._qr) throw "QR code is not defined";
                          var i = this._options,
                            o = this._qr.getModuleCount();
                          if (o > i.width || o > i.height) throw "The canvas is too small.";
                          var a = Math.min(i.width, i.height) - 2 * i.margin,
                            s = i.shape === m ? a / Math.sqrt(2) : a,
                            l = Math.floor(s / o),
                            c = Math.floor((i.width - o * l) / 2),
                            d = Math.floor((i.height - o * l) / 2),
                            f = new u({ svg: this._element, type: i.dotsOptions.type });
                          (this._dotsClipPath = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")),
                            this._dotsClipPath.setAttribute("id", "clip-path-dot-color"),
                            this._defs.appendChild(this._dotsClipPath),
                            this._createColor({
                              options: null === (t = i.dotsOptions) || void 0 === t ? void 0 : t.gradient,
                              color: i.dotsOptions.color,
                              additionalRotation: 0,
                              x: 0,
                              y: 0,
                              height: i.height,
                              width: i.width,
                              name: "dot-color",
                            });
                          for (
                            var h = function (t) {
                                for (
                                  var i = function (i) {
                                      return e && !e(t, i)
                                        ? "continue"
                                        : (null === (n = p._qr) || void 0 === n ? void 0 : n.isDark(t, i))
                                        ? (f.draw(c + t * l, d + i * l, l, function (n, a) {
                                            return (
                                              !(t + n < 0 || i + a < 0 || t + n >= o || i + a >= o) &&
                                              !(e && !e(t + n, i + a)) &&
                                              !!r._qr &&
                                              r._qr.isDark(t + n, i + a)
                                            );
                                          }),
                                          void (
                                            f._element &&
                                            p._dotsClipPath &&
                                            p._dotsClipPath.appendChild(f._element)
                                          ))
                                        : "continue";
                                    },
                                    a = 0;
                                  a < o;
                                  a++
                                )
                                  i(a);
                              },
                              p = this,
                              y = 0;
                            y < o;
                            y++
                          )
                            h(y);
                          if (i.shape === m) {
                            var g = Math.floor((a / l - o) / 2),
                              v = o + 2 * g,
                              w = c - g * l,
                              b = d - g * l,
                              x = [],
                              E = Math.floor(v / 2);
                            for (y = 0; y < v; y++) {
                              x[y] = [];
                              for (var k = 0; k < v; k++)
                                (y >= g - 1 && y <= v - g && k >= g - 1 && k <= v - g) ||
                                Math.sqrt((y - E) * (y - E) + (k - E) * (k - E)) > E
                                  ? (x[y][k] = 0)
                                  : (x[y][k] = this._qr.isDark(
                                      k - 2 * g < 0 ? k : k >= o ? k - 2 * g : k - g,
                                      y - 2 * g < 0 ? y : y >= o ? y - 2 * g : y - g
                                    )
                                      ? 1
                                      : 0);
                            }
                            var j = function (e) {
                                for (
                                  var t = function (t) {
                                      if (!x[e][t]) return "continue";
                                      f.draw(w + e * l, b + t * l, l, function (n, r) {
                                        var i;
                                        return !!(null === (i = x[e + n]) || void 0 === i ? void 0 : i[t + r]);
                                      }),
                                        f._element && S._dotsClipPath && S._dotsClipPath.appendChild(f._element);
                                    },
                                    n = 0;
                                  n < v;
                                  n++
                                )
                                  t(n);
                              },
                              S = this;
                            for (y = 0; y < v; y++) j(y);
                          }
                        }),
                        (e.prototype.drawCorners = function () {
                          var e = this;
                          if (!this._qr) throw "QR code is not defined";
                          var t = this._element,
                            n = this._options;
                          if (!t) throw "Element code is not defined";
                          var r = this._qr.getModuleCount(),
                            i = Math.min(n.width, n.height) - 2 * n.margin,
                            o = n.shape === m ? i / Math.sqrt(2) : i,
                            a = Math.floor(o / r),
                            s = 7 * a,
                            l = 3 * a,
                            c = Math.floor((n.width - r * a) / 2),
                            d = Math.floor((n.height - r * a) / 2);
                          [
                            [0, 0, 0],
                            [1, 0, Math.PI / 2],
                            [0, 1, -Math.PI / 2],
                          ].forEach(function (t) {
                            var i,
                              o,
                              h,
                              m,
                              y,
                              g,
                              b,
                              x,
                              E,
                              k,
                              j,
                              S,
                              A = t[0],
                              C = t[1],
                              N = t[2],
                              P = c + A * a * (r - 7),
                              _ = d + C * a * (r - 7),
                              T = e._dotsClipPath,
                              M = e._dotsClipPath;
                            if (
                              (((null === (i = n.cornersSquareOptions) || void 0 === i ? void 0 : i.gradient) ||
                                (null === (o = n.cornersSquareOptions) || void 0 === o ? void 0 : o.color)) &&
                                ((T = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")).setAttribute(
                                  "id",
                                  "clip-path-corners-square-color-" + A + "-" + C
                                ),
                                e._defs.appendChild(T),
                                (e._cornersSquareClipPath = e._cornersDotClipPath = M = T),
                                e._createColor({
                                  options: null === (h = n.cornersSquareOptions) || void 0 === h ? void 0 : h.gradient,
                                  color: null === (m = n.cornersSquareOptions) || void 0 === m ? void 0 : m.color,
                                  additionalRotation: N,
                                  x: P,
                                  y: _,
                                  height: s,
                                  width: s,
                                  name: "corners-square-color-" + A + "-" + C,
                                })),
                              null === (y = n.cornersSquareOptions) || void 0 === y ? void 0 : y.type)
                            ) {
                              var R = new f({ svg: e._element, type: n.cornersSquareOptions.type });
                              R.draw(P, _, s, N), R._element && T && T.appendChild(R._element);
                            } else
                              for (
                                var B = new u({ svg: e._element, type: n.dotsOptions.type }),
                                  O = function (e) {
                                    for (
                                      var t = function (t) {
                                          if (!(null === (g = v[e]) || void 0 === g ? void 0 : g[t])) return "continue";
                                          B.draw(P + e * a, _ + t * a, a, function (n, r) {
                                            var i;
                                            return !!(null === (i = v[e + n]) || void 0 === i ? void 0 : i[t + r]);
                                          }),
                                            B._element && T && T.appendChild(B._element);
                                        },
                                        n = 0;
                                      n < v[e].length;
                                      n++
                                    )
                                      t(n);
                                  },
                                  L = 0;
                                L < v.length;
                                L++
                              )
                                O(L);
                            if (
                              (((null === (b = n.cornersDotOptions) || void 0 === b ? void 0 : b.gradient) ||
                                (null === (x = n.cornersDotOptions) || void 0 === x ? void 0 : x.color)) &&
                                ((M = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")).setAttribute(
                                  "id",
                                  "clip-path-corners-dot-color-" + A + "-" + C
                                ),
                                e._defs.appendChild(M),
                                (e._cornersDotClipPath = M),
                                e._createColor({
                                  options: null === (E = n.cornersDotOptions) || void 0 === E ? void 0 : E.gradient,
                                  color: null === (k = n.cornersDotOptions) || void 0 === k ? void 0 : k.color,
                                  additionalRotation: N,
                                  x: P + 2 * a,
                                  y: _ + 2 * a,
                                  height: l,
                                  width: l,
                                  name: "corners-dot-color-" + A + "-" + C,
                                })),
                              null === (j = n.cornersDotOptions) || void 0 === j ? void 0 : j.type)
                            ) {
                              var I = new p({ svg: e._element, type: n.cornersDotOptions.type });
                              I.draw(P + 2 * a, _ + 2 * a, l, N), I._element && M && M.appendChild(I._element);
                            } else {
                              B = new u({ svg: e._element, type: n.dotsOptions.type });
                              var F = function (e) {
                                for (
                                  var t = function (t) {
                                      if (!(null === (S = w[e]) || void 0 === S ? void 0 : S[t])) return "continue";
                                      B.draw(P + e * a, _ + t * a, a, function (n, r) {
                                        var i;
                                        return !!(null === (i = w[e + n]) || void 0 === i ? void 0 : i[t + r]);
                                      }),
                                        B._element && M && M.appendChild(B._element);
                                    },
                                    n = 0;
                                  n < w[e].length;
                                  n++
                                )
                                  t(n);
                              };
                              for (L = 0; L < w.length; L++) F(L);
                            }
                          });
                        }),
                        (e.prototype.loadImage = function () {
                          var e = this;
                          return new Promise(function (t, n) {
                            var r = e._options,
                              i = new Image();
                            if (!r.image) return n("Image is not defined");
                            "string" == typeof r.imageOptions.crossOrigin &&
                              (i.crossOrigin = r.imageOptions.crossOrigin),
                              (e._image = i),
                              (i.onload = function () {
                                t();
                              }),
                              (i.src = r.image);
                          });
                        }),
                        (e.prototype.drawImage = function (e) {
                          var t = e.width,
                            n = e.height,
                            r = e.count,
                            i = e.dotSize;
                          return y(this, void 0, void 0, function () {
                            var e, o, a, l, c, u, d, f, h;
                            return g(this, function (p) {
                              switch (p.label) {
                                case 0:
                                  return (
                                    (e = this._options),
                                    (o = Math.floor((e.width - r * i) / 2)),
                                    (a = Math.floor((e.height - r * i) / 2)),
                                    (l = o + e.imageOptions.margin + (r * i - t) / 2),
                                    (c = a + e.imageOptions.margin + (r * i - n) / 2),
                                    (u = t - 2 * e.imageOptions.margin),
                                    (d = n - 2 * e.imageOptions.margin),
                                    (f = document.createElementNS("http://www.w3.org/2000/svg", "image")).setAttribute(
                                      "x",
                                      String(l)
                                    ),
                                    f.setAttribute("y", String(c)),
                                    f.setAttribute("width", u + "px"),
                                    f.setAttribute("height", d + "px"),
                                    [4, s(e.image || "")]
                                  );
                                case 1:
                                  return (
                                    (h = p.sent()), f.setAttribute("href", h || ""), this._element.appendChild(f), [2]
                                  );
                              }
                            });
                          });
                        }),
                        (e.prototype._createColor = function (e) {
                          var t = e.options,
                            n = e.color,
                            r = e.additionalRotation,
                            i = e.x,
                            o = e.y,
                            a = e.height,
                            s = e.width,
                            l = e.name,
                            c = s > a ? s : a,
                            u = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                          if (
                            (u.setAttribute("x", String(i)),
                            u.setAttribute("y", String(o)),
                            u.setAttribute("height", String(a)),
                            u.setAttribute("width", String(s)),
                            u.setAttribute("clip-path", "url('#clip-path-" + l + "')"),
                            t)
                          ) {
                            var d;
                            if ("radial" === t.type)
                              (d = document.createElementNS(
                                "http://www.w3.org/2000/svg",
                                "radialGradient"
                              )).setAttribute("id", l),
                                d.setAttribute("gradientUnits", "userSpaceOnUse"),
                                d.setAttribute("fx", String(i + s / 2)),
                                d.setAttribute("fy", String(o + a / 2)),
                                d.setAttribute("cx", String(i + s / 2)),
                                d.setAttribute("cy", String(o + a / 2)),
                                d.setAttribute("r", String(c / 2));
                            else {
                              var f = ((t.rotation || 0) + r) % (2 * Math.PI),
                                h = (f + 2 * Math.PI) % (2 * Math.PI),
                                p = i + s / 2,
                                m = o + a / 2,
                                y = i + s / 2,
                                g = o + a / 2;
                              (h >= 0 && h <= 0.25 * Math.PI) || (h > 1.75 * Math.PI && h <= 2 * Math.PI)
                                ? ((p -= s / 2),
                                  (m -= (a / 2) * Math.tan(f)),
                                  (y += s / 2),
                                  (g += (a / 2) * Math.tan(f)))
                                : h > 0.25 * Math.PI && h <= 0.75 * Math.PI
                                ? ((m -= a / 2), (p -= s / 2 / Math.tan(f)), (g += a / 2), (y += s / 2 / Math.tan(f)))
                                : h > 0.75 * Math.PI && h <= 1.25 * Math.PI
                                ? ((p += s / 2),
                                  (m += (a / 2) * Math.tan(f)),
                                  (y -= s / 2),
                                  (g -= (a / 2) * Math.tan(f)))
                                : h > 1.25 * Math.PI &&
                                  h <= 1.75 * Math.PI &&
                                  ((m += a / 2), (p += s / 2 / Math.tan(f)), (g -= a / 2), (y -= s / 2 / Math.tan(f))),
                                (d = document.createElementNS(
                                  "http://www.w3.org/2000/svg",
                                  "linearGradient"
                                )).setAttribute("id", l),
                                d.setAttribute("gradientUnits", "userSpaceOnUse"),
                                d.setAttribute("x1", String(Math.round(p))),
                                d.setAttribute("y1", String(Math.round(m))),
                                d.setAttribute("x2", String(Math.round(y))),
                                d.setAttribute("y2", String(Math.round(g)));
                            }
                            t.colorStops.forEach(function (e) {
                              var t = e.offset,
                                n = e.color,
                                r = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                              r.setAttribute("offset", 100 * t + "%"),
                                r.setAttribute("stop-color", n),
                                d.appendChild(r);
                            }),
                              u.setAttribute("fill", "url('#" + l + "')"),
                              this._defs.appendChild(d);
                          } else n && u.setAttribute("fill", n);
                          this._element.appendChild(u);
                        }),
                        e
                      );
                    })(),
                    x = "canvas";
                  for (var E = {}, k = 0; k <= 40; k++) E[k] = k;
                  const j = {
                    type: x,
                    shape: "square",
                    width: 300,
                    height: 300,
                    data: "",
                    margin: 0,
                    qrOptions: { typeNumber: E[0], mode: void 0, errorCorrectionLevel: "Q" },
                    imageOptions: { hideBackgroundDots: !0, imageSize: 0.4, crossOrigin: void 0, margin: 0 },
                    dotsOptions: { type: "square", color: "#000" },
                    backgroundOptions: { round: 0, color: "#fff" },
                  };
                  var S = function () {
                    return (S =
                      Object.assign ||
                      function (e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                          for (var i in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                        return e;
                      }).apply(this, arguments);
                  };
                  function A(e) {
                    var t = S({}, e);
                    if (!t.colorStops || !t.colorStops.length) throw "Field 'colorStops' is required in gradient";
                    return (
                      t.rotation ? (t.rotation = Number(t.rotation)) : (t.rotation = 0),
                      (t.colorStops = t.colorStops.map(function (e) {
                        return S(S({}, e), { offset: Number(e.offset) });
                      })),
                      t
                    );
                  }
                  function C(e) {
                    var t = S({}, e);
                    return (
                      (t.width = Number(t.width)),
                      (t.height = Number(t.height)),
                      (t.margin = Number(t.margin)),
                      (t.imageOptions = S(S({}, t.imageOptions), {
                        hideBackgroundDots: Boolean(t.imageOptions.hideBackgroundDots),
                        imageSize: Number(t.imageOptions.imageSize),
                        margin: Number(t.imageOptions.margin),
                      })),
                      t.margin > Math.min(t.width, t.height) && (t.margin = Math.min(t.width, t.height)),
                      (t.dotsOptions = S({}, t.dotsOptions)),
                      t.dotsOptions.gradient && (t.dotsOptions.gradient = A(t.dotsOptions.gradient)),
                      t.cornersSquareOptions &&
                        ((t.cornersSquareOptions = S({}, t.cornersSquareOptions)),
                        t.cornersSquareOptions.gradient &&
                          (t.cornersSquareOptions.gradient = A(t.cornersSquareOptions.gradient))),
                      t.cornersDotOptions &&
                        ((t.cornersDotOptions = S({}, t.cornersDotOptions)),
                        t.cornersDotOptions.gradient &&
                          (t.cornersDotOptions.gradient = A(t.cornersDotOptions.gradient))),
                      t.backgroundOptions &&
                        ((t.backgroundOptions = S({}, t.backgroundOptions)),
                        t.backgroundOptions.gradient &&
                          (t.backgroundOptions.gradient = A(t.backgroundOptions.gradient))),
                      t
                    );
                  }
                  var N = n(192),
                    P = n.n(N),
                    _ = function (e, t, n, r) {
                      return new (n || (n = Promise))(function (i, o) {
                        function a(e) {
                          try {
                            l(r.next(e));
                          } catch (e) {
                            o(e);
                          }
                        }
                        function s(e) {
                          try {
                            l(r.throw(e));
                          } catch (e) {
                            o(e);
                          }
                        }
                        function l(e) {
                          var t;
                          e.done
                            ? i(e.value)
                            : ((t = e.value),
                              t instanceof n
                                ? t
                                : new n(function (e) {
                                    e(t);
                                  })).then(a, s);
                        }
                        l((r = r.apply(e, t || [])).next());
                      });
                    },
                    T = function (e, t) {
                      var n,
                        r,
                        i,
                        o,
                        a = {
                          label: 0,
                          sent: function () {
                            if (1 & i[0]) throw i[1];
                            return i[1];
                          },
                          trys: [],
                          ops: [],
                        };
                      return (
                        (o = { next: s(0), throw: s(1), return: s(2) }),
                        "function" == typeof Symbol &&
                          (o[Symbol.iterator] = function () {
                            return this;
                          }),
                        o
                      );
                      function s(o) {
                        return function (s) {
                          return (function (o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a; )
                              try {
                                if (
                                  ((n = 1),
                                  r &&
                                    (i =
                                      2 & o[0]
                                        ? r.return
                                        : o[0]
                                        ? r.throw || ((i = r.return) && i.call(r), 0)
                                        : r.next) &&
                                    !(i = i.call(r, o[1])).done)
                                )
                                  return i;
                                switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                                  case 0:
                                  case 1:
                                    i = o;
                                    break;
                                  case 4:
                                    return a.label++, { value: o[1], done: !1 };
                                  case 5:
                                    a.label++, (r = o[1]), (o = [0]);
                                    continue;
                                  case 7:
                                    (o = a.ops.pop()), a.trys.pop();
                                    continue;
                                  default:
                                    if (
                                      !((i = (i = a.trys).length > 0 && i[i.length - 1]) || (6 !== o[0] && 2 !== o[0]))
                                    ) {
                                      a = 0;
                                      continue;
                                    }
                                    if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                      a.label = o[1];
                                      break;
                                    }
                                    if (6 === o[0] && a.label < i[1]) {
                                      (a.label = i[1]), (i = o);
                                      break;
                                    }
                                    if (i && a.label < i[2]) {
                                      (a.label = i[2]), a.ops.push(o);
                                      break;
                                    }
                                    i[2] && a.ops.pop(), a.trys.pop();
                                    continue;
                                }
                                o = t.call(e, a);
                              } catch (e) {
                                (o = [6, e]), (r = 0);
                              } finally {
                                n = i = 0;
                              }
                            if (5 & o[0]) throw o[1];
                            return { value: o[0] ? o[1] : void 0, done: !0 };
                          })([o, s]);
                        };
                      }
                    };
                  const M = (function () {
                    function e(e) {
                      (this._options = e ? C(o(j, e)) : j), this.update();
                    }
                    return (
                      (e._clearContainer = function (e) {
                        e && (e.innerHTML = "");
                      }),
                      (e.prototype._setupSvg = function () {
                        var e = this;
                        if (this._qr) {
                          var t = new b(this._options);
                          (this._svg = t.getElement()),
                            (this._svgDrawingPromise = t.drawQR(this._qr).then(function () {
                              var n;
                              e._svg &&
                                (null === (n = e._extension) || void 0 === n || n.call(e, t.getElement(), e._options));
                            }));
                        }
                      }),
                      (e.prototype._setupCanvas = function () {
                        var e,
                          t = this;
                        this._qr &&
                          ((this._canvas = document.createElement("canvas")),
                          (this._canvas.width = this._options.width),
                          (this._canvas.height = this._options.height),
                          this._setupSvg(),
                          (this._canvasDrawingPromise =
                            null === (e = this._svgDrawingPromise) || void 0 === e
                              ? void 0
                              : e.then(function () {
                                  if (t._svg) {
                                    var e = t._svg,
                                      n = new XMLSerializer().serializeToString(e),
                                      r = "data:image/svg+xml;base64," + btoa(n),
                                      i = new Image();
                                    return new Promise(function (e) {
                                      (i.onload = function () {
                                        var n, r;
                                        null ===
                                          (r =
                                            null === (n = t._canvas) || void 0 === n ? void 0 : n.getContext("2d")) ||
                                          void 0 === r ||
                                          r.drawImage(i, 0, 0),
                                          e();
                                      }),
                                        (i.src = r);
                                    });
                                  }
                                })));
                      }),
                      (e.prototype._getElement = function (e) {
                        return (
                          void 0 === e && (e = "png"),
                          _(this, void 0, void 0, function () {
                            return T(this, function (t) {
                              switch (t.label) {
                                case 0:
                                  if (!this._qr) throw "QR code is empty";
                                  return "svg" !== e.toLowerCase()
                                    ? [3, 2]
                                    : ((this._svg && this._svgDrawingPromise) || this._setupSvg(),
                                      [4, this._svgDrawingPromise]);
                                case 1:
                                  return t.sent(), [2, this._svg];
                                case 2:
                                  return (
                                    (this._canvas && this._canvasDrawingPromise) || this._setupCanvas(),
                                    [4, this._canvasDrawingPromise]
                                  );
                                case 3:
                                  return t.sent(), [2, this._canvas];
                              }
                            });
                          })
                        );
                      }),
                      (e.prototype.update = function (t) {
                        e._clearContainer(this._container),
                          (this._options = t ? C(o(this._options, t)) : this._options),
                          this._options.data &&
                            ((this._qr = P()(
                              this._options.qrOptions.typeNumber,
                              this._options.qrOptions.errorCorrectionLevel
                            )),
                            this._qr.addData(
                              this._options.data,
                              this._options.qrOptions.mode ||
                                (function (e) {
                                  switch (!0) {
                                    case /^[0-9]*$/.test(e):
                                      return "Numeric";
                                    case /^[0-9A-Z $%*+\-./:]*$/.test(e):
                                      return "Alphanumeric";
                                    default:
                                      return "Byte";
                                  }
                                })(this._options.data)
                            ),
                            this._qr.make(),
                            this._options.type === x ? this._setupCanvas() : this._setupSvg(),
                            this.append(this._container));
                      }),
                      (e.prototype.append = function (e) {
                        if (e) {
                          if ("function" != typeof e.appendChild) throw "Container should be a single DOM node";
                          this._options.type === x
                            ? this._canvas && e.appendChild(this._canvas)
                            : this._svg && e.appendChild(this._svg),
                            (this._container = e);
                        }
                      }),
                      (e.prototype.applyExtension = function (e) {
                        if (!e) throw "Extension function should be defined.";
                        (this._extension = e), this.update();
                      }),
                      (e.prototype.deleteExtension = function () {
                        (this._extension = void 0), this.update();
                      }),
                      (e.prototype.getRawData = function (e) {
                        return (
                          void 0 === e && (e = "png"),
                          _(this, void 0, void 0, function () {
                            var t, n, r;
                            return T(this, function (i) {
                              switch (i.label) {
                                case 0:
                                  if (!this._qr) throw "QR code is empty";
                                  return [4, this._getElement(e)];
                                case 1:
                                  return (t = i.sent())
                                    ? "svg" === e.toLowerCase()
                                      ? ((n = new XMLSerializer()),
                                        (r = n.serializeToString(t)),
                                        [
                                          2,
                                          new Blob(['<?xml version="1.0" standalone="no"?>\r\n' + r], {
                                            type: "image/svg+xml",
                                          }),
                                        ])
                                      : [
                                          2,
                                          new Promise(function (n) {
                                            return t.toBlob(n, "image/" + e, 1);
                                          }),
                                        ]
                                    : [2, null];
                              }
                            });
                          })
                        );
                      }),
                      (e.prototype.download = function (e) {
                        return _(this, void 0, void 0, function () {
                          var t, n, r, i, o;
                          return T(this, function (s) {
                            switch (s.label) {
                              case 0:
                                if (!this._qr) throw "QR code is empty";
                                return (
                                  (t = "png"),
                                  (n = "qr"),
                                  "string" == typeof e
                                    ? ((t = e),
                                      console.warn(
                                        "Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument"
                                      ))
                                    : "object" == typeof e &&
                                      null !== e &&
                                      (e.name && (n = e.name), e.extension && (t = e.extension)),
                                  [4, this._getElement(t)]
                                );
                              case 1:
                                return (r = s.sent())
                                  ? ("svg" === t.toLowerCase()
                                      ? ((i = new XMLSerializer()),
                                        (o =
                                          '<?xml version="1.0" standalone="no"?>\r\n' + (o = i.serializeToString(r))),
                                        a("data:image/svg+xml;charset=utf-8," + encodeURIComponent(o), n + ".svg"))
                                      : a(r.toDataURL("image/" + t), n + "." + t),
                                    [2])
                                  : [2];
                            }
                          });
                        });
                      }),
                      e
                    );
                  })();
                },
              },
              t = {};
            function n(r) {
              if (t[r]) return t[r].exports;
              var i = (t[r] = { exports: {} });
              return e[r](i, i.exports, n), i.exports;
            }
            return (
              (n.n = e => {
                var t = e && e.__esModule ? () => e.default : () => e;
                return n.d(t, { a: t }), t;
              }),
              (n.d = (e, t) => {
                for (var r in t) n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, { enumerable: !0, get: t[r] });
              }),
              (n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
              n(676)
            );
          })().default);
      },
      604: (e, t) => {
        "use strict";
        var n = "function" == typeof Symbol && Symbol.for,
          r = n ? Symbol.for("react.element") : 60103,
          i = n ? Symbol.for("react.portal") : 60106,
          o = n ? Symbol.for("react.fragment") : 60107,
          a = n ? Symbol.for("react.strict_mode") : 60108,
          s = n ? Symbol.for("react.profiler") : 60114,
          l = n ? Symbol.for("react.provider") : 60109,
          c = n ? Symbol.for("react.context") : 60110,
          u = n ? Symbol.for("react.async_mode") : 60111,
          d = n ? Symbol.for("react.concurrent_mode") : 60111,
          f = n ? Symbol.for("react.forward_ref") : 60112,
          h = n ? Symbol.for("react.suspense") : 60113,
          p = n ? Symbol.for("react.suspense_list") : 60120,
          m = n ? Symbol.for("react.memo") : 60115,
          y = n ? Symbol.for("react.lazy") : 60116,
          g = n ? Symbol.for("react.block") : 60121,
          v = n ? Symbol.for("react.fundamental") : 60117,
          w = n ? Symbol.for("react.responder") : 60118,
          b = n ? Symbol.for("react.scope") : 60119;
        function x(e) {
          if ("object" == typeof e && null !== e) {
            var t = e.$$typeof;
            switch (t) {
              case r:
                switch ((e = e.type)) {
                  case u:
                  case d:
                  case o:
                  case s:
                  case a:
                  case h:
                    return e;
                  default:
                    switch ((e = e && e.$$typeof)) {
                      case c:
                      case f:
                      case y:
                      case m:
                      case l:
                        return e;
                      default:
                        return t;
                    }
                }
              case i:
                return t;
            }
          }
        }
        function E(e) {
          return x(e) === d;
        }
        (t.AsyncMode = u),
          (t.ConcurrentMode = d),
          (t.ContextConsumer = c),
          (t.ContextProvider = l),
          (t.Element = r),
          (t.ForwardRef = f),
          (t.Fragment = o),
          (t.Lazy = y),
          (t.Memo = m),
          (t.Portal = i),
          (t.Profiler = s),
          (t.StrictMode = a),
          (t.Suspense = h),
          (t.isAsyncMode = function (e) {
            return E(e) || x(e) === u;
          }),
          (t.isConcurrentMode = E),
          (t.isContextConsumer = function (e) {
            return x(e) === c;
          }),
          (t.isContextProvider = function (e) {
            return x(e) === l;
          }),
          (t.isElement = function (e) {
            return "object" == typeof e && null !== e && e.$$typeof === r;
          }),
          (t.isForwardRef = function (e) {
            return x(e) === f;
          }),
          (t.isFragment = function (e) {
            return x(e) === o;
          }),
          (t.isLazy = function (e) {
            return x(e) === y;
          }),
          (t.isMemo = function (e) {
            return x(e) === m;
          }),
          (t.isPortal = function (e) {
            return x(e) === i;
          }),
          (t.isProfiler = function (e) {
            return x(e) === s;
          }),
          (t.isStrictMode = function (e) {
            return x(e) === a;
          }),
          (t.isSuspense = function (e) {
            return x(e) === h;
          }),
          (t.isValidElementType = function (e) {
            return (
              "string" == typeof e ||
              "function" == typeof e ||
              e === o ||
              e === d ||
              e === s ||
              e === a ||
              e === h ||
              e === p ||
              ("object" == typeof e &&
                null !== e &&
                (e.$$typeof === y ||
                  e.$$typeof === m ||
                  e.$$typeof === l ||
                  e.$$typeof === c ||
                  e.$$typeof === f ||
                  e.$$typeof === v ||
                  e.$$typeof === w ||
                  e.$$typeof === b ||
                  e.$$typeof === g))
            );
          }),
          (t.typeOf = x);
      },
      1802: (e, t, n) => {
        "use strict";
        e.exports = n(604);
      },
      5325: (e, t) => {
        "use strict";
        Symbol.for("react.element"),
          Symbol.for("react.portal"),
          Symbol.for("react.fragment"),
          Symbol.for("react.strict_mode"),
          Symbol.for("react.profiler"),
          Symbol.for("react.provider"),
          Symbol.for("react.context"),
          Symbol.for("react.server_context"),
          Symbol.for("react.forward_ref"),
          Symbol.for("react.suspense"),
          Symbol.for("react.suspense_list"),
          Symbol.for("react.memo"),
          Symbol.for("react.lazy"),
          Symbol.for("react.offscreen");
        Symbol.for("react.module.reference");
      },
      1482: (e, t, n) => {
        "use strict";
        n(5325);
      },
      9370: (e, t, n) => {
        "use strict";
        var r = n(6174),
          i = Symbol.for("react.element"),
          o = Symbol.for("react.fragment"),
          a = Object.prototype.hasOwnProperty,
          s = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
          l = { key: !0, ref: !0, __self: !0, __source: !0 };
        function c(e, t, n) {
          var r,
            o = {},
            c = null,
            u = null;
          for (r in (void 0 !== n && (c = "" + n),
          void 0 !== t.key && (c = "" + t.key),
          void 0 !== t.ref && (u = t.ref),
          t))
            a.call(t, r) && !l.hasOwnProperty(r) && (o[r] = t[r]);
          if (e && e.defaultProps) for (r in (t = e.defaultProps)) void 0 === o[r] && (o[r] = t[r]);
          return { $$typeof: i, type: e, key: c, ref: u, props: o, _owner: s.current };
        }
        (t.Fragment = o), (t.jsx = c), (t.jsxs = c);
      },
      5327: (e, t) => {
        "use strict";
        var n = Symbol.for("react.element"),
          r = Symbol.for("react.portal"),
          i = Symbol.for("react.fragment"),
          o = Symbol.for("react.strict_mode"),
          a = Symbol.for("react.profiler"),
          s = Symbol.for("react.provider"),
          l = Symbol.for("react.context"),
          c = Symbol.for("react.forward_ref"),
          u = Symbol.for("react.suspense"),
          d = Symbol.for("react.memo"),
          f = Symbol.for("react.lazy"),
          h = Symbol.iterator,
          p = {
            isMounted: function () {
              return !1;
            },
            enqueueForceUpdate: function () {},
            enqueueReplaceState: function () {},
            enqueueSetState: function () {},
          },
          m = Object.assign,
          y = {};
        function g(e, t, n) {
          (this.props = e), (this.context = t), (this.refs = y), (this.updater = n || p);
        }
        function v() {}
        function w(e, t, n) {
          (this.props = e), (this.context = t), (this.refs = y), (this.updater = n || p);
        }
        (g.prototype.isReactComponent = {}),
          (g.prototype.setState = function (e, t) {
            if ("object" != typeof e && "function" != typeof e && null != e)
              throw Error(
                "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
              );
            this.updater.enqueueSetState(this, e, t, "setState");
          }),
          (g.prototype.forceUpdate = function (e) {
            this.updater.enqueueForceUpdate(this, e, "forceUpdate");
          }),
          (v.prototype = g.prototype);
        var b = (w.prototype = new v());
        (b.constructor = w), m(b, g.prototype), (b.isPureReactComponent = !0);
        var x = Array.isArray,
          E = Object.prototype.hasOwnProperty,
          k = { current: null },
          j = { key: !0, ref: !0, __self: !0, __source: !0 };
        function S(e, t, r) {
          var i,
            o = {},
            a = null,
            s = null;
          if (null != t)
            for (i in (void 0 !== t.ref && (s = t.ref), void 0 !== t.key && (a = "" + t.key), t))
              E.call(t, i) && !j.hasOwnProperty(i) && (o[i] = t[i]);
          var l = arguments.length - 2;
          if (1 === l) o.children = r;
          else if (1 < l) {
            for (var c = Array(l), u = 0; u < l; u++) c[u] = arguments[u + 2];
            o.children = c;
          }
          if (e && e.defaultProps) for (i in (l = e.defaultProps)) void 0 === o[i] && (o[i] = l[i]);
          return { $$typeof: n, type: e, key: a, ref: s, props: o, _owner: k.current };
        }
        function A(e) {
          return "object" == typeof e && null !== e && e.$$typeof === n;
        }
        var C = /\/+/g;
        function N(e, t) {
          return "object" == typeof e && null !== e && null != e.key
            ? (function (e) {
                var t = { "=": "=0", ":": "=2" };
                return (
                  "$" +
                  e.replace(/[=:]/g, function (e) {
                    return t[e];
                  })
                );
              })("" + e.key)
            : t.toString(36);
        }
        function P(e, t, i, o, a) {
          var s = typeof e;
          ("undefined" !== s && "boolean" !== s) || (e = null);
          var l = !1;
          if (null === e) l = !0;
          else
            switch (s) {
              case "string":
              case "number":
                l = !0;
                break;
              case "object":
                switch (e.$$typeof) {
                  case n:
                  case r:
                    l = !0;
                }
            }
          if (l)
            return (
              (a = a((l = e))),
              (e = "" === o ? "." + N(l, 0) : o),
              x(a)
                ? ((i = ""),
                  null != e && (i = e.replace(C, "$&/") + "/"),
                  P(a, t, i, "", function (e) {
                    return e;
                  }))
                : null != a &&
                  (A(a) &&
                    (a = (function (e, t) {
                      return { $$typeof: n, type: e.type, key: t, ref: e.ref, props: e.props, _owner: e._owner };
                    })(a, i + (!a.key || (l && l.key === a.key) ? "" : ("" + a.key).replace(C, "$&/") + "/") + e)),
                  t.push(a)),
              1
            );
          if (((l = 0), (o = "" === o ? "." : o + ":"), x(e)))
            for (var c = 0; c < e.length; c++) {
              var u = o + N((s = e[c]), c);
              l += P(s, t, i, u, a);
            }
          else if (
            ((u = (function (e) {
              return null === e || "object" != typeof e
                ? null
                : "function" == typeof (e = (h && e[h]) || e["@@iterator"])
                ? e
                : null;
            })(e)),
            "function" == typeof u)
          )
            for (e = u.call(e), c = 0; !(s = e.next()).done; ) l += P((s = s.value), t, i, (u = o + N(s, c++)), a);
          else if ("object" === s)
            throw (
              ((t = String(e)),
              Error(
                "Objects are not valid as a React child (found: " +
                  ("[object Object]" === t ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) +
                  "). If you meant to render a collection of children, use an array instead."
              ))
            );
          return l;
        }
        function _(e, t, n) {
          if (null == e) return e;
          var r = [],
            i = 0;
          return (
            P(e, r, "", "", function (e) {
              return t.call(n, e, i++);
            }),
            r
          );
        }
        function T(e) {
          if (-1 === e._status) {
            var t = e._result;
            (t = t()).then(
              function (t) {
                (0 !== e._status && -1 !== e._status) || ((e._status = 1), (e._result = t));
              },
              function (t) {
                (0 !== e._status && -1 !== e._status) || ((e._status = 2), (e._result = t));
              }
            ),
              -1 === e._status && ((e._status = 0), (e._result = t));
          }
          if (1 === e._status) return e._result.default;
          throw e._result;
        }
        var M = { current: null },
          R = { transition: null },
          B = { ReactCurrentDispatcher: M, ReactCurrentBatchConfig: R, ReactCurrentOwner: k };
        (t.Children = {
          map: _,
          forEach: function (e, t, n) {
            _(
              e,
              function () {
                t.apply(this, arguments);
              },
              n
            );
          },
          count: function (e) {
            var t = 0;
            return (
              _(e, function () {
                t++;
              }),
              t
            );
          },
          toArray: function (e) {
            return (
              _(e, function (e) {
                return e;
              }) || []
            );
          },
          only: function (e) {
            if (!A(e)) throw Error("React.Children.only expected to receive a single React element child.");
            return e;
          },
        }),
          (t.Component = g),
          (t.Fragment = i),
          (t.Profiler = a),
          (t.PureComponent = w),
          (t.StrictMode = o),
          (t.Suspense = u),
          (t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = B),
          (t.cloneElement = function (e, t, r) {
            if (null == e)
              throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + ".");
            var i = m({}, e.props),
              o = e.key,
              a = e.ref,
              s = e._owner;
            if (null != t) {
              if (
                (void 0 !== t.ref && ((a = t.ref), (s = k.current)),
                void 0 !== t.key && (o = "" + t.key),
                e.type && e.type.defaultProps)
              )
                var l = e.type.defaultProps;
              for (c in t)
                E.call(t, c) && !j.hasOwnProperty(c) && (i[c] = void 0 === t[c] && void 0 !== l ? l[c] : t[c]);
            }
            var c = arguments.length - 2;
            if (1 === c) i.children = r;
            else if (1 < c) {
              l = Array(c);
              for (var u = 0; u < c; u++) l[u] = arguments[u + 2];
              i.children = l;
            }
            return { $$typeof: n, type: e.type, key: o, ref: a, props: i, _owner: s };
          }),
          (t.createContext = function (e) {
            return (
              ((e = {
                $$typeof: l,
                _currentValue: e,
                _currentValue2: e,
                _threadCount: 0,
                Provider: null,
                Consumer: null,
                _defaultValue: null,
                _globalName: null,
              }).Provider = { $$typeof: s, _context: e }),
              (e.Consumer = e)
            );
          }),
          (t.createElement = S),
          (t.createFactory = function (e) {
            var t = S.bind(null, e);
            return (t.type = e), t;
          }),
          (t.createRef = function () {
            return { current: null };
          }),
          (t.forwardRef = function (e) {
            return { $$typeof: c, render: e };
          }),
          (t.isValidElement = A),
          (t.lazy = function (e) {
            return { $$typeof: f, _payload: { _status: -1, _result: e }, _init: T };
          }),
          (t.memo = function (e, t) {
            return { $$typeof: d, type: e, compare: void 0 === t ? null : t };
          }),
          (t.startTransition = function (e) {
            var t = R.transition;
            R.transition = {};
            try {
              e();
            } finally {
              R.transition = t;
            }
          }),
          (t.unstable_act = function () {
            throw Error("act(...) is not supported in production builds of React.");
          }),
          (t.useCallback = function (e, t) {
            return M.current.useCallback(e, t);
          }),
          (t.useContext = function (e) {
            return M.current.useContext(e);
          }),
          (t.useDebugValue = function () {}),
          (t.useDeferredValue = function (e) {
            return M.current.useDeferredValue(e);
          }),
          (t.useEffect = function (e, t) {
            return M.current.useEffect(e, t);
          }),
          (t.useId = function () {
            return M.current.useId();
          }),
          (t.useImperativeHandle = function (e, t, n) {
            return M.current.useImperativeHandle(e, t, n);
          }),
          (t.useInsertionEffect = function (e, t) {
            return M.current.useInsertionEffect(e, t);
          }),
          (t.useLayoutEffect = function (e, t) {
            return M.current.useLayoutEffect(e, t);
          }),
          (t.useMemo = function (e, t) {
            return M.current.useMemo(e, t);
          }),
          (t.useReducer = function (e, t, n) {
            return M.current.useReducer(e, t, n);
          }),
          (t.useRef = function (e) {
            return M.current.useRef(e);
          }),
          (t.useState = function (e) {
            return M.current.useState(e);
          }),
          (t.useSyncExternalStore = function (e, t, n) {
            return M.current.useSyncExternalStore(e, t, n);
          }),
          (t.useTransition = function () {
            return M.current.useTransition();
          }),
          (t.version = "18.2.0");
      },
      6174: (e, t, n) => {
        "use strict";
        e.exports = n(5327);
      },
      5889: (e, t, n) => {
        "use strict";
        e.exports = n(9370);
      },
      6322: e => {
        var t = {
            À: "A",
            Á: "A",
            Â: "A",
            Ã: "A",
            Ä: "A",
            Å: "A",
            Ấ: "A",
            Ắ: "A",
            Ẳ: "A",
            Ẵ: "A",
            Ặ: "A",
            Æ: "AE",
            Ầ: "A",
            Ằ: "A",
            Ȃ: "A",
            Ç: "C",
            Ḉ: "C",
            È: "E",
            É: "E",
            Ê: "E",
            Ë: "E",
            Ế: "E",
            Ḗ: "E",
            Ề: "E",
            Ḕ: "E",
            Ḝ: "E",
            Ȇ: "E",
            Ì: "I",
            Í: "I",
            Î: "I",
            Ï: "I",
            Ḯ: "I",
            Ȋ: "I",
            Ð: "D",
            Ñ: "N",
            Ò: "O",
            Ó: "O",
            Ô: "O",
            Õ: "O",
            Ö: "O",
            Ø: "O",
            Ố: "O",
            Ṍ: "O",
            Ṓ: "O",
            Ȏ: "O",
            Ù: "U",
            Ú: "U",
            Û: "U",
            Ü: "U",
            Ý: "Y",
            à: "a",
            á: "a",
            â: "a",
            ã: "a",
            ä: "a",
            å: "a",
            ấ: "a",
            ắ: "a",
            ẳ: "a",
            ẵ: "a",
            ặ: "a",
            æ: "ae",
            ầ: "a",
            ằ: "a",
            ȃ: "a",
            ç: "c",
            ḉ: "c",
            è: "e",
            é: "e",
            ê: "e",
            ë: "e",
            ế: "e",
            ḗ: "e",
            ề: "e",
            ḕ: "e",
            ḝ: "e",
            ȇ: "e",
            ì: "i",
            í: "i",
            î: "i",
            ï: "i",
            ḯ: "i",
            ȋ: "i",
            ð: "d",
            ñ: "n",
            ò: "o",
            ó: "o",
            ô: "o",
            õ: "o",
            ö: "o",
            ø: "o",
            ố: "o",
            ṍ: "o",
            ṓ: "o",
            ȏ: "o",
            ù: "u",
            ú: "u",
            û: "u",
            ü: "u",
            ý: "y",
            ÿ: "y",
            Ā: "A",
            ā: "a",
            Ă: "A",
            ă: "a",
            Ą: "A",
            ą: "a",
            Ć: "C",
            ć: "c",
            Ĉ: "C",
            ĉ: "c",
            Ċ: "C",
            ċ: "c",
            Č: "C",
            č: "c",
            C̆: "C",
            c̆: "c",
            Ď: "D",
            ď: "d",
            Đ: "D",
            đ: "d",
            Ē: "E",
            ē: "e",
            Ĕ: "E",
            ĕ: "e",
            Ė: "E",
            ė: "e",
            Ę: "E",
            ę: "e",
            Ě: "E",
            ě: "e",
            Ĝ: "G",
            Ǵ: "G",
            ĝ: "g",
            ǵ: "g",
            Ğ: "G",
            ğ: "g",
            Ġ: "G",
            ġ: "g",
            Ģ: "G",
            ģ: "g",
            Ĥ: "H",
            ĥ: "h",
            Ħ: "H",
            ħ: "h",
            Ḫ: "H",
            ḫ: "h",
            Ĩ: "I",
            ĩ: "i",
            Ī: "I",
            ī: "i",
            Ĭ: "I",
            ĭ: "i",
            Į: "I",
            į: "i",
            İ: "I",
            ı: "i",
            Ĳ: "IJ",
            ĳ: "ij",
            Ĵ: "J",
            ĵ: "j",
            Ķ: "K",
            ķ: "k",
            Ḱ: "K",
            ḱ: "k",
            K̆: "K",
            k̆: "k",
            Ĺ: "L",
            ĺ: "l",
            Ļ: "L",
            ļ: "l",
            Ľ: "L",
            ľ: "l",
            Ŀ: "L",
            ŀ: "l",
            Ł: "l",
            ł: "l",
            Ḿ: "M",
            ḿ: "m",
            M̆: "M",
            m̆: "m",
            Ń: "N",
            ń: "n",
            Ņ: "N",
            ņ: "n",
            Ň: "N",
            ň: "n",
            ŉ: "n",
            N̆: "N",
            n̆: "n",
            Ō: "O",
            ō: "o",
            Ŏ: "O",
            ŏ: "o",
            Ő: "O",
            ő: "o",
            Œ: "OE",
            œ: "oe",
            P̆: "P",
            p̆: "p",
            Ŕ: "R",
            ŕ: "r",
            Ŗ: "R",
            ŗ: "r",
            Ř: "R",
            ř: "r",
            R̆: "R",
            r̆: "r",
            Ȓ: "R",
            ȓ: "r",
            Ś: "S",
            ś: "s",
            Ŝ: "S",
            ŝ: "s",
            Ş: "S",
            Ș: "S",
            ș: "s",
            ş: "s",
            Š: "S",
            š: "s",
            Ţ: "T",
            ţ: "t",
            ț: "t",
            Ț: "T",
            Ť: "T",
            ť: "t",
            Ŧ: "T",
            ŧ: "t",
            T̆: "T",
            t̆: "t",
            Ũ: "U",
            ũ: "u",
            Ū: "U",
            ū: "u",
            Ŭ: "U",
            ŭ: "u",
            Ů: "U",
            ů: "u",
            Ű: "U",
            ű: "u",
            Ų: "U",
            ų: "u",
            Ȗ: "U",
            ȗ: "u",
            V̆: "V",
            v̆: "v",
            Ŵ: "W",
            ŵ: "w",
            Ẃ: "W",
            ẃ: "w",
            X̆: "X",
            x̆: "x",
            Ŷ: "Y",
            ŷ: "y",
            Ÿ: "Y",
            Y̆: "Y",
            y̆: "y",
            Ź: "Z",
            ź: "z",
            Ż: "Z",
            ż: "z",
            Ž: "Z",
            ž: "z",
            ſ: "s",
            ƒ: "f",
            Ơ: "O",
            ơ: "o",
            Ư: "U",
            ư: "u",
            Ǎ: "A",
            ǎ: "a",
            Ǐ: "I",
            ǐ: "i",
            Ǒ: "O",
            ǒ: "o",
            Ǔ: "U",
            ǔ: "u",
            Ǖ: "U",
            ǖ: "u",
            Ǘ: "U",
            ǘ: "u",
            Ǚ: "U",
            ǚ: "u",
            Ǜ: "U",
            ǜ: "u",
            Ứ: "U",
            ứ: "u",
            Ṹ: "U",
            ṹ: "u",
            Ǻ: "A",
            ǻ: "a",
            Ǽ: "AE",
            ǽ: "ae",
            Ǿ: "O",
            ǿ: "o",
            Þ: "TH",
            þ: "th",
            Ṕ: "P",
            ṕ: "p",
            Ṥ: "S",
            ṥ: "s",
            X́: "X",
            x́: "x",
            Ѓ: "Г",
            ѓ: "г",
            Ќ: "К",
            ќ: "к",
            A̋: "A",
            a̋: "a",
            E̋: "E",
            e̋: "e",
            I̋: "I",
            i̋: "i",
            Ǹ: "N",
            ǹ: "n",
            Ồ: "O",
            ồ: "o",
            Ṑ: "O",
            ṑ: "o",
            Ừ: "U",
            ừ: "u",
            Ẁ: "W",
            ẁ: "w",
            Ỳ: "Y",
            ỳ: "y",
            Ȁ: "A",
            ȁ: "a",
            Ȅ: "E",
            ȅ: "e",
            Ȉ: "I",
            ȉ: "i",
            Ȍ: "O",
            ȍ: "o",
            Ȑ: "R",
            ȑ: "r",
            Ȕ: "U",
            ȕ: "u",
            B̌: "B",
            b̌: "b",
            Č̣: "C",
            č̣: "c",
            Ê̌: "E",
            ê̌: "e",
            F̌: "F",
            f̌: "f",
            Ǧ: "G",
            ǧ: "g",
            Ȟ: "H",
            ȟ: "h",
            J̌: "J",
            ǰ: "j",
            Ǩ: "K",
            ǩ: "k",
            M̌: "M",
            m̌: "m",
            P̌: "P",
            p̌: "p",
            Q̌: "Q",
            q̌: "q",
            Ř̩: "R",
            ř̩: "r",
            Ṧ: "S",
            ṧ: "s",
            V̌: "V",
            v̌: "v",
            W̌: "W",
            w̌: "w",
            X̌: "X",
            x̌: "x",
            Y̌: "Y",
            y̌: "y",
            A̧: "A",
            a̧: "a",
            B̧: "B",
            b̧: "b",
            Ḑ: "D",
            ḑ: "d",
            Ȩ: "E",
            ȩ: "e",
            Ɛ̧: "E",
            ɛ̧: "e",
            Ḩ: "H",
            ḩ: "h",
            I̧: "I",
            i̧: "i",
            Ɨ̧: "I",
            ɨ̧: "i",
            M̧: "M",
            m̧: "m",
            O̧: "O",
            o̧: "o",
            Q̧: "Q",
            q̧: "q",
            U̧: "U",
            u̧: "u",
            X̧: "X",
            x̧: "x",
            Z̧: "Z",
            z̧: "z",
          },
          n = Object.keys(t).join("|"),
          r = new RegExp(n, "g"),
          i = new RegExp(n, ""),
          o = function (e) {
            return e.replace(r, function (e) {
              return t[e];
            });
          };
        (e.exports = o),
          (e.exports.has = function (e) {
            return !!e.match(i);
          }),
          (e.exports.remove = o);
      },
      697: (e, t) => {
        "use strict";
        function n(e, t) {
          var n = e.length;
          e.push(t);
          e: for (; 0 < n; ) {
            var r = (n - 1) >>> 1,
              i = e[r];
            if (!(0 < o(i, t))) break e;
            (e[r] = t), (e[n] = i), (n = r);
          }
        }
        function r(e) {
          return 0 === e.length ? null : e[0];
        }
        function i(e) {
          if (0 === e.length) return null;
          var t = e[0],
            n = e.pop();
          if (n !== t) {
            e[0] = n;
            e: for (var r = 0, i = e.length, a = i >>> 1; r < a; ) {
              var s = 2 * (r + 1) - 1,
                l = e[s],
                c = s + 1,
                u = e[c];
              if (0 > o(l, n))
                c < i && 0 > o(u, l) ? ((e[r] = u), (e[c] = n), (r = c)) : ((e[r] = l), (e[s] = n), (r = s));
              else {
                if (!(c < i && 0 > o(u, n))) break e;
                (e[r] = u), (e[c] = n), (r = c);
              }
            }
          }
          return t;
        }
        function o(e, t) {
          var n = e.sortIndex - t.sortIndex;
          return 0 !== n ? n : e.id - t.id;
        }
        if ("object" == typeof performance && "function" == typeof performance.now) {
          var a = performance;
          t.unstable_now = function () {
            return a.now();
          };
        } else {
          var s = Date,
            l = s.now();
          t.unstable_now = function () {
            return s.now() - l;
          };
        }
        var c = [],
          u = [],
          d = 1,
          f = null,
          h = 3,
          p = !1,
          m = !1,
          y = !1,
          g = "function" == typeof setTimeout ? setTimeout : null,
          v = "function" == typeof clearTimeout ? clearTimeout : null,
          w = "undefined" != typeof setImmediate ? setImmediate : null;
        function b(e) {
          for (var t = r(u); null !== t; ) {
            if (null === t.callback) i(u);
            else {
              if (!(t.startTime <= e)) break;
              i(u), (t.sortIndex = t.expirationTime), n(c, t);
            }
            t = r(u);
          }
        }
        function x(e) {
          if (((y = !1), b(e), !m))
            if (null !== r(c)) (m = !0), R(E);
            else {
              var t = r(u);
              null !== t && B(x, t.startTime - e);
            }
        }
        function E(e, n) {
          (m = !1), y && ((y = !1), v(A), (A = -1)), (p = !0);
          var o = h;
          try {
            for (b(n), f = r(c); null !== f && (!(f.expirationTime > n) || (e && !P())); ) {
              var a = f.callback;
              if ("function" == typeof a) {
                (f.callback = null), (h = f.priorityLevel);
                var s = a(f.expirationTime <= n);
                (n = t.unstable_now()), "function" == typeof s ? (f.callback = s) : f === r(c) && i(c), b(n);
              } else i(c);
              f = r(c);
            }
            if (null !== f) var l = !0;
            else {
              var d = r(u);
              null !== d && B(x, d.startTime - n), (l = !1);
            }
            return l;
          } finally {
            (f = null), (h = o), (p = !1);
          }
        }
        "undefined" != typeof navigator &&
          void 0 !== navigator.scheduling &&
          void 0 !== navigator.scheduling.isInputPending &&
          navigator.scheduling.isInputPending.bind(navigator.scheduling);
        var k,
          j = !1,
          S = null,
          A = -1,
          C = 5,
          N = -1;
        function P() {
          return !(t.unstable_now() - N < C);
        }
        function _() {
          if (null !== S) {
            var e = t.unstable_now();
            N = e;
            var n = !0;
            try {
              n = S(!0, e);
            } finally {
              n ? k() : ((j = !1), (S = null));
            }
          } else j = !1;
        }
        if ("function" == typeof w)
          k = function () {
            w(_);
          };
        else if ("undefined" != typeof MessageChannel) {
          var T = new MessageChannel(),
            M = T.port2;
          (T.port1.onmessage = _),
            (k = function () {
              M.postMessage(null);
            });
        } else
          k = function () {
            g(_, 0);
          };
        function R(e) {
          (S = e), j || ((j = !0), k());
        }
        function B(e, n) {
          A = g(function () {
            e(t.unstable_now());
          }, n);
        }
        (t.unstable_IdlePriority = 5),
          (t.unstable_ImmediatePriority = 1),
          (t.unstable_LowPriority = 4),
          (t.unstable_NormalPriority = 3),
          (t.unstable_Profiling = null),
          (t.unstable_UserBlockingPriority = 2),
          (t.unstable_cancelCallback = function (e) {
            e.callback = null;
          }),
          (t.unstable_continueExecution = function () {
            m || p || ((m = !0), R(E));
          }),
          (t.unstable_forceFrameRate = function (e) {
            0 > e || 125 < e
              ? console.error(
                  "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
                )
              : (C = 0 < e ? Math.floor(1e3 / e) : 5);
          }),
          (t.unstable_getCurrentPriorityLevel = function () {
            return h;
          }),
          (t.unstable_getFirstCallbackNode = function () {
            return r(c);
          }),
          (t.unstable_next = function (e) {
            switch (h) {
              case 1:
              case 2:
              case 3:
                var t = 3;
                break;
              default:
                t = h;
            }
            var n = h;
            h = t;
            try {
              return e();
            } finally {
              h = n;
            }
          }),
          (t.unstable_pauseExecution = function () {}),
          (t.unstable_requestPaint = function () {}),
          (t.unstable_runWithPriority = function (e, t) {
            switch (e) {
              case 1:
              case 2:
              case 3:
              case 4:
              case 5:
                break;
              default:
                e = 3;
            }
            var n = h;
            h = e;
            try {
              return t();
            } finally {
              h = n;
            }
          }),
          (t.unstable_scheduleCallback = function (e, i, o) {
            var a = t.unstable_now();
            switch (
              ((o = "object" == typeof o && null !== o && "number" == typeof (o = o.delay) && 0 < o ? a + o : a), e)
            ) {
              case 1:
                var s = -1;
                break;
              case 2:
                s = 250;
                break;
              case 5:
                s = 1073741823;
                break;
              case 4:
                s = 1e4;
                break;
              default:
                s = 5e3;
            }
            return (
              (e = {
                id: d++,
                callback: i,
                priorityLevel: e,
                startTime: o,
                expirationTime: (s = o + s),
                sortIndex: -1,
              }),
              o > a
                ? ((e.sortIndex = o),
                  n(u, e),
                  null === r(c) && e === r(u) && (y ? (v(A), (A = -1)) : (y = !0), B(x, o - a)))
                : ((e.sortIndex = s), n(c, e), m || p || ((m = !0), R(E))),
              e
            );
          }),
          (t.unstable_shouldYield = P),
          (t.unstable_wrapCallback = function (e) {
            var t = h;
            return function () {
              var n = h;
              h = t;
              try {
                return e.apply(this, arguments);
              } finally {
                h = n;
              }
            };
          });
      },
      4150: (e, t, n) => {
        "use strict";
        e.exports = n(697);
      },
      4351: (e, t, n) => {
        var r, i, o;
        (o = function () {
          var e,
            t,
            n = document,
            r = n.getElementsByTagName("head")[0],
            i = !1,
            o = "push",
            a = "readyState",
            s = "onreadystatechange",
            l = {},
            c = {},
            u = {},
            d = {};
          function f(e, t) {
            for (var n = 0, r = e.length; n < r; ++n) if (!t(e[n])) return i;
            return 1;
          }
          function h(e, t) {
            f(e, function (e) {
              return t(e), 1;
            });
          }
          function p(t, n, r) {
            t = t[o] ? t : [t];
            var i = n && n.call,
              a = i ? n : r,
              s = i ? t.join("") : n,
              y = t.length;
            function g(e) {
              return e.call ? e() : l[e];
            }
            function v() {
              if (!--y) for (var e in ((l[s] = 1), a && a(), u)) f(e.split("|"), g) && !h(u[e], g) && (u[e] = []);
            }
            return (
              setTimeout(function () {
                h(t, function t(n, r) {
                  return null === n
                    ? v()
                    : (r || /^https?:\/\//.test(n) || !e || (n = -1 === n.indexOf(".js") ? e + n + ".js" : e + n),
                      d[n]
                        ? (s && (c[s] = 1),
                          2 == d[n]
                            ? v()
                            : setTimeout(function () {
                                t(n, !0);
                              }, 0))
                        : ((d[n] = 1), s && (c[s] = 1), void m(n, v)));
                });
              }, 0),
              p
            );
          }
          function m(e, i) {
            var o,
              l = n.createElement("script");
            (l.onload =
              l.onerror =
              l[s] =
                function () {
                  (l[a] && !/^c|loade/.test(l[a])) || o || ((l.onload = l[s] = null), (o = 1), (d[e] = 2), i());
                }),
              (l.async = 1),
              (l.src = t ? e + (-1 === e.indexOf("?") ? "?" : "&") + t : e),
              r.insertBefore(l, r.lastChild);
          }
          return (
            (p.get = m),
            (p.order = function (e, t, n) {
              !(function r(i) {
                (i = e.shift()), e.length ? p(i, r) : p(i, t, n);
              })();
            }),
            (p.path = function (t) {
              e = t;
            }),
            (p.urlArgs = function (e) {
              t = e;
            }),
            (p.ready = function (e, t, n) {
              e = e[o] ? e : [e];
              var r,
                i = [];
              return (
                !h(e, function (e) {
                  l[e] || i[o](e);
                }) &&
                f(e, function (e) {
                  return l[e];
                })
                  ? t()
                  : ((r = e.join("|")), (u[r] = u[r] || []), u[r][o](t), n && n(i)),
                p
              );
            }),
            (p.done = function (e) {
              p([null], e);
            }),
            p
          );
        }),
          e.exports
            ? (e.exports = o())
            : void 0 === (i = "function" == typeof (r = o) ? r.call(t, n, t, e) : r) || (e.exports = i);
      },
      43: e => {
        !(function () {
          var t = [
              "direction",
              "boxSizing",
              "width",
              "height",
              "overflowX",
              "overflowY",
              "borderTopWidth",
              "borderRightWidth",
              "borderBottomWidth",
              "borderLeftWidth",
              "borderStyle",
              "paddingTop",
              "paddingRight",
              "paddingBottom",
              "paddingLeft",
              "fontStyle",
              "fontVariant",
              "fontWeight",
              "fontStretch",
              "fontSize",
              "fontSizeAdjust",
              "lineHeight",
              "fontFamily",
              "textAlign",
              "textTransform",
              "textIndent",
              "textDecoration",
              "letterSpacing",
              "wordSpacing",
              "tabSize",
              "MozTabSize",
            ],
            n = "undefined" != typeof window,
            r = n && null != window.mozInnerScreenX;
          function i(e, i, o) {
            if (!n) throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");
            var a = (o && o.debug) || !1;
            if (a) {
              var s = document.querySelector("#input-textarea-caret-position-mirror-div");
              s && s.parentNode.removeChild(s);
            }
            var l = document.createElement("div");
            (l.id = "input-textarea-caret-position-mirror-div"), document.body.appendChild(l);
            var c = l.style,
              u = window.getComputedStyle ? getComputedStyle(e) : e.currentStyle;
            (c.whiteSpace = "pre-wrap"),
              "INPUT" !== e.nodeName && (c.wordWrap = "break-word"),
              (c.position = "absolute"),
              a || (c.visibility = "hidden"),
              t.forEach(function (e) {
                c[e] = u[e];
              }),
              r ? e.scrollHeight > parseInt(u.height) && (c.overflowY = "scroll") : (c.overflow = "hidden"),
              (l.textContent = e.value.substring(0, i)),
              "INPUT" === e.nodeName && (l.textContent = l.textContent.replace(/\s/g, " "));
            var d = document.createElement("span");
            (d.textContent = e.value.substring(i) || "."), l.appendChild(d);
            var f = { top: d.offsetTop + parseInt(u.borderTopWidth), left: d.offsetLeft + parseInt(u.borderLeftWidth) };
            return a ? (d.style.backgroundColor = "#aaa") : document.body.removeChild(l), f;
          }
          void 0 !== e.exports ? (e.exports = i) : n && (window.getCaretCoordinates = i);
        })();
      },
      4852: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          Object.defineProperty(t, "NIL", {
            enumerable: !0,
            get: function () {
              return s.default;
            },
          }),
          Object.defineProperty(t, "parse", {
            enumerable: !0,
            get: function () {
              return d.default;
            },
          }),
          Object.defineProperty(t, "stringify", {
            enumerable: !0,
            get: function () {
              return u.default;
            },
          }),
          Object.defineProperty(t, "v1", {
            enumerable: !0,
            get: function () {
              return r.default;
            },
          }),
          Object.defineProperty(t, "v3", {
            enumerable: !0,
            get: function () {
              return i.default;
            },
          }),
          Object.defineProperty(t, "v4", {
            enumerable: !0,
            get: function () {
              return o.default;
            },
          }),
          Object.defineProperty(t, "v5", {
            enumerable: !0,
            get: function () {
              return a.default;
            },
          }),
          Object.defineProperty(t, "validate", {
            enumerable: !0,
            get: function () {
              return c.default;
            },
          }),
          Object.defineProperty(t, "version", {
            enumerable: !0,
            get: function () {
              return l.default;
            },
          });
        var r = f(n(1199)),
          i = f(n(7783)),
          o = f(n(906)),
          a = f(n(1872)),
          s = f(n(3420)),
          l = f(n(3107)),
          c = f(n(1539)),
          u = f(n(9035)),
          d = f(n(1638));
        function f(e) {
          return e && e.__esModule ? e : { default: e };
        }
      },
      5106: (e, t) => {
        "use strict";
        function n(e) {
          return 14 + (((e + 64) >>> 9) << 4) + 1;
        }
        function r(e, t) {
          const n = (65535 & e) + (65535 & t);
          return (((e >> 16) + (t >> 16) + (n >> 16)) << 16) | (65535 & n);
        }
        function i(e, t, n, i, o, a) {
          return r(((s = r(r(t, e), r(i, a))) << (l = o)) | (s >>> (32 - l)), n);
          var s, l;
        }
        function o(e, t, n, r, o, a, s) {
          return i((t & n) | (~t & r), e, t, o, a, s);
        }
        function a(e, t, n, r, o, a, s) {
          return i((t & r) | (n & ~r), e, t, o, a, s);
        }
        function s(e, t, n, r, o, a, s) {
          return i(t ^ n ^ r, e, t, o, a, s);
        }
        function l(e, t, n, r, o, a, s) {
          return i(n ^ (t | ~r), e, t, o, a, s);
        }
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        t.default = function (e) {
          if ("string" == typeof e) {
            const t = unescape(encodeURIComponent(e));
            e = new Uint8Array(t.length);
            for (let n = 0; n < t.length; ++n) e[n] = t.charCodeAt(n);
          }
          return (function (e) {
            const t = [],
              n = 32 * e.length,
              r = "0123456789abcdef";
            for (let i = 0; i < n; i += 8) {
              const n = (e[i >> 5] >>> i % 32) & 255,
                o = parseInt(r.charAt((n >>> 4) & 15) + r.charAt(15 & n), 16);
              t.push(o);
            }
            return t;
          })(
            (function (e, t) {
              (e[t >> 5] |= 128 << t % 32), (e[n(t) - 1] = t);
              let i = 1732584193,
                c = -271733879,
                u = -1732584194,
                d = 271733878;
              for (let t = 0; t < e.length; t += 16) {
                const n = i,
                  f = c,
                  h = u,
                  p = d;
                (i = o(i, c, u, d, e[t], 7, -680876936)),
                  (d = o(d, i, c, u, e[t + 1], 12, -389564586)),
                  (u = o(u, d, i, c, e[t + 2], 17, 606105819)),
                  (c = o(c, u, d, i, e[t + 3], 22, -1044525330)),
                  (i = o(i, c, u, d, e[t + 4], 7, -176418897)),
                  (d = o(d, i, c, u, e[t + 5], 12, 1200080426)),
                  (u = o(u, d, i, c, e[t + 6], 17, -1473231341)),
                  (c = o(c, u, d, i, e[t + 7], 22, -45705983)),
                  (i = o(i, c, u, d, e[t + 8], 7, 1770035416)),
                  (d = o(d, i, c, u, e[t + 9], 12, -1958414417)),
                  (u = o(u, d, i, c, e[t + 10], 17, -42063)),
                  (c = o(c, u, d, i, e[t + 11], 22, -1990404162)),
                  (i = o(i, c, u, d, e[t + 12], 7, 1804603682)),
                  (d = o(d, i, c, u, e[t + 13], 12, -40341101)),
                  (u = o(u, d, i, c, e[t + 14], 17, -1502002290)),
                  (c = o(c, u, d, i, e[t + 15], 22, 1236535329)),
                  (i = a(i, c, u, d, e[t + 1], 5, -165796510)),
                  (d = a(d, i, c, u, e[t + 6], 9, -1069501632)),
                  (u = a(u, d, i, c, e[t + 11], 14, 643717713)),
                  (c = a(c, u, d, i, e[t], 20, -373897302)),
                  (i = a(i, c, u, d, e[t + 5], 5, -701558691)),
                  (d = a(d, i, c, u, e[t + 10], 9, 38016083)),
                  (u = a(u, d, i, c, e[t + 15], 14, -660478335)),
                  (c = a(c, u, d, i, e[t + 4], 20, -405537848)),
                  (i = a(i, c, u, d, e[t + 9], 5, 568446438)),
                  (d = a(d, i, c, u, e[t + 14], 9, -1019803690)),
                  (u = a(u, d, i, c, e[t + 3], 14, -187363961)),
                  (c = a(c, u, d, i, e[t + 8], 20, 1163531501)),
                  (i = a(i, c, u, d, e[t + 13], 5, -1444681467)),
                  (d = a(d, i, c, u, e[t + 2], 9, -51403784)),
                  (u = a(u, d, i, c, e[t + 7], 14, 1735328473)),
                  (c = a(c, u, d, i, e[t + 12], 20, -1926607734)),
                  (i = s(i, c, u, d, e[t + 5], 4, -378558)),
                  (d = s(d, i, c, u, e[t + 8], 11, -2022574463)),
                  (u = s(u, d, i, c, e[t + 11], 16, 1839030562)),
                  (c = s(c, u, d, i, e[t + 14], 23, -35309556)),
                  (i = s(i, c, u, d, e[t + 1], 4, -1530992060)),
                  (d = s(d, i, c, u, e[t + 4], 11, 1272893353)),
                  (u = s(u, d, i, c, e[t + 7], 16, -155497632)),
                  (c = s(c, u, d, i, e[t + 10], 23, -1094730640)),
                  (i = s(i, c, u, d, e[t + 13], 4, 681279174)),
                  (d = s(d, i, c, u, e[t], 11, -358537222)),
                  (u = s(u, d, i, c, e[t + 3], 16, -722521979)),
                  (c = s(c, u, d, i, e[t + 6], 23, 76029189)),
                  (i = s(i, c, u, d, e[t + 9], 4, -640364487)),
                  (d = s(d, i, c, u, e[t + 12], 11, -421815835)),
                  (u = s(u, d, i, c, e[t + 15], 16, 530742520)),
                  (c = s(c, u, d, i, e[t + 2], 23, -995338651)),
                  (i = l(i, c, u, d, e[t], 6, -198630844)),
                  (d = l(d, i, c, u, e[t + 7], 10, 1126891415)),
                  (u = l(u, d, i, c, e[t + 14], 15, -1416354905)),
                  (c = l(c, u, d, i, e[t + 5], 21, -57434055)),
                  (i = l(i, c, u, d, e[t + 12], 6, 1700485571)),
                  (d = l(d, i, c, u, e[t + 3], 10, -1894986606)),
                  (u = l(u, d, i, c, e[t + 10], 15, -1051523)),
                  (c = l(c, u, d, i, e[t + 1], 21, -2054922799)),
                  (i = l(i, c, u, d, e[t + 8], 6, 1873313359)),
                  (d = l(d, i, c, u, e[t + 15], 10, -30611744)),
                  (u = l(u, d, i, c, e[t + 6], 15, -1560198380)),
                  (c = l(c, u, d, i, e[t + 13], 21, 1309151649)),
                  (i = l(i, c, u, d, e[t + 4], 6, -145523070)),
                  (d = l(d, i, c, u, e[t + 11], 10, -1120210379)),
                  (u = l(u, d, i, c, e[t + 2], 15, 718787259)),
                  (c = l(c, u, d, i, e[t + 9], 21, -343485551)),
                  (i = r(i, n)),
                  (c = r(c, f)),
                  (u = r(u, h)),
                  (d = r(d, p));
              }
              return [i, c, u, d];
            })(
              (function (e) {
                if (0 === e.length) return [];
                const t = 8 * e.length,
                  r = new Uint32Array(n(t));
                for (let n = 0; n < t; n += 8) r[n >> 5] |= (255 & e[n / 8]) << n % 32;
                return r;
              })(e),
              8 * e.length
            )
          );
        };
      },
      1567: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var n = { randomUUID: "undefined" != typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto) };
        t.default = n;
      },
      3420: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.default = void 0),
          (t.default = "00000000-0000-0000-0000-000000000000");
      },
      1638: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r,
          i = (r = n(1539)) && r.__esModule ? r : { default: r };
        t.default = function (e) {
          if (!(0, i.default)(e)) throw TypeError("Invalid UUID");
          let t;
          const n = new Uint8Array(16);
          return (
            (n[0] = (t = parseInt(e.slice(0, 8), 16)) >>> 24),
            (n[1] = (t >>> 16) & 255),
            (n[2] = (t >>> 8) & 255),
            (n[3] = 255 & t),
            (n[4] = (t = parseInt(e.slice(9, 13), 16)) >>> 8),
            (n[5] = 255 & t),
            (n[6] = (t = parseInt(e.slice(14, 18), 16)) >>> 8),
            (n[7] = 255 & t),
            (n[8] = (t = parseInt(e.slice(19, 23), 16)) >>> 8),
            (n[9] = 255 & t),
            (n[10] = ((t = parseInt(e.slice(24, 36), 16)) / 1099511627776) & 255),
            (n[11] = (t / 4294967296) & 255),
            (n[12] = (t >>> 24) & 255),
            (n[13] = (t >>> 16) & 255),
            (n[14] = (t >>> 8) & 255),
            (n[15] = 255 & t),
            n
          );
        };
      },
      9686: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.default = void 0),
          (t.default =
            /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);
      },
      5336: (e, t) => {
        "use strict";
        let n;
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.default = function () {
            if (
              !n &&
              ((n = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)), !n)
            )
              throw new Error(
                "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
              );
            return n(r);
          });
        const r = new Uint8Array(16);
      },
      5903: (e, t) => {
        "use strict";
        function n(e, t, n, r) {
          switch (e) {
            case 0:
              return (t & n) ^ (~t & r);
            case 1:
            case 3:
              return t ^ n ^ r;
            case 2:
              return (t & n) ^ (t & r) ^ (n & r);
          }
        }
        function r(e, t) {
          return (e << t) | (e >>> (32 - t));
        }
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        t.default = function (e) {
          const t = [1518500249, 1859775393, 2400959708, 3395469782],
            i = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
          if ("string" == typeof e) {
            const t = unescape(encodeURIComponent(e));
            e = [];
            for (let n = 0; n < t.length; ++n) e.push(t.charCodeAt(n));
          } else Array.isArray(e) || (e = Array.prototype.slice.call(e));
          e.push(128);
          const o = e.length / 4 + 2,
            a = Math.ceil(o / 16),
            s = new Array(a);
          for (let t = 0; t < a; ++t) {
            const n = new Uint32Array(16);
            for (let r = 0; r < 16; ++r)
              n[r] =
                (e[64 * t + 4 * r] << 24) |
                (e[64 * t + 4 * r + 1] << 16) |
                (e[64 * t + 4 * r + 2] << 8) |
                e[64 * t + 4 * r + 3];
            s[t] = n;
          }
          (s[a - 1][14] = (8 * (e.length - 1)) / Math.pow(2, 32)),
            (s[a - 1][14] = Math.floor(s[a - 1][14])),
            (s[a - 1][15] = (8 * (e.length - 1)) & 4294967295);
          for (let e = 0; e < a; ++e) {
            const o = new Uint32Array(80);
            for (let t = 0; t < 16; ++t) o[t] = s[e][t];
            for (let e = 16; e < 80; ++e) o[e] = r(o[e - 3] ^ o[e - 8] ^ o[e - 14] ^ o[e - 16], 1);
            let a = i[0],
              l = i[1],
              c = i[2],
              u = i[3],
              d = i[4];
            for (let e = 0; e < 80; ++e) {
              const i = Math.floor(e / 20),
                s = (r(a, 5) + n(i, l, c, u) + d + t[i] + o[e]) >>> 0;
              (d = u), (u = c), (c = r(l, 30) >>> 0), (l = a), (a = s);
            }
            (i[0] = (i[0] + a) >>> 0),
              (i[1] = (i[1] + l) >>> 0),
              (i[2] = (i[2] + c) >>> 0),
              (i[3] = (i[3] + u) >>> 0),
              (i[4] = (i[4] + d) >>> 0);
          }
          return [
            (i[0] >> 24) & 255,
            (i[0] >> 16) & 255,
            (i[0] >> 8) & 255,
            255 & i[0],
            (i[1] >> 24) & 255,
            (i[1] >> 16) & 255,
            (i[1] >> 8) & 255,
            255 & i[1],
            (i[2] >> 24) & 255,
            (i[2] >> 16) & 255,
            (i[2] >> 8) & 255,
            255 & i[2],
            (i[3] >> 24) & 255,
            (i[3] >> 16) & 255,
            (i[3] >> 8) & 255,
            255 & i[3],
            (i[4] >> 24) & 255,
            (i[4] >> 16) & 255,
            (i[4] >> 8) & 255,
            255 & i[4],
          ];
        };
      },
      9035: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0), (t.unsafeStringify = a);
        var r,
          i = (r = n(1539)) && r.__esModule ? r : { default: r };
        const o = [];
        for (let e = 0; e < 256; ++e) o.push((e + 256).toString(16).slice(1));
        function a(e, t = 0) {
          return (
            o[e[t + 0]] +
            o[e[t + 1]] +
            o[e[t + 2]] +
            o[e[t + 3]] +
            "-" +
            o[e[t + 4]] +
            o[e[t + 5]] +
            "-" +
            o[e[t + 6]] +
            o[e[t + 7]] +
            "-" +
            o[e[t + 8]] +
            o[e[t + 9]] +
            "-" +
            o[e[t + 10]] +
            o[e[t + 11]] +
            o[e[t + 12]] +
            o[e[t + 13]] +
            o[e[t + 14]] +
            o[e[t + 15]]
          ).toLowerCase();
        }
        t.default = function (e, t = 0) {
          const n = a(e, t);
          if (!(0, i.default)(n)) throw TypeError("Stringified UUID is invalid");
          return n;
        };
      },
      1199: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r,
          i = (r = n(5336)) && r.__esModule ? r : { default: r },
          o = n(9035);
        let a,
          s,
          l = 0,
          c = 0;
        t.default = function (e, t, n) {
          let r = (t && n) || 0;
          const u = t || new Array(16);
          let d = (e = e || {}).node || a,
            f = void 0 !== e.clockseq ? e.clockseq : s;
          if (null == d || null == f) {
            const t = e.random || (e.rng || i.default)();
            null == d && (d = a = [1 | t[0], t[1], t[2], t[3], t[4], t[5]]),
              null == f && (f = s = 16383 & ((t[6] << 8) | t[7]));
          }
          let h = void 0 !== e.msecs ? e.msecs : Date.now(),
            p = void 0 !== e.nsecs ? e.nsecs : c + 1;
          const m = h - l + (p - c) / 1e4;
          if (
            (m < 0 && void 0 === e.clockseq && (f = (f + 1) & 16383),
            (m < 0 || h > l) && void 0 === e.nsecs && (p = 0),
            p >= 1e4)
          )
            throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
          (l = h), (c = p), (s = f), (h += 122192928e5);
          const y = (1e4 * (268435455 & h) + p) % 4294967296;
          (u[r++] = (y >>> 24) & 255), (u[r++] = (y >>> 16) & 255), (u[r++] = (y >>> 8) & 255), (u[r++] = 255 & y);
          const g = ((h / 4294967296) * 1e4) & 268435455;
          (u[r++] = (g >>> 8) & 255),
            (u[r++] = 255 & g),
            (u[r++] = ((g >>> 24) & 15) | 16),
            (u[r++] = (g >>> 16) & 255),
            (u[r++] = (f >>> 8) | 128),
            (u[r++] = 255 & f);
          for (let e = 0; e < 6; ++e) u[r + e] = d[e];
          return t || (0, o.unsafeStringify)(u);
        };
      },
      7783: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r = o(n(7660)),
          i = o(n(5106));
        function o(e) {
          return e && e.__esModule ? e : { default: e };
        }
        var a = (0, r.default)("v3", 48, i.default);
        t.default = a;
      },
      7660: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.URL = t.DNS = void 0),
          (t.default = function (e, t, n) {
            function r(e, r, a, s) {
              var l;
              if (
                ("string" == typeof e &&
                  (e = (function (e) {
                    e = unescape(encodeURIComponent(e));
                    const t = [];
                    for (let n = 0; n < e.length; ++n) t.push(e.charCodeAt(n));
                    return t;
                  })(e)),
                "string" == typeof r && (r = (0, o.default)(r)),
                16 !== (null === (l = r) || void 0 === l ? void 0 : l.length))
              )
                throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
              let c = new Uint8Array(16 + e.length);
              if ((c.set(r), c.set(e, r.length), (c = n(c)), (c[6] = (15 & c[6]) | t), (c[8] = (63 & c[8]) | 128), a)) {
                s = s || 0;
                for (let e = 0; e < 16; ++e) a[s + e] = c[e];
                return a;
              }
              return (0, i.unsafeStringify)(c);
            }
            try {
              r.name = e;
            } catch (e) {}
            return (r.DNS = a), (r.URL = s), r;
          });
        var r,
          i = n(9035),
          o = (r = n(1638)) && r.__esModule ? r : { default: r };
        const a = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
        t.DNS = a;
        const s = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
        t.URL = s;
      },
      906: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r = a(n(1567)),
          i = a(n(5336)),
          o = n(9035);
        function a(e) {
          return e && e.__esModule ? e : { default: e };
        }
        t.default = function (e, t, n) {
          if (r.default.randomUUID && !t && !e) return r.default.randomUUID();
          const a = (e = e || {}).random || (e.rng || i.default)();
          if (((a[6] = (15 & a[6]) | 64), (a[8] = (63 & a[8]) | 128), t)) {
            n = n || 0;
            for (let e = 0; e < 16; ++e) t[n + e] = a[e];
            return t;
          }
          return (0, o.unsafeStringify)(a);
        };
      },
      1872: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r = o(n(7660)),
          i = o(n(5903));
        function o(e) {
          return e && e.__esModule ? e : { default: e };
        }
        var a = (0, r.default)("v5", 80, i.default);
        t.default = a;
      },
      1539: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r,
          i = (r = n(9686)) && r.__esModule ? r : { default: r };
        t.default = function (e) {
          return "string" == typeof e && i.default.test(e);
        };
      },
      3107: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
        var r,
          i = (r = n(1539)) && r.__esModule ? r : { default: r };
        t.default = function (e) {
          if (!(0, i.default)(e)) throw TypeError("Invalid UUID");
          return parseInt(e.slice(14, 15), 16);
        };
      },
      4670: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.EmailRegex = void 0),
          (t.EmailRegex =
            /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
      },
      6123: function (e, t) {
        "use strict";
        var n,
          r,
          i,
          o =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          a =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.ExternalStore = void 0),
          (t.ExternalStore = class {
            constructor() {
              n.set(this, []), r.set(this, {}), i.set(this, !0);
            }
            hook(e) {
              return (
                o(this, n, "f").push({ fn: e }),
                () => {
                  const t = o(this, n, "f").findIndex(t => t.fn === e);
                  t >= 0 && o(this, n, "f").splice(t, 1);
                }
              );
            }
            snapshot(e) {
              return o(this, i, "f") && (a(this, r, this.takeSnapshot(e), "f"), a(this, i, !1, "f")), o(this, r, "f");
            }
            notifyChange(e) {
              a(this, i, !0, "f"), o(this, n, "f").length > 0 && o(this, n, "f").forEach(t => t.fn(e));
            }
          }),
          (n = new WeakMap()),
          (r = new WeakMap()),
          (i = new WeakMap());
      },
      5865: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          u =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          d =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.FeedCache = void 0);
        const f = d(n(6530)),
          h = n(6422);
        (t.FeedCache = class {
          constructor(e, t) {
            r.set(this, void 0),
              i.set(this, []),
              o.set(this, []),
              a.set(this, !0),
              s.set(this, 0),
              l.set(this, 0),
              (this.onTable = new Set()),
              (this.cache = new Map()),
              c(this, r, e, "f"),
              (this.table = t),
              setInterval(() => {
                (0, f.default)(u(this, r, "f"))(
                  "%d loaded, %d on-disk, %d hooks, %d% hit",
                  this.cache.size,
                  this.onTable.size,
                  u(this, i, "f").length,
                  ((u(this, s, "f") / (u(this, s, "f") + u(this, l, "f"))) * 100).toFixed(1)
                );
              }, 3e4);
          }
          async preload() {
            const e = (await this.table?.toCollection().primaryKeys()) ?? [];
            this.onTable = new Set(e.map(e => e));
          }
          hook(e, t) {
            return t
              ? (u(this, i, "f").push({ key: t, fn: e }),
                () => {
                  const t = u(this, i, "f").findIndex(t => t.fn === e);
                  t >= 0 && u(this, i, "f").splice(t, 1);
                })
              : () => {};
          }
          getFromCache(e) {
            var t, n;
            if (e) {
              const r = this.cache.get(e);
              return (
                r ? c(this, s, ((t = u(this, s, "f")), ++t), "f") : c(this, l, ((n = u(this, l, "f")), ++n), "f"), r
              );
            }
          }
          async get(e) {
            if (e && !this.cache.has(e) && this.table) {
              const t = await this.table.get(e);
              if (t) return this.cache.set(this.key(t), t), this.notifyChange([e]), t;
            }
            return e ? this.cache.get(e) : void 0;
          }
          async bulkGet(e) {
            const t = e.filter(e => !this.cache.has(e));
            return (
              t.length > 0 &&
                this.table &&
                (await this.table.bulkGet(t)).forEach(e => {
                  e && this.cache.set(this.key(e), e);
                }),
              e
                .map(e => this.cache.get(e))
                .filter(e => e)
                .map(e => (0, h.unwrap)(e))
            );
          }
          async set(e) {
            const t = this.key(e);
            this.cache.set(t, e), this.table && (await this.table.put(e), this.onTable.add(t)), this.notifyChange([t]);
          }
          async bulkSet(e) {
            this.table && (await this.table.bulkPut(e), e.forEach(e => this.onTable.add(this.key(e)))),
              e.forEach(e => this.cache.set(this.key(e), e)),
              this.notifyChange(e.map(e => this.key(e)));
          }
          async update(e) {
            const t = this.key(e),
              n = this.getFromCache(t),
              i = n ? (n.created < e.created ? "updated" : n && n.loaded < e.loaded ? "refresh" : "no_change") : "new";
            if (((0, f.default)(u(this, r, "f"))("Updating %s %s %o", t, i, e), "no_change" !== i)) {
              const t = { ...n, ...e };
              await this.set(t);
            }
            return i;
          }
          async buffer(e) {
            const t = e.filter(e => !this.cache.has(e));
            if (this.table && t.length > 0) {
              const n = t.map(e => ({ has: this.onTable.has(e), key: e })),
                i = (0, h.unixNowMs)(),
                o = (await this.table.bulkGet(n.filter(e => e.has).map(e => e.key)))
                  .filter(e => void 0 !== e)
                  .map(e => (0, h.unwrap)(e));
              return (
                o.forEach(e => {
                  this.cache.set(this.key(e), e);
                }),
                this.notifyChange(o.map(e => this.key(e))),
                (0, f.default)(u(this, r, "f"))(
                  "Loaded %d/%d in %d ms",
                  o.length,
                  e.length,
                  ((0, h.unixNowMs)() - i).toLocaleString()
                ),
                n.filter(e => !e.has).map(e => e.key)
              );
            }
            return t;
          }
          async clear() {
            await this.table?.clear(), this.cache.clear(), this.onTable.clear();
          }
          snapshot() {
            return u(this, a, "f") && (c(this, o, this.takeSnapshot(), "f"), c(this, a, !1, "f")), u(this, o, "f");
          }
          notifyChange(e) {
            c(this, a, !0, "f"),
              u(this, i, "f")
                .filter(t => e.includes(t.key) || "*" === t.key)
                .forEach(e => e.fn());
          }
        }),
          (r = new WeakMap()),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (l = new WeakMap());
      },
      5861: function (e, t, n) {
        "use strict";
        var r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          i =
            (this && this.__exportStar) ||
            function (e, t) {
              for (var n in e) "default" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          i(n(6123), t),
          i(n(9096), t),
          i(n(6422), t),
          i(n(5185), t),
          i(n(5865), t),
          i(n(8875), t);
      },
      8875: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.decodeInvoice = void 0);
        const r = n(1937),
          i = n(2104);
        t.decodeInvoice = function (e) {
          try {
            const t = (0, i.decode)(e),
              n = t.sections.find(e => "amount" === e.name),
              o = n ? Number(n.value) : void 0,
              a = t.sections.find(e => "timestamp" === e.name),
              s = a ? Number(a.value) : void 0,
              l = t.sections.find(e => "expiry" === e.name),
              c = l ? Number(l.value) : void 0,
              u = t.sections.find(e => "description" === e.name)?.value,
              d = t.sections.find(e => "description_hash" === e.name)?.value,
              f = t.sections.find(e => "payment_hash" === e.name)?.value,
              h = {
                pr: e,
                amount: o,
                expire: s && c ? s + c : void 0,
                timestamp: s,
                description: u,
                descriptionHash: d ? ("string" == typeof d ? d : (0, r.bytesToHex)(d)) : void 0,
                paymentHash: f ? ("string" == typeof f ? f : (0, r.bytesToHex)(f)) : void 0,
                expired: !1,
              };
            return h.expire && (h.expired = h.expire < new Date().getTime() / 1e3), h;
          } catch (e) {
            console.error(e);
          }
        };
      },
      9096: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          l =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.LNURL = t.LNURLError = t.LNURLErrorCode = void 0);
        const c = n(4670),
          u = n(6422);
        var d;
        !(function (e) {
          (e[(e.ServiceUnavailable = 1)] = "ServiceUnavailable"), (e[(e.InvalidLNURL = 2)] = "InvalidLNURL");
        })(d || (t.LNURLErrorCode = d = {}));
        class f extends Error {
          constructor(e, t) {
            super(t), (this.code = e);
          }
        }
        (t.LNURLError = f),
          (t.LNURL = class {
            constructor(e) {
              if (
                (r.add(this),
                i.set(this, void 0),
                o.set(this, void 0),
                (e = e.toLowerCase().trim()).startsWith("lnurl"))
              ) {
                const t = (0, u.bech32ToText)(e);
                if (!t.startsWith("http")) throw new f(d.InvalidLNURL, "Not a url");
                s(this, i, new URL(t), "f");
              } else if (e.match(c.EmailRegex)) {
                const [t, n] = e.split("@");
                s(this, i, new URL(`https://${n}/.well-known/lnurlp/${t}`), "f");
              } else if (e.startsWith("https:")) s(this, i, new URL(e), "f");
              else {
                if (!e.startsWith("lnurlp:")) throw new f(d.InvalidLNURL, "Could not determine service url");
                {
                  const t = new URL(e);
                  (t.protocol = "https:"), s(this, i, t, "f");
                }
              }
            }
            get url() {
              return l(this, i, "f");
            }
            get lnurl() {
              return this.isLNAddress ? this.getLNAddress() : l(this, i, "f").toString();
            }
            get name() {
              return this.isLNAddress ? this.getLNAddress() : l(this, i, "f").hostname;
            }
            get isLNAddress() {
              return l(this, i, "f").pathname.startsWith("/.well-known/lnurlp/");
            }
            getLNAddress() {
              const e = l(this, i, "f").pathname.split("/");
              return `${e[e.length - 1]}@${l(this, i, "f").hostname}`;
            }
            getZapTag() {
              return this.isLNAddress
                ? ["zap", this.getLNAddress(), "lud16"]
                : ["zap", l(this, i, "f").toString(), "lud06"];
            }
            async load() {
              const e = await fetch(l(this, i, "f"));
              e.ok && (s(this, o, await e.json(), "f"), l(this, r, "m", a).call(this));
            }
            async getInvoice(e, t, n) {
              const r = new URL((0, u.unwrap)(l(this, o, "f")?.callback)),
                i = new Map();
              r.search.length > 0 &&
                r.search
                  .slice(1)
                  .split("&")
                  .forEach(e => {
                    const t = e.split("=");
                    i.set(t[0], t[1]);
                  }),
                i.set("amount", Math.floor(1e3 * e).toString()),
                t && l(this, o, "f")?.commentAllowed && i.set("comment", t),
                l(this, o, "f")?.nostrPubkey && n && i.set("nostr", JSON.stringify(n));
              const a = `${r.protocol}//${r.host}${r.pathname}`,
                s = [...i.entries()].map(e => `${e[0]}=${encodeURIComponent(e[1])}`).join("&");
              try {
                const e = await fetch(`${a}?${s}`);
                if (e.ok) {
                  const t = await e.json();
                  if ((console.debug("[LNURL]: ", t), "ERROR" === t.status)) throw new Error(t.reason);
                  return t;
                }
                throw new f(d.ServiceUnavailable, `Failed to fetch invoice (${e.statusText})`);
              } catch (e) {
                throw new f(d.ServiceUnavailable, "Failed to load callback");
              }
            }
            get canZap() {
              return !!l(this, o, "f")?.nostrPubkey;
            }
            get zapperPubkey() {
              return l(this, o, "f")?.nostrPubkey;
            }
            get maxCommentLength() {
              return l(this, o, "f")?.commentAllowed ?? 0;
            }
            get min() {
              return l(this, o, "f")?.minSendable ?? 1e3;
            }
            get max() {
              return l(this, o, "f")?.maxSendable ?? 1e11;
            }
          }),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (r = new WeakSet()),
          (a = function () {
            if ("payRequest" !== l(this, o, "f")?.tag) throw new f(d.InvalidLNURL, "Only LNURLp is supported");
            if (!l(this, o, "f")?.callback) throw new f(d.InvalidLNURL, "No callback url");
          });
      },
      6422: function (e, t, n) {
        "use strict";
        var r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", { enumerable: !0, value: t });
                }
              : function (e, t) {
                  e.default = t;
                }),
          o =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var n in e) "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.fetchNip05Pubkey =
            t.bech32ToText =
            t.bech32ToHex =
            t.getPublicKey =
            t.sha256 =
            t.appendDedupe =
            t.dedupe =
            t.distance =
            t.equalProp =
            t.countMembers =
            t.deepEqual =
            t.deepClone =
            t.unixNowMs =
            t.unixNow =
            t.sanitizeRelayUrl =
            t.hexToBech32 =
            t.unwrap =
              void 0);
        const a = o(n(8298)),
          s = o(n(5437)),
          l = n(7576),
          c = n(5856);
        function u() {
          return new Date().getTime();
        }
        function d(e) {
          return [...new Set(e)];
        }
        (t.unwrap = function (e) {
          if (null == e) throw new Error("missing value");
          return e;
        }),
          (t.hexToBech32 = function (e, t) {
            if ("string" != typeof t || 0 === t.length || t.length % 2 != 0) return "";
            try {
              const n = a.hexToBytes(t);
              return c.bech32.encode(e, c.bech32.toWords(n));
            } catch (e) {
              return console.warn("Invalid hex", t, e), "";
            }
          }),
          (t.sanitizeRelayUrl = function (e) {
            try {
              return new URL(e).toString();
            } catch {}
          }),
          (t.unixNow = function () {
            return Math.floor(u() / 1e3);
          }),
          (t.unixNowMs = u),
          (t.deepClone = function (e) {
            return "structuredClone" in window ? structuredClone(e) : JSON.parse(JSON.stringify(e));
          }),
          (t.deepEqual = function e(t, n) {
            const r = Object.keys,
              i = typeof t;
            return t && n && "object" === i && i === typeof n
              ? r(t).length === r(n).length && r(t).every(r => e(t[r], n[r]))
              : t === n;
          }),
          (t.countMembers = function (e) {
            let t = 0;
            for (const [n, r] of Object.entries(e)) Array.isArray(r) && (t += r.length);
            return t;
          }),
          (t.equalProp = function (e, t) {
            if ((void 0 !== e && void 0 === t) || (void 0 === e && void 0 !== t)) return !1;
            if (Array.isArray(e) && Array.isArray(t)) {
              if (e.length !== t.length) return !1;
              if (!e.every(e => t.includes(e))) return !1;
            }
            return e === t;
          }),
          (t.distance = function (e, t) {
            const n = Object.keys(e),
              r = Object.keys(t),
              i = n.length > r.length ? n : r;
            let o = 0;
            for (const n of i)
              if (n in e && n in t)
                if (Array.isArray(e[n]) && Array.isArray(t[n])) {
                  const r = e[n],
                    i = t[n];
                  r.length === i.length ? r.some(e => !i.includes(e)) && o++ : o++;
                } else e[n] !== t[n] && o++;
              else o += 10;
            return o;
          }),
          (t.dedupe = d),
          (t.appendDedupe = function (e, t) {
            return d([...(e ?? []), ...(t ?? [])]);
          }),
          (t.sha256 = e => a.bytesToHex((0, l.sha256)(e))),
          (t.getPublicKey = function (e) {
            return a.bytesToHex(s.schnorr.getPublicKey(e));
          }),
          (t.bech32ToHex = function (e) {
            try {
              const t = c.bech32.decode(e, 1e3),
                n = c.bech32.fromWords(t.words);
              return a.bytesToHex(Uint8Array.from(n));
            } catch (t) {
              return e;
            }
          }),
          (t.bech32ToText = function (e) {
            try {
              const t = c.bech32.decode(e, 1e3),
                n = c.bech32.fromWords(t.words);
              return new TextDecoder().decode(Uint8Array.from(n));
            } catch {
              return "";
            }
          }),
          (t.fetchNip05Pubkey = async function (e, t, n = 2e3) {
            if (e && t)
              try {
                const r = await fetch(`https://${t}/.well-known/nostr.json?name=${encodeURIComponent(e)}`, {
                    signal: AbortSignal.timeout(n),
                  }),
                  i = await r.json(),
                  o = Object.keys(i.names).find(t => t.toLowerCase() === e.toLowerCase());
                return o ? i.names[o] : void 0;
              } catch {}
          });
      },
      5185: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.barrierQueue = t.processWorkQueue = void 0),
          (t.processWorkQueue = async function e(t, n = 200) {
            for (; t && t.length > 0; ) {
              const e = t.shift();
              if (e)
                try {
                  const t = await e.next();
                  e.resolve(t);
                } catch (t) {
                  e.reject(t);
                }
            }
            setTimeout(() => e(t, n), n);
          }),
          (t.barrierQueue = async (e, t) =>
            new Promise((n, r) => {
              e.push({ next: t, resolve: n, reject: r });
            }));
      },
      2442: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.SnortContext = void 0);
        const r = n(6174),
          i = n(2087);
        t.SnortContext = (0, r.createContext)(new i.NostrSystem({}));
      },
      5712: function (e, t, n) {
        "use strict";
        var r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          i =
            (this && this.__exportStar) ||
            function (e, t) {
              for (var n in e) "default" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          i(n(8878), t),
          i(n(582), t),
          i(n(3228), t),
          i(n(2442), t),
          i(n(5608), t);
      },
      8878: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.useRequestBuilder = void 0);
        const r = n(6174),
          i = n(2087),
          o = n(5861),
          a = n(2442);
        t.useRequestBuilder = (e, t) => {
          const n = (0, r.useContext)(a.SnortContext);
          return (0, r.useSyncExternalStore)(
            r =>
              (r => {
                if (t) {
                  const i = n.Query(e, t),
                    o = i.feed.hook(r);
                  return (
                    i.uncancel(),
                    () => {
                      i.cancel(), o();
                    }
                  );
                }
                return () => {};
              })(r),
            () =>
              (() => {
                const e = n.GetQuery(t?.id ?? "");
                return e ? (0, o.unwrap)(e).feed?.snapshot : i.EmptySnapshot;
              })()
          );
        };
      },
      582: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.useSystemState = void 0);
        const r = n(6174);
        t.useSystemState = function (e) {
          return (0, r.useSyncExternalStore)(
            t => e.hook(t),
            () => e.snapshot()
          );
        };
      },
      3228: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.useUserProfile = void 0);
        const r = n(6174),
          i = n(2442);
        t.useUserProfile = function (e) {
          const t = (0, r.useContext)(i.SnortContext);
          return (0, r.useSyncExternalStore)(
            n => {
              e && t.ProfileLoader.TrackMetadata(e);
              const r = t.ProfileLoader.Cache.hook(n, e);
              return () => {
                r(), e && t.ProfileLoader.UntrackMetadata(e);
              };
            },
            () => t.ProfileLoader.Cache.getFromCache(e)
          );
        };
      },
      5608: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.useUserSearch = void 0);
        const r = n(6174),
          i = n(2087),
          o = n(5861),
          a = n(2442);
        t.useUserSearch = function () {
          const e = (0, r.useContext)(a.SnortContext).ProfileLoader.Cache;
          return async function (t) {
            if (64 === t.length && [...t].every(e => !isNaN(parseInt(e, 16)))) return [t];
            if (t.startsWith(i.NostrPrefix.PublicKey) || t.startsWith(i.NostrPrefix.Profile)) {
              const e = (0, i.tryParseNostrLink)(t);
              if (e) return [e.id];
            }
            if (t.includes("@")) {
              const [e, n] = t.split("@"),
                r = await (0, o.fetchNip05Pubkey)(e, n);
              if (r) return [r];
            }
            return (await e.search(t)).map(e => e.pubkey);
          };
        };
      },
      3910: function (e, t, n) {
        "use strict";
        var r =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.SnortSystemDb = void 0);
        const i = r(n(2467)),
          o = {
            users: "++pubkey, name, display_name, picture, nip05, npub",
            relayMetrics: "++addr",
            userRelays: "++pubkey",
            events: "++id, pubkey, created_at",
          };
        class a extends i.default {
          constructor() {
            super("snort-system"), (this.ready = !1), this.version(2).stores(o);
          }
          isAvailable() {
            return "indexedDB" in window
              ? new Promise(e => {
                  const t = window.indexedDB.open("dummy", 1);
                  (t.onsuccess = () => {
                    e(!0);
                  }),
                    (t.onerror = () => {
                      e(!1);
                    });
                })
              : Promise.resolve(!1);
          }
        }
        t.SnortSystemDb = a;
      },
      7249: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.mapEventToProfile = t.db = void 0);
        const r = n(5861),
          i = n(3910);
        (t.db = new i.SnortSystemDb()),
          (t.mapEventToProfile = function (e) {
            try {
              let t = {
                ...JSON.parse(e.content),
                pubkey: e.pubkey,
                npub: (0, r.hexToBech32)("npub", e.pubkey),
                created: e.created_at,
                loaded: (0, r.unixNowMs)(),
              };
              for (const [e, n] of Object.entries(t)) "number" != typeof n && "string" != typeof n && (t[e] = void 0);
              return t;
            } catch (t) {
              console.error("Failed to parse JSON", e, t);
            }
          });
      },
      8263: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.RelayMetricCache = void 0);
        const r = n(7249),
          i = n(5861);
        class o extends i.FeedCache {
          constructor() {
            super("RelayMetrics", r.db.relayMetrics);
          }
          key(e) {
            return e.addr;
          }
          async preload() {
            await super.preload(), await this.buffer([...this.onTable]);
          }
          takeSnapshot() {
            return [...this.cache.values()];
          }
        }
        t.RelayMetricCache = o;
      },
      7526: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.UserProfileCache = void 0);
        const u = n(7249),
          d = n(5861);
        class f extends d.FeedCache {
          constructor() {
            super("UserCache", u.db.users),
              r.add(this),
              i.set(this, []),
              o.set(this, []),
              c(this, r, "m", a).call(this),
              c(this, r, "m", s).call(this);
          }
          key(e) {
            return e.pubkey;
          }
          async preload(e) {
            await super.preload(), e && (await this.buffer(e));
          }
          async search(e) {
            return u.db.ready
              ? (
                  await u.db.users
                    .where("npub")
                    .startsWithIgnoreCase(e)
                    .or("name")
                    .startsWithIgnoreCase(e)
                    .or("display_name")
                    .startsWithIgnoreCase(e)
                    .or("nip05")
                    .startsWithIgnoreCase(e)
                    .toArray()
                ).slice(0, 5)
              : [...this.cache.values()]
                  .filter(t => {
                    const n = t;
                    return (
                      n.name?.includes(e) || n.npub?.includes(e) || n.display_name?.includes(e) || n.nip05?.includes(e)
                    );
                  })
                  .slice(0, 5);
          }
          async update(e) {
            const t = await super.update(e);
            if ("refresh" !== t) {
              const t = e.lud16 ?? e.lud06;
              t && c(this, i, "f").push({ pubkey: e.pubkey, lnurl: t }),
                e.nip05 && c(this, o, "f").push({ pubkey: e.pubkey, nip05: e.nip05 });
            }
            return t;
          }
          takeSnapshot() {
            return [];
          }
        }
        (t.UserProfileCache = f),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (r = new WeakSet()),
          (a = async function e() {
            await c(this, r, "m", l).call(
              this,
              c(this, i, "f"),
              async e => {
                const t = new d.LNURL(e.lnurl);
                await t.load();
                const n = this.getFromCache(e.pubkey);
                n && (await this.set({ ...n, zapService: t.zapperPubkey }));
              },
              5
            ),
              setTimeout(() => c(this, r, "m", e).call(this), 1e3);
          }),
          (s = async function e() {
            await c(this, r, "m", l).call(
              this,
              c(this, o, "f"),
              async e => {
                const [t, n] = e.nip05.split("@"),
                  r = await (0, d.fetchNip05Pubkey)(t, n),
                  i = this.getFromCache(e.pubkey);
                i && (await this.set({ ...i, isNostrAddressValid: e.pubkey === r }));
              },
              5
            ),
              setTimeout(() => c(this, r, "m", e).call(this), 1e3);
          }),
          (l = async function (e, t, n = 3) {
            const r = [];
            for (; e.length > 0; ) {
              const i = e.shift();
              i
                ? (r.push(
                    (async () => {
                      try {
                        await t(i);
                      } catch {
                        console.warn("Failed to process item", i);
                      }
                      r.pop();
                    })()
                  ),
                  r.length === n && (await Promise.all(r)))
                : await Promise.all(r);
            }
          });
      },
      4721: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.UserRelaysCache = void 0);
        const r = n(7249),
          i = n(5861);
        class o extends i.FeedCache {
          constructor() {
            super("UserRelays", r.db.userRelays);
          }
          key(e) {
            return e.pubkey;
          }
          async preload(e) {
            await super.preload(), e && (await this.buffer(e));
          }
          newest() {
            let e = 0;
            return this.cache.forEach(t => (e = t.created_at > e ? t.created_at : e)), e;
          }
          takeSnapshot() {
            return [...this.cache.values()];
          }
        }
        t.UserRelaysCache = o;
      },
      7344: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.ConnectionStats = void 0),
          (t.ConnectionStats = class {
            constructor() {
              (this.Latency = []),
                (this.Subs = 0),
                (this.SubsTimeout = 0),
                (this.EventsReceived = 0),
                (this.EventsSent = 0),
                (this.Disconnects = 0);
            }
          });
      },
      6584: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u,
          d,
          f,
          h,
          p,
          m =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          y =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          g =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.Connection = void 0);
        const v = n(4852),
          w = g(n(6530)),
          b = n(5861),
          x = n(1468),
          E = n(7344);
        class k extends b.ExternalStore {
          constructor(e, t, n, s = !1) {
            super(),
              r.add(this),
              i.set(this, (0, w.default)("Connection")),
              o.set(this, void 0),
              a.set(this, (0, b.unixNowMs)()),
              (this.Socket = null),
              (this.PendingRaw = []),
              (this.PendingRequests = []),
              (this.ActiveRequests = new Set()),
              (this.ConnectTimeout = x.DefaultConnectTimeout),
              (this.Stats = new E.ConnectionStats()),
              (this.HasStateChange = !0),
              (this.Authed = !1),
              (this.Down = !0),
              (this.Id = (0, v.v4)()),
              (this.Address = e),
              (this.Settings = t),
              (this.IsClosed = !1),
              (this.EventsCallback = new Map()),
              (this.AwaitingAuth = new Map()),
              (this.Auth = n),
              (this.Ephemeral = s);
          }
          async Connect() {
            try {
              if (void 0 === this.Info) {
                const e = new URL(this.Address),
                  t = await fetch(`${"wss:" === e.protocol ? "https:" : "http:"}//${e.host}`, {
                    headers: { accept: "application/nostr+json" },
                  });
                if (t.ok) {
                  const e = await t.json();
                  for (const [t, n] of Object.entries(e)) ("unset" !== n && "" !== n && "~" !== n) || (e[t] = void 0);
                  this.Info = e;
                }
              }
            } catch {}
            const e = null !== this.Socket && !this.IsClosed;
            this.Socket &&
              ((this.Id = (0, v.v4)()),
              (this.Socket.onopen = null),
              (this.Socket.onmessage = null),
              (this.Socket.onerror = null),
              (this.Socket.onclose = null),
              (this.Socket = null)),
              (this.IsClosed = !1),
              (this.Socket = new WebSocket(this.Address)),
              (this.Socket.onopen = () => this.OnOpen(e)),
              (this.Socket.onmessage = e => this.OnMessage(e)),
              (this.Socket.onerror = e => this.OnError(e)),
              (this.Socket.onclose = e => this.OnClose(e));
          }
          Close() {
            (this.IsClosed = !0), this.Socket?.close(), this.notifyChange();
          }
          OnOpen(e) {
            (this.ConnectTimeout = x.DefaultConnectTimeout),
              m(this, i, "f").call(this, `[${this.Address}] Open!`),
              (this.Down = !1),
              m(this, r, "m", p).call(this),
              this.OnConnected?.(e),
              m(this, r, "m", u).call(this);
          }
          OnClose(e) {
            this.ReconnectTimer && (clearTimeout(this.ReconnectTimer), (this.ReconnectTimer = void 0)),
              4e3 === e.code
                ? ((this.IsClosed = !0), m(this, i, "f").call(this, `[${this.Address}] Closed! (Remote)`))
                : this.IsClosed
                ? (m(this, i, "f").call(this, `[${this.Address}] Closed!`), (this.ReconnectTimer = void 0))
                : ((this.ConnectTimeout = 2 * this.ConnectTimeout),
                  m(this, i, "f").call(
                    this,
                    `[${this.Address}] Closed (code=${e.code}), trying again in ${(this.ConnectTimeout / 1e3)
                      .toFixed(0)
                      .toLocaleString()} sec`
                  ),
                  (this.ReconnectTimer = setTimeout(() => {
                    this.Connect();
                  }, this.ConnectTimeout)),
                  this.Stats.Disconnects++),
              this.OnDisconnect?.(e.code),
              m(this, r, "m", l).call(this),
              (this.Id = (0, v.v4)()),
              this.notifyChange();
          }
          OnMessage(e) {
            if ((y(this, a, (0, b.unixNowMs)(), "f"), e.data.length > 0)) {
              const t = JSON.parse(e.data),
                n = t[0];
              switch (n) {
                case "AUTH":
                  m(this, r, "m", f)
                    .call(this, t[1])
                    .then(() => m(this, r, "m", u).call(this))
                    .catch(m(this, i, "f")),
                    this.Stats.EventsReceived++,
                    this.notifyChange();
                  break;
                case "EVENT":
                  this.OnEvent?.(t[1], { ...t[2], relays: [this.Address] }),
                    this.Stats.EventsReceived++,
                    this.notifyChange();
                  break;
                case "EOSE":
                  this.OnEose?.(t[1]);
                  break;
                case "OK": {
                  m(this, i, "f").call(this, `${this.Address} OK: %O`, t);
                  const e = t[1];
                  if (this.EventsCallback.has(e)) {
                    const n = (0, b.unwrap)(this.EventsCallback.get(e));
                    this.EventsCallback.delete(e), n(t);
                  }
                  break;
                }
                case "NOTICE":
                  m(this, i, "f").call(this, `[${this.Address}] NOTICE: ${t[1]}`);
                  break;
                default:
                  m(this, i, "f").call(this, `Unknown tag: ${n}`);
              }
            }
          }
          OnError(e) {
            m(this, i, "f").call(this, "Error: %O", e), this.notifyChange();
          }
          SendEvent(e) {
            if (!this.Settings.write) return;
            const t = ["EVENT", e];
            m(this, r, "m", c).call(this, t), this.Stats.EventsSent++, this.notifyChange();
          }
          async SendAsync(e, t = 5e3) {
            return new Promise(n => {
              if (!this.Settings.write) return void n();
              const i = setTimeout(() => {
                n();
              }, t);
              this.EventsCallback.set(e.id, () => {
                clearTimeout(i), n();
              });
              const o = ["EVENT", e];
              m(this, r, "m", c).call(this, o), this.Stats.EventsSent++, this.notifyChange();
            });
          }
          SupportsNip(e) {
            return this.Info?.supported_nips?.some(t => t === e) ?? !1;
          }
          QueueReq(e, t) {
            this.ActiveRequests.size >= m(this, r, "a", h)
              ? (this.PendingRequests.push({ cmd: e, cb: t }),
                m(this, i, "f").call(this, "Queuing: %s %O", this.Address, e))
              : (this.ActiveRequests.add(e[1]), m(this, r, "m", c).call(this, e), t()),
              this.notifyChange();
          }
          CloseReq(e) {
            this.ActiveRequests.delete(e) &&
              (m(this, r, "m", c).call(this, ["CLOSE", e]), this.OnEose?.(e), m(this, r, "m", s).call(this)),
              this.notifyChange();
          }
          takeSnapshot() {
            return {
              connected: this.Socket?.readyState === WebSocket.OPEN,
              events: { received: this.Stats.EventsReceived, send: this.Stats.EventsSent },
              avgLatency:
                this.Stats.Latency.length > 0
                  ? this.Stats.Latency.reduce((e, t) => e + t, 0) / this.Stats.Latency.length
                  : 0,
              disconnects: this.Stats.Disconnects,
              info: this.Info,
              id: this.Id,
              pendingRequests: [...this.PendingRequests.map(e => e.cmd[1])],
              activeRequests: [...this.ActiveRequests],
              ephemeral: this.Ephemeral,
              address: this.Address,
            };
          }
        }
        (t.Connection = k),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (r = new WeakSet()),
          (s = function () {
            const e = m(this, r, "a", h) - this.ActiveRequests.size;
            if (e > 0)
              for (let t = 0; t < e; t++) {
                const e = this.PendingRequests.shift();
                e &&
                  (this.ActiveRequests.add(e.cmd[1]),
                  m(this, r, "m", c).call(this, e.cmd),
                  e.cb(),
                  m(this, i, "f").call(this, "Sent pending REQ %s %O", this.Address, e.cmd));
              }
          }),
          (l = function () {
            this.ActiveRequests.clear(), (this.PendingRequests = []), (this.PendingRaw = []), this.notifyChange();
          }),
          (c = function (e) {
            const t = !this.Authed && (this.AwaitingAuth.size > 0 || !0 === this.Info?.limitation?.auth_required);
            if (this.Socket?.readyState !== WebSocket.OPEN || t)
              return (
                this.PendingRaw.push(e),
                this.Socket?.readyState === WebSocket.CLOSED && this.Ephemeral && this.IsClosed && this.Connect(),
                !1
              );
            m(this, r, "m", u).call(this), m(this, r, "m", d).call(this, e);
          }),
          (u = function () {
            for (; this.PendingRaw.length > 0; ) {
              const e = this.PendingRaw.shift();
              e && m(this, r, "m", d).call(this, e);
            }
          }),
          (d = function (e) {
            if (this.Socket?.readyState !== WebSocket.OPEN)
              throw new Error(`Socket is not open, state is ${this.Socket?.readyState}`);
            const t = JSON.stringify(e);
            return y(this, a, (0, b.unixNowMs)(), "f"), this.Socket.send(t), !0;
          }),
          (f = async function (e) {
            const t = () => {
              this.AwaitingAuth.delete(e);
            };
            if (!this.Auth) throw new Error("Auth hook not registered");
            this.AwaitingAuth.set(e, !0);
            const n = await this.Auth(e, this.Address);
            return new Promise(e => {
              if (!n) return t(), Promise.reject("no event");
              const i = setTimeout(() => {
                t(), e();
              }, 1e4);
              this.EventsCallback.set(n.id, n => {
                clearTimeout(i), t(), n.length > 3 && !0 === n[2] && (this.Authed = !0), e();
              }),
                m(this, r, "m", d).call(this, ["AUTH", n]);
            });
          }),
          (h = function () {
            return this.Info?.limitation?.max_subscriptions ?? 25;
          }),
          (p = function () {
            this.Ephemeral &&
              (m(this, o, "f") && (clearInterval(m(this, o, "f")), y(this, o, void 0, "f")),
              y(
                this,
                o,
                setInterval(() => {
                  (0, b.unixNowMs)() - m(this, a, "f") > 3e4 &&
                    !this.IsClosed &&
                    (this.ActiveRequests.size > 0
                      ? m(this, i, "f").call(
                          this,
                          "%s Inactive connection has %d active requests! %O",
                          this.Address,
                          this.ActiveRequests.size,
                          this.ActiveRequests
                        )
                      : this.Close());
                }, 5e3),
                "f"
              ));
          });
      },
      1468: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.MentionNostrEntityRegex =
            t.CashuRegex =
            t.InvoiceRegex =
            t.FileExtensionRegex =
            t.ProfileCacheExpire =
            t.HashtagRegex =
            t.DefaultConnectTimeout =
              void 0),
          (t.DefaultConnectTimeout = 2e3),
          (t.HashtagRegex = /(#[^\s!@#$%^&*()=+.\/,\[{\]};:'"?><]+)/g),
          (t.ProfileCacheExpire = 216e5),
          (t.FileExtensionRegex = /\.([\w]{1,7})$/i),
          (t.InvoiceRegex = /(lnbc\w+)/i),
          (t.CashuRegex = /(cashuA[A-Za-z0-9_-]{0,10000}={0,3})/i),
          (t.MentionNostrEntityRegex = /@n(pub|profile|event|ote|addr|)1[acdefghjklmnpqrstuvwxyz023456789]+/g);
      },
      5187: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u,
          d,
          f,
          h,
          p,
          m =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          y =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.EventBuilder = void 0);
        const g = n(2087),
          v = n(1468),
          w = n(5861),
          b = n(4228),
          x = n(3112);
        (t.EventBuilder = class {
          constructor() {
            r.add(this),
              i.set(this, void 0),
              o.set(this, void 0),
              a.set(this, void 0),
              s.set(this, void 0),
              l.set(this, []),
              c.set(this, void 0),
              u.set(this, void 0);
          }
          kind(e) {
            return m(this, i, e, "f"), this;
          }
          content(e) {
            return m(this, o, e, "f"), this;
          }
          createdAt(e) {
            return m(this, a, e, "f"), this;
          }
          pubKey(e) {
            return m(this, s, e, "f"), this;
          }
          tag(e) {
            return (
              y(this, l, "f").some(t => t.length === e.length && t.every((e, n) => e !== t[n])) ||
                y(this, l, "f").push(e),
              this
            );
          }
          pow(e, t) {
            return (
              m(this, c, e, "f"),
              m(this, u, t ?? { minePow: (e, t) => (b.EventExt.minePow(e, t), Promise.resolve(e)) }, "f"),
              this
            );
          }
          processContent() {
            return (
              y(this, o, "f") &&
                (m(
                  this,
                  o,
                  y(this, o, "f").replace(v.MentionNostrEntityRegex, e => y(this, r, "m", h).call(this, e)),
                  "f"
                ),
                [...y(this, o, "f").matchAll(v.HashtagRegex)].map(e => {
                  y(this, r, "m", p).call(this, e[0]);
                })),
              this
            );
          }
          build() {
            y(this, r, "m", f).call(this);
            const e = {
              id: "",
              pubkey: y(this, s, "f") ?? "",
              content: y(this, o, "f") ?? "",
              kind: y(this, i, "f"),
              created_at: y(this, a, "f") ?? (0, w.unixNow)(),
              tags: y(this, l, "f"),
            };
            return (e.id = b.EventExt.createId(e)), e;
          }
          async buildAndSign(e) {
            if ("string" == typeof e) {
              const t = this.pubKey((0, w.getPublicKey)(e)).build();
              return b.EventExt.sign(await y(this, r, "m", d).call(this, t), e);
            }
            {
              const t = this.pubKey(await e.getPubKey()).build();
              return await e.sign(await y(this, r, "m", d).call(this, t));
            }
          }
        }),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (l = new WeakMap()),
          (c = new WeakMap()),
          (u = new WeakMap()),
          (r = new WeakSet()),
          (d = async function (e) {
            return y(this, c, "f") && y(this, u, "f") ? await y(this, u, "f").minePow(e, y(this, c, "f")) : e;
          }),
          (f = function () {
            if (void 0 === y(this, i, "f")) throw new Error("Kind must be set");
            if (void 0 === y(this, s, "f")) throw new Error("Pubkey must be set");
          }),
          (h = function (e) {
            const t = e.slice(1),
              n = (0, x.tryParseNostrLink)(t);
            return n
              ? ((n.type !== g.NostrPrefix.Profile && n.type !== g.NostrPrefix.PublicKey) || this.tag(["p", n.id]),
                `nostr:${n.encode()}`)
              : e;
          }),
          (p = function (e) {
            const t = e.slice(1);
            this.tag(["t", t.toLowerCase()]);
          });
      },
      4228: function (e, t, n) {
        "use strict";
        var r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", { enumerable: !0, value: t });
                }
              : function (e, t) {
                  e.default = t;
                }),
          o =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var n in e) "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.EventExt = void 0);
        const a = o(n(4146)),
          s = o(n(2765)),
          l = n(5861),
          c = n(2087),
          u = n(2562);
        class d {
          static getRootPubKey(e) {
            const t = e.tags.find(e => "delegation" === e[0]);
            return t?.[1] ? t[1] : e.pubkey;
          }
          static sign(e, t) {
            (e.pubkey = (0, l.getPublicKey)(t)), (e.id = this.createId(e));
            const n = a.schnorr.sign(e.id, t);
            if (((e.sig = s.bytesToHex(n)), !a.schnorr.verify(e.sig, e.id, e.pubkey)))
              throw new Error("Signing failed");
            return e;
          }
          static verify(e) {
            const t = this.createId(e);
            return a.schnorr.verify(e.sig, t, e.pubkey);
          }
          static createId(e) {
            const t = [0, e.pubkey, e.created_at, e.kind, e.tags, e.content];
            return (0, l.sha256)(JSON.stringify(t));
          }
          static minePow(e, t) {
            return (0, u.minePow)(e, t);
          }
          static forPubKey(e, t) {
            return { pubkey: e, kind: t, created_at: (0, l.unixNow)(), content: "", tags: [], id: "", sig: "" };
          }
          static parseTag(e) {
            if (e.length < 1) throw new Error("Invalid tag, must have more than 2 items");
            const t = { key: e[0], value: e[1] };
            return (
              "e" === t.key && ((t.relay = e.length > 2 ? e[2] : void 0), (t.marker = e.length > 3 ? e[3] : void 0)), t
            );
          }
          static extractThread(e) {
            if (!e.tags.some(e => ("e" === e[0] && "mention" !== e[3]) || "a" == e[0])) return;
            const t = e.kind === c.EventKind.TextNote,
              n = { mentions: [], pubKeys: [] },
              r = e.tags.filter(e => "e" === e[0] || "a" === e[0]).map(e => d.parseTag(e));
            if (r.some(e => e.marker)) {
              const e = r.find(e => "root" === e.marker),
                t = r.find(e => "reply" === e.marker);
              (n.root = e), (n.replyTo = t), (n.mentions = r.filter(e => "mention" === e.marker));
            } else
              (n.root = r[0]),
                (n.root.marker = t ? "root" : void 0),
                r.length > 1 && ((n.replyTo = r[r.length - 1]), (n.replyTo.marker = t ? "reply" : void 0)),
                r.length > 2 && ((n.mentions = r.slice(1, -1)), t && n.mentions.forEach(e => (e.marker = "mention")));
            return (n.pubKeys = Array.from(new Set(e.tags.filter(e => "p" === e[0]).map(e => e[1])))), n;
          }
        }
        t.EventExt = d;
      },
      7976: (e, t) => {
        "use strict";
        var n;
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (function (e) {
            (e[(e.Unknown = -1)] = "Unknown"),
              (e[(e.SetMetadata = 0)] = "SetMetadata"),
              (e[(e.TextNote = 1)] = "TextNote"),
              (e[(e.RecommendServer = 2)] = "RecommendServer"),
              (e[(e.ContactList = 3)] = "ContactList"),
              (e[(e.DirectMessage = 4)] = "DirectMessage"),
              (e[(e.Deletion = 5)] = "Deletion"),
              (e[(e.Repost = 6)] = "Repost"),
              (e[(e.Reaction = 7)] = "Reaction"),
              (e[(e.BadgeAward = 8)] = "BadgeAward"),
              (e[(e.SimpleChatMessage = 9)] = "SimpleChatMessage"),
              (e[(e.SealedRumor = 13)] = "SealedRumor"),
              (e[(e.ChatRumor = 14)] = "ChatRumor"),
              (e[(e.SnortSubscriptions = 1e3)] = "SnortSubscriptions"),
              (e[(e.Polls = 6969)] = "Polls"),
              (e[(e.GiftWrap = 1059)] = "GiftWrap"),
              (e[(e.FileHeader = 1063)] = "FileHeader"),
              (e[(e.Relays = 10002)] = "Relays"),
              (e[(e.Ephemeral = 2e4)] = "Ephemeral"),
              (e[(e.Auth = 22242)] = "Auth"),
              (e[(e.PubkeyLists = 3e4)] = "PubkeyLists"),
              (e[(e.NoteLists = 30001)] = "NoteLists"),
              (e[(e.TagLists = 30002)] = "TagLists"),
              (e[(e.Badge = 30009)] = "Badge"),
              (e[(e.ProfileBadges = 30008)] = "ProfileBadges"),
              (e[(e.LiveEvent = 30311)] = "LiveEvent"),
              (e[(e.ZapstrTrack = 31337)] = "ZapstrTrack"),
              (e[(e.SimpleChatMetadata = 39e3)] = "SimpleChatMetadata"),
              (e[(e.ZapRequest = 9734)] = "ZapRequest"),
              (e[(e.ZapReceipt = 9735)] = "ZapReceipt"),
              (e[(e.HttpAuthentication = 27235)] = "HttpAuthentication");
          })(n || (n = {})),
          (t.default = n);
      },
      1731: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          d =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", { enumerable: !0, value: t });
                }
              : function (e, t) {
                  e.default = t;
                }),
          f =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var n in e) "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && u(t, e, n);
              return d(t, e), t;
            },
          h =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          p =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.EventPublisher = void 0);
        const m = f(n(4146)),
          y = f(n(2765)),
          g = n(5861),
          v = n(2087),
          w = n(5187),
          b = n(4228),
          x = n(4213),
          E = n(4015);
        class k {
          constructor(e, t) {
            r.add(this),
              i.set(this, void 0),
              o.set(this, void 0),
              a.set(this, void 0),
              s.set(this, void 0),
              h(this, o, e, "f"),
              h(this, i, t, "f");
          }
          static async nip7() {
            if ("nostr" in window) {
              const e = new E.Nip7Signer(),
                t = await e.getPubKey();
              if (t) return new k(e, t);
            }
          }
          static privateKey(e) {
            const t = new v.PrivateKeySigner(e);
            return new k(t, t.getPubKey());
          }
          get pubKey() {
            return p(this, i, "f");
          }
          pow(e, t) {
            h(this, a, e, "f"), h(this, s, t, "f");
          }
          async nip4Encrypt(e, t) {
            return await p(this, o, "f").nip4Encrypt(e, t);
          }
          async nip4Decrypt(e, t) {
            return await p(this, o, "f").nip4Decrypt(e, t);
          }
          async nip42Auth(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.Auth);
            return n.tag(["relay", t]), n.tag(["challenge", e]), await p(this, r, "m", c).call(this, n);
          }
          async muted(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.PubkeyLists);
            if (
              (n.tag(["d", v.Lists.Muted]),
              e.forEach(e => {
                n.tag(["p", e]);
              }),
              t.length > 0)
            ) {
              const e = t.map(e => ["p", e]),
                r = JSON.stringify(e);
              n.content(await this.nip4Encrypt(r, p(this, i, "f")));
            }
            return await p(this, r, "m", c).call(this, n);
          }
          async noteList(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.NoteLists);
            return (
              n.tag(["d", t]),
              e.forEach(e => {
                n.tag(["e", e]);
              }),
              await p(this, r, "m", c).call(this, n)
            );
          }
          async tags(e) {
            const t = p(this, r, "m", l).call(this, v.EventKind.TagLists);
            return (
              t.tag(["d", v.Lists.Followed]),
              e.forEach(e => {
                t.tag(["t", e]);
              }),
              await p(this, r, "m", c).call(this, t)
            );
          }
          async metadata(e) {
            const t = p(this, r, "m", l).call(this, v.EventKind.SetMetadata);
            return t.content(JSON.stringify(e)), await p(this, r, "m", c).call(this, t);
          }
          async note(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.TextNote);
            return n.content(e), n.processContent(), t?.(n), await p(this, r, "m", c).call(this, n);
          }
          async zap(e, t, n, i, o, a) {
            const s = p(this, r, "m", l).call(this, v.EventKind.ZapRequest);
            return (
              s.content(o ?? ""),
              i && s.tag(["e", i]),
              s.tag(["p", t]),
              s.tag(["relays", ...n.map(e => e.trim())]),
              s.tag(["amount", e.toString()]),
              s.processContent(),
              a?.(s),
              await p(this, r, "m", c).call(this, s)
            );
          }
          async reply(e, t, n) {
            const o = p(this, r, "m", l).call(this, v.EventKind.TextNote);
            o.content(t);
            const a = b.EventExt.extractThread(e);
            if (a) {
              (a.root || a.replyTo) && o.tag(["e", a.root?.value ?? a.replyTo?.value ?? "", "", "root"]),
                o.tag(["e", e.id, e.relays?.[0] ?? "", "reply"]),
                o.tag(["p", e.pubkey]);
              for (const e of a.pubKeys) e !== p(this, i, "f") && o.tag(["p", e]);
            } else o.tag(["e", e.id, "", "reply"]), e.pubkey !== p(this, i, "f") && o.tag(["p", e.pubkey]);
            return o.processContent(), n?.(o), await p(this, r, "m", c).call(this, o);
          }
          async react(e, t = "+") {
            const n = p(this, r, "m", l).call(this, v.EventKind.Reaction);
            return n.content(t), n.tag(["e", e.id]), n.tag(["p", e.pubkey]), await p(this, r, "m", c).call(this, n);
          }
          async relayList(e) {
            Array.isArray(e) || (e = Object.entries(e).map(([e, t]) => ({ url: e, settings: t })));
            const t = p(this, r, "m", l).call(this, v.EventKind.Relays);
            for (const n of e) {
              const e = ["r", n.url];
              n.settings.read && !n.settings.write && e.push("read"),
                n.settings.write && !n.settings.read && e.push("write"),
                (n.settings.read || n.settings.write) && t.tag(e);
            }
            return await p(this, r, "m", c).call(this, t);
          }
          async contactList(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.ContactList);
            return (
              n.content(JSON.stringify(t)),
              new Set(e.filter(e => 64 === e.length).map(e => e.toLowerCase())).forEach(e => n.tag(["p", e])),
              await p(this, r, "m", c).call(this, n)
            );
          }
          async delete(e) {
            const t = p(this, r, "m", l).call(this, v.EventKind.Deletion);
            return t.tag(["e", e]), await p(this, r, "m", c).call(this, t);
          }
          async repost(e) {
            const t = p(this, r, "m", l).call(this, v.EventKind.Repost);
            return t.tag(["e", e.id, ""]), t.tag(["p", e.pubkey]), await p(this, r, "m", c).call(this, t);
          }
          async decryptDm(e) {
            if (e.kind === v.EventKind.SealedRumor) return (await this.unsealRumor(e)).content;
            if (
              e.kind === v.EventKind.DirectMessage &&
              e.pubkey !== p(this, i, "f") &&
              !e.tags.some(e => e[1] === p(this, i, "f"))
            )
              throw new Error("Can't decrypt, DM does not belong to this user");
            const t = e.pubkey === p(this, i, "f") ? (0, g.unwrap)(e.tags.find(e => "p" === e[0])?.[1]) : e.pubkey;
            return await this.nip4Decrypt(e.content, t);
          }
          async sendDm(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.DirectMessage);
            return n.content(await this.nip4Encrypt(e, t)), n.tag(["p", t]), await p(this, r, "m", c).call(this, n);
          }
          async generic(e) {
            const t = new w.EventBuilder();
            return t.pubKey(p(this, i, "f")), e(t), await p(this, r, "m", c).call(this, t);
          }
          async giftWrap(e, t, n, r) {
            const i = y.bytesToHex(m.secp256k1.utils.randomPrivateKey()),
              o = new v.PrivateKeySigner(i),
              a = t ?? (0, x.findTag)(e, "p");
            if (!a) throw new Error("Inner event must have a p tag");
            const s = new w.EventBuilder();
            return (
              s.pubKey(o.getPubKey()),
              s.kind(v.EventKind.GiftWrap),
              s.tag(["p", a]),
              n && s.pow(n, r),
              s.content(await o.nip44Encrypt(JSON.stringify(e), a)),
              await s.buildAndSign(i)
            );
          }
          async unwrapGift(e) {
            const t = await p(this, o, "f").nip44Decrypt(e.content, e.pubkey);
            return JSON.parse(t);
          }
          createUnsigned(e, t, n) {
            const r = new w.EventBuilder();
            return r.pubKey(this.pubKey), r.kind(e), r.content(t), n(r), r.build();
          }
          async sealRumor(e, t) {
            const n = p(this, r, "m", l).call(this, v.EventKind.SealedRumor);
            return (
              n.content(await p(this, o, "f").nip44Encrypt(JSON.stringify(e), t)),
              await p(this, r, "m", c).call(this, n)
            );
          }
          async unsealRumor(e) {
            if (e.kind !== v.EventKind.SealedRumor) throw new Error("Not a sealed rumor event");
            const t = await p(this, o, "f").nip44Decrypt(e.content, e.pubkey);
            return JSON.parse(t);
          }
        }
        (t.EventPublisher = k),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (r = new WeakSet()),
          (l = function (e) {
            return new w.EventBuilder().pubKey(p(this, i, "f")).kind(e);
          }),
          (c = async function (e) {
            return await (p(this, a, "f") ? e.pow(p(this, a, "f"), p(this, s, "f")) : e).buildAndSign(p(this, o, "f"));
          });
      },
      7157: function (e, t, n) {
        "use strict";
        var r =
          (this && this.__importDefault) ||
          function (e) {
            return e && e.__esModule ? e : { default: e };
          };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.splitFlatByWriteRelays = t.splitByWriteRelays = t.splitAllByWriteRelays = void 0);
        const i = n(5861),
          o = r(n(6530));
        function a(e, t) {
          const n = t.authors;
          if (0 === (n?.length ?? 0)) return [{ relay: "", filter: t }];
          const r = s(e, (0, i.unwrap)(n), 2),
            a = (0, i.dedupe)(r.flatMap(e => e.relays)).map(e => {
              const n = (0, i.dedupe)(r.filter(t => t.relays.includes(e)).map(e => e.key));
              return { relay: e, filter: { ...t, authors: n } };
            }),
            l = (0, i.dedupe)(r.filter(e => 0 === e.relays.length).map(e => e.key));
          return (
            l.length > 0 && a.push({ relay: "", filter: { ...t, authors: l } }),
            (0, o.default)("GOSSIP")("Picked %o", a),
            a
          );
        }
        function s(e, t, n) {
          const r = t.map(t => ({
              key: t,
              relays: e
                .getFromCache(t)
                ?.relays?.filter(e => e.settings.write)
                .sort(() => (Math.random() < 0.5 ? 1 : -1)),
            })),
            o = r.filter(e => void 0 === e.relays || 0 === e.relays.length),
            a = r.filter(e => void 0 !== e.relays && e.relays.length > 0),
            s = [
              ...a
                .reduce((e, t) => {
                  for (const n of (0, i.unwrap)(t.relays))
                    e.has(n.url) ? (0, i.unwrap)(e.get(n.url)).add(t.key) : e.set(n.url, new Set([t.key]));
                  return e;
                }, new Map())
                .entries(),
            ].sort(([, e], [, t]) => t.size - e.size);
          return a
            .map(e => {
              const t = s
                .filter(([, t]) => t.has(e.key))
                .slice(0, n)
                .map(([e]) => e);
              return { key: e.key, relays: t };
            })
            .concat(o.map(e => ({ key: e.key, relays: [] })));
        }
        (t.splitAllByWriteRelays = function (e, t) {
          return [
            ...t
              .map(t => a(e, t))
              .reduce((e, t) => {
                for (const n of t) {
                  const t = e.get(n.relay);
                  t ? t.push(n.filter) : e.set(n.relay, [n.filter]);
                }
                return e;
              }, new Map())
              .entries(),
          ].map(([e, t]) => ({ relay: e, filters: t }));
        }),
          (t.splitByWriteRelays = a),
          (t.splitFlatByWriteRelays = function (e, t) {
            const n = t.filter(e => e.authors).map(e => (0, i.unwrap)(e.authors));
            if (0 === n.length) return [{ relay: "", filters: t }];
            const r = s(e, n, 2),
              a = (0, i.dedupe)(r.flatMap(e => e.relays)).map(e => {
                const n = new Set(r.filter(t => t.relays.includes(e)).map(e => e.key));
                return { relay: e, filters: t.filter(e => e.authors && n.has(e.authors)) };
              }),
              l = new Set(r.filter(e => 0 === e.relays.length).map(e => e.key));
            return (
              l.size > 0 && a.push({ relay: "", filters: t.filter(e => !e.authors || l.has(e.authors)) }),
              (0, o.default)("GOSSIP")("Picked %o", a),
              a
            );
          });
      },
      2219: function (e, t, n) {
        "use strict";
        var r,
          i,
          o =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.Nip4WebCryptoEncryptor = void 0);
        const a = n(4146);
        (t.Nip4WebCryptoEncryptor = class {
          constructor() {
            r.add(this);
          }
          getSharedSecret(e, t) {
            return a.secp256k1.getSharedSecret(e, "02" + t).slice(1, 33);
          }
          async encryptData(e, t) {
            const n = await o(this, r, "m", i).call(this, t),
              a = window.crypto.getRandomValues(new Uint8Array(16)),
              s = new TextEncoder().encode(e),
              l = await window.crypto.subtle.encrypt({ name: "AES-CBC", iv: a }, n, s);
            return { ciphertext: new Uint8Array(l), nonce: a, v: 0 };
          }
          async decryptData(e, t) {
            const n = await o(this, r, "m", i).call(this, t),
              a = await window.crypto.subtle.decrypt({ name: "AES-CBC", iv: e.nonce }, n, e.ciphertext);
            return new TextDecoder().decode(a);
          }
        }),
          (r = new WeakSet()),
          (i = async function (e) {
            return await window.crypto.subtle.importKey("raw", e, { name: "AES-CBC" }, !1, ["encrypt", "decrypt"]);
          });
      },
      8939: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.XChaCha20Encryptor = void 0);
        const r = n(1937),
          i = n(8884),
          o = n(4146),
          a = n(7576);
        t.XChaCha20Encryptor = class {
          getSharedSecret(e, t) {
            const n = o.secp256k1.getSharedSecret(e, "02" + t);
            return (0, a.sha256)(n.slice(1, 33));
          }
          encryptData(e, t) {
            const n = (0, r.randomBytes)(24),
              o = new TextEncoder().encode(e),
              a = (0, i.streamXOR)(t, n, o, o);
            return { ciphertext: Uint8Array.from(a), nonce: n, v: 1 };
          }
          decryptData(e, t) {
            if (1 !== e.v) throw new Error("NIP44: wrong encryption version");
            const n = (0, i.streamXOR)(t, e.nonce, e.ciphertext, e.ciphertext);
            return new TextDecoder().decode(n);
          }
        };
      },
      3050: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u,
          d,
          f,
          h,
          p,
          m,
          y,
          g,
          v,
          w =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          b =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          x =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.Nip46Signer = void 0);
        const E = n(5861),
          k = n(4146),
          j = n(4852),
          S = x(n(6530)),
          A = n(6584),
          C = n(6895),
          N = n(5187),
          P = 24133;
        (t.Nip46Signer = class {
          constructor(e, t) {
            r.add(this),
              i.set(this, void 0),
              o.set(this, void 0),
              a.set(this, void 0),
              s.set(this, void 0),
              l.set(this, void 0),
              c.set(this, void 0),
              u.set(this, new Map()),
              d.set(this, (0, S.default)("NIP-46")),
              f.set(this, void 0),
              h.set(this, !1);
            const n = new URL(e);
            w(this, f, n.protocol, "f"),
              w(this, a, n.pathname.substring(2), "f"),
              n.hash.length > 1 && w(this, l, n.hash.substring(1), "f"),
              b(this, a, "f").startsWith("npub") && w(this, a, (0, E.bech32ToHex)(b(this, a, "f")), "f"),
              w(this, o, (0, E.unwrap)(n.searchParams.get("relay")), "f"),
              w(this, c, t ?? new C.PrivateKeySigner(k.secp256k1.utils.randomPrivateKey()), "f");
          }
          get relays() {
            return [b(this, o, "f")];
          }
          get privateKey() {
            if (b(this, c, "f") instanceof C.PrivateKeySigner) return b(this, c, "f").privateKey;
          }
          async init() {
            const e = "bunker:" === b(this, f, "f");
            return (
              e && (w(this, s, b(this, a, "f"), "f"), w(this, a, await b(this, c, "f").getPubKey(), "f")),
              await new Promise((t, n) => {
                w(this, i, new A.Connection(b(this, o, "f"), { read: !0, write: !0 }), "f"),
                  (b(this, i, "f").OnEvent = async (e, t) => {
                    await b(this, r, "m", y).call(this, t);
                  }),
                  (b(this, i, "f").OnConnected = async () => {
                    b(this, i, "f").QueueReq(["REQ", "reply", { kinds: [P], "#p": [b(this, a, "f")] }], () => {}),
                      e
                        ? (await b(this, r, "m", m).call(this, (0, E.unwrap)(b(this, s, "f"))), t())
                        : b(this, u, "f").set("connect", { reject: n, resolve: t });
                  }),
                  b(this, i, "f").Connect(),
                  w(this, h, !0, "f");
              })
            );
          }
          async close() {
            b(this, i, "f") &&
              (await b(this, r, "m", p).call(this),
              b(this, i, "f").CloseReq("reply"),
              b(this, i, "f").Close(),
              w(this, i, void 0, "f"),
              w(this, h, !1, "f"));
          }
          async describe() {
            return await b(this, r, "m", g).call(this, "describe", []);
          }
          async getPubKey() {
            return await b(this, r, "m", g).call(this, "get_public_key", []);
          }
          async nip4Encrypt(e, t) {
            return await b(this, r, "m", g).call(this, "nip04_encrypt", [t, e]);
          }
          async nip4Decrypt(e, t) {
            return await b(this, r, "m", g).call(this, "nip04_decrypt", [t, e]);
          }
          nip44Encrypt(e, t) {
            throw new Error("Method not implemented.");
          }
          nip44Decrypt(e, t) {
            throw new Error("Method not implemented.");
          }
          async sign(e) {
            const t = await b(this, r, "m", g).call(this, "sign_event", [JSON.stringify(e)]);
            return JSON.parse(t);
          }
        }),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (l = new WeakMap()),
          (c = new WeakMap()),
          (u = new WeakMap()),
          (d = new WeakMap()),
          (f = new WeakMap()),
          (h = new WeakMap()),
          (r = new WeakSet()),
          (p = async function () {
            return await b(this, r, "m", g).call(this, "disconnect", []);
          }),
          (m = async function (e) {
            const t = [e];
            return b(this, l, "f") && t.push(b(this, l, "f")), await b(this, r, "m", g).call(this, "connect", t);
          }),
          (y = async function (e) {
            if (e.kind !== P) throw new Error("Unknown event kind");
            const t = await b(this, c, "f").nip4Decrypt(e.content, e.pubkey),
              n = JSON.parse(t);
            let i = n.id;
            b(this, d, "f").call(this, "Recv: %O", n),
              "method" in n &&
                "connect" === n.method &&
                (w(this, s, n.params[0], "f"),
                await b(this, r, "m", v).call(
                  this,
                  { id: n.id, result: "ack", error: "" },
                  (0, E.unwrap)(b(this, s, "f"))
                ),
                (i = "connect"));
            const o = b(this, u, "f").get(i);
            if (!o) throw new Error("No pending command found");
            o.resolve(n), b(this, u, "f").delete(n.id);
          }),
          (g = async function (e, t) {
            if ((b(this, h, "f") || (await this.init()), !b(this, i, "f"))) throw new Error("Connection error");
            const n = { id: (0, j.v4)(), method: e, params: t };
            return (
              b(this, r, "m", v).call(this, n, (0, E.unwrap)(b(this, s, "f"))),
              await new Promise((e, t) => {
                b(this, u, "f").set(n.id, {
                  resolve: async t => {
                    e(t.result);
                  },
                  reject: t,
                });
              })
            );
          }),
          (v = async function (e, t) {
            if (!b(this, i, "f")) return;
            const n = new N.EventBuilder();
            n
              .kind(P)
              .content(await b(this, c, "f").nip4Encrypt(JSON.stringify(e), t))
              .tag(["p", t]),
              b(this, d, "f").call(this, "Send: %O", e);
            const r = await n.buildAndSign(b(this, c, "f"));
            await b(this, i, "f").SendAsync(r);
          });
      },
      4015: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.Nip7Signer = void 0);
        const r = n(5861),
          i = [];
        (0, r.processWorkQueue)(i),
          (t.Nip7Signer = class {
            init() {
              return Promise.resolve();
            }
            async getPubKey() {
              if (!window.nostr) throw new Error("Cannot use NIP-07 signer, not found!");
              return await (0, r.barrierQueue)(i, () => (0, r.unwrap)(window.nostr).getPublicKey());
            }
            async nip4Encrypt(e, t) {
              if (!window.nostr) throw new Error("Cannot use NIP-07 signer, not found!");
              return await (0, r.barrierQueue)(i, () =>
                (0, r.unwrap)(window.nostr?.nip04?.encrypt).call(window.nostr?.nip04, t, e)
              );
            }
            async nip4Decrypt(e, t) {
              if (!window.nostr) throw new Error("Cannot use NIP-07 signer, not found!");
              return await (0, r.barrierQueue)(i, () =>
                (0, r.unwrap)(window.nostr?.nip04?.decrypt).call(window.nostr?.nip04, t, e)
              );
            }
            async nip44Encrypt(e, t) {
              throw new Error("Method not implemented.");
            }
            async nip44Decrypt(e, t) {
              throw new Error("Method not implemented.");
            }
            async sign(e) {
              if (!window.nostr) throw new Error("Cannot use NIP-07 signer, not found!");
              return await (0, r.barrierQueue)(i, () => (0, r.unwrap)(window.nostr).signEvent(e));
            }
          });
      },
      2087: function (e, t, n) {
        "use strict";
        var r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          i =
            (this && this.__exportStar) ||
            function (e, t) {
              for (var n in e) "default" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n);
            },
          o =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.EventKind = void 0), i(n(4837), t);
        var a = n(7976);
        Object.defineProperty(t, "EventKind", {
          enumerable: !0,
          get: function () {
            return o(a).default;
          },
        }),
          i(n(1878), t),
          i(n(6966), t),
          i(n(4434), t),
          i(n(2294), t),
          i(n(4228), t),
          i(n(6584), t),
          i(n(9191), t),
          i(n(3412), t),
          i(n(1731), t),
          i(n(5187), t),
          i(n(3112), t),
          i(n(95), t),
          i(n(5828), t),
          i(n(6895), t),
          i(n(2673), t),
          i(n(5689), t),
          i(n(2562), t),
          i(n(2219), t),
          i(n(8939), t),
          i(n(4015), t),
          i(n(3050), t),
          i(n(7249), t),
          i(n(4721), t),
          i(n(7526), t),
          i(n(8263), t);
      },
      6966: function (e, t, n) {
        "use strict";
        var r =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, r) {
                  void 0 === r && (r = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i && !("get" in i ? !t.__esModule : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, r, i);
                }
              : function (e, t, n, r) {
                  void 0 === r && (r = n), (e[r] = t[n]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", { enumerable: !0, value: t });
                }
              : function (e, t) {
                  e.default = t;
                }),
          o =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var n in e) "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.decodeTLV = t.encodeTLVEntries = t.encodeTLV = t.TLVEntryType = t.NostrPrefix = void 0);
        const a = o(n(2765)),
          s = n(5856);
        var l, c;
        function u(e, t, n) {
          switch (e) {
            case c.Special:
              return t === l.Address ? new TextDecoder("ASCII").decode(n) : a.bytesToHex(n);
            case c.Author:
              return a.bytesToHex(n);
            case c.Kind:
              return new Uint32Array(new Uint8Array(n.reverse()).buffer)[0];
            case c.Relay:
              return new TextDecoder("ASCII").decode(n);
          }
        }
        !(function (e) {
          (e.PublicKey = "npub"),
            (e.PrivateKey = "nsec"),
            (e.Note = "note"),
            (e.Profile = "nprofile"),
            (e.Event = "nevent"),
            (e.Relay = "nrelay"),
            (e.Address = "naddr");
        })(l || (t.NostrPrefix = l = {})),
          (function (e) {
            (e[(e.Special = 0)] = "Special"),
              (e[(e.Relay = 1)] = "Relay"),
              (e[(e.Author = 2)] = "Author"),
              (e[(e.Kind = 3)] = "Kind");
          })(c || (t.TLVEntryType = c = {})),
          (t.encodeTLV = function (e, t, n, r, i) {
            const o = new TextEncoder(),
              c = e === l.Address ? o.encode(t) : a.hexToBytes(t),
              u = [0, c.length, ...c],
              d =
                n
                  ?.map(e => {
                    const t = o.encode(e);
                    return [1, t.length, ...t];
                  })
                  .flat() ?? [],
              f = i ? [2, 32, ...a.hexToBytes(i)] : [],
              h = r ? [3, 4, ...new Uint8Array(new Uint32Array([r]).buffer).reverse()] : [];
            return s.bech32.encode(e, s.bech32.toWords(new Uint8Array([...u, ...d, ...f, ...h])), 1e3);
          }),
          (t.encodeTLVEntries = function (e, ...t) {
            const n = new TextEncoder(),
              r = [];
            for (const i of t)
              switch (i.type) {
                case c.Special: {
                  const t = e === l.Address ? n.encode(i.value) : a.hexToBytes(i.value);
                  r.push(0, t.length, ...t);
                  break;
                }
                case c.Relay: {
                  const e = n.encode(i.value);
                  r.push(1, e.length, ...e);
                  break;
                }
                case c.Author:
                  if (64 !== i.value.length) throw new Error("Author must be 32 bytes");
                  r.push(2, 32, ...a.hexToBytes(i.value));
                  break;
                case c.Kind:
                  if ("number" != typeof i.value) throw new Error("Kind must be a number");
                  r.push(3, 4, ...new Uint8Array(new Uint32Array([i.value]).buffer).reverse());
              }
            return s.bech32.encode(e, s.bech32.toWords(new Uint8Array(r)), 1e3);
          }),
          (t.decodeTLV = function (e) {
            const t = s.bech32.decode(e, 1e3),
              n = s.bech32.fromWords(t.words),
              r = [];
            let i = 0;
            for (; i < n.length; ) {
              const e = n[i],
                o = n[i + 1],
                a = n.slice(i + 2, i + 2 + o);
              r.push({ type: e, length: o, value: u(e, t.prefix, new Uint8Array(a)) }), (i += 2 + o);
            }
            return r;
          });
      },
      4434: (e, t) => {
        "use strict";
        var n;
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.Nips = void 0),
          (function (e) {
            e[(e.Search = 50)] = "Search";
          })(n || (t.Nips = n = {}));
      },
      3112: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.parseNostrLink = t.tryParseNostrLink = t.validateNostrLink = t.createNostrLink = void 0);
        const r = n(5861),
          i = n(2087);
        function o(e, t) {
          const n = e.startsWith("web+nostr:") || e.startsWith("nostr:") ? e.split(":")[1] : e,
            o = e => n.startsWith(e);
          if (o(i.NostrPrefix.PublicKey)) {
            const e = (0, r.bech32ToHex)(n);
            if (64 !== e.length) throw new Error("Invalid nostr link, must contain 32 byte id");
            return {
              type: i.NostrPrefix.PublicKey,
              id: e,
              encode: () => (0, r.hexToBech32)(i.NostrPrefix.PublicKey, e),
            };
          }
          if (o(i.NostrPrefix.Note)) {
            const e = (0, r.bech32ToHex)(n);
            if (64 !== e.length) throw new Error("Invalid nostr link, must contain 32 byte id");
            return { type: i.NostrPrefix.Note, id: e, encode: () => (0, r.hexToBech32)(i.NostrPrefix.Note, e) };
          }
          if (o(i.NostrPrefix.Profile) || o(i.NostrPrefix.Event) || o(i.NostrPrefix.Address)) {
            const e = (0, i.decodeTLV)(n),
              t = e.find(e => e.type === i.TLVEntryType.Special)?.value,
              r = e.filter(e => e.type === i.TLVEntryType.Relay).map(e => e.value),
              a = e.find(e => e.type === i.TLVEntryType.Author)?.value,
              s = e.find(e => e.type === i.TLVEntryType.Kind)?.value,
              l = () => n;
            if (o(i.NostrPrefix.Profile)) {
              if (64 !== t.length) throw new Error("Invalid nostr link, must contain 32 byte id");
              return { type: i.NostrPrefix.Profile, id: t, relays: r, kind: s, author: a, encode: l };
            }
            if (o(i.NostrPrefix.Event)) {
              if (64 !== t.length) throw new Error("Invalid nostr link, must contain 32 byte id");
              return { type: i.NostrPrefix.Event, id: t, relays: r, kind: s, author: a, encode: l };
            }
            if (o(i.NostrPrefix.Address))
              return { type: i.NostrPrefix.Address, id: t, relays: r, kind: s, author: a, encode: l };
          } else if (t) return { type: t, id: e, encode: () => (0, r.hexToBech32)(t, e) };
          throw new Error("Invalid nostr link");
        }
        (t.createNostrLink = function (e, t, n, o, a) {
          return {
            type: e,
            id: t,
            relays: n,
            kind: o,
            author: a,
            encode: () =>
              e === i.NostrPrefix.Note || e === i.NostrPrefix.PublicKey
                ? (0, r.hexToBech32)(e, t)
                : e === i.NostrPrefix.Address || e === i.NostrPrefix.Event || e === i.NostrPrefix.Profile
                ? (0, i.encodeTLV)(e, t, n, o, a)
                : "",
          };
        }),
          (t.validateNostrLink = function (e) {
            try {
              const t = o(e);
              return (
                !!t && ((t.type !== i.NostrPrefix.PublicKey && t.type !== i.NostrPrefix.Note) || 64 === t.id.length)
              );
            } catch {
              return !1;
            }
          }),
          (t.tryParseNostrLink = function (e, t) {
            try {
              return o(e, t);
            } catch {
              return;
            }
          }),
          (t.parseNostrLink = o);
      },
      4837: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u,
          d,
          f,
          h =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          p =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          m =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.NostrSystem = void 0);
        const y = m(n(6530)),
          g = n(5861),
          v = n(6584),
          w = n(1383),
          b = n(2353),
          x = n(2087);
        class E extends g.ExternalStore {
          constructor(e) {
            super(),
              r.add(this),
              i.set(this, (0, y.default)("System")),
              o.set(this, new Map()),
              (this.Queries = new Map()),
              a.set(this, void 0),
              s.set(this, void 0),
              l.set(this, void 0),
              c.set(this, void 0),
              u.set(this, void 0),
              d.set(this, void 0),
              h(this, a, e.authHandler, "f"),
              h(this, s, e.relayCache ?? new x.UserRelaysCache(), "f"),
              h(this, l, e.profileCache ?? new x.UserProfileCache(), "f"),
              h(this, c, e.relayMetrics ?? new x.RelayMetricCache(), "f"),
              h(this, u, new x.ProfileLoaderService(this, p(this, l, "f")), "f"),
              h(this, d, new b.RelayMetricHandler(p(this, c, "f")), "f"),
              p(this, r, "m", f).call(this);
          }
          get ProfileLoader() {
            return p(this, u, "f");
          }
          get Sockets() {
            return [...p(this, o, "f").values()].map(e => e.snapshot());
          }
          async Init() {
            x.db.ready = await x.db.isAvailable();
            const e = [p(this, s, "f").preload(), p(this, l, "f").preload(), p(this, c, "f").preload()];
            await Promise.all(e);
          }
          async ConnectToRelay(e, t) {
            try {
              const n = (0, g.unwrap)((0, g.sanitizeRelayUrl)(e));
              if (p(this, o, "f").has(n)) (0, g.unwrap)(p(this, o, "f").get(n)).Settings = t;
              else {
                const e = new v.Connection(n, t, p(this, a, "f")?.bind(this));
                p(this, o, "f").set(n, e),
                  (e.OnEvent = (e, t) => this.OnEvent(e, t)),
                  (e.OnEose = t => this.OnEndOfStoredEvents(e, t)),
                  (e.OnDisconnect = t => this.OnRelayDisconnect(e, t)),
                  (e.OnConnected = t => this.OnRelayConnected(e, t)),
                  await e.Connect();
              }
            } catch (e) {
              console.error(e);
            }
          }
          OnRelayConnected(e, t) {
            if (t) for (const [, t] of this.Queries) t.connectionRestored(e);
          }
          OnRelayDisconnect(e, t) {
            p(this, d, "f").onDisconnect(e, t);
            for (const [, t] of this.Queries) t.connectionLost(e.Id);
          }
          OnEndOfStoredEvents(e, t) {
            for (const [, n] of this.Queries) n.eose(t, e);
          }
          OnEvent(e, t) {
            for (const [, n] of this.Queries) n.onEvent(e, t);
          }
          async ConnectEphemeralRelay(e) {
            try {
              const t = (0, g.unwrap)((0, g.sanitizeRelayUrl)(e));
              if (!p(this, o, "f").has(t)) {
                const e = new v.Connection(t, { read: !0, write: !0 }, p(this, a, "f")?.bind(this), !0);
                return (
                  p(this, o, "f").set(t, e),
                  (e.OnEvent = (e, t) => this.OnEvent(e, t)),
                  (e.OnEose = t => this.OnEndOfStoredEvents(e, t)),
                  (e.OnDisconnect = t => this.OnRelayDisconnect(e, t)),
                  (e.OnConnected = t => this.OnRelayConnected(e, t)),
                  await e.Connect(),
                  e
                );
              }
            } catch (e) {
              console.error(e);
            }
          }
          DisconnectRelay(e) {
            const t = p(this, o, "f").get(e);
            t && (p(this, o, "f").delete(e), t.Close());
          }
          GetQuery(e) {
            return this.Queries.get(e);
          }
          Query(e, t) {
            const n = this.Queries.get(t.id);
            if (n) {
              if (n.fromInstance === t.instance) return n;
              const e = t.options?.skipDiff ? t.build(p(this, s, "f")) : t.buildDiff(p(this, s, "f"), n.flatFilters);
              if (0 === e.length && t.options?.skipDiff) return n;
              for (const t of e) this.SendQuery(n, t);
              return this.notifyChange(), n;
            }
            {
              const n = new e(),
                r = t.build(p(this, s, "f")),
                i = new w.Query(t.id, t.instance, n, t.options?.leaveOpen);
              this.Queries.set(t.id, i);
              for (const e of r) this.SendQuery(i, e);
              return this.notifyChange(), i;
            }
          }
          async SendQuery(e, t) {
            if (!t.relay) {
              const n = [];
              for (const [r, a] of p(this, o, "f"))
                if (!a.Ephemeral) {
                  p(this, i, "f").call(this, "Sending query to %s %O", r, t);
                  const o = e.sendToRelay(a, t);
                  o && n.push(o);
                }
              return n;
            }
            {
              p(this, i, "f").call(this, "Sending query to %s %O", t.relay, t);
              const n = p(this, o, "f").get(t.relay);
              if (n) {
                const r = e.sendToRelay(n, t);
                if (r) return [r];
              } else {
                const n = await this.ConnectEphemeralRelay(t.relay);
                if (n) {
                  const r = e.sendToRelay(n, t);
                  if (r) return [r];
                } else console.warn("Failed to connect to new relay for:", t.relay, e);
              }
            }
            return [];
          }
          BroadcastEvent(e) {
            for (const [, t] of p(this, o, "f")) t.Ephemeral || t.SendEvent(e);
          }
          async WriteOnceToRelay(e, t) {
            const n = (0, g.sanitizeRelayUrl)(e);
            if (!n) throw new Error("Invalid relay address");
            if (!p(this, o, "f").has(n))
              return await new Promise((n, r) => {
                const i = new v.Connection(e, { write: !0, read: !0 }, p(this, a, "f")?.bind(this), !0),
                  o = setTimeout(r, 5e3);
                (i.OnConnected = async () => {
                  clearTimeout(o), await i.SendAsync(t), i.Close(), n();
                }),
                  i.Connect();
              });
            await p(this, o, "f").get(n)?.SendAsync(t);
          }
          takeSnapshot() {
            return { queries: [...this.Queries.values()].map(e => ({ id: e.id, filters: e.filters, subFilters: [] })) };
          }
        }
        (t.NostrSystem = E),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (l = new WeakMap()),
          (c = new WeakMap()),
          (u = new WeakMap()),
          (d = new WeakMap()),
          (r = new WeakSet()),
          (f = function e() {
            let t = !1;
            for (const [e, n] of this.Queries)
              n.canRemove() &&
                (n.sendClose(), this.Queries.delete(e), p(this, i, "f").call(this, "Deleted query %s", e), (t = !0));
            t && this.notifyChange(), setTimeout(() => p(this, r, "m", e).call(this), 1e3);
          });
      },
      1878: (e, t) => {
        "use strict";
        var n;
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.Lists = void 0),
          (function (e) {
            (e.Muted = "mute"),
              (e.Pinned = "pin"),
              (e.Bookmarked = "bookmark"),
              (e.Followed = "follow"),
              (e.Badges = "profile_badges");
          })(n || (t.Lists = n = {}));
      },
      9191: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u,
          d,
          f,
          h,
          p,
          m,
          y =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          g =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.NoteCollection =
            t.ReplaceableNoteStore =
            t.KeyedReplaceableNoteStore =
            t.FlatNoteStore =
            t.HookedNoteStore =
            t.NoteStore =
            t.EmptySnapshot =
              void 0);
        const v = n(5861),
          w = n(4213);
        (t.EmptySnapshot = { data: void 0, clear: () => {}, loading: () => !0, add: () => {} }),
          (t.NoteStore = class {});
        class b {
          constructor() {
            r.add(this),
              i.set(this, []),
              o.set(this, []),
              a.set(this, !0),
              s.set(this, {
                clear: () => this.clear(),
                loading: () => this.loading,
                add: e => this.add(e),
                data: void 0,
              }),
              l.set(this, !0),
              c.set(this, void 0);
          }
          get snapshot() {
            return y(this, r, "m", u).call(this), y(this, s, "f");
          }
          get loading() {
            return y(this, a, "f");
          }
          set loading(e) {
            g(this, a, e, "f"), this.onChange([]);
          }
          hook(e) {
            return (
              y(this, i, "f").push(e),
              () => {
                const t = y(this, i, "f").findIndex(t => t === e);
                y(this, i, "f").splice(t, 1);
              }
            );
          }
          getSnapshotData() {
            return y(this, r, "m", u).call(this), y(this, s, "f").data;
          }
          onEvent(e) {
            return y(this, o, "f").find(t => t === e)
              ? () => {}
              : (y(this, o, "f").push(e),
                () => {
                  const t = y(this, o, "f").findIndex(t => t === e);
                  y(this, o, "f").splice(t, 1);
                });
          }
          onChange(e) {
            if (
              (g(this, l, !0, "f"),
              y(this, c, "f") ||
                g(
                  this,
                  c,
                  setTimeout(() => {
                    g(this, c, void 0, "f");
                    for (const e of y(this, i, "f")) e();
                  }, 500),
                  "f"
                ),
              e.length > 0)
            )
              for (const t of y(this, o, "f")) t(e);
          }
        }
        (t.HookedNoteStore = b),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (l = new WeakMap()),
          (c = new WeakMap()),
          (r = new WeakSet()),
          (u = function () {
            y(this, l, "f") &&
              (g(this, s, { ...y(this, s, "f"), data: this.takeSnapshot() }, "f"), g(this, l, !1, "f"));
          }),
          (t.FlatNoteStore = class extends b {
            constructor() {
              super(...arguments), d.set(this, []), f.set(this, new Set());
            }
            add(e) {
              e = Array.isArray(e) ? e : [e];
              const t = [];
              e.forEach(e => {
                if (y(this, f, "f").has(e.id)) {
                  const t = y(this, d, "f").findIndex(t => t.id === e.id);
                  -1 !== t && (y(this, d, "f")[t].relays = (0, v.appendDedupe)(y(this, d, "f")[t].relays, e.relays));
                } else y(this, d, "f").push(e), y(this, f, "f").add(e.id), t.push(e);
              }),
                t.length > 0 && this.onChange(t);
            }
            clear() {
              g(this, d, [], "f"), y(this, f, "f").clear(), this.onChange([]);
            }
            takeSnapshot() {
              return [...y(this, d, "f")];
            }
          }),
          (d = new WeakMap()),
          (f = new WeakMap());
        class x extends b {
          constructor(e) {
            super(), h.set(this, void 0), p.set(this, new Map()), g(this, h, e, "f");
          }
          add(e) {
            e = Array.isArray(e) ? e : [e];
            const t = [];
            e.forEach(e => {
              const n = y(this, h, "f").call(this, e),
                r = y(this, p, "f").get(n)?.created_at ?? 0;
              e.created_at > r && (y(this, p, "f").set(n, e), t.push(e));
            }),
              t.length > 0 && this.onChange(t);
          }
          clear() {
            y(this, p, "f").clear(), this.onChange([]);
          }
          takeSnapshot() {
            return [...y(this, p, "f").values()];
          }
        }
        (t.KeyedReplaceableNoteStore = x),
          (h = new WeakMap()),
          (p = new WeakMap()),
          (t.ReplaceableNoteStore = class extends b {
            constructor() {
              super(...arguments), m.set(this, void 0);
            }
            add(e) {
              e = Array.isArray(e) ? e : [e];
              const t = [];
              e.forEach(e => {
                const n = y(this, m, "f")?.created_at ?? 0;
                e.created_at > n && (g(this, m, e, "f"), t.push(e));
              }),
                t.length > 0 && this.onChange(t);
            }
            clear() {
              g(this, m, void 0, "f"), this.onChange([]);
            }
            takeSnapshot() {
              if (y(this, m, "f")) return { ...y(this, m, "f") };
            }
          }),
          (m = new WeakMap()),
          (t.NoteCollection = class extends x {
            constructor() {
              super(e =>
                e.kind >= 3e4 && e.kind < 4e4
                  ? `${e.kind}:${e.pubkey}:${(0, w.findTag)(e, "d")}`
                  : (e.kind >= 1e4 && e.kind < 2e4) || [0, 3, 41].includes(e.kind)
                  ? `${e.kind}:${e.pubkey}`
                  : e.id
              );
            }
          });
      },
      2562: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.countLeadingZeros = t.minePow = void 0);
        const r = n(7576),
          i = n(1937);
        function o(e) {
          const t = [0, e.pubkey, e.created_at, e.kind, e.tags, e.content];
          return (0, i.bytesToHex)((0, r.sha256)(JSON.stringify(t)));
        }
        function a(e) {
          let t = 0;
          for (let n = 0; n < e.length; n++) {
            const r = parseInt(e[n], 16);
            if (0 !== r) {
              t += Math.clz32(r) - 28;
              break;
            }
            t += 4;
          }
          return t;
        }
        (t.minePow = function (e, t) {
          let n = 0,
            r = e.tags.findIndex(e => "nonce" === e[0]);
          -1 === r && ((r = e.tags.length), e.tags.push(["nonce", n.toString(), t.toString()]));
          do {
            const t = Math.floor(new Date().getTime() / 1e3);
            t !== e.created_at && ((n = 0), (e.created_at = t)), (e.tags[r][1] = (++n).toString()), (e.id = o(e));
          } while (a(e.id) < t);
          return e;
        }),
          (t.countLeadingZeros = a);
      },
      5689: function (e, t, n) {
        "use strict";
        var r,
          i,
          o =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          a =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.PowWorker = void 0);
        const s = n(4852);
        (t.PowWorker = class {
          constructor(e) {
            r.set(this, void 0),
              i.set(this, new Map()),
              o(this, r, new Worker(e, { name: "POW" }), "f"),
              (a(this, r, "f").onerror = e => {
                console.error(e);
              }),
              (a(this, r, "f").onmessage = e => {
                const t = e.data,
                  n = a(this, i, "f").get(t.id);
                n && (clearTimeout(n.timeout), a(this, i, "f").delete(t.id), n.resolve(t.event));
              });
          }
          minePow(e, t) {
            return new Promise((n, o) => {
              const l = { id: (0, s.v4)(), cmd: "req", event: e, target: t };
              a(this, i, "f").set(l.id, {
                resolve: e => n(e),
                reject: o,
                timeout: setTimeout(() => {
                  a(this, i, "f").delete(l.id), o();
                }, 6e5),
              }),
                a(this, r, "f").postMessage(l);
            });
          }
        }),
          (r = new WeakMap()),
          (i = new WeakMap());
      },
      95: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          d =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          f =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.ProfileLoaderService = void 0);
        const h = f(n(6530)),
          p = n(5861),
          m = n(2087),
          y = n(1468),
          g = n(7249),
          v = ["wss://purplepag.es"];
        (t.ProfileLoaderService = class {
          constructor(e, t) {
            r.add(this),
              i.set(this, void 0),
              o.set(this, void 0),
              a.set(this, new Set()),
              s.set(this, new Set()),
              l.set(this, (0, h.default)("ProfileCache")),
              u(this, i, e, "f"),
              u(this, o, t, "f"),
              d(this, r, "m", c).call(this);
          }
          get Cache() {
            return d(this, o, "f");
          }
          TrackMetadata(e) {
            const t = [];
            for (const n of Array.isArray(e) ? e : [e]) 64 === n.length && d(this, s, "f").add(n) && t.push(n);
            d(this, o, "f").buffer(t);
          }
          UntrackMetadata(e) {
            for (const t of Array.isArray(e) ? e : [e]) t.length > 0 && d(this, s, "f").delete(t);
          }
          async onProfileEvent(e) {
            const t = (0, g.mapEventToProfile)(e);
            t && (await d(this, o, "f").update(t));
          }
        }),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (s = new WeakMap()),
          (l = new WeakMap()),
          (r = new WeakSet()),
          (c = async function e() {
            const t = await d(this, o, "f").buffer([...d(this, s, "f")]),
              n = (0, p.unixNowMs)() - y.ProfileCacheExpire,
              c = [...d(this, s, "f")]
                .filter(e => !t.includes(e))
                .filter(e => (d(this, o, "f").getFromCache(e)?.loaded ?? 0) < n),
              f = new Set([...t, ...c]);
            if (f.size > 0) {
              d(this, l, "f").call(this, "Wants profiles: %d missing, %d expired", t.length, c.length);
              const e = new m.RequestBuilder("profiles");
              if (
                (e
                  .withOptions({ skipDiff: !0 })
                  .withFilter()
                  .kinds([m.EventKind.SetMetadata])
                  .authors([...f]),
                d(this, a, "f").size > 0)
              ) {
                const t = e
                  .withFilter()
                  .kinds([m.EventKind.SetMetadata])
                  .authors([...d(this, a, "f")]);
                v.forEach(e => t.relay(e));
              }
              const n = new Set(),
                r = d(this, i, "f").Query(m.NoteCollection, e),
                s = r?.feed ?? new m.NoteCollection(),
                h = s.onEvent(async e => {
                  for (const t of e) n.add(t.id), await this.onProfileEvent(t);
                }),
                g = await new Promise(t => {
                  let n;
                  const r = s.hook(() => {
                    s.loading ||
                      (clearTimeout(n),
                      t(s.getSnapshotData() ?? []),
                      d(this, l, "f").call(this, "Profiles finished: %s", e.id),
                      r());
                  });
                  n = setTimeout(() => {
                    r(), t(s.getSnapshotData() ?? []), d(this, l, "f").call(this, "Profiles timeout: %s", e.id);
                  }, 5e3);
                });
              h();
              const w = [...f].filter(e => !g.some(t => t.pubkey === e));
              if ((u(this, a, new Set(w), "f"), w.length > 0)) {
                d(this, l, "f").call(this, "No profiles: %o", w);
                const e = w.map(e =>
                  d(this, o, "f").update({
                    pubkey: e,
                    loaded: (0, p.unixNowMs)() - y.ProfileCacheExpire + 3e4,
                    created: 69,
                  })
                );
                await Promise.all(e);
              }
              const b = g.filter(e => !n.has(e.id) && c.includes(e.pubkey));
              await Promise.all(b.map(e => this.onProfileEvent(e)));
            }
            setTimeout(() => d(this, r, "m", e).call(this), 500);
          });
      },
      1383: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u,
          d,
          f,
          h,
          p,
          m,
          y,
          g,
          v =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          w =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          b =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.Query = void 0);
        const x = n(4852),
          E = b(n(6530)),
          k = n(5861),
          j = n(2087),
          S = n(8517),
          A = n(5382),
          C = n(6636);
        class N {
          constructor(e, t, n, a, s) {
            (this.relay = e),
              (this.filters = t),
              (this.connId = n),
              r.set(this, !1),
              i.set(this, void 0),
              o.set(this, void 0),
              (this.id = (0, x.v4)()),
              (this.start = (0, k.unixNowMs)()),
              v(this, i, a, "f"),
              v(this, o, s, "f"),
              (this.flatFilters = t.flatMap(A.expandFilter));
          }
          sentToRelay() {
            (this.sent = (0, k.unixNowMs)()), w(this, o, "f").call(this);
          }
          gotEose() {
            (this.eose = (0, k.unixNowMs)()), w(this, o, "f").call(this);
          }
          forceEose() {
            (this.eose = (0, k.unixNowMs)()), v(this, r, !0, "f"), this.sendClose();
          }
          sendClose() {
            (this.close = (0, k.unixNowMs)()), w(this, i, "f").call(this, this.id), w(this, o, "f").call(this);
          }
          get queued() {
            return (
              (void 0 === this.sent ? (0, k.unixNowMs)() : w(this, r, "f") ? (0, k.unwrap)(this.eose) : this.sent) -
              this.start
            );
          }
          get runtime() {
            return (void 0 === this.eose ? (0, k.unixNowMs)() : this.eose) - this.start;
          }
          get responseTime() {
            return this.finished ? (0, k.unwrap)(this.eose) - (0, k.unwrap)(this.sent) : 0;
          }
          get finished() {
            return void 0 !== this.eose;
          }
        }
        (r = new WeakMap()),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (t.Query = class {
            constructor(e, t, n, r) {
              a.add(this),
                s.set(this, []),
                l.set(this, !1),
                c.set(this, void 0),
                u.set(this, void 0),
                d.set(this, void 0),
                f.set(this, (0, E.default)("Query")),
                (this.id = e),
                v(this, d, n, "f"),
                (this.fromInstance = t),
                v(this, l, r ?? !1, "f"),
                w(this, a, "m", m).call(this);
            }
            isOpen() {
              return void 0 === w(this, c, "f") && w(this, l, "f");
            }
            canRemove() {
              return void 0 !== w(this, c, "f") && w(this, c, "f") < (0, k.unixNowMs)();
            }
            get filters() {
              return (0, S.flatMerge)(this.flatFilters);
            }
            get flatFilters() {
              return w(this, s, "f").flatMap(e => e.flatFilters);
            }
            get feed() {
              return w(this, d, "f");
            }
            onEvent(e, t) {
              for (const n of w(this, s, "f"))
                if (n.id === e) {
                  n.filters.some(e => (0, C.eventMatchesFilter)(t, e))
                    ? this.feed.add(t)
                    : w(this, f, "f").call(this, "Event did not match filter, rejecting %O", t);
                  break;
                }
            }
            cancel() {
              v(this, c, (0, k.unixNowMs)() + 5e3, "f");
            }
            uncancel() {
              v(this, c, void 0, "f");
            }
            cleanup() {
              w(this, a, "m", p).call(this);
            }
            sendToRelay(e, t) {
              if (w(this, a, "m", y).call(this, e, t)) return w(this, a, "m", g).call(this, e, t);
            }
            connectionLost(e) {
              w(this, s, "f")
                .filter(t => t.connId == e)
                .forEach(e => e.forceEose());
            }
            connectionRestored(e) {
              if (this.isOpen())
                for (const t of w(this, s, "f"))
                  t.relay === e.Address && e.QueueReq(["REQ", t.id, ...t.filters], () => t.sentToRelay());
            }
            sendClose() {
              for (const e of w(this, s, "f")) e.sendClose();
              this.cleanup();
            }
            eose(e, t) {
              const n = w(this, s, "f").find(n => n.id === e && n.connId === t.Id);
              n?.gotEose(), w(this, l, "f") || n?.sendClose();
            }
            get progress() {
              const e = w(this, s, "f").reduce((e, t) => e + (t.finished ? 1 : 0), 0) / w(this, s, "f").length;
              return isNaN(e) ? 0 : e;
            }
          }),
          (s = new WeakMap()),
          (l = new WeakMap()),
          (c = new WeakMap()),
          (u = new WeakMap()),
          (d = new WeakMap()),
          (f = new WeakMap()),
          (a = new WeakSet()),
          (h = function () {
            const e = 1 === this.progress;
            this.feed.loading !== e &&
              (w(this, f, "f").call(
                this,
                "%s loading=%s, progress=%d, traces=%O",
                this.id,
                this.feed.loading,
                this.progress,
                w(this, s, "f")
              ),
              (this.feed.loading = e));
          }),
          (p = function () {
            w(this, u, "f") && clearInterval(w(this, u, "f"));
          }),
          (m = function () {
            w(this, a, "m", p).call(this),
              v(
                this,
                u,
                setInterval(() => {
                  for (const e of w(this, s, "f")) e.runtime > 5e3 && !e.finished && e.forceEose();
                }, 500),
                "f"
              );
          }),
          (y = function (e, t) {
            return !(
              (t.relay && t.relay !== e.Address) ||
              (!t.relay && e.Ephemeral
                ? (w(this, f, "f").call(
                    this,
                    "Cant send non-specific REQ to ephemeral connection %O %O %O",
                    t,
                    t.relay,
                    e
                  ),
                  1)
                : t.filters.some(e => e.search) &&
                  !e.SupportsNip(j.Nips.Search) &&
                  (w(this, f, "f").call(this, "Cant send REQ to non-search relay", e.Address), 1))
            );
          }),
          (g = function (e, t) {
            const n = new N(
              e.Address,
              t.filters,
              e.Id,
              t => e.CloseReq(t),
              () => w(this, a, "m", h).call(this)
            );
            return w(this, s, "f").push(n), e.QueueReq(["REQ", n.id, ...n.filters], () => n.sentToRelay()), n;
          });
      },
      2294: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 });
      },
      2353: function (e, t) {
        "use strict";
        var n,
          r =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.RelayMetricHandler = void 0),
          (t.RelayMetricHandler = class {
            constructor(e) {
              n.set(this, void 0), r(this, n, e, "f");
            }
            onDisconnect(e, t) {}
          }),
          (n = new WeakMap());
      },
      3412: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l,
          c,
          u =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          d =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            },
          f =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.RequestFilterBuilder = t.RequestBuilder = t.RequestStrategy = void 0);
        const h = f(n(6530)),
          p = n(4852),
          m = n(5861),
          y = n(4278),
          g = n(7157),
          v = n(8517),
          w = n(5382);
        var b;
        !(function (e) {
          (e[(e.DefaultRelays = 1)] = "DefaultRelays"),
            (e[(e.AuthorsRelays = 2)] = "AuthorsRelays"),
            (e[(e.ExplicitRelays = 3)] = "ExplicitRelays");
        })(b || (t.RequestStrategy = b = {})),
          (t.RequestBuilder = class {
            constructor(e) {
              r.add(this),
                i.set(this, void 0),
                o.set(this, void 0),
                a.set(this, (0, h.default)("RequestBuilder")),
                (this.instance = (0, p.v4)()),
                (this.id = e),
                u(this, i, [], "f");
            }
            get numFilters() {
              return d(this, i, "f").length;
            }
            get options() {
              return d(this, o, "f");
            }
            add(e) {
              d(this, i, "f").push(...d(e, i, "f"));
            }
            withFilter() {
              const e = new x();
              return d(this, i, "f").push(e), e;
            }
            withOptions(e) {
              return u(this, o, { ...d(this, o, "f"), ...e }, "f"), this;
            }
            buildRaw() {
              return d(this, i, "f").map(e => e.filter);
            }
            build(e) {
              const t = d(this, i, "f").flatMap(t => t.build(e, this.id));
              return d(this, r, "m", s).call(this, t);
            }
            buildDiff(e, t) {
              const n = (0, m.unixNowMs)(),
                r = d(this, i, "f").flatMap(e => (0, w.expandFilter)(e.filter)),
                o = (0, y.diffFilters)(t, r),
                s = (0, m.unixNowMs)() - n;
              return (
                d(this, a, "f").call(this, "buildDiff %s %d ms", this.id, s),
                o.changed
                  ? (0, g.splitFlatByWriteRelays)(e, o.added).map(e => ({
                      strategy: b.AuthorsRelays,
                      filters: (0, v.flatMerge)(e.filters),
                      relay: e.relay,
                    }))
                  : (d(this, a, "f").call(this, `Wasted ${s} ms detecting no changes!`), [])
              );
            }
          }),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (a = new WeakMap()),
          (r = new WeakSet()),
          (s = function (e) {
            return [
              ...e
                .reduce((e, t) => {
                  const n = e.get(t.relay);
                  return n ? n.push(t) : e.set(t.relay, [t]), e;
                }, new Map())
                .values(),
            ].map(e => ({
              filters: (0, v.mergeSimilar)(e.flatMap(e => e.filters)),
              relay: e[0].relay,
              strategy: e[0].strategy,
            }));
          });
        class x {
          constructor() {
            l.set(this, {}), c.set(this, new Set());
          }
          get filter() {
            return { ...d(this, l, "f") };
          }
          relay(e) {
            const t = (0, m.sanitizeRelayUrl)(e);
            return t && d(this, c, "f").add(t), this;
          }
          ids(e) {
            return (d(this, l, "f").ids = (0, m.appendDedupe)(d(this, l, "f").ids, e)), this;
          }
          authors(e) {
            return e ? ((d(this, l, "f").authors = (0, m.appendDedupe)(d(this, l, "f").authors, e)), this) : this;
          }
          kinds(e) {
            return e ? ((d(this, l, "f").kinds = (0, m.appendDedupe)(d(this, l, "f").kinds, e)), this) : this;
          }
          since(e) {
            return e ? ((d(this, l, "f").since = e), this) : this;
          }
          until(e) {
            return e ? ((d(this, l, "f").until = e), this) : this;
          }
          limit(e) {
            return e ? ((d(this, l, "f").limit = e), this) : this;
          }
          tag(e, t) {
            return t ? ((d(this, l, "f")[`#${e}`] = (0, m.appendDedupe)(d(this, l, "f")[`#${e}`], t)), this) : this;
          }
          search(e) {
            return e ? ((d(this, l, "f").search = e), this) : this;
          }
          build(e, t) {
            return d(this, c, "f").size > 0
              ? [...d(this, c, "f")].map(e => ({ filters: [d(this, l, "f")], relay: e, strategy: b.ExplicitRelays }))
              : d(this, l, "f").authors
              ? (0, g.splitByWriteRelays)(e, d(this, l, "f")).map(e => ({
                  filters: [e.filter],
                  relay: e.relay,
                  strategy: b.AuthorsRelays,
                }))
              : [{ filters: [this.filter], relay: "", strategy: b.DefaultRelays }];
          }
        }
        (t.RequestFilterBuilder = x), (l = new WeakMap()), (c = new WeakMap());
      },
      5382: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.expandFilter = void 0),
          (t.expandFilter = function (e) {
            const t = [],
              n = Object.entries(e),
              r = n.filter(([, e]) => Array.isArray(e)).map(e => e[0]),
              i = n.filter(([, e]) => !Array.isArray(e));
            return (
              (function n(i, o) {
                if (i === r.length) return void t.push(o);
                const a = r[i],
                  s = e[a];
                for (let e = 0; e < s.length; e++) {
                  const t = s[e];
                  n(i + 1, { ...o, [a]: t });
                }
              })(0, { keys: r.length, ...Object.fromEntries(i) }),
              t
            );
          });
      },
      6636: (e, t) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.eventMatchesFilter = void 0),
          (t.eventMatchesFilter = function (e, t) {
            return !(
              (t.since && e.created_at < t.since) ||
              (t.until && e.created_at > t.until) ||
              !(t.ids?.includes(e.id) ?? 1) ||
              !(t.authors?.includes(e.pubkey) ?? 1) ||
              !(t.kinds?.includes(e.kind) ?? 1)
            );
          });
      },
      8517: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.flatMerge = t.filterIncludes = t.simpleMerge = t.mergeSimilar = t.canMergeFilters = void 0);
        const r = n(5861),
          i = ["since", "until", "limit", "search"];
        function o(e, t) {
          const n = e,
            o = t;
          for (const e of i) if (n[e] !== o[e]) return !1;
          return (0, r.distance)(e, t) <= 1;
        }
        function a(e) {
          const t = [],
            n = [...e];
          for (; n.length > 0; ) {
            const e = [n.shift()];
            for (let t = 0; t < n.length; t++) {
              const r = n[t];
              e.some(e => !o(e, r)) || (e.push(n.splice(t, 1)[0]), t--);
            }
            t.push(s(e));
          }
          return t;
        }
        function s(e) {
          const t = {};
          return (
            e.forEach(e => {
              Object.entries(e).forEach(([e, n]) => {
                if (Array.isArray(n))
                  if (void 0 === t[e]) t[e] = [...n];
                  else {
                    const r = n.filter(n => !t[e].includes(n));
                    t[e].push(...r);
                  }
                else t[e] = n;
              });
            }),
            t
          );
        }
        (t.canMergeFilters = o),
          (t.mergeSimilar = a),
          (t.simpleMerge = s),
          (t.filterIncludes = function (e, t) {
            const n = e;
            for (const [e, r] of Object.entries(t)) {
              if (void 0 === n[e]) return !1;
              if (Array.isArray(r) && r.some(t => !n[e].includes(t))) return !1;
              if ("number" == typeof r) {
                if ("since" === e && n[e] > r) return !1;
                if ("until" === e && n[e] < r) return !1;
              }
            }
            return !0;
          }),
          (t.flatMerge = function (e) {
            let t = [];
            for (; e.length > 0; ) {
              const n = [e.shift()];
              for (let t = 0; t < e.length; t++) {
                const r = e[t];
                n.every(e => o(e, r)) && (n.push(e.splice(t, 1)[0]), t--);
              }
              t.push(
                n.reduce(
                  (e, t) => (
                    Object.entries(t).forEach(([t, n]) => {
                      "keys" !== t &&
                        (i.includes(t) ? (e[t] = n) : (e[t] ?? (e[t] = []), e[t].includes(n) || e[t].push(n)));
                    }),
                    e
                  ),
                  {}
                )
              );
            }
            for (;;) {
              const e = a([...t]);
              if (e.length === t.length) break;
              t = e;
            }
            return t;
          });
      },
      4278: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.diffFilters = void 0);
        const r = n(4213);
        t.diffFilters = function (e, t, n) {
          const i = [],
            o = [];
          for (const n of t) {
            const t = e.findIndex(e => (0, r.flatFilterEq)(e, n));
            -1 !== t ? e.splice(t, 1) : i.push(n);
          }
          if (n)
            for (const n of e) {
              const e = t.findIndex(e => (0, r.flatFilterEq)(e, n));
              -1 !== e ? t.splice(e, 1) : o.push(n);
            }
          const a = i.length > 0 || o.length > 0;
          return { added: a ? i : [], removed: a ? o : [], changed: a };
        };
      },
      6895: function (e, t, n) {
        "use strict";
        var r,
          i,
          o,
          a,
          s,
          l =
            (this && this.__classPrivateFieldSet) ||
            function (e, t, n, r, i) {
              if ("m" === r) throw new TypeError("Private method is not writable");
              if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
              if ("function" == typeof t ? e !== t || !i : !t.has(e))
                throw new TypeError("Cannot write private member to an object whose class did not declare it");
              return "a" === r ? i.call(e, n) : i ? (i.value = n) : t.set(e, n), n;
            },
          c =
            (this && this.__classPrivateFieldGet) ||
            function (e, t, n, r) {
              if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
              if ("function" == typeof t ? e !== t || !r : !t.has(e))
                throw new TypeError("Cannot read private member from an object whose class did not declare it");
              return "m" === n ? r : "a" === n ? r.call(e) : r ? r.value : t.get(e);
            };
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.PrivateKeySigner = void 0);
        const u = n(2765),
          d = n(5861),
          f = n(4228),
          h = n(2219),
          p = n(8939),
          m = n(5856);
        (t.PrivateKeySigner = class {
          constructor(e) {
            r.add(this),
              i.set(this, void 0),
              o.set(this, void 0),
              l(this, o, "string" == typeof e ? e : (0, u.bytesToHex)(e), "f"),
              l(this, i, (0, d.getPublicKey)(c(this, o, "f")), "f");
          }
          get privateKey() {
            return c(this, o, "f");
          }
          init() {
            return Promise.resolve();
          }
          getPubKey() {
            return c(this, i, "f");
          }
          async nip4Encrypt(e, t) {
            const n = new h.Nip4WebCryptoEncryptor(),
              r = n.getSharedSecret(this.privateKey, t),
              i = await n.encryptData(e, r);
            return `${m.base64.encode(i.ciphertext)}?iv=${m.base64.encode(i.nonce)}`;
          }
          async nip4Decrypt(e, t) {
            const n = new h.Nip4WebCryptoEncryptor(),
              r = n.getSharedSecret(this.privateKey, t),
              [i, o] = e.split("?iv=");
            return await n.decryptData({ ciphertext: m.base64.decode(i), nonce: m.base64.decode(o), v: 0 }, r);
          }
          async nip44Encrypt(e, t) {
            const n = new p.XChaCha20Encryptor(),
              i = n.getSharedSecret(c(this, o, "f"), t),
              a = n.encryptData(e, i);
            return c(this, r, "m", s).call(this, a);
          }
          async nip44Decrypt(e, t) {
            const n = c(this, r, "m", a).call(this, e);
            if (1 !== n.v) throw new Error("Invalid payload version");
            const i = new p.XChaCha20Encryptor(),
              s = i.getSharedSecret(c(this, o, "f"), t);
            return i.decryptData(n, s);
          }
          sign(e) {
            return f.EventExt.sign(e, c(this, o, "f")), Promise.resolve(e);
          }
        }),
          (i = new WeakMap()),
          (o = new WeakMap()),
          (r = new WeakSet()),
          (a = function (e) {
            if (e.startsWith("{") && e.endsWith("}")) {
              const t = JSON.parse(e);
              return { v: t.v, nonce: m.base64.decode(t.nonce), ciphertext: m.base64.decode(t.ciphertext) };
            }
            {
              const t = m.base64.decode(e);
              return { v: t[0], nonce: t.subarray(1, 25), ciphertext: t.subarray(25) };
            }
          }),
          (s = function (e) {
            return m.base64.encode(new Uint8Array([e.v, ...e.nonce, ...e.ciphertext]));
          });
      },
      2673: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.transformText = void 0);
        const r = n(5861),
          i = n(1468),
          o = n(3112),
          a = n(4213);
        t.transformText = function (e, t) {
          let n = (function (e) {
            return e
              .map(e =>
                "string" == typeof e
                  ? (0, a.splitByUrl)(e).map(e => {
                      if (
                        (() => {
                          const t = e.toLowerCase();
                          return t.startsWith("web+nostr:") || t.startsWith("nostr:")
                            ? (0, o.validateNostrLink)(t)
                            : t.startsWith("http:") || t.startsWith("https:") || t.startsWith("magnet:");
                        })()
                      ) {
                        const t = new URL(e).pathname.match(i.FileExtensionRegex);
                        if (t && t.length > 1) {
                          const n = (() => {
                            switch (t[1]) {
                              case "gif":
                              case "jpg":
                              case "jpeg":
                              case "jfif":
                              case "png":
                              case "bmp":
                              case "webp":
                                return "image";
                              case "wav":
                              case "mp3":
                              case "ogg":
                                return "audio";
                              case "mp4":
                              case "mov":
                              case "mkv":
                              case "avi":
                              case "m4v":
                              case "webm":
                              case "m3u8":
                                return "video";
                              default:
                                return "unknown";
                            }
                          })();
                          return { type: "media", content: e, mimeType: `${n}/${t[1]}` };
                        }
                        return { type: "link", content: e };
                      }
                      return e;
                    })
                  : e
              )
              .flat();
          })([e]);
          return (
            (n = (function (e) {
              return e
                .map(e =>
                  "string" == typeof e
                    ? e
                        .split(i.MentionNostrEntityRegex)
                        .map(e => (i.MentionNostrEntityRegex.test(e) ? { type: "mention", content: e } : e))
                    : e
                )
                .flat();
            })(n)),
            (n = (function (e) {
              return e
                .map(e =>
                  "string" == typeof e
                    ? e
                        .split(i.HashtagRegex)
                        .map(e => (e.toLowerCase().startsWith("#") ? { type: "hashtag", content: e.substring(1) } : e))
                    : e
                )
                .flat();
            })(n)),
            (n = (function (e) {
              return e
                .map(e =>
                  "string" == typeof e
                    ? e
                        .split(i.InvoiceRegex)
                        .map(e => (e.toLowerCase().startsWith("lnbc") ? { type: "invoice", content: e } : e))
                    : e
                )
                .flat();
            })(n)),
            (n = (function (e) {
              return e
                .map(e =>
                  "string" == typeof e && e.includes("cashuA")
                    ? e.split(i.CashuRegex).map(e => ({ type: "cashu", content: e }))
                    : e
                )
                .flat();
            })(n)),
            (n = (function (e, t) {
              return e
                .map(e =>
                  "string" == typeof e
                    ? e.split(/:(\w+):/g).map(e => {
                        const n = t.find(t => "emoji" === t[0] && t[1] === e);
                        return n ? { type: "custom_emoji", content: n[2] } : e;
                      })
                    : e
                )
                .flat();
            })(n, t)),
            (n = n
              .map(e => ("string" != typeof e ? e : e.length > 0 ? { type: "text", content: e } : void 0))
              .filter(e => e)
              .map(e => (0, r.unwrap)(e))),
            n
          );
        };
      },
      4213: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.splitByUrl = t.flatFilterEq = t.reqFilterEq = t.findTag = void 0);
        const r = n(5861);
        (t.findTag = function (e, t) {
          const n = e.tags.find(e => e[0] === t);
          return n && n[1];
        }),
          (t.reqFilterEq = function (e, t) {
            return (
              (0, r.equalProp)(e.ids, t.ids) &&
              (0, r.equalProp)(e.kinds, t.kinds) &&
              (0, r.equalProp)(e.authors, t.authors) &&
              (0, r.equalProp)(e.limit, t.limit) &&
              (0, r.equalProp)(e.since, t.since) &&
              (0, r.equalProp)(e.until, t.until) &&
              (0, r.equalProp)(e.search, t.search) &&
              (0, r.equalProp)(e["#e"], t["#e"]) &&
              (0, r.equalProp)(e["#p"], t["#p"]) &&
              (0, r.equalProp)(e["#t"], t["#t"]) &&
              (0, r.equalProp)(e["#d"], t["#d"]) &&
              (0, r.equalProp)(e["#r"], t["#r"])
            );
          }),
          (t.flatFilterEq = function (e, t) {
            return (
              e.keys === t.keys &&
              e.since === t.since &&
              e.until === t.until &&
              e.limit === t.limit &&
              e.search === t.search &&
              e.ids === t.ids &&
              e.kinds === t.kinds &&
              e.authors === t.authors &&
              e["#e"] === t["#e"] &&
              e["#p"] === t["#p"] &&
              e["#t"] === t["#t"] &&
              e["#d"] === t["#d"] &&
              e["#r"] === t["#r"]
            );
          }),
          (t.splitByUrl = function (e) {
            return e.split(
              /((?:http|ftp|https|nostr|web\+nostr|magnet):\/?\/?(?:[\w+?.\w+])+(?:[a-zA-Z0-9~!@#$%^&*()_\-=+\\/?.:;',]*)?(?:[-A-Za-z0-9+&@#/%=~()_|]))/i
            );
          });
      },
      5828: (e, t, n) => {
        "use strict";
        Object.defineProperty(t, "__esModule", { value: !0 }), (t.parseZap = void 0);
        const r = n(5861),
          i = n(4213);
        t.parseZap = function (e, t, n) {
          let o = (0, i.findTag)(e, "description");
          if (o)
            try {
              const a = (function (e) {
                const t = (0, i.findTag)(e, "bolt11");
                if (!t) throw new Error("Invalid zap, missing bolt11 tag");
                return (0, r.decodeInvoice)(t);
              })(e);
              o.startsWith("%") && (o = decodeURIComponent(o));
              const s = JSON.parse(o);
              if (Array.isArray(s)) throw new Error("deprecated zap format");
              const l = n?.tags.some(e => "zap" === e[0]) ?? !1,
                c = s.tags.find(e => "anon" === e[0]),
                u = (0, r.sha256)(o),
                d = s.tags.find(e => "poll_option" === e[0])?.[1],
                f = {
                  id: e.id,
                  zapService: e.pubkey,
                  amount: (a?.amount ?? 0) / 1e3,
                  event: (0, i.findTag)(s, "e"),
                  sender: s.pubkey,
                  receiver: (0, i.findTag)(s, "p"),
                  valid: !0,
                  anonZap: void 0 !== c,
                  content: s.content,
                  errors: [],
                  pollOption: d ? Number(d) : void 0,
                };
              return (
                a?.descriptionHash !== u &&
                  ((f.valid = !1), f.errors.push("description_hash does not match zap request")),
                (0, i.findTag)(s, "p") !== (0, i.findTag)(e, "p") &&
                  ((f.valid = !1), f.errors.push("p tags dont match")),
                f.event && f.event !== (0, i.findTag)(e, "e") && ((f.valid = !1), f.errors.push("e tags dont match")),
                (0, i.findTag)(s, "amount") === a?.amount &&
                  ((f.valid = !1), f.errors.push("amount tag does not match invoice amount")),
                t.getFromCache(f.receiver)?.zapService === f.zapService ||
                  l ||
                  ((f.valid = !1), f.errors.push("zap service pubkey doesn't match")),
                f
              );
            } catch (e) {}
          return {
            id: e.id,
            zapService: e.pubkey,
            amount: 0,
            valid: !1,
            anonZap: !1,
            errors: ["invalid zap, parsing failed"],
          };
        };
      },
      292: (e, t, n) => {
        "use strict";
        n.d(t, { OP: () => y, Pu: () => w, U_: () => p, gN: () => v, kK: () => g, oA: () => h, wQ: () => d });
        var r = n(9509);
        const i = BigInt(0),
          o = BigInt(1),
          a = BigInt(2),
          s = BigInt(3),
          l = BigInt(4),
          c = BigInt(5),
          u = BigInt(8);
        function d(e, t) {
          const n = e % t;
          return n >= i ? n : t + n;
        }
        function f(e, t, n) {
          if (n <= i || t < i) throw new Error("Expected power/modulo > 0");
          if (n === o) return i;
          let r = o;
          for (; t > i; ) t & o && (r = (r * e) % n), (e = (e * e) % n), (t >>= o);
          return r;
        }
        function h(e, t, n) {
          let r = e;
          for (; t-- > i; ) (r *= r), (r %= n);
          return r;
        }
        function p(e, t) {
          if (e === i || t <= i) throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);
          let n = d(e, t),
            r = t,
            a = i,
            s = o,
            l = o,
            c = i;
          for (; n !== i; ) {
            const e = r / n,
              t = r % n,
              i = a - l * e,
              o = s - c * e;
            (r = n), (n = t), (a = l), (s = c), (l = i), (c = o);
          }
          if (r !== o) throw new Error("invert: does not exist");
          return d(a, t);
        }
        BigInt(9), BigInt(16);
        const m = [
          "create",
          "isValid",
          "is0",
          "neg",
          "inv",
          "sqrt",
          "sqr",
          "eql",
          "add",
          "sub",
          "mul",
          "pow",
          "div",
          "addN",
          "subN",
          "mulN",
          "sqrN",
        ];
        function y(e) {
          const t = m.reduce((e, t) => ((e[t] = "function"), e), {
            ORDER: "bigint",
            MASK: "bigint",
            BYTES: "isSafeInteger",
            BITS: "isSafeInteger",
          });
          return (0, r.FF)(e, t);
        }
        function g(e, t) {
          const n = void 0 !== t ? t : e.toString(2).length;
          return { nBitLength: n, nByteLength: Math.ceil(n / 8) };
        }
        function v(e, t, n = !1, h = {}) {
          if (e <= i) throw new Error(`Expected Fp ORDER > 0, got ${e}`);
          const { nBitLength: m, nByteLength: y } = g(e, t);
          if (y > 2048) throw new Error("Field lengths over 2048 bytes are not supported");
          const v = (function (e) {
              if (e % l === s) {
                const t = (e + o) / l;
                return function (e, n) {
                  const r = e.pow(n, t);
                  if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root");
                  return r;
                };
              }
              if (e % u === c) {
                const t = (e - c) / u;
                return function (e, n) {
                  const r = e.mul(n, a),
                    i = e.pow(r, t),
                    o = e.mul(n, i),
                    s = e.mul(e.mul(o, a), i),
                    l = e.mul(o, e.sub(s, e.ONE));
                  if (!e.eql(e.sqr(l), n)) throw new Error("Cannot find square root");
                  return l;
                };
              }
              return (function (e) {
                const t = (e - o) / a;
                let n, r, s;
                for (n = e - o, r = 0; n % a === i; n /= a, r++);
                for (s = a; s < e && f(s, t, e) !== e - o; s++);
                if (1 === r) {
                  const t = (e + o) / l;
                  return function (e, n) {
                    const r = e.pow(n, t);
                    if (!e.eql(e.sqr(r), n)) throw new Error("Cannot find square root");
                    return r;
                  };
                }
                const c = (n + o) / a;
                return function (e, i) {
                  if (e.pow(i, t) === e.neg(e.ONE)) throw new Error("Cannot find square root");
                  let a = r,
                    l = e.pow(e.mul(e.ONE, s), n),
                    u = e.pow(i, c),
                    d = e.pow(i, n);
                  for (; !e.eql(d, e.ONE); ) {
                    if (e.eql(d, e.ZERO)) return e.ZERO;
                    let t = 1;
                    for (let n = e.sqr(d); t < a && !e.eql(n, e.ONE); t++) n = e.sqr(n);
                    const n = e.pow(l, o << BigInt(a - t - 1));
                    (l = e.sqr(n)), (u = e.mul(u, n)), (d = e.mul(d, l)), (a = t);
                  }
                  return u;
                };
              })(e);
            })(e),
            w = Object.freeze({
              ORDER: e,
              BITS: m,
              BYTES: y,
              MASK: (0, r.dQ)(m),
              ZERO: i,
              ONE: o,
              create: t => d(t, e),
              isValid: t => {
                if ("bigint" != typeof t) throw new Error("Invalid field element: expected bigint, got " + typeof t);
                return i <= t && t < e;
              },
              is0: e => e === i,
              isOdd: e => (e & o) === o,
              neg: t => d(-t, e),
              eql: (e, t) => e === t,
              sqr: t => d(t * t, e),
              add: (t, n) => d(t + n, e),
              sub: (t, n) => d(t - n, e),
              mul: (t, n) => d(t * n, e),
              pow: (e, t) =>
                (function (e, t, n) {
                  if (n < i) throw new Error("Expected power > 0");
                  if (n === i) return e.ONE;
                  if (n === o) return t;
                  let r = e.ONE,
                    a = t;
                  for (; n > i; ) n & o && (r = e.mul(r, a)), (a = e.sqr(a)), (n >>= o);
                  return r;
                })(w, e, t),
              div: (t, n) => d(t * p(n, e), e),
              sqrN: e => e * e,
              addN: (e, t) => e + t,
              subN: (e, t) => e - t,
              mulN: (e, t) => e * t,
              inv: t => p(t, e),
              sqrt: h.sqrt || (e => v(w, e)),
              invertBatch: e =>
                (function (e, t) {
                  const n = new Array(t.length),
                    r = t.reduce((t, r, i) => (e.is0(r) ? t : ((n[i] = t), e.mul(t, r))), e.ONE),
                    i = e.inv(r);
                  return t.reduceRight((t, r, i) => (e.is0(r) ? t : ((n[i] = e.mul(t, n[i])), e.mul(t, r))), i), n;
                })(w, e),
              cmov: (e, t, n) => (n ? t : e),
              toBytes: e => (n ? (0, r.S5)(e, y) : (0, r.tL)(e, y)),
              fromBytes: e => {
                if (e.length !== y) throw new Error(`Fp.fromBytes: expected ${y}, got ${e.length}`);
                return n ? (0, r.ty)(e) : (0, r.bytesToNumberBE)(e);
              },
            });
          return Object.freeze(w);
        }
        function w(e, t, n = !1) {
          const i = (e = (0, r.ql)("privateHash", e)).length,
            a = g(t).nByteLength + 8;
          if (a < 24 || i < a || i > 1024)
            throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${i}`);
          return d(n ? (0, r.ty)(e) : (0, r.bytesToNumberBE)(e), t - o) + o;
        }
      },
      9509: (e, t, n) => {
        "use strict";
        n.d(t, {
          FF: () => E,
          S5: () => h,
          bytesToNumberBE: () => u,
          ci: () => s,
          dQ: () => g,
          eV: () => m,
          hexToBytes: () => c,
          iY: () => y,
          n$: () => b,
          ql: () => p,
          tL: () => f,
          ty: () => d,
        }),
          BigInt(0);
        const r = BigInt(1),
          i = BigInt(2),
          o = e => e instanceof Uint8Array,
          a = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0"));
        function s(e) {
          if (!o(e)) throw new Error("Uint8Array expected");
          let t = "";
          for (let n = 0; n < e.length; n++) t += a[e[n]];
          return t;
        }
        function l(e) {
          if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
          return BigInt("" === e ? "0" : `0x${e}`);
        }
        function c(e) {
          if ("string" != typeof e) throw new Error("hex string expected, got " + typeof e);
          if (e.length % 2) throw new Error("hex string is invalid: unpadded " + e.length);
          const t = new Uint8Array(e.length / 2);
          for (let n = 0; n < t.length; n++) {
            const r = 2 * n,
              i = e.slice(r, r + 2),
              o = Number.parseInt(i, 16);
            if (Number.isNaN(o) || o < 0) throw new Error("invalid byte sequence");
            t[n] = o;
          }
          return t;
        }
        function u(e) {
          return l(s(e));
        }
        function d(e) {
          if (!o(e)) throw new Error("Uint8Array expected");
          return l(s(Uint8Array.from(e).reverse()));
        }
        const f = (e, t) => c(e.toString(16).padStart(2 * t, "0")),
          h = (e, t) => f(e, t).reverse();
        function p(e, t, n) {
          let r;
          if ("string" == typeof t)
            try {
              r = c(t);
            } catch (n) {
              throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`);
            }
          else {
            if (!o(t)) throw new Error(`${e} must be hex string or Uint8Array`);
            r = Uint8Array.from(t);
          }
          const i = r.length;
          if ("number" == typeof n && i !== n) throw new Error(`${e} expected ${n} bytes, got ${i}`);
          return r;
        }
        function m(...e) {
          const t = new Uint8Array(e.reduce((e, t) => e + t.length, 0));
          let n = 0;
          return (
            e.forEach(e => {
              if (!o(e)) throw new Error("Uint8Array expected");
              t.set(e, n), (n += e.length);
            }),
            t
          );
        }
        function y(e) {
          if ("string" != typeof e) throw new Error("utf8ToBytes expected string, got " + typeof e);
          return new TextEncoder().encode(e);
        }
        const g = e => (i << BigInt(e - 1)) - r,
          v = e => new Uint8Array(e),
          w = e => Uint8Array.from(e);
        function b(e, t, n) {
          if ("number" != typeof e || e < 2) throw new Error("hashLen must be a number");
          if ("number" != typeof t || t < 2) throw new Error("qByteLen must be a number");
          if ("function" != typeof n) throw new Error("hmacFn must be a function");
          let r = v(e),
            i = v(e),
            o = 0;
          const a = () => {
              r.fill(1), i.fill(0), (o = 0);
            },
            s = (...e) => n(i, r, ...e),
            l = (e = v()) => {
              (i = s(w([0]), e)), (r = s()), 0 !== e.length && ((i = s(w([1]), e)), (r = s()));
            },
            c = () => {
              if (o++ >= 1e3) throw new Error("drbg: tried 1000 values");
              let e = 0;
              const n = [];
              for (; e < t; ) {
                r = s();
                const t = r.slice();
                n.push(t), (e += r.length);
              }
              return m(...n);
            };
          return (e, t) => {
            let n;
            for (a(), l(e); !(n = t(c())); ) l();
            return a(), n;
          };
        }
        const x = {
          bigint: e => "bigint" == typeof e,
          function: e => "function" == typeof e,
          boolean: e => "boolean" == typeof e,
          string: e => "string" == typeof e,
          isSafeInteger: e => Number.isSafeInteger(e),
          array: e => Array.isArray(e),
          field: (e, t) => t.Fp.isValid(e),
          hash: e => "function" == typeof e && Number.isSafeInteger(e.outputLen),
        };
        function E(e, t, n = {}) {
          const r = (t, n, r) => {
            const i = x[n];
            if ("function" != typeof i) throw new Error(`Invalid validator "${n}", expected function`);
            const o = e[t];
            if (!((r && void 0 === o) || i(o, e)))
              throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`);
          };
          for (const [e, n] of Object.entries(t)) r(e, n, !1);
          for (const [e, t] of Object.entries(n)) r(e, t, !0);
          return e;
        }
      },
      5267: (e, t, n) => {
        "use strict";
        n.d(t, { xW: () => G, kA: () => B });
        var r = n(9753),
          i = n(7588),
          o = n(292),
          a = n(9509);
        const s = BigInt(0),
          l = BigInt(1);
        function c(e) {
          return (
            (0, o.OP)(e.Fp),
            (0, a.FF)(
              e,
              { n: "bigint", h: "bigint", Gx: "field", Gy: "field" },
              { nBitLength: "isSafeInteger", nByteLength: "isSafeInteger" }
            ),
            Object.freeze({ ...(0, o.kK)(e.n, e.nBitLength), ...e, p: e.Fp.ORDER })
          );
        }
        const { bytesToNumberBE: u, hexToBytes: d } = a,
          f = {
            Err: class extends Error {
              constructor(e = "") {
                super(e);
              }
            },
            _parseInt(e) {
              const { Err: t } = f;
              if (e.length < 2 || 2 !== e[0]) throw new t("Invalid signature integer tag");
              const n = e[1],
                r = e.subarray(2, n + 2);
              if (!n || r.length !== n) throw new t("Invalid signature integer: wrong length");
              if (128 & r[0]) throw new t("Invalid signature integer: negative");
              if (0 === r[0] && !(128 & r[1])) throw new t("Invalid signature integer: unnecessary leading zero");
              return { d: u(r), l: e.subarray(n + 2) };
            },
            toSig(e) {
              const { Err: t } = f,
                n = "string" == typeof e ? d(e) : e;
              if (!(n instanceof Uint8Array)) throw new Error("ui8a expected");
              let r = n.length;
              if (r < 2 || 48 != n[0]) throw new t("Invalid signature tag");
              if (n[1] !== r - 2) throw new t("Invalid signature: incorrect length");
              const { d: i, l: o } = f._parseInt(n.subarray(2)),
                { d: a, l: s } = f._parseInt(o);
              if (s.length) throw new t("Invalid signature: left bytes after parsing");
              return { r: i, s: a };
            },
            hexFromSig(e) {
              const t = e => (8 & Number.parseInt(e[0], 16) ? "00" + e : e),
                n = e => {
                  const t = e.toString(16);
                  return 1 & t.length ? `0${t}` : t;
                },
                r = t(n(e.s)),
                i = t(n(e.r)),
                o = r.length / 2,
                a = i.length / 2,
                s = n(o),
                l = n(a);
              return `30${n(a + o + 4)}02${l}${i}02${s}${r}`;
            },
          },
          h = BigInt(0),
          p = BigInt(1),
          m = BigInt(2),
          y = BigInt(3),
          g = BigInt(4);
        function v(e) {
          const t = (function (e) {
              const t = c(e);
              return (
                a.FF(
                  t,
                  { hash: "hash", hmac: "function", randomBytes: "function" },
                  { bits2int: "function", bits2int_modN: "function", lowS: "boolean" }
                ),
                Object.freeze({ lowS: !0, ...t })
              );
            })(e),
            { Fp: n, n: r } = t,
            i = n.BYTES + 1,
            u = 2 * n.BYTES + 1;
          function d(e) {
            return o.wQ(e, r);
          }
          function m(e) {
            return o.U_(e, r);
          }
          const {
              ProjectivePoint: g,
              normPrivateKeyToScalar: v,
              weierstrassEquation: w,
              isWithinCurveOrder: b,
            } = (function (e) {
              const t = (function (e) {
                  const t = c(e);
                  a.FF(
                    t,
                    { a: "field", b: "field" },
                    {
                      allowedPrivateKeyLengths: "array",
                      wrapPrivateKey: "boolean",
                      isTorsionFree: "function",
                      clearCofactor: "function",
                      allowInfinityPoint: "boolean",
                      fromBytes: "function",
                      toBytes: "function",
                    }
                  );
                  const { endo: n, Fp: r, a: i } = t;
                  if (n) {
                    if (!r.eql(i, r.ZERO))
                      throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");
                    if ("object" != typeof n || "bigint" != typeof n.beta || "function" != typeof n.splitScalar)
                      throw new Error("Expected endomorphism with beta: bigint and splitScalar: function");
                  }
                  return Object.freeze({ ...t });
                })(e),
                { Fp: n } = t,
                r =
                  t.toBytes ||
                  ((e, t, r) => {
                    const i = t.toAffine();
                    return a.eV(Uint8Array.from([4]), n.toBytes(i.x), n.toBytes(i.y));
                  }),
                i =
                  t.fromBytes ||
                  (e => {
                    const t = e.subarray(1);
                    return { x: n.fromBytes(t.subarray(0, n.BYTES)), y: n.fromBytes(t.subarray(n.BYTES, 2 * n.BYTES)) };
                  });
              function u(e) {
                const { a: r, b: i } = t,
                  o = n.sqr(e),
                  a = n.mul(o, e);
                return n.add(n.add(a, n.mul(e, r)), i);
              }
              if (!n.eql(n.sqr(t.Gy), u(t.Gx))) throw new Error("bad generator point: equation left != right");
              function d(e) {
                return "bigint" == typeof e && h < e && e < t.n;
              }
              function f(e) {
                if (!d(e)) throw new Error("Expected valid bigint: 0 < bigint < curve.n");
              }
              function m(e) {
                const { allowedPrivateKeyLengths: n, nByteLength: r, wrapPrivateKey: i, n: s } = t;
                if (n && "bigint" != typeof e) {
                  if ((e instanceof Uint8Array && (e = a.ci(e)), "string" != typeof e || !n.includes(e.length)))
                    throw new Error("Invalid key");
                  e = e.padStart(2 * r, "0");
                }
                let l;
                try {
                  l = "bigint" == typeof e ? e : a.bytesToNumberBE((0, a.ql)("private key", e, r));
                } catch (t) {
                  throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`);
                }
                return i && (l = o.wQ(l, s)), f(l), l;
              }
              const g = new Map();
              function v(e) {
                if (!(e instanceof w)) throw new Error("ProjectivePoint expected");
              }
              class w {
                constructor(e, t, r) {
                  if (((this.px = e), (this.py = t), (this.pz = r), null == e || !n.isValid(e)))
                    throw new Error("x required");
                  if (null == t || !n.isValid(t)) throw new Error("y required");
                  if (null == r || !n.isValid(r)) throw new Error("z required");
                }
                static fromAffine(e) {
                  const { x: t, y: r } = e || {};
                  if (!e || !n.isValid(t) || !n.isValid(r)) throw new Error("invalid affine point");
                  if (e instanceof w) throw new Error("projective point not allowed");
                  const i = e => n.eql(e, n.ZERO);
                  return i(t) && i(r) ? w.ZERO : new w(t, r, n.ONE);
                }
                get x() {
                  return this.toAffine().x;
                }
                get y() {
                  return this.toAffine().y;
                }
                static normalizeZ(e) {
                  const t = n.invertBatch(e.map(e => e.pz));
                  return e.map((e, n) => e.toAffine(t[n])).map(w.fromAffine);
                }
                static fromHex(e) {
                  const t = w.fromAffine(i((0, a.ql)("pointHex", e)));
                  return t.assertValidity(), t;
                }
                static fromPrivateKey(e) {
                  return w.BASE.multiply(m(e));
                }
                _setWindowSize(e) {
                  (this._WINDOW_SIZE = e), g.delete(this);
                }
                assertValidity() {
                  if (this.is0()) {
                    if (t.allowInfinityPoint) return;
                    throw new Error("bad point: ZERO");
                  }
                  const { x: e, y: r } = this.toAffine();
                  if (!n.isValid(e) || !n.isValid(r)) throw new Error("bad point: x or y not FE");
                  const i = n.sqr(r),
                    o = u(e);
                  if (!n.eql(i, o)) throw new Error("bad point: equation left != right");
                  if (!this.isTorsionFree()) throw new Error("bad point: not in prime-order subgroup");
                }
                hasEvenY() {
                  const { y: e } = this.toAffine();
                  if (n.isOdd) return !n.isOdd(e);
                  throw new Error("Field doesn't support isOdd");
                }
                equals(e) {
                  v(e);
                  const { px: t, py: r, pz: i } = this,
                    { px: o, py: a, pz: s } = e,
                    l = n.eql(n.mul(t, s), n.mul(o, i)),
                    c = n.eql(n.mul(r, s), n.mul(a, i));
                  return l && c;
                }
                negate() {
                  return new w(this.px, n.neg(this.py), this.pz);
                }
                double() {
                  const { a: e, b: r } = t,
                    i = n.mul(r, y),
                    { px: o, py: a, pz: s } = this;
                  let l = n.ZERO,
                    c = n.ZERO,
                    u = n.ZERO,
                    d = n.mul(o, o),
                    f = n.mul(a, a),
                    h = n.mul(s, s),
                    p = n.mul(o, a);
                  return (
                    (p = n.add(p, p)),
                    (u = n.mul(o, s)),
                    (u = n.add(u, u)),
                    (l = n.mul(e, u)),
                    (c = n.mul(i, h)),
                    (c = n.add(l, c)),
                    (l = n.sub(f, c)),
                    (c = n.add(f, c)),
                    (c = n.mul(l, c)),
                    (l = n.mul(p, l)),
                    (u = n.mul(i, u)),
                    (h = n.mul(e, h)),
                    (p = n.sub(d, h)),
                    (p = n.mul(e, p)),
                    (p = n.add(p, u)),
                    (u = n.add(d, d)),
                    (d = n.add(u, d)),
                    (d = n.add(d, h)),
                    (d = n.mul(d, p)),
                    (c = n.add(c, d)),
                    (h = n.mul(a, s)),
                    (h = n.add(h, h)),
                    (d = n.mul(h, p)),
                    (l = n.sub(l, d)),
                    (u = n.mul(h, f)),
                    (u = n.add(u, u)),
                    (u = n.add(u, u)),
                    new w(l, c, u)
                  );
                }
                add(e) {
                  v(e);
                  const { px: r, py: i, pz: o } = this,
                    { px: a, py: s, pz: l } = e;
                  let c = n.ZERO,
                    u = n.ZERO,
                    d = n.ZERO;
                  const f = t.a,
                    h = n.mul(t.b, y);
                  let p = n.mul(r, a),
                    m = n.mul(i, s),
                    g = n.mul(o, l),
                    b = n.add(r, i),
                    x = n.add(a, s);
                  (b = n.mul(b, x)), (x = n.add(p, m)), (b = n.sub(b, x)), (x = n.add(r, o));
                  let E = n.add(a, l);
                  return (
                    (x = n.mul(x, E)),
                    (E = n.add(p, g)),
                    (x = n.sub(x, E)),
                    (E = n.add(i, o)),
                    (c = n.add(s, l)),
                    (E = n.mul(E, c)),
                    (c = n.add(m, g)),
                    (E = n.sub(E, c)),
                    (d = n.mul(f, x)),
                    (c = n.mul(h, g)),
                    (d = n.add(c, d)),
                    (c = n.sub(m, d)),
                    (d = n.add(m, d)),
                    (u = n.mul(c, d)),
                    (m = n.add(p, p)),
                    (m = n.add(m, p)),
                    (g = n.mul(f, g)),
                    (x = n.mul(h, x)),
                    (m = n.add(m, g)),
                    (g = n.sub(p, g)),
                    (g = n.mul(f, g)),
                    (x = n.add(x, g)),
                    (p = n.mul(m, x)),
                    (u = n.add(u, p)),
                    (p = n.mul(E, x)),
                    (c = n.mul(b, c)),
                    (c = n.sub(c, p)),
                    (p = n.mul(b, m)),
                    (d = n.mul(E, d)),
                    (d = n.add(d, p)),
                    new w(c, u, d)
                  );
                }
                subtract(e) {
                  return this.add(e.negate());
                }
                is0() {
                  return this.equals(w.ZERO);
                }
                wNAF(e) {
                  return x.wNAFCached(this, g, e, e => {
                    const t = n.invertBatch(e.map(e => e.pz));
                    return e.map((e, n) => e.toAffine(t[n])).map(w.fromAffine);
                  });
                }
                multiplyUnsafe(e) {
                  const r = w.ZERO;
                  if (e === h) return r;
                  if ((f(e), e === p)) return this;
                  const { endo: i } = t;
                  if (!i) return x.unsafeLadder(this, e);
                  let { k1neg: o, k1: a, k2neg: s, k2: l } = i.splitScalar(e),
                    c = r,
                    u = r,
                    d = this;
                  for (; a > h || l > h; )
                    a & p && (c = c.add(d)), l & p && (u = u.add(d)), (d = d.double()), (a >>= p), (l >>= p);
                  return (
                    o && (c = c.negate()), s && (u = u.negate()), (u = new w(n.mul(u.px, i.beta), u.py, u.pz)), c.add(u)
                  );
                }
                multiply(e) {
                  f(e);
                  let r,
                    i,
                    o = e;
                  const { endo: a } = t;
                  if (a) {
                    const { k1neg: e, k1: t, k2neg: s, k2: l } = a.splitScalar(o);
                    let { p: c, f: u } = this.wNAF(t),
                      { p: d, f } = this.wNAF(l);
                    (c = x.constTimeNegate(e, c)),
                      (d = x.constTimeNegate(s, d)),
                      (d = new w(n.mul(d.px, a.beta), d.py, d.pz)),
                      (r = c.add(d)),
                      (i = u.add(f));
                  } else {
                    const { p: e, f: t } = this.wNAF(o);
                    (r = e), (i = t);
                  }
                  return w.normalizeZ([r, i])[0];
                }
                multiplyAndAddUnsafe(e, t, n) {
                  const r = w.BASE,
                    i = (e, t) => (t !== h && t !== p && e.equals(r) ? e.multiply(t) : e.multiplyUnsafe(t)),
                    o = i(this, t).add(i(e, n));
                  return o.is0() ? void 0 : o;
                }
                toAffine(e) {
                  const { px: t, py: r, pz: i } = this,
                    o = this.is0();
                  null == e && (e = o ? n.ONE : n.inv(i));
                  const a = n.mul(t, e),
                    s = n.mul(r, e),
                    l = n.mul(i, e);
                  if (o) return { x: n.ZERO, y: n.ZERO };
                  if (!n.eql(l, n.ONE)) throw new Error("invZ was invalid");
                  return { x: a, y: s };
                }
                isTorsionFree() {
                  const { h: e, isTorsionFree: n } = t;
                  if (e === p) return !0;
                  if (n) return n(w, this);
                  throw new Error("isTorsionFree() has not been declared for the elliptic curve");
                }
                clearCofactor() {
                  const { h: e, clearCofactor: n } = t;
                  return e === p ? this : n ? n(w, this) : this.multiplyUnsafe(t.h);
                }
                toRawBytes(e = !0) {
                  return this.assertValidity(), r(w, this, e);
                }
                toHex(e = !0) {
                  return a.ci(this.toRawBytes(e));
                }
              }
              (w.BASE = new w(t.Gx, t.Gy, n.ONE)), (w.ZERO = new w(n.ZERO, n.ONE, n.ZERO));
              const b = t.nBitLength,
                x = (function (e, t) {
                  const n = (e, t) => {
                      const n = t.negate();
                      return e ? n : t;
                    },
                    r = e => ({ windows: Math.ceil(t / e) + 1, windowSize: 2 ** (e - 1) });
                  return {
                    constTimeNegate: n,
                    unsafeLadder(t, n) {
                      let r = e.ZERO,
                        i = t;
                      for (; n > s; ) n & l && (r = r.add(i)), (i = i.double()), (n >>= l);
                      return r;
                    },
                    precomputeWindow(e, t) {
                      const { windows: n, windowSize: i } = r(t),
                        o = [];
                      let a = e,
                        s = a;
                      for (let e = 0; e < n; e++) {
                        (s = a), o.push(s);
                        for (let e = 1; e < i; e++) (s = s.add(a)), o.push(s);
                        a = s.double();
                      }
                      return o;
                    },
                    wNAF(t, i, o) {
                      const { windows: a, windowSize: s } = r(t);
                      let c = e.ZERO,
                        u = e.BASE;
                      const d = BigInt(2 ** t - 1),
                        f = 2 ** t,
                        h = BigInt(t);
                      for (let e = 0; e < a; e++) {
                        const t = e * s;
                        let r = Number(o & d);
                        (o >>= h), r > s && ((r -= f), (o += l));
                        const a = t,
                          p = t + Math.abs(r) - 1,
                          m = e % 2 != 0,
                          y = r < 0;
                        0 === r ? (u = u.add(n(m, i[a]))) : (c = c.add(n(y, i[p])));
                      }
                      return { p: c, f: u };
                    },
                    wNAFCached(e, t, n, r) {
                      const i = e._WINDOW_SIZE || 1;
                      let o = t.get(e);
                      return o || ((o = this.precomputeWindow(e, i)), 1 !== i && t.set(e, r(o))), this.wNAF(i, o, n);
                    },
                  };
                })(w, t.endo ? Math.ceil(b / 2) : b);
              return {
                CURVE: t,
                ProjectivePoint: w,
                normPrivateKeyToScalar: m,
                weierstrassEquation: u,
                isWithinCurveOrder: d,
              };
            })({
              ...t,
              toBytes(e, t, r) {
                const i = t.toAffine(),
                  o = n.toBytes(i.x),
                  s = a.eV;
                return r ? s(Uint8Array.from([t.hasEvenY() ? 2 : 3]), o) : s(Uint8Array.from([4]), o, n.toBytes(i.y));
              },
              fromBytes(e) {
                const t = e.length,
                  r = e[0],
                  o = e.subarray(1);
                if (t !== i || (2 !== r && 3 !== r)) {
                  if (t === u && 4 === r)
                    return { x: n.fromBytes(o.subarray(0, n.BYTES)), y: n.fromBytes(o.subarray(n.BYTES, 2 * n.BYTES)) };
                  throw new Error(
                    `Point of length ${t} was invalid. Expected ${i} compressed bytes or ${u} uncompressed bytes`
                  );
                }
                {
                  const e = a.bytesToNumberBE(o);
                  if (!(h < (s = e) && s < n.ORDER)) throw new Error("Point is not on curve");
                  const t = w(e);
                  let i = n.sqrt(t);
                  return (1 == (1 & r)) != ((i & p) === p) && (i = n.neg(i)), { x: e, y: i };
                }
                var s;
              },
            }),
            x = e => a.ci(a.tL(e, t.nByteLength));
          function E(e) {
            return e > r >> p;
          }
          const k = (e, t, n) => a.bytesToNumberBE(e.slice(t, n));
          class j {
            constructor(e, t, n) {
              (this.r = e), (this.s = t), (this.recovery = n), this.assertValidity();
            }
            static fromCompact(e) {
              const n = t.nByteLength;
              return (e = (0, a.ql)("compactSignature", e, 2 * n)), new j(k(e, 0, n), k(e, n, 2 * n));
            }
            static fromDER(e) {
              const { r: t, s: n } = f.toSig((0, a.ql)("DER", e));
              return new j(t, n);
            }
            assertValidity() {
              if (!b(this.r)) throw new Error("r must be 0 < r < CURVE.n");
              if (!b(this.s)) throw new Error("s must be 0 < s < CURVE.n");
            }
            addRecoveryBit(e) {
              return new j(this.r, this.s, e);
            }
            recoverPublicKey(e) {
              const { r, s: i, recovery: o } = this,
                s = N((0, a.ql)("msgHash", e));
              if (null == o || ![0, 1, 2, 3].includes(o)) throw new Error("recovery id invalid");
              const l = 2 === o || 3 === o ? r + t.n : r;
              if (l >= n.ORDER) throw new Error("recovery id 2 or 3 invalid");
              const c = 0 == (1 & o) ? "02" : "03",
                u = g.fromHex(c + x(l)),
                f = m(l),
                h = d(-s * f),
                p = d(i * f),
                y = g.BASE.multiplyAndAddUnsafe(u, h, p);
              if (!y) throw new Error("point at infinify");
              return y.assertValidity(), y;
            }
            hasHighS() {
              return E(this.s);
            }
            normalizeS() {
              return this.hasHighS() ? new j(this.r, d(-this.s), this.recovery) : this;
            }
            toDERRawBytes() {
              return a.hexToBytes(this.toDERHex());
            }
            toDERHex() {
              return f.hexFromSig({ r: this.r, s: this.s });
            }
            toCompactRawBytes() {
              return a.hexToBytes(this.toCompactHex());
            }
            toCompactHex() {
              return x(this.r) + x(this.s);
            }
          }
          const S = {
            isValidPrivateKey(e) {
              try {
                return v(e), !0;
              } catch (e) {
                return !1;
              }
            },
            normPrivateKeyToScalar: v,
            randomPrivateKey: () => {
              const e = t.randomBytes(n.BYTES + 8),
                i = o.Pu(e, r);
              return a.tL(i, t.nByteLength);
            },
            precompute: (e = 8, t = g.BASE) => (t._setWindowSize(e), t.multiply(BigInt(3)), t),
          };
          function A(e) {
            const t = e instanceof Uint8Array,
              n = "string" == typeof e,
              r = (t || n) && e.length;
            return t ? r === i || r === u : n ? r === 2 * i || r === 2 * u : e instanceof g;
          }
          const C =
              t.bits2int ||
              function (e) {
                const n = a.bytesToNumberBE(e),
                  r = 8 * e.length - t.nBitLength;
                return r > 0 ? n >> BigInt(r) : n;
              },
            N =
              t.bits2int_modN ||
              function (e) {
                return d(C(e));
              },
            P = a.dQ(t.nBitLength);
          function _(e) {
            if ("bigint" != typeof e) throw new Error("bigint expected");
            if (!(h <= e && e < P)) throw new Error(`bigint expected < 2^${t.nBitLength}`);
            return a.tL(e, t.nByteLength);
          }
          const T = { lowS: t.lowS, prehash: !1 },
            M = { lowS: t.lowS, prehash: !1 };
          return (
            g.BASE._setWindowSize(8),
            {
              CURVE: t,
              getPublicKey: function (e, t = !0) {
                return g.fromPrivateKey(e).toRawBytes(t);
              },
              getSharedSecret: function (e, t, n = !0) {
                if (A(e)) throw new Error("first arg must be private key");
                if (!A(t)) throw new Error("second arg must be public key");
                return g.fromHex(t).multiply(v(e)).toRawBytes(n);
              },
              sign: function (e, r, i = T) {
                const { seed: o, k2sig: s } = (function (e, r, i = T) {
                  if (["recovered", "canonical"].some(e => e in i))
                    throw new Error("sign() legacy options not supported");
                  const { hash: o, randomBytes: s } = t;
                  let { lowS: l, prehash: c, extraEntropy: u } = i;
                  null == l && (l = !0), (e = (0, a.ql)("msgHash", e)), c && (e = (0, a.ql)("prehashed msgHash", o(e)));
                  const f = N(e),
                    y = v(r),
                    w = [_(y), _(f)];
                  if (null != u) {
                    const e = !0 === u ? s(n.BYTES) : u;
                    w.push((0, a.ql)("extraEntropy", e, n.BYTES));
                  }
                  const x = a.eV(...w),
                    k = f;
                  return {
                    seed: x,
                    k2sig: function (e) {
                      const t = C(e);
                      if (!b(t)) return;
                      const n = m(t),
                        r = g.BASE.multiply(t).toAffine(),
                        i = d(r.x);
                      if (i === h) return;
                      const o = d(n * d(k + i * y));
                      if (o === h) return;
                      let a = (r.x === i ? 0 : 2) | Number(r.y & p),
                        s = o;
                      return (
                        l &&
                          E(o) &&
                          ((s = (function (e) {
                            return E(e) ? d(-e) : e;
                          })(o)),
                          (a ^= 1)),
                        new j(i, s, a)
                      );
                    },
                  };
                })(e, r, i);
                return a.n$(t.hash.outputLen, t.nByteLength, t.hmac)(o, s);
              },
              verify: function (e, n, r, i = M) {
                const o = e;
                if (((n = (0, a.ql)("msgHash", n)), (r = (0, a.ql)("publicKey", r)), "strict" in i))
                  throw new Error("options.strict was renamed to lowS");
                const { lowS: s, prehash: l } = i;
                let c, u;
                try {
                  if ("string" == typeof o || o instanceof Uint8Array)
                    try {
                      c = j.fromDER(o);
                    } catch (e) {
                      if (!(e instanceof f.Err)) throw e;
                      c = j.fromCompact(o);
                    }
                  else {
                    if ("object" != typeof o || "bigint" != typeof o.r || "bigint" != typeof o.s)
                      throw new Error("PARSE");
                    {
                      const { r: e, s: t } = o;
                      c = new j(e, t);
                    }
                  }
                  u = g.fromHex(r);
                } catch (e) {
                  if ("PARSE" === e.message)
                    throw new Error("signature must be Signature instance, Uint8Array or hex string");
                  return !1;
                }
                if (s && c.hasHighS()) return !1;
                l && (n = t.hash(n));
                const { r: h, s: p } = c,
                  y = N(n),
                  v = m(p),
                  w = d(y * v),
                  b = d(h * v),
                  x = g.BASE.multiplyAndAddUnsafe(u, w, b)?.toAffine();
                return !!x && d(x.x) === h;
              },
              ProjectivePoint: g,
              Signature: j,
              utils: S,
            }
          );
        }
        const w = a.bytesToNumberBE;
        function b(e, t) {
          if (e < 0 || e >= 1 << (8 * t)) throw new Error(`bad I2OSP call: value=${e} length=${t}`);
          const n = Array.from({ length: t }).fill(0);
          for (let r = t - 1; r >= 0; r--) (n[r] = 255 & e), (e >>>= 8);
          return new Uint8Array(n);
        }
        function x(e, t) {
          const n = new Uint8Array(e.length);
          for (let r = 0; r < e.length; r++) n[r] = e[r] ^ t[r];
          return n;
        }
        function E(e) {
          if (!(e instanceof Uint8Array)) throw new Error("Uint8Array expected");
        }
        function k(e) {
          if (!Number.isSafeInteger(e)) throw new Error("number expected");
        }
        function j(e, t, n) {
          (0, a.FF)(n, { DST: "string", p: "bigint", m: "isSafeInteger", k: "isSafeInteger", hash: "hash" });
          const { p: r, k: i, m: s, hash: l, expand: c, DST: u } = n;
          E(e), k(t);
          const d = (function (e) {
              if (e instanceof Uint8Array) return e;
              if ("string" == typeof e) return (0, a.iY)(e);
              throw new Error("DST must be Uint8Array or string");
            })(u),
            f = r.toString(2).length,
            h = Math.ceil((f + i) / 8),
            p = t * s * h;
          let m;
          if ("xmd" === c)
            m = (function (e, t, n, r) {
              E(e), E(t), k(n), t.length > 255 && (t = r((0, a.eV)((0, a.iY)("H2C-OVERSIZE-DST-"), t)));
              const { outputLen: i, blockLen: o } = r,
                s = Math.ceil(n / i);
              if (s > 255) throw new Error("Invalid xmd length");
              const l = (0, a.eV)(t, b(t.length, 1)),
                c = b(0, o),
                u = b(n, 2),
                d = new Array(s),
                f = r((0, a.eV)(c, e, u, b(0, 1), l));
              d[0] = r((0, a.eV)(f, b(1, 1), l));
              for (let e = 1; e <= s; e++) {
                const t = [x(f, d[e - 1]), b(e + 1, 1), l];
                d[e] = r((0, a.eV)(...t));
              }
              return (0, a.eV)(...d).slice(0, n);
            })(e, d, p, l);
          else if ("xof" === c)
            m = (function (e, t, n, r, i) {
              if ((E(e), E(t), k(n), t.length > 255)) {
                const e = Math.ceil((2 * r) / 8);
                t = i
                  .create({ dkLen: e })
                  .update((0, a.iY)("H2C-OVERSIZE-DST-"))
                  .update(t)
                  .digest();
              }
              if (n > 65535 || t.length > 255) throw new Error("expand_message_xof: invalid lenInBytes");
              return i.create({ dkLen: n }).update(e).update(b(n, 2)).update(t).update(b(t.length, 1)).digest();
            })(e, d, p, i, l);
          else {
            if ("_internal_pass" !== c) throw new Error('expand must be "xmd" or "xof"');
            m = e;
          }
          const y = new Array(t);
          for (let e = 0; e < t; e++) {
            const t = new Array(s);
            for (let n = 0; n < s; n++) {
              const i = h * (n + e * s),
                a = m.subarray(i, i + h);
              t[n] = (0, o.wQ)(w(a), r);
            }
            y[e] = t;
          }
          return y;
        }
        var S = n(9385);
        function A(e) {
          return { hash: e, hmac: (t, ...n) => (0, S.b)(e, t, (0, i.eV)(...n)), randomBytes: i.O6 };
        }
        const C = BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),
          N = BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),
          P = BigInt(1),
          _ = BigInt(2),
          T = (e, t) => (e + t / _) / t;
        function M(e) {
          const t = C,
            n = BigInt(3),
            r = BigInt(6),
            i = BigInt(11),
            a = BigInt(22),
            s = BigInt(23),
            l = BigInt(44),
            c = BigInt(88),
            u = (e * e * e) % t,
            d = (u * u * e) % t,
            f = ((0, o.oA)(d, n, t) * d) % t,
            h = ((0, o.oA)(f, n, t) * d) % t,
            p = ((0, o.oA)(h, _, t) * u) % t,
            m = ((0, o.oA)(p, i, t) * p) % t,
            y = ((0, o.oA)(m, a, t) * m) % t,
            g = ((0, o.oA)(y, l, t) * y) % t,
            v = ((0, o.oA)(g, c, t) * g) % t,
            w = ((0, o.oA)(v, l, t) * y) % t,
            b = ((0, o.oA)(w, n, t) * d) % t,
            x = ((0, o.oA)(b, s, t) * m) % t,
            E = ((0, o.oA)(x, r, t) * u) % t,
            k = (0, o.oA)(E, _, t);
          if (!R.eql(R.sqr(k), e)) throw new Error("Cannot find square root");
          return k;
        }
        const R = (0, o.gN)(C, void 0, void 0, { sqrt: M }),
          B = (function (e, t) {
            const n = t => v({ ...e, ...A(t) });
            return Object.freeze({ ...n(t), create: n });
          })(
            {
              a: BigInt(0),
              b: BigInt(7),
              Fp: R,
              n: N,
              Gx: BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),
              Gy: BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),
              h: BigInt(1),
              lowS: !0,
              endo: {
                beta: BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),
                splitScalar: e => {
                  const t = N,
                    n = BigInt("0x3086d221a7d46bcde86c90e49284eb15"),
                    r = -P * BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),
                    i = BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),
                    a = n,
                    s = BigInt("0x100000000000000000000000000000000"),
                    l = T(a * e, t),
                    c = T(-r * e, t);
                  let u = (0, o.wQ)(e - l * n - c * i, t),
                    d = (0, o.wQ)(-l * r - c * a, t);
                  const f = u > s,
                    h = d > s;
                  if ((f && (u = t - u), h && (d = t - d), u > s || d > s))
                    throw new Error("splitScalar: Endomorphism failed, k=" + e);
                  return { k1neg: f, k1: u, k2neg: h, k2: d };
                },
              },
            },
            r.J
          ),
          O = BigInt(0),
          L = e => "bigint" == typeof e && O < e && e < C,
          I = {};
        function F(e, ...t) {
          let n = I[e];
          if (void 0 === n) {
            const t = (0, r.J)(Uint8Array.from(e, e => e.charCodeAt(0)));
            (n = (0, a.eV)(t, t)), (I[e] = n);
          }
          return (0, r.J)((0, a.eV)(n, ...t));
        }
        const D = e => e.toRawBytes(!0).slice(1),
          U = e => (0, a.tL)(e, 32),
          z = e => (0, o.wQ)(e, C),
          H = e => (0, o.wQ)(e, N),
          K = B.ProjectivePoint;
        function W(e) {
          let t = B.utils.normPrivateKeyToScalar(e),
            n = K.fromPrivateKey(t);
          return { scalar: n.hasEvenY() ? t : H(-t), bytes: D(n) };
        }
        function q(e) {
          if (!L(e)) throw new Error("bad x: need 0 < x < p");
          const t = z(e * e);
          let n = M(z(t * e + BigInt(7)));
          n % _ !== O && (n = z(-n));
          const r = new K(e, n, P);
          return r.assertValidity(), r;
        }
        function V(...e) {
          return H((0, a.bytesToNumberBE)(F("BIP0340/challenge", ...e)));
        }
        function $(e, t, n) {
          const r = (0, a.ql)("signature", e, 64),
            i = (0, a.ql)("message", t),
            o = (0, a.ql)("publicKey", n, 32);
          try {
            const e = q((0, a.bytesToNumberBE)(o)),
              t = (0, a.bytesToNumberBE)(r.subarray(0, 32));
            if (!L(t)) return !1;
            const n = (0, a.bytesToNumberBE)(r.subarray(32, 64));
            if (!("bigint" == typeof (u = n) && O < u && u < N)) return !1;
            const d = V(U(t), D(e), i),
              f = ((s = e), (l = n), (c = H(-d)), K.BASE.multiplyAndAddUnsafe(s, l, c));
            return !(!f || !f.hasEvenY() || f.toAffine().x !== t);
          } catch (e) {
            return !1;
          }
          var s, l, c, u;
        }
        const G = {
            getPublicKey: function (e) {
              return W(e).bytes;
            },
            sign: function (e, t, n = (0, i.O6)(32)) {
              const r = (0, a.ql)("message", e),
                { bytes: o, scalar: s } = W(t),
                l = (0, a.ql)("auxRand", n, 32),
                c = U(s ^ (0, a.bytesToNumberBE)(F("BIP0340/aux", l))),
                u = F("BIP0340/nonce", c, o, r),
                d = H((0, a.bytesToNumberBE)(u));
              if (d === O) throw new Error("sign failed: k is zero");
              const { bytes: f, scalar: h } = W(d),
                p = V(f, o, r),
                m = new Uint8Array(64);
              if ((m.set(f, 0), m.set(U(H(h + p * s)), 32), !$(m, r, o)))
                throw new Error("sign: Invalid signature produced");
              return m;
            },
            verify: $,
            utils: {
              randomPrivateKey: B.utils.randomPrivateKey,
              lift_x: q,
              pointToBytes: D,
              numberToBytesBE: a.tL,
              bytesToNumberBE: a.bytesToNumberBE,
              taggedHash: F,
              mod: o.wQ,
            },
          },
          Z = (function (e, t) {
            const n = t.map(e => Array.from(e).reverse());
            return (t, r) => {
              const [i, o, a, s] = n.map(n => n.reduce((n, r) => e.add(e.mul(n, t), r)));
              return (t = e.div(i, o)), (r = e.mul(r, e.div(a, s))), { x: t, y: r };
            };
          })(
            R,
            [
              [
                "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7",
                "0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581",
                "0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262",
                "0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c",
              ],
              [
                "0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b",
                "0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14",
                "0x0000000000000000000000000000000000000000000000000000000000000001",
              ],
              [
                "0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c",
                "0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3",
                "0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931",
                "0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84",
              ],
              [
                "0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b",
                "0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573",
                "0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f",
                "0x0000000000000000000000000000000000000000000000000000000000000001",
              ],
            ].map(e => e.map(e => BigInt(e)))
          ),
          Y = (function (e, t) {
            if ((o.OP(e), !e.isValid(t.A) || !e.isValid(t.B) || !e.isValid(t.Z)))
              throw new Error("mapToCurveSimpleSWU: invalid opts");
            const n = (function (e, t) {
              const n = e.ORDER;
              let r = h;
              for (let e = n - p; e % m === h; e /= m) r += p;
              const i = r,
                o = (n - p) / m ** i,
                a = (o - p) / m,
                s = m ** i - p,
                l = m ** (i - p),
                c = e.pow(t, o),
                u = e.pow(t, (o + p) / m);
              let d = (t, n) => {
                let r = c,
                  o = e.pow(n, s),
                  d = e.sqr(o);
                d = e.mul(d, n);
                let f = e.mul(t, d);
                (f = e.pow(f, a)), (f = e.mul(f, o)), (o = e.mul(f, n)), (d = e.mul(f, t));
                let h = e.mul(d, o);
                f = e.pow(h, l);
                let y = e.eql(f, e.ONE);
                (o = e.mul(d, u)), (f = e.mul(h, r)), (d = e.cmov(o, d, y)), (h = e.cmov(f, h, y));
                for (let t = i; t > p; t--) {
                  let n = m ** (t - m),
                    i = e.pow(h, n);
                  const a = e.eql(i, e.ONE);
                  (o = e.mul(d, r)), (r = e.mul(r, r)), (i = e.mul(h, r)), (d = e.cmov(o, d, a)), (h = e.cmov(i, h, a));
                }
                return { isValid: y, value: d };
              };
              if (e.ORDER % g === y) {
                const n = (e.ORDER - y) / g,
                  r = e.sqrt(e.neg(t));
                d = (t, i) => {
                  let o = e.sqr(i);
                  const a = e.mul(t, i);
                  o = e.mul(o, a);
                  let s = e.pow(o, n);
                  s = e.mul(s, a);
                  const l = e.mul(s, r),
                    c = e.mul(e.sqr(s), i),
                    u = e.eql(c, t);
                  return { isValid: u, value: e.cmov(l, s, u) };
                };
              }
              return d;
            })(e, t.Z);
            if (!e.isOdd) throw new Error("Fp.isOdd is not implemented!");
            return r => {
              let i, o, a, s, l, c, u, d;
              (i = e.sqr(r)),
                (i = e.mul(i, t.Z)),
                (o = e.sqr(i)),
                (o = e.add(o, i)),
                (a = e.add(o, e.ONE)),
                (a = e.mul(a, t.B)),
                (s = e.cmov(t.Z, e.neg(o), !e.eql(o, e.ZERO))),
                (s = e.mul(s, t.A)),
                (o = e.sqr(a)),
                (c = e.sqr(s)),
                (l = e.mul(c, t.A)),
                (o = e.add(o, l)),
                (o = e.mul(o, a)),
                (c = e.mul(c, s)),
                (l = e.mul(c, t.B)),
                (o = e.add(o, l)),
                (u = e.mul(i, a));
              const { isValid: f, value: h } = n(o, c);
              (d = e.mul(i, r)), (d = e.mul(d, h)), (u = e.cmov(u, a, f)), (d = e.cmov(d, h, f));
              const p = e.isOdd(r) === e.isOdd(d);
              return (d = e.cmov(e.neg(d), d, p)), (u = e.div(u, s)), { x: u, y: d };
            };
          })(R, {
            A: BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),
            B: BigInt("1771"),
            Z: R.create(BigInt("-11")),
          }),
          { hashToCurve: X, encodeToCurve: Q } = (function (e, t, n) {
            return {
              hashToCurve(r, i) {
                const o = j(r, 2, { ...n, DST: n.DST, ...i }),
                  a = e.fromAffine(t(o[0])),
                  s = e.fromAffine(t(o[1])),
                  l = a.add(s).clearCofactor();
                return l.assertValidity(), l;
              },
              encodeToCurve(r, i) {
                const o = j(r, 1, { ...n, DST: n.encodeDST, ...i }),
                  a = e.fromAffine(t(o[0])).clearCofactor();
                return a.assertValidity(), a;
              },
            };
          })(
            B.ProjectivePoint,
            e => {
              const { x: t, y: n } = Y(R.create(e[0]));
              return Z(t, n);
            },
            {
              DST: "secp256k1_XMD:SHA-256_SSWU_RO_",
              encodeDST: "secp256k1_XMD:SHA-256_SSWU_NU_",
              p: R.ORDER,
              m: 1,
              k: 128,
              expand: "xmd",
              hash: r.J,
            }
          );
      },
      3193: (e, t, n) => {
        "use strict";
        function r(e) {
          if (!Number.isSafeInteger(e) || e < 0) throw new Error(`Wrong positive integer: ${e}`);
        }
        function i(e, ...t) {
          if (!(e instanceof Uint8Array)) throw new TypeError("Expected Uint8Array");
          if (t.length > 0 && !t.includes(e.length))
            throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`);
        }
        n.d(t, { ZP: () => o, aI: () => i });
        const o = {
          number: r,
          bool: function (e) {
            if ("boolean" != typeof e) throw new Error(`Expected boolean, not ${e}`);
          },
          bytes: i,
          hash: function (e) {
            if ("function" != typeof e || "function" != typeof e.create)
              throw new Error("Hash should be wrapped by utils.wrapConstructor");
            r(e.outputLen), r(e.blockLen);
          },
          exists: function (e, t = !0) {
            if (e.destroyed) throw new Error("Hash instance has been destroyed");
            if (t && e.finished) throw new Error("Hash#digest() has already been called");
          },
          output: function (e, t) {
            i(e);
            const n = t.outputLen;
            if (e.length < n) throw new Error(`digestInto() expects output buffer of length at least ${n}`);
          },
        };
      },
      5711: (e, t, n) => {
        "use strict";
        n.d(t, { N: () => o });
        var r = n(3193),
          i = n(7588);
        class o extends i.kb {
          constructor(e, t, n, r) {
            super(),
              (this.blockLen = e),
              (this.outputLen = t),
              (this.padOffset = n),
              (this.isLE = r),
              (this.finished = !1),
              (this.length = 0),
              (this.pos = 0),
              (this.destroyed = !1),
              (this.buffer = new Uint8Array(e)),
              (this.view = (0, i.GL)(this.buffer));
          }
          update(e) {
            r.ZP.exists(this);
            const { view: t, buffer: n, blockLen: o } = this,
              a = (e = (0, i.O0)(e)).length;
            for (let r = 0; r < a; ) {
              const s = Math.min(o - this.pos, a - r);
              if (s !== o)
                n.set(e.subarray(r, r + s), this.pos),
                  (this.pos += s),
                  (r += s),
                  this.pos === o && (this.process(t, 0), (this.pos = 0));
              else {
                const t = (0, i.GL)(e);
                for (; o <= a - r; r += o) this.process(t, r);
              }
            }
            return (this.length += e.length), this.roundClean(), this;
          }
          digestInto(e) {
            r.ZP.exists(this), r.ZP.output(e, this), (this.finished = !0);
            const { buffer: t, view: n, blockLen: o, isLE: a } = this;
            let { pos: s } = this;
            (t[s++] = 128), this.buffer.subarray(s).fill(0), this.padOffset > o - s && (this.process(n, 0), (s = 0));
            for (let e = s; e < o; e++) t[e] = 0;
            !(function (e, t, n, r) {
              if ("function" == typeof e.setBigUint64) return e.setBigUint64(t, n, r);
              const i = BigInt(32),
                o = BigInt(4294967295),
                a = Number((n >> i) & o),
                s = Number(n & o),
                l = r ? 4 : 0,
                c = r ? 0 : 4;
              e.setUint32(t + l, a, r), e.setUint32(t + c, s, r);
            })(n, o - 8, BigInt(8 * this.length), a),
              this.process(n, 0);
            const l = (0, i.GL)(e),
              c = this.outputLen;
            if (c % 4) throw new Error("_sha2: outputLen should be aligned to 32bit");
            const u = c / 4,
              d = this.get();
            if (u > d.length) throw new Error("_sha2: outputLen bigger than state");
            for (let e = 0; e < u; e++) l.setUint32(4 * e, d[e], a);
          }
          digest() {
            const { buffer: e, outputLen: t } = this;
            this.digestInto(e);
            const n = e.slice(0, t);
            return this.destroy(), n;
          }
          _cloneInto(e) {
            e || (e = new this.constructor()), e.set(...this.get());
            const { blockLen: t, buffer: n, length: r, finished: i, destroyed: o, pos: a } = this;
            return (e.length = r), (e.pos = a), (e.finished = i), (e.destroyed = o), r % t && e.buffer.set(n), e;
          }
        }
      },
      9385: (e, t, n) => {
        "use strict";
        n.d(t, { b: () => a });
        var r = n(3193),
          i = n(7588);
        class o extends i.kb {
          constructor(e, t) {
            super(), (this.finished = !1), (this.destroyed = !1), r.ZP.hash(e);
            const n = (0, i.O0)(t);
            if (((this.iHash = e.create()), "function" != typeof this.iHash.update))
              throw new TypeError("Expected instance of class which extends utils.Hash");
            (this.blockLen = this.iHash.blockLen), (this.outputLen = this.iHash.outputLen);
            const o = this.blockLen,
              a = new Uint8Array(o);
            a.set(n.length > o ? e.create().update(n).digest() : n);
            for (let e = 0; e < a.length; e++) a[e] ^= 54;
            this.iHash.update(a), (this.oHash = e.create());
            for (let e = 0; e < a.length; e++) a[e] ^= 106;
            this.oHash.update(a), a.fill(0);
          }
          update(e) {
            return r.ZP.exists(this), this.iHash.update(e), this;
          }
          digestInto(e) {
            r.ZP.exists(this),
              r.ZP.bytes(e, this.outputLen),
              (this.finished = !0),
              this.iHash.digestInto(e),
              this.oHash.update(e),
              this.oHash.digestInto(e),
              this.destroy();
          }
          digest() {
            const e = new Uint8Array(this.oHash.outputLen);
            return this.digestInto(e), e;
          }
          _cloneInto(e) {
            e || (e = Object.create(Object.getPrototypeOf(this), {}));
            const { oHash: t, iHash: n, finished: r, destroyed: i, blockLen: o, outputLen: a } = this;
            return (
              (e.finished = r),
              (e.destroyed = i),
              (e.blockLen = o),
              (e.outputLen = a),
              (e.oHash = t._cloneInto(e.oHash)),
              (e.iHash = n._cloneInto(e.iHash)),
              e
            );
          }
          destroy() {
            (this.destroyed = !0), this.oHash.destroy(), this.iHash.destroy();
          }
        }
        const a = (e, t, n) => new o(e, t).update(n).digest();
        a.create = (e, t) => new o(e, t);
      },
      9753: (e, t, n) => {
        "use strict";
        n.d(t, { J: () => d });
        var r = n(5711),
          i = n(7588);
        const o = (e, t, n) => (e & t) ^ (e & n) ^ (t & n),
          a = new Uint32Array([
            1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080,
            310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
            264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808,
            3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
            1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817,
            3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
            1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479,
            3329325298,
          ]),
          s = new Uint32Array([
            1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225,
          ]),
          l = new Uint32Array(64);
        class c extends r.N {
          constructor() {
            super(64, 32, 8, !1),
              (this.A = 0 | s[0]),
              (this.B = 0 | s[1]),
              (this.C = 0 | s[2]),
              (this.D = 0 | s[3]),
              (this.E = 0 | s[4]),
              (this.F = 0 | s[5]),
              (this.G = 0 | s[6]),
              (this.H = 0 | s[7]);
          }
          get() {
            const { A: e, B: t, C: n, D: r, E: i, F: o, G: a, H: s } = this;
            return [e, t, n, r, i, o, a, s];
          }
          set(e, t, n, r, i, o, a, s) {
            (this.A = 0 | e),
              (this.B = 0 | t),
              (this.C = 0 | n),
              (this.D = 0 | r),
              (this.E = 0 | i),
              (this.F = 0 | o),
              (this.G = 0 | a),
              (this.H = 0 | s);
          }
          process(e, t) {
            for (let n = 0; n < 16; n++, t += 4) l[n] = e.getUint32(t, !1);
            for (let e = 16; e < 64; e++) {
              const t = l[e - 15],
                n = l[e - 2],
                r = (0, i.np)(t, 7) ^ (0, i.np)(t, 18) ^ (t >>> 3),
                o = (0, i.np)(n, 17) ^ (0, i.np)(n, 19) ^ (n >>> 10);
              l[e] = (o + l[e - 7] + r + l[e - 16]) | 0;
            }
            let { A: n, B: r, C: s, D: c, E: u, F: d, G: f, H: h } = this;
            for (let e = 0; e < 64; e++) {
              const t =
                  (h +
                    ((0, i.np)(u, 6) ^ (0, i.np)(u, 11) ^ (0, i.np)(u, 25)) +
                    (((p = u) & d) ^ (~p & f)) +
                    a[e] +
                    l[e]) |
                  0,
                m = (((0, i.np)(n, 2) ^ (0, i.np)(n, 13) ^ (0, i.np)(n, 22)) + o(n, r, s)) | 0;
              (h = f), (f = d), (d = u), (u = (c + t) | 0), (c = s), (s = r), (r = n), (n = (t + m) | 0);
            }
            var p;
            (n = (n + this.A) | 0),
              (r = (r + this.B) | 0),
              (s = (s + this.C) | 0),
              (c = (c + this.D) | 0),
              (u = (u + this.E) | 0),
              (d = (d + this.F) | 0),
              (f = (f + this.G) | 0),
              (h = (h + this.H) | 0),
              this.set(n, r, s, c, u, d, f, h);
          }
          roundClean() {
            l.fill(0);
          }
          destroy() {
            this.set(0, 0, 0, 0, 0, 0, 0, 0), this.buffer.fill(0);
          }
        }
        class u extends c {
          constructor() {
            super(),
              (this.A = -1056596264),
              (this.B = 914150663),
              (this.C = 812702999),
              (this.D = -150054599),
              (this.E = -4191439),
              (this.F = 1750603025),
              (this.G = 1694076839),
              (this.H = -1090891868),
              (this.outputLen = 28);
          }
        }
        const d = (0, i.hE)(() => new c());
        (0, i.hE)(() => new u());
      },
      7588: (e, t, n) => {
        "use strict";
        n.d(t, {
          kb: () => f,
          ci: () => s,
          eV: () => d,
          GL: () => i,
          nr: () => l,
          O6: () => p,
          np: () => o,
          O0: () => u,
          iY: () => c,
          hE: () => h,
        });
        const r = "object" == typeof globalThis && "crypto" in globalThis ? globalThis.crypto : void 0,
          i = e => new DataView(e.buffer, e.byteOffset, e.byteLength),
          o = (e, t) => (e << (32 - t)) | (e >>> t);
        if (68 !== new Uint8Array(new Uint32Array([287454020]).buffer)[0])
          throw new Error("Non little-endian hardware is not supported");
        const a = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0"));
        function s(e) {
          if (!(e instanceof Uint8Array)) throw new Error("Uint8Array expected");
          let t = "";
          for (let n = 0; n < e.length; n++) t += a[e[n]];
          return t;
        }
        function l(e) {
          if ("string" != typeof e) throw new TypeError("hexToBytes: expected string, got " + typeof e);
          if (e.length % 2) throw new Error("hexToBytes: received invalid unpadded hex");
          const t = new Uint8Array(e.length / 2);
          for (let n = 0; n < t.length; n++) {
            const r = 2 * n,
              i = e.slice(r, r + 2),
              o = Number.parseInt(i, 16);
            if (Number.isNaN(o) || o < 0) throw new Error("Invalid byte sequence");
            t[n] = o;
          }
          return t;
        }
        function c(e) {
          if ("string" != typeof e) throw new TypeError("utf8ToBytes expected string, got " + typeof e);
          return new TextEncoder().encode(e);
        }
        function u(e) {
          if (("string" == typeof e && (e = c(e)), !(e instanceof Uint8Array)))
            throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);
          return e;
        }
        function d(...e) {
          if (!e.every(e => e instanceof Uint8Array)) throw new Error("Uint8Array list expected");
          if (1 === e.length) return e[0];
          const t = e.reduce((e, t) => e + t.length, 0),
            n = new Uint8Array(t);
          for (let t = 0, r = 0; t < e.length; t++) {
            const i = e[t];
            n.set(i, r), (r += i.length);
          }
          return n;
        }
        class f {
          clone() {
            return this._cloneInto();
          }
        }
        function h(e) {
          const t = t => e().update(u(t)).digest(),
            n = e();
          return (t.outputLen = n.outputLen), (t.blockLen = n.blockLen), (t.create = () => e()), t;
        }
        function p(e = 32) {
          if (r && "function" == typeof r.getRandomValues) return r.getRandomValues(new Uint8Array(e));
          throw new Error("crypto.getRandomValues must be defined");
        }
      },
      1888: (e, t, n) => {
        "use strict";
        function r(e) {
          if (!Number.isSafeInteger(e)) throw new Error(`Wrong integer: ${e}`);
        }
        function i(...e) {
          const t = (e, t) => n => e(t(n));
          return {
            encode: Array.from(e)
              .reverse()
              .reduce((e, n) => (e ? t(e, n.encode) : n.encode), void 0),
            decode: e.reduce((e, n) => (e ? t(e, n.decode) : n.decode), void 0),
          };
        }
        function o(e) {
          return {
            encode: t => {
              if (!Array.isArray(t) || (t.length && "number" != typeof t[0]))
                throw new Error("alphabet.encode input should be an array of numbers");
              return t.map(t => {
                if ((r(t), t < 0 || t >= e.length))
                  throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);
                return e[t];
              });
            },
            decode: t => {
              if (!Array.isArray(t) || (t.length && "string" != typeof t[0]))
                throw new Error("alphabet.decode input should be array of strings");
              return t.map(t => {
                if ("string" != typeof t) throw new Error(`alphabet.decode: not string element=${t}`);
                const n = e.indexOf(t);
                if (-1 === n) throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);
                return n;
              });
            },
          };
        }
        function a(e = "") {
          if ("string" != typeof e) throw new Error("join separator should be string");
          return {
            encode: t => {
              if (!Array.isArray(t) || (t.length && "string" != typeof t[0]))
                throw new Error("join.encode input should be array of strings");
              for (let e of t) if ("string" != typeof e) throw new Error(`join.encode: non-string input=${e}`);
              return t.join(e);
            },
            decode: t => {
              if ("string" != typeof t) throw new Error("join.decode input should be string");
              return t.split(e);
            },
          };
        }
        function s(e, t = "=") {
          if ((r(e), "string" != typeof t)) throw new Error("padding chr should be string");
          return {
            encode(n) {
              if (!Array.isArray(n) || (n.length && "string" != typeof n[0]))
                throw new Error("padding.encode input should be array of strings");
              for (let e of n) if ("string" != typeof e) throw new Error(`padding.encode: non-string input=${e}`);
              for (; (n.length * e) % 8; ) n.push(t);
              return n;
            },
            decode(n) {
              if (!Array.isArray(n) || (n.length && "string" != typeof n[0]))
                throw new Error("padding.encode input should be array of strings");
              for (let e of n) if ("string" != typeof e) throw new Error(`padding.decode: non-string input=${e}`);
              let r = n.length;
              if ((r * e) % 8) throw new Error("Invalid padding: string should have whole number of bytes");
              for (; r > 0 && n[r - 1] === t; r--)
                if (!(((r - 1) * e) % 8)) throw new Error("Invalid padding: string has too much padding");
              return n.slice(0, r);
            },
          };
        }
        function l(e) {
          if ("function" != typeof e) throw new Error("normalize fn should be function");
          return { encode: e => e, decode: t => e(t) };
        }
        function c(e, t, n) {
          if (t < 2) throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);
          if (n < 2) throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);
          if (!Array.isArray(e)) throw new Error("convertRadix: data should be array");
          if (!e.length) return [];
          let i = 0;
          const o = [],
            a = Array.from(e);
          for (
            a.forEach(e => {
              if ((r(e), e < 0 || e >= t)) throw new Error(`Wrong integer: ${e}`);
            });
            ;

          ) {
            let e = 0,
              r = !0;
            for (let o = i; o < a.length; o++) {
              const s = a[o],
                l = t * e + s;
              if (!Number.isSafeInteger(l) || (t * e) / t !== e || l - s != t * e)
                throw new Error("convertRadix: carry overflow");
              if (((e = l % n), (a[o] = Math.floor(l / n)), !Number.isSafeInteger(a[o]) || a[o] * n + e !== l))
                throw new Error("convertRadix: carry overflow");
              r && (a[o] ? (r = !1) : (i = o));
            }
            if ((o.push(e), r)) break;
          }
          for (let t = 0; t < e.length - 1 && 0 === e[t]; t++) o.push(0);
          return o.reverse();
        }
        n.d(t, { Av: () => j, US: () => v, eV: () => g, gW: () => _ });
        const u = (e, t) => (t ? u(t, e % t) : e),
          d = (e, t) => e + (t - u(e, t));
        function f(e, t, n, i) {
          if (!Array.isArray(e)) throw new Error("convertRadix2: data should be array");
          if (t <= 0 || t > 32) throw new Error(`convertRadix2: wrong from=${t}`);
          if (n <= 0 || n > 32) throw new Error(`convertRadix2: wrong to=${n}`);
          if (d(t, n) > 32) throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${d(t, n)}`);
          let o = 0,
            a = 0;
          const s = 2 ** n - 1,
            l = [];
          for (const i of e) {
            if ((r(i), i >= 2 ** t)) throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);
            if (((o = (o << t) | i), a + t > 32)) throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);
            for (a += t; a >= n; a -= n) l.push(((o >> (a - n)) & s) >>> 0);
            o &= 2 ** a - 1;
          }
          if (((o = (o << (n - a)) & s), !i && a >= t)) throw new Error("Excess padding");
          if (!i && o) throw new Error(`Non-zero padding: ${o}`);
          return i && a > 0 && l.push(o >>> 0), l;
        }
        function h(e, t = !1) {
          if ((r(e), e <= 0 || e > 32)) throw new Error("radix2: bits should be in (0..32]");
          if (d(8, e) > 32 || d(e, 8) > 32) throw new Error("radix2: carry overflow");
          return {
            encode: n => {
              if (!(n instanceof Uint8Array)) throw new Error("radix2.encode input should be Uint8Array");
              return f(Array.from(n), 8, e, !t);
            },
            decode: n => {
              if (!Array.isArray(n) || (n.length && "number" != typeof n[0]))
                throw new Error("radix2.decode input should be array of strings");
              return Uint8Array.from(f(n, e, 8, t));
            },
          };
        }
        function p(e) {
          if ("function" != typeof e) throw new Error("unsafeWrapper fn should be function");
          return function (...t) {
            try {
              return e.apply(null, t);
            } catch (e) {}
          };
        }
        const m = i(h(4), o("0123456789ABCDEF"), a("")),
          y = i(h(5), o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"), s(5), a("")),
          g = i(h(5), o("0123456789ABCDEFGHIJKLMNOPQRSTUV"), s(5), a("")),
          v =
            (i(
              h(5),
              o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),
              a(""),
              l(e => e.toUpperCase().replace(/O/g, "0").replace(/[IL]/g, "1"))
            ),
            i(h(6), o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"), s(6), a(""))),
          w = i(h(6), o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"), s(6), a("")),
          b = e => {
            return i(
              (r((t = 58)),
              {
                encode: e => {
                  if (!(e instanceof Uint8Array)) throw new Error("radix.encode input should be Uint8Array");
                  return c(Array.from(e), 256, t);
                },
                decode: e => {
                  if (!Array.isArray(e) || (e.length && "number" != typeof e[0]))
                    throw new Error("radix.decode input should be array of strings");
                  return Uint8Array.from(c(e, t, 256));
                },
              }),
              o(e),
              a("")
            );
            var t;
          },
          x = b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),
          E =
            (b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),
            b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),
            [0, 2, 3, 5, 6, 7, 9, 10, 11]),
          k = {
            encode(e) {
              let t = "";
              for (let n = 0; n < e.length; n += 8) {
                const r = e.subarray(n, n + 8);
                t += x.encode(r).padStart(E[r.length], "1");
              }
              return t;
            },
            decode(e) {
              let t = [];
              for (let n = 0; n < e.length; n += 11) {
                const r = e.slice(n, n + 11),
                  i = E.indexOf(r.length),
                  o = x.decode(r);
                for (let e = 0; e < o.length - i; e++) if (0 !== o[e]) throw new Error("base58xmr: wrong padding");
                t = t.concat(Array.from(o.slice(o.length - i)));
              }
              return Uint8Array.from(t);
            },
          },
          j = e =>
            i(
              (function (e, t) {
                if ((r(e), "function" != typeof t)) throw new Error("checksum fn should be function");
                return {
                  encode(n) {
                    if (!(n instanceof Uint8Array)) throw new Error("checksum.encode: input should be Uint8Array");
                    const r = t(n).slice(0, e),
                      i = new Uint8Array(n.length + e);
                    return i.set(n), i.set(r, n.length), i;
                  },
                  decode(n) {
                    if (!(n instanceof Uint8Array)) throw new Error("checksum.decode: input should be Uint8Array");
                    const r = n.slice(0, -e),
                      i = t(r).slice(0, e),
                      o = n.slice(-e);
                    for (let t = 0; t < e; t++) if (i[t] !== o[t]) throw new Error("Invalid checksum");
                    return r;
                  },
                };
              })(4, t => e(e(t))),
              x
            ),
          S = i(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"), a("")),
          A = [996825010, 642813549, 513874426, 1027748829, 705979059];
        function C(e) {
          const t = e >> 25;
          let n = (33554431 & e) << 5;
          for (let e = 0; e < A.length; e++) 1 == ((t >> e) & 1) && (n ^= A[e]);
          return n;
        }
        function N(e, t, n = 1) {
          const r = e.length;
          let i = 1;
          for (let t = 0; t < r; t++) {
            const n = e.charCodeAt(t);
            if (n < 33 || n > 126) throw new Error(`Invalid prefix (${e})`);
            i = C(i) ^ (n >> 5);
          }
          i = C(i);
          for (let t = 0; t < r; t++) i = C(i) ^ (31 & e.charCodeAt(t));
          for (let e of t) i = C(i) ^ e;
          for (let e = 0; e < 6; e++) i = C(i);
          return (i ^= n), S.encode(f([i % 2 ** 30], 30, 5, !1));
        }
        function P(e) {
          const t = "bech32" === e ? 1 : 734539939,
            n = h(5),
            r = n.decode,
            i = n.encode,
            o = p(r);
          function a(e, n = 90) {
            if ("string" != typeof e) throw new Error("bech32.decode input should be string, not " + typeof e);
            if (e.length < 8 || (!1 !== n && e.length > n))
              throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);
            const r = e.toLowerCase();
            if (e !== r && e !== e.toUpperCase()) throw new Error("String must be lowercase or uppercase");
            const i = (e = r).lastIndexOf("1");
            if (0 === i || -1 === i) throw new Error('Letter "1" must be present between prefix and data only');
            const o = e.slice(0, i),
              a = e.slice(i + 1);
            if (a.length < 6) throw new Error("Data must be at least 6 characters long");
            const s = S.decode(a).slice(0, -6),
              l = N(o, s, t);
            if (!a.endsWith(l)) throw new Error(`Invalid checksum in ${e}: expected "${l}"`);
            return { prefix: o, words: s };
          }
          return {
            encode: function (e, n, r = 90) {
              if ("string" != typeof e) throw new Error("bech32.encode prefix should be string, not " + typeof e);
              if (!Array.isArray(n) || (n.length && "number" != typeof n[0]))
                throw new Error("bech32.encode words should be array of numbers, not " + typeof n);
              const i = e.length + 7 + n.length;
              if (!1 !== r && i > r) throw new TypeError(`Length ${i} exceeds limit ${r}`);
              return `${(e = e.toLowerCase())}1${S.encode(n)}${N(e, n, t)}`;
            },
            decode: a,
            decodeToBytes: function (e) {
              const { prefix: t, words: n } = a(e, !1);
              return { prefix: t, words: n, bytes: r(n) };
            },
            decodeUnsafe: p(a),
            fromWords: r,
            fromWordsUnsafe: o,
            toWords: i,
          };
        }
        const _ = P("bech32"),
          T = {
            utf8:
              (P("bech32m"), { encode: e => new TextDecoder().decode(e), decode: e => new TextEncoder().encode(e) }),
            hex: i(
              h(4),
              o("0123456789abcdef"),
              a(""),
              l(e => {
                if ("string" != typeof e || e.length % 2)
                  throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);
                return e.toLowerCase();
              })
            ),
            base16: m,
            base32: y,
            base64: v,
            base64url: w,
            base58: x,
            base58xmr: k,
          };
        Object.keys(T).join(", ");
      },
      2467: (e, t, n) => {
        "use strict";
        n.r(t),
          n.d(t, {
            Dexie: () => Jn,
            RangeSet: () => qn,
            default: () => Jn,
            liveQuery: () => rr,
            mergeRanges: () => $n,
            rangesOverlap: () => Gn,
          });
        const r =
            "undefined" != typeof globalThis
              ? globalThis
              : "undefined" != typeof self
              ? self
              : "undefined" != typeof window
              ? window
              : global,
          i = Object.keys,
          o = Array.isArray;
        function a(e, t) {
          return (
            "object" != typeof t ||
              i(t).forEach(function (n) {
                e[n] = t[n];
              }),
            e
          );
        }
        "undefined" == typeof Promise || r.Promise || (r.Promise = Promise);
        const s = Object.getPrototypeOf,
          l = {}.hasOwnProperty;
        function c(e, t) {
          return l.call(e, t);
        }
        function u(e, t) {
          "function" == typeof t && (t = t(s(e))),
            ("undefined" == typeof Reflect ? i : Reflect.ownKeys)(t).forEach(n => {
              f(e, n, t[n]);
            });
        }
        const d = Object.defineProperty;
        function f(e, t, n, r) {
          d(
            e,
            t,
            a(
              n && c(n, "get") && "function" == typeof n.get
                ? { get: n.get, set: n.set, configurable: !0 }
                : { value: n, configurable: !0, writable: !0 },
              r
            )
          );
        }
        function h(e) {
          return {
            from: function (t) {
              return (
                (e.prototype = Object.create(t.prototype)),
                f(e.prototype, "constructor", e),
                { extend: u.bind(null, e.prototype) }
              );
            },
          };
        }
        const p = Object.getOwnPropertyDescriptor;
        function m(e, t) {
          let n;
          return p(e, t) || ((n = s(e)) && m(n, t));
        }
        const y = [].slice;
        function g(e, t, n) {
          return y.call(e, t, n);
        }
        function v(e, t) {
          return t(e);
        }
        function w(e) {
          if (!e) throw new Error("Assertion Failed");
        }
        function b(e) {
          r.setImmediate ? setImmediate(e) : setTimeout(e, 0);
        }
        function x(e, t) {
          return e.reduce((e, n, r) => {
            var i = t(n, r);
            return i && (e[i[0]] = i[1]), e;
          }, {});
        }
        function E(e, t) {
          if (c(e, t)) return e[t];
          if (!t) return e;
          if ("string" != typeof t) {
            for (var n = [], r = 0, i = t.length; r < i; ++r) {
              var o = E(e, t[r]);
              n.push(o);
            }
            return n;
          }
          var a = t.indexOf(".");
          if (-1 !== a) {
            var s = e[t.substr(0, a)];
            return void 0 === s ? void 0 : E(s, t.substr(a + 1));
          }
        }
        function k(e, t, n) {
          if (e && void 0 !== t && (!("isFrozen" in Object) || !Object.isFrozen(e)))
            if ("string" != typeof t && "length" in t) {
              w("string" != typeof n && "length" in n);
              for (var r = 0, i = t.length; r < i; ++r) k(e, t[r], n[r]);
            } else {
              var a = t.indexOf(".");
              if (-1 !== a) {
                var s = t.substr(0, a),
                  l = t.substr(a + 1);
                if ("" === l) void 0 === n ? (o(e) && !isNaN(parseInt(s)) ? e.splice(s, 1) : delete e[s]) : (e[s] = n);
                else {
                  var u = e[s];
                  (u && c(e, s)) || (u = e[s] = {}), k(u, l, n);
                }
              } else void 0 === n ? (o(e) && !isNaN(parseInt(t)) ? e.splice(t, 1) : delete e[t]) : (e[t] = n);
            }
        }
        function j(e) {
          var t = {};
          for (var n in e) c(e, n) && (t[n] = e[n]);
          return t;
        }
        const S = [].concat;
        function A(e) {
          return S.apply([], e);
        }
        const C =
            "Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey"
              .split(",")
              .concat(A([8, 16, 32, 64].map(e => ["Int", "Uint", "Float"].map(t => t + e + "Array"))))
              .filter(e => r[e]),
          N = C.map(e => r[e]);
        x(C, e => [e, !0]);
        let P = null;
        function _(e) {
          P = "undefined" != typeof WeakMap && new WeakMap();
          const t = T(e);
          return (P = null), t;
        }
        function T(e) {
          if (!e || "object" != typeof e) return e;
          let t = P && P.get(e);
          if (t) return t;
          if (o(e)) {
            (t = []), P && P.set(e, t);
            for (var n = 0, r = e.length; n < r; ++n) t.push(T(e[n]));
          } else if (N.indexOf(e.constructor) >= 0) t = e;
          else {
            const n = s(e);
            for (var i in ((t = n === Object.prototype ? {} : Object.create(n)), P && P.set(e, t), e))
              c(e, i) && (t[i] = T(e[i]));
          }
          return t;
        }
        const { toString: M } = {};
        function R(e) {
          return M.call(e).slice(8, -1);
        }
        const B = "undefined" != typeof Symbol ? Symbol.iterator : "@@iterator",
          O =
            "symbol" == typeof B
              ? function (e) {
                  var t;
                  return null != e && (t = e[B]) && t.apply(e);
                }
              : function () {
                  return null;
                },
          L = {};
        function I(e) {
          var t, n, r, i;
          if (1 === arguments.length) {
            if (o(e)) return e.slice();
            if (this === L && "string" == typeof e) return [e];
            if ((i = O(e))) {
              for (n = []; !(r = i.next()).done; ) n.push(r.value);
              return n;
            }
            if (null == e) return [e];
            if ("number" == typeof (t = e.length)) {
              for (n = new Array(t); t--; ) n[t] = e[t];
              return n;
            }
            return [e];
          }
          for (t = arguments.length, n = new Array(t); t--; ) n[t] = arguments[t];
          return n;
        }
        const F = "undefined" != typeof Symbol ? e => "AsyncFunction" === e[Symbol.toStringTag] : () => !1;
        var D = "undefined" != typeof location && /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
        function U(e, t) {
          (D = e), (z = t);
        }
        var z = () => !0;
        const H = !new Error("").stack;
        function K() {
          if (H)
            try {
              throw (K.arguments, new Error());
            } catch (e) {
              return e;
            }
          return new Error();
        }
        function W(e, t) {
          var n = e.stack;
          return n
            ? ((t = t || 0),
              0 === n.indexOf(e.name) && (t += (e.name + e.message).split("\n").length),
              n
                .split("\n")
                .slice(t)
                .filter(z)
                .map(e => "\n" + e)
                .join(""))
            : "";
        }
        var q = [
            "Unknown",
            "Constraint",
            "Data",
            "TransactionInactive",
            "ReadOnly",
            "Version",
            "NotFound",
            "InvalidState",
            "InvalidAccess",
            "Abort",
            "Timeout",
            "QuotaExceeded",
            "Syntax",
            "DataClone",
          ],
          V = [
            "Modify",
            "Bulk",
            "OpenFailed",
            "VersionChange",
            "Schema",
            "Upgrade",
            "InvalidTable",
            "MissingAPI",
            "NoSuchDatabase",
            "InvalidArgument",
            "SubTransaction",
            "Unsupported",
            "Internal",
            "DatabaseClosed",
            "PrematureCommit",
            "ForeignAwait",
          ].concat(q),
          $ = {
            VersionChanged: "Database version changed by other database connection",
            DatabaseClosed: "Database has been closed",
            Abort: "Transaction aborted",
            TransactionInactive: "Transaction has already completed or failed",
            MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb",
          };
        function G(e, t) {
          (this._e = K()), (this.name = e), (this.message = t);
        }
        function Z(e, t) {
          return (
            e +
            ". Errors: " +
            Object.keys(t)
              .map(e => t[e].toString())
              .filter((e, t, n) => n.indexOf(e) === t)
              .join("\n")
          );
        }
        function Y(e, t, n, r) {
          (this._e = K()),
            (this.failures = t),
            (this.failedKeys = r),
            (this.successCount = n),
            (this.message = Z(e, t));
        }
        function X(e, t) {
          (this._e = K()),
            (this.name = "BulkError"),
            (this.failures = Object.keys(t).map(e => t[e])),
            (this.failuresByPos = t),
            (this.message = Z(e, t));
        }
        h(G)
          .from(Error)
          .extend({
            stack: {
              get: function () {
                return this._stack || (this._stack = this.name + ": " + this.message + W(this._e, 2));
              },
            },
            toString: function () {
              return this.name + ": " + this.message;
            },
          }),
          h(Y).from(G),
          h(X).from(G);
        var Q = V.reduce((e, t) => ((e[t] = t + "Error"), e), {});
        const J = G;
        var ee = V.reduce((e, t) => {
          var n = t + "Error";
          function r(e, r) {
            (this._e = K()),
              (this.name = n),
              e
                ? "string" == typeof e
                  ? ((this.message = `${e}${r ? "\n " + r : ""}`), (this.inner = r || null))
                  : "object" == typeof e && ((this.message = `${e.name} ${e.message}`), (this.inner = e))
                : ((this.message = $[t] || n), (this.inner = null));
          }
          return h(r).from(J), (e[t] = r), e;
        }, {});
        (ee.Syntax = SyntaxError), (ee.Type = TypeError), (ee.Range = RangeError);
        var te = q.reduce((e, t) => ((e[t + "Error"] = ee[t]), e), {}),
          ne = V.reduce((e, t) => (-1 === ["Syntax", "Type", "Range"].indexOf(t) && (e[t + "Error"] = ee[t]), e), {});
        function re() {}
        function ie(e) {
          return e;
        }
        function oe(e, t) {
          return null == e || e === ie
            ? t
            : function (n) {
                return t(e(n));
              };
        }
        function ae(e, t) {
          return function () {
            e.apply(this, arguments), t.apply(this, arguments);
          };
        }
        function se(e, t) {
          return e === re
            ? t
            : function () {
                var n = e.apply(this, arguments);
                void 0 !== n && (arguments[0] = n);
                var r = this.onsuccess,
                  i = this.onerror;
                (this.onsuccess = null), (this.onerror = null);
                var o = t.apply(this, arguments);
                return (
                  r && (this.onsuccess = this.onsuccess ? ae(r, this.onsuccess) : r),
                  i && (this.onerror = this.onerror ? ae(i, this.onerror) : i),
                  void 0 !== o ? o : n
                );
              };
        }
        function le(e, t) {
          return e === re
            ? t
            : function () {
                e.apply(this, arguments);
                var n = this.onsuccess,
                  r = this.onerror;
                (this.onsuccess = this.onerror = null),
                  t.apply(this, arguments),
                  n && (this.onsuccess = this.onsuccess ? ae(n, this.onsuccess) : n),
                  r && (this.onerror = this.onerror ? ae(r, this.onerror) : r);
              };
        }
        function ce(e, t) {
          return e === re
            ? t
            : function (n) {
                var r = e.apply(this, arguments);
                a(n, r);
                var i = this.onsuccess,
                  o = this.onerror;
                (this.onsuccess = null), (this.onerror = null);
                var s = t.apply(this, arguments);
                return (
                  i && (this.onsuccess = this.onsuccess ? ae(i, this.onsuccess) : i),
                  o && (this.onerror = this.onerror ? ae(o, this.onerror) : o),
                  void 0 === r ? (void 0 === s ? void 0 : s) : a(r, s)
                );
              };
        }
        function ue(e, t) {
          return e === re
            ? t
            : function () {
                return !1 !== t.apply(this, arguments) && e.apply(this, arguments);
              };
        }
        function de(e, t) {
          return e === re
            ? t
            : function () {
                var n = e.apply(this, arguments);
                if (n && "function" == typeof n.then) {
                  for (var r = this, i = arguments.length, o = new Array(i); i--; ) o[i] = arguments[i];
                  return n.then(function () {
                    return t.apply(r, o);
                  });
                }
                return t.apply(this, arguments);
              };
        }
        (ne.ModifyError = Y), (ne.DexieError = G), (ne.BulkError = X);
        var fe = {};
        const he = 100,
          [pe, me, ye] =
            "undefined" == typeof Promise
              ? []
              : (() => {
                  let e = Promise.resolve();
                  if ("undefined" == typeof crypto || !crypto.subtle) return [e, s(e), e];
                  const t = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
                  return [t, s(t), e];
                })(),
          ge = me && me.then,
          ve = pe && pe.constructor,
          we = !!ye;
        var be = !1,
          xe = ye
            ? () => {
                ye.then(We);
              }
            : r.setImmediate
            ? setImmediate.bind(null, We)
            : r.MutationObserver
            ? () => {
                var e = document.createElement("div");
                new MutationObserver(() => {
                  We(), (e = null);
                }).observe(e, { attributes: !0 }),
                  e.setAttribute("i", "1");
              }
            : () => {
                setTimeout(We, 0);
              },
          Ee = function (e, t) {
            Te.push([e, t]), je && (xe(), (je = !1));
          },
          ke = !0,
          je = !0,
          Se = [],
          Ae = [],
          Ce = null,
          Ne = ie,
          Pe = {
            id: "global",
            global: !0,
            ref: 0,
            unhandleds: [],
            onunhandled: mt,
            pgp: !1,
            env: {},
            finalize: function () {
              this.unhandleds.forEach(e => {
                try {
                  mt(e[0], e[1]);
                } catch (e) {}
              });
            },
          },
          _e = Pe,
          Te = [],
          Me = 0,
          Re = [];
        function Be(e) {
          if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
          (this._listeners = []), (this.onuncatched = re), (this._lib = !1);
          var t = (this._PSD = _e);
          if ((D && ((this._stackHolder = K()), (this._prev = null), (this._numPrev = 0)), "function" != typeof e)) {
            if (e !== fe) throw new TypeError("Not a function");
            return (
              (this._state = arguments[1]),
              (this._value = arguments[2]),
              void (!1 === this._state && Fe(this, this._value))
            );
          }
          (this._state = null), (this._value = null), ++t.ref, Ie(this, e);
        }
        const Oe = {
          get: function () {
            var e = _e,
              t = et;
            function n(n, r) {
              var i = !e.global && (e !== _e || t !== et);
              const o = i && !it();
              var a = new Be((t, a) => {
                Ue(this, new Le(ft(n, e, i, o), ft(r, e, i, o), t, a, e));
              });
              return D && Ke(a, this), a;
            }
            return (n.prototype = fe), n;
          },
          set: function (e) {
            f(
              this,
              "then",
              e && e.prototype === fe
                ? Oe
                : {
                    get: function () {
                      return e;
                    },
                    set: Oe.set,
                  }
            );
          },
        };
        function Le(e, t, n, r, i) {
          (this.onFulfilled = "function" == typeof e ? e : null),
            (this.onRejected = "function" == typeof t ? t : null),
            (this.resolve = n),
            (this.reject = r),
            (this.psd = i);
        }
        function Ie(e, t) {
          try {
            t(t => {
              if (null === e._state) {
                if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                var n = e._lib && qe();
                t && "function" == typeof t.then
                  ? Ie(e, (e, n) => {
                      t instanceof Be ? t._then(e, n) : t.then(e, n);
                    })
                  : ((e._state = !0), (e._value = t), De(e)),
                  n && Ve();
              }
            }, Fe.bind(null, e));
          } catch (t) {
            Fe(e, t);
          }
        }
        function Fe(e, t) {
          if ((Ae.push(t), null === e._state)) {
            var n = e._lib && qe();
            (t = Ne(t)),
              (e._state = !1),
              (e._value = t),
              D &&
                null !== t &&
                "object" == typeof t &&
                !t._promise &&
                (function (e, t, n) {
                  try {
                    e.apply(null, void 0);
                  } catch (e) {}
                })(() => {
                  var n = m(t, "stack");
                  (t._promise = e),
                    f(t, "stack", { get: () => (be ? n && (n.get ? n.get.apply(t) : n.value) : e.stack) });
                }),
              (function (e) {
                Se.some(t => t._value === e._value) || Se.push(e);
              })(e),
              De(e),
              n && Ve();
          }
        }
        function De(e) {
          var t = e._listeners;
          e._listeners = [];
          for (var n = 0, r = t.length; n < r; ++n) Ue(e, t[n]);
          var i = e._PSD;
          --i.ref || i.finalize(),
            0 === Me &&
              (++Me,
              Ee(() => {
                0 == --Me && $e();
              }, []));
        }
        function Ue(e, t) {
          if (null !== e._state) {
            var n = e._state ? t.onFulfilled : t.onRejected;
            if (null === n) return (e._state ? t.resolve : t.reject)(e._value);
            ++t.psd.ref, ++Me, Ee(ze, [n, e, t]);
          } else e._listeners.push(t);
        }
        function ze(e, t, n) {
          try {
            Ce = t;
            var r,
              i = t._value;
            t._state
              ? (r = e(i))
              : (Ae.length && (Ae = []),
                (r = e(i)),
                -1 === Ae.indexOf(i) &&
                  (function (e) {
                    for (var t = Se.length; t; ) if (Se[--t]._value === e._value) return void Se.splice(t, 1);
                  })(t)),
              n.resolve(r);
          } catch (e) {
            n.reject(e);
          } finally {
            (Ce = null), 0 == --Me && $e(), --n.psd.ref || n.psd.finalize();
          }
        }
        function He(e, t, n) {
          if (t.length === n) return t;
          var r = "";
          if (!1 === e._state) {
            var i,
              o,
              a = e._value;
            null != a ? ((i = a.name || "Error"), (o = a.message || a), (r = W(a, 0))) : ((i = a), (o = "")),
              t.push(i + (o ? ": " + o : "") + r);
          }
          return D && ((r = W(e._stackHolder, 2)) && -1 === t.indexOf(r) && t.push(r), e._prev && He(e._prev, t, n)), t;
        }
        function Ke(e, t) {
          var n = t ? t._numPrev + 1 : 0;
          n < 100 && ((e._prev = t), (e._numPrev = n));
        }
        function We() {
          qe() && Ve();
        }
        function qe() {
          var e = ke;
          return (ke = !1), (je = !1), e;
        }
        function Ve() {
          var e, t, n;
          do {
            for (; Te.length > 0; )
              for (e = Te, Te = [], n = e.length, t = 0; t < n; ++t) {
                var r = e[t];
                r[0].apply(null, r[1]);
              }
          } while (Te.length > 0);
          (ke = !0), (je = !0);
        }
        function $e() {
          var e = Se;
          (Se = []),
            e.forEach(e => {
              e._PSD.onunhandled.call(null, e._value, e);
            });
          for (var t = Re.slice(0), n = t.length; n; ) t[--n]();
        }
        function Ge(e) {
          return new Be(fe, !1, e);
        }
        function Ze(e, t) {
          var n = _e;
          return function () {
            var r = qe(),
              i = _e;
            try {
              return lt(n, !0), e.apply(this, arguments);
            } catch (e) {
              t && t(e);
            } finally {
              lt(i, !1), r && Ve();
            }
          };
        }
        u(Be.prototype, {
          then: Oe,
          _then: function (e, t) {
            Ue(this, new Le(null, null, e, t, _e));
          },
          catch: function (e) {
            if (1 === arguments.length) return this.then(null, e);
            var t = arguments[0],
              n = arguments[1];
            return "function" == typeof t
              ? this.then(null, e => (e instanceof t ? n(e) : Ge(e)))
              : this.then(null, e => (e && e.name === t ? n(e) : Ge(e)));
          },
          finally: function (e) {
            return this.then(
              t => (e(), t),
              t => (e(), Ge(t))
            );
          },
          stack: {
            get: function () {
              if (this._stack) return this._stack;
              try {
                be = !0;
                var e = He(this, [], 20).join("\nFrom previous: ");
                return null !== this._state && (this._stack = e), e;
              } finally {
                be = !1;
              }
            },
          },
          timeout: function (e, t) {
            return e < 1 / 0
              ? new Be((n, r) => {
                  var i = setTimeout(() => r(new ee.Timeout(t)), e);
                  this.then(n, r).finally(clearTimeout.bind(null, i));
                })
              : this;
          },
        }),
          "undefined" != typeof Symbol && Symbol.toStringTag && f(Be.prototype, Symbol.toStringTag, "Dexie.Promise"),
          (Pe.env = ct()),
          u(Be, {
            all: function () {
              var e = I.apply(null, arguments).map(ot);
              return new Be(function (t, n) {
                0 === e.length && t([]);
                var r = e.length;
                e.forEach((i, o) =>
                  Be.resolve(i).then(n => {
                    (e[o] = n), --r || t(e);
                  }, n)
                );
              });
            },
            resolve: e => {
              if (e instanceof Be) return e;
              if (e && "function" == typeof e.then)
                return new Be((t, n) => {
                  e.then(t, n);
                });
              var t = new Be(fe, !0, e);
              return Ke(t, Ce), t;
            },
            reject: Ge,
            race: function () {
              var e = I.apply(null, arguments).map(ot);
              return new Be((t, n) => {
                e.map(e => Be.resolve(e).then(t, n));
              });
            },
            PSD: { get: () => _e, set: e => (_e = e) },
            totalEchoes: { get: () => et },
            newPSD: nt,
            usePSD: ut,
            scheduler: {
              get: () => Ee,
              set: e => {
                Ee = e;
              },
            },
            rejectionMapper: {
              get: () => Ne,
              set: e => {
                Ne = e;
              },
            },
            follow: (e, t) =>
              new Be((n, r) =>
                nt(
                  (t, n) => {
                    var r = _e;
                    (r.unhandleds = []),
                      (r.onunhandled = n),
                      (r.finalize = ae(function () {
                        !(function (e) {
                          Re.push(function t() {
                            e(), Re.splice(Re.indexOf(t), 1);
                          }),
                            ++Me,
                            Ee(() => {
                              0 == --Me && $e();
                            }, []);
                        })(() => {
                          0 === this.unhandleds.length ? t() : n(this.unhandleds[0]);
                        });
                      }, r.finalize)),
                      e();
                  },
                  t,
                  n,
                  r
                )
              ),
          }),
          ve &&
            (ve.allSettled &&
              f(Be, "allSettled", function () {
                const e = I.apply(null, arguments).map(ot);
                return new Be(t => {
                  0 === e.length && t([]);
                  let n = e.length;
                  const r = new Array(n);
                  e.forEach((e, i) =>
                    Be.resolve(e)
                      .then(
                        e => (r[i] = { status: "fulfilled", value: e }),
                        e => (r[i] = { status: "rejected", reason: e })
                      )
                      .then(() => --n || t(r))
                  );
                });
              }),
            ve.any &&
              "undefined" != typeof AggregateError &&
              f(Be, "any", function () {
                const e = I.apply(null, arguments).map(ot);
                return new Be((t, n) => {
                  0 === e.length && n(new AggregateError([]));
                  let r = e.length;
                  const i = new Array(r);
                  e.forEach((e, o) =>
                    Be.resolve(e).then(
                      e => t(e),
                      e => {
                        (i[o] = e), --r || n(new AggregateError(i));
                      }
                    )
                  );
                });
              }));
        const Ye = { awaits: 0, echoes: 0, id: 0 };
        var Xe = 0,
          Qe = [],
          Je = 0,
          et = 0,
          tt = 0;
        function nt(e, t, n, r) {
          var i = _e,
            o = Object.create(i);
          (o.parent = i), (o.ref = 0), (o.global = !1), (o.id = ++tt);
          var s = Pe.env;
          (o.env = we
            ? {
                Promise: Be,
                PromiseProp: { value: Be, configurable: !0, writable: !0 },
                all: Be.all,
                race: Be.race,
                allSettled: Be.allSettled,
                any: Be.any,
                resolve: Be.resolve,
                reject: Be.reject,
                nthen: ht(s.nthen, o),
                gthen: ht(s.gthen, o),
              }
            : {}),
            t && a(o, t),
            ++i.ref,
            (o.finalize = function () {
              --this.parent.ref || this.parent.finalize();
            });
          var l = ut(o, e, n, r);
          return 0 === o.ref && o.finalize(), l;
        }
        function rt() {
          return Ye.id || (Ye.id = ++Xe), ++Ye.awaits, (Ye.echoes += he), Ye.id;
        }
        function it() {
          return !!Ye.awaits && (0 == --Ye.awaits && (Ye.id = 0), (Ye.echoes = Ye.awaits * he), !0);
        }
        function ot(e) {
          return Ye.echoes && e && e.constructor === ve
            ? (rt(),
              e.then(
                e => (it(), e),
                e => (it(), yt(e))
              ))
            : e;
        }
        function at(e) {
          ++et, (Ye.echoes && 0 != --Ye.echoes) || (Ye.echoes = Ye.id = 0), Qe.push(_e), lt(e, !0);
        }
        function st() {
          var e = Qe[Qe.length - 1];
          Qe.pop(), lt(e, !1);
        }
        function lt(e, t) {
          var n = _e;
          if (
            ((t ? !Ye.echoes || (Je++ && e === _e) : !Je || (--Je && e === _e)) || dt(t ? at.bind(null, e) : st),
            e !== _e && ((_e = e), n === Pe && (Pe.env = ct()), we))
          ) {
            var i = Pe.env.Promise,
              o = e.env;
            (me.then = o.nthen),
              (i.prototype.then = o.gthen),
              (n.global || e.global) &&
                (Object.defineProperty(r, "Promise", o.PromiseProp),
                (i.all = o.all),
                (i.race = o.race),
                (i.resolve = o.resolve),
                (i.reject = o.reject),
                o.allSettled && (i.allSettled = o.allSettled),
                o.any && (i.any = o.any));
          }
        }
        function ct() {
          var e = r.Promise;
          return we
            ? {
                Promise: e,
                PromiseProp: Object.getOwnPropertyDescriptor(r, "Promise"),
                all: e.all,
                race: e.race,
                allSettled: e.allSettled,
                any: e.any,
                resolve: e.resolve,
                reject: e.reject,
                nthen: me.then,
                gthen: e.prototype.then,
              }
            : {};
        }
        function ut(e, t, n, r, i) {
          var o = _e;
          try {
            return lt(e, !0), t(n, r, i);
          } finally {
            lt(o, !1);
          }
        }
        function dt(e) {
          ge.call(pe, e);
        }
        function ft(e, t, n, r) {
          return "function" != typeof e
            ? e
            : function () {
                var i = _e;
                n && rt(), lt(t, !0);
                try {
                  return e.apply(this, arguments);
                } finally {
                  lt(i, !1), r && dt(it);
                }
              };
        }
        function ht(e, t) {
          return function (n, r) {
            return e.call(this, ft(n, t), ft(r, t));
          };
        }
        -1 === ("" + ge).indexOf("[native code]") && (rt = it = re);
        const pt = "unhandledrejection";
        function mt(e, t) {
          var n;
          try {
            n = t.onuncatched(e);
          } catch (e) {}
          if (!1 !== n)
            try {
              var i,
                o = { promise: t, reason: e };
              if (
                (r.document && document.createEvent
                  ? ((i = document.createEvent("Event")).initEvent(pt, !0, !0), a(i, o))
                  : r.CustomEvent && a((i = new CustomEvent(pt, { detail: o })), o),
                i && r.dispatchEvent && (dispatchEvent(i), !r.PromiseRejectionEvent && r.onunhandledrejection))
              )
                try {
                  r.onunhandledrejection(i);
                } catch (e) {}
              D && i && !i.defaultPrevented && console.warn(`Unhandled rejection: ${e.stack || e}`);
            } catch (e) {}
        }
        var yt = Be.reject;
        function gt(e, t, n, r) {
          if (e.idbdb && (e._state.openComplete || _e.letThrough || e._vip)) {
            var i = e._createTransaction(t, n, e._dbSchema);
            try {
              i.create(), (e._state.PR1398_maxLoop = 3);
            } catch (i) {
              return i.name === Q.InvalidState && e.isOpen() && --e._state.PR1398_maxLoop > 0
                ? (console.warn("Dexie: Need to reopen db"), e._close(), e.open().then(() => gt(e, t, n, r)))
                : yt(i);
            }
            return i
              ._promise(t, (e, t) => nt(() => ((_e.trans = i), r(e, t, i))))
              .then(e => i._completion.then(() => e));
          }
          if (e._state.openComplete) return yt(new ee.DatabaseClosed(e._state.dbOpenError));
          if (!e._state.isBeingOpened) {
            if (!e._options.autoOpen) return yt(new ee.DatabaseClosed());
            e.open().catch(re);
          }
          return e._state.dbReadyPromise.then(() => gt(e, t, n, r));
        }
        const vt = "3.2.4",
          wt = String.fromCharCode(65535),
          bt = -1 / 0,
          xt = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",
          Et = "String expected.",
          kt = [],
          jt = "undefined" != typeof navigator && /(MSIE|Trident|Edge)/.test(navigator.userAgent),
          St = jt,
          At = jt,
          Ct = e => !/(dexie\.js|dexie\.min\.js)/.test(e),
          Nt = "__dbnames",
          Pt = "readonly",
          _t = "readwrite";
        function Tt(e, t) {
          return e
            ? t
              ? function () {
                  return e.apply(this, arguments) && t.apply(this, arguments);
                }
              : e
            : t;
        }
        const Mt = { type: 3, lower: -1 / 0, lowerOpen: !1, upper: [[]], upperOpen: !1 };
        function Rt(e) {
          return "string" != typeof e || /\./.test(e)
            ? e => e
            : t => (void 0 === t[e] && e in t && delete (t = _(t))[e], t);
        }
        class Bt {
          _trans(e, t, n) {
            const r = this._tx || _e.trans,
              i = this.name;
            function o(e, n, r) {
              if (!r.schema[i]) throw new ee.NotFound("Table " + i + " not part of transaction");
              return t(r.idbtrans, r);
            }
            const a = qe();
            try {
              return r && r.db === this.db
                ? r === _e.trans
                  ? r._promise(e, o, n)
                  : nt(() => r._promise(e, o, n), { trans: r, transless: _e.transless || _e })
                : gt(this.db, e, [this.name], o);
            } finally {
              a && Ve();
            }
          }
          get(e, t) {
            return e && e.constructor === Object
              ? this.where(e).first(t)
              : this._trans("readonly", t =>
                  this.core.get({ trans: t, key: e }).then(e => this.hook.reading.fire(e))
                ).then(t);
          }
          where(e) {
            if ("string" == typeof e) return new this.db.WhereClause(this, e);
            if (o(e)) return new this.db.WhereClause(this, `[${e.join("+")}]`);
            const t = i(e);
            if (1 === t.length) return this.where(t[0]).equals(e[t[0]]);
            const n = this.schema.indexes
              .concat(this.schema.primKey)
              .filter(
                e => e.compound && t.every(t => e.keyPath.indexOf(t) >= 0) && e.keyPath.every(e => t.indexOf(e) >= 0)
              )[0];
            if (n && this.db._maxKey !== wt) return this.where(n.name).equals(n.keyPath.map(t => e[t]));
            !n &&
              D &&
              console.warn(
                `The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`
              );
            const { idxByName: r } = this.schema,
              a = this.db._deps.indexedDB;
            function s(e, t) {
              try {
                return 0 === a.cmp(e, t);
              } catch (e) {
                return !1;
              }
            }
            const [l, c] = t.reduce(
              ([t, n], i) => {
                const a = r[i],
                  l = e[i];
                return [
                  t || a,
                  t || !a
                    ? Tt(
                        n,
                        a && a.multi
                          ? e => {
                              const t = E(e, i);
                              return o(t) && t.some(e => s(l, e));
                            }
                          : e => s(l, E(e, i))
                      )
                    : n,
                ];
              },
              [null, null]
            );
            return l
              ? this.where(l.name).equals(e[l.keyPath]).filter(c)
              : n
              ? this.filter(c)
              : this.where(t).equals("");
          }
          filter(e) {
            return this.toCollection().and(e);
          }
          count(e) {
            return this.toCollection().count(e);
          }
          offset(e) {
            return this.toCollection().offset(e);
          }
          limit(e) {
            return this.toCollection().limit(e);
          }
          each(e) {
            return this.toCollection().each(e);
          }
          toArray(e) {
            return this.toCollection().toArray(e);
          }
          toCollection() {
            return new this.db.Collection(new this.db.WhereClause(this));
          }
          orderBy(e) {
            return new this.db.Collection(new this.db.WhereClause(this, o(e) ? `[${e.join("+")}]` : e));
          }
          reverse() {
            return this.toCollection().reverse();
          }
          mapToClass(e) {
            this.schema.mappedClass = e;
            const t = t => {
              if (!t) return t;
              const n = Object.create(e.prototype);
              for (var r in t)
                if (c(t, r))
                  try {
                    n[r] = t[r];
                  } catch (e) {}
              return n;
            };
            return (
              this.schema.readHook && this.hook.reading.unsubscribe(this.schema.readHook),
              (this.schema.readHook = t),
              this.hook("reading", t),
              e
            );
          }
          defineClass() {
            return this.mapToClass(function (e) {
              a(this, e);
            });
          }
          add(e, t) {
            const { auto: n, keyPath: r } = this.schema.primKey;
            let i = e;
            return (
              r && n && (i = Rt(r)(e)),
              this._trans("readwrite", e =>
                this.core.mutate({ trans: e, type: "add", keys: null != t ? [t] : null, values: [i] })
              )
                .then(e => (e.numFailures ? Be.reject(e.failures[0]) : e.lastResult))
                .then(t => {
                  if (r)
                    try {
                      k(e, r, t);
                    } catch (e) {}
                  return t;
                })
            );
          }
          update(e, t) {
            if ("object" != typeof e || o(e)) return this.where(":id").equals(e).modify(t);
            {
              const n = E(e, this.schema.primKey.keyPath);
              if (void 0 === n) return yt(new ee.InvalidArgument("Given object does not contain its primary key"));
              try {
                "function" != typeof t
                  ? i(t).forEach(n => {
                      k(e, n, t[n]);
                    })
                  : t(e, { value: e, primKey: n });
              } catch (e) {}
              return this.where(":id").equals(n).modify(t);
            }
          }
          put(e, t) {
            const { auto: n, keyPath: r } = this.schema.primKey;
            let i = e;
            return (
              r && n && (i = Rt(r)(e)),
              this._trans("readwrite", e =>
                this.core.mutate({ trans: e, type: "put", values: [i], keys: null != t ? [t] : null })
              )
                .then(e => (e.numFailures ? Be.reject(e.failures[0]) : e.lastResult))
                .then(t => {
                  if (r)
                    try {
                      k(e, r, t);
                    } catch (e) {}
                  return t;
                })
            );
          }
          delete(e) {
            return this._trans("readwrite", t => this.core.mutate({ trans: t, type: "delete", keys: [e] })).then(e =>
              e.numFailures ? Be.reject(e.failures[0]) : void 0
            );
          }
          clear() {
            return this._trans("readwrite", e => this.core.mutate({ trans: e, type: "deleteRange", range: Mt })).then(
              e => (e.numFailures ? Be.reject(e.failures[0]) : void 0)
            );
          }
          bulkGet(e) {
            return this._trans("readonly", t =>
              this.core.getMany({ keys: e, trans: t }).then(e => e.map(e => this.hook.reading.fire(e)))
            );
          }
          bulkAdd(e, t, n) {
            const r = Array.isArray(t) ? t : void 0,
              i = (n = n || (r ? void 0 : t)) ? n.allKeys : void 0;
            return this._trans("readwrite", t => {
              const { auto: n, keyPath: o } = this.schema.primKey;
              if (o && r) throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
              if (r && r.length !== e.length)
                throw new ee.InvalidArgument("Arguments objects and keys must have the same length");
              const a = e.length;
              let s = o && n ? e.map(Rt(o)) : e;
              return this.core
                .mutate({ trans: t, type: "add", keys: r, values: s, wantResults: i })
                .then(({ numFailures: e, results: t, lastResult: n, failures: r }) => {
                  if (0 === e) return i ? t : n;
                  throw new X(`${this.name}.bulkAdd(): ${e} of ${a} operations failed`, r);
                });
            });
          }
          bulkPut(e, t, n) {
            const r = Array.isArray(t) ? t : void 0,
              i = (n = n || (r ? void 0 : t)) ? n.allKeys : void 0;
            return this._trans("readwrite", t => {
              const { auto: n, keyPath: o } = this.schema.primKey;
              if (o && r) throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
              if (r && r.length !== e.length)
                throw new ee.InvalidArgument("Arguments objects and keys must have the same length");
              const a = e.length;
              let s = o && n ? e.map(Rt(o)) : e;
              return this.core
                .mutate({ trans: t, type: "put", keys: r, values: s, wantResults: i })
                .then(({ numFailures: e, results: t, lastResult: n, failures: r }) => {
                  if (0 === e) return i ? t : n;
                  throw new X(`${this.name}.bulkPut(): ${e} of ${a} operations failed`, r);
                });
            });
          }
          bulkDelete(e) {
            const t = e.length;
            return this._trans("readwrite", t => this.core.mutate({ trans: t, type: "delete", keys: e })).then(
              ({ numFailures: e, lastResult: n, failures: r }) => {
                if (0 === e) return n;
                throw new X(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`, r);
              }
            );
          }
        }
        function Ot(e) {
          var t = {},
            n = function (n, r) {
              if (r) {
                for (var i = arguments.length, o = new Array(i - 1); --i; ) o[i - 1] = arguments[i];
                return t[n].subscribe.apply(null, o), e;
              }
              if ("string" == typeof n) return t[n];
            };
          n.addEventType = s;
          for (var r = 1, a = arguments.length; r < a; ++r) s(arguments[r]);
          return n;
          function s(e, r, a) {
            if ("object" != typeof e) {
              var l;
              r || (r = ue), a || (a = re);
              var c = {
                subscribers: [],
                fire: a,
                subscribe: function (e) {
                  -1 === c.subscribers.indexOf(e) && (c.subscribers.push(e), (c.fire = r(c.fire, e)));
                },
                unsubscribe: function (e) {
                  (c.subscribers = c.subscribers.filter(function (t) {
                    return t !== e;
                  })),
                    (c.fire = c.subscribers.reduce(r, a));
                },
              };
              return (t[e] = n[e] = c), c;
            }
            i((l = e)).forEach(function (e) {
              var t = l[e];
              if (o(t)) s(e, l[e][0], l[e][1]);
              else {
                if ("asap" !== t) throw new ee.InvalidArgument("Invalid event config");
                var n = s(e, ie, function () {
                  for (var e = arguments.length, t = new Array(e); e--; ) t[e] = arguments[e];
                  n.subscribers.forEach(function (e) {
                    b(function () {
                      e.apply(null, t);
                    });
                  });
                });
              }
            });
          }
        }
        function Lt(e, t) {
          return h(t).from({ prototype: e }), t;
        }
        function It(e, t) {
          return !(e.filter || e.algorithm || e.or) && (t ? e.justLimit : !e.replayFilter);
        }
        function Ft(e, t) {
          e.filter = Tt(e.filter, t);
        }
        function Dt(e, t, n) {
          var r = e.replayFilter;
          (e.replayFilter = r ? () => Tt(r(), t()) : t), (e.justLimit = n && !r);
        }
        function Ut(e, t) {
          if (e.isPrimKey) return t.primaryKey;
          const n = t.getIndexByKeyPath(e.index);
          if (!n) throw new ee.Schema("KeyPath " + e.index + " on object store " + t.name + " is not indexed");
          return n;
        }
        function zt(e, t, n) {
          const r = Ut(e, t.schema);
          return t.openCursor({
            trans: n,
            values: !e.keysOnly,
            reverse: "prev" === e.dir,
            unique: !!e.unique,
            query: { index: r, range: e.range },
          });
        }
        function Ht(e, t, n, r) {
          const i = e.replayFilter ? Tt(e.filter, e.replayFilter()) : e.filter;
          if (e.or) {
            const o = {},
              a = (e, n, r) => {
                if (
                  !i ||
                  i(
                    n,
                    r,
                    e => n.stop(e),
                    e => n.fail(e)
                  )
                ) {
                  var a = n.primaryKey,
                    s = "" + a;
                  "[object ArrayBuffer]" === s && (s = "" + new Uint8Array(a)), c(o, s) || ((o[s] = !0), t(e, n, r));
                }
              };
            return Promise.all([e.or._iterate(a, n), Kt(zt(e, r, n), e.algorithm, a, !e.keysOnly && e.valueMapper)]);
          }
          return Kt(zt(e, r, n), Tt(e.algorithm, i), t, !e.keysOnly && e.valueMapper);
        }
        function Kt(e, t, n, r) {
          var i = Ze(r ? (e, t, i) => n(r(e), t, i) : n);
          return e.then(e => {
            if (e)
              return e.start(() => {
                var n = () => e.continue();
                (t &&
                  !t(
                    e,
                    e => (n = e),
                    t => {
                      e.stop(t), (n = re);
                    },
                    t => {
                      e.fail(t), (n = re);
                    }
                  )) ||
                  i(e.value, e, e => (n = e)),
                  n();
              });
          });
        }
        function Wt(e, t) {
          try {
            const n = qt(e),
              r = qt(t);
            if (n !== r)
              return "Array" === n
                ? 1
                : "Array" === r
                ? -1
                : "binary" === n
                ? 1
                : "binary" === r
                ? -1
                : "string" === n
                ? 1
                : "string" === r
                ? -1
                : "Date" === n
                ? 1
                : "Date" !== r
                ? NaN
                : -1;
            switch (n) {
              case "number":
              case "Date":
              case "string":
                return e > t ? 1 : e < t ? -1 : 0;
              case "binary":
                return (function (e, t) {
                  const n = e.length,
                    r = t.length,
                    i = n < r ? n : r;
                  for (let n = 0; n < i; ++n) if (e[n] !== t[n]) return e[n] < t[n] ? -1 : 1;
                  return n === r ? 0 : n < r ? -1 : 1;
                })(Vt(e), Vt(t));
              case "Array":
                return (function (e, t) {
                  const n = e.length,
                    r = t.length,
                    i = n < r ? n : r;
                  for (let n = 0; n < i; ++n) {
                    const r = Wt(e[n], t[n]);
                    if (0 !== r) return r;
                  }
                  return n === r ? 0 : n < r ? -1 : 1;
                })(e, t);
            }
          } catch (e) {}
          return NaN;
        }
        function qt(e) {
          const t = typeof e;
          if ("object" !== t) return t;
          if (ArrayBuffer.isView(e)) return "binary";
          const n = R(e);
          return "ArrayBuffer" === n ? "binary" : n;
        }
        function Vt(e) {
          return e instanceof Uint8Array
            ? e
            : ArrayBuffer.isView(e)
            ? new Uint8Array(e.buffer, e.byteOffset, e.byteLength)
            : new Uint8Array(e);
        }
        class $t {
          _read(e, t) {
            var n = this._ctx;
            return n.error ? n.table._trans(null, yt.bind(null, n.error)) : n.table._trans("readonly", e).then(t);
          }
          _write(e) {
            var t = this._ctx;
            return t.error ? t.table._trans(null, yt.bind(null, t.error)) : t.table._trans("readwrite", e, "locked");
          }
          _addAlgorithm(e) {
            var t = this._ctx;
            t.algorithm = Tt(t.algorithm, e);
          }
          _iterate(e, t) {
            return Ht(this._ctx, e, t, this._ctx.table.core);
          }
          clone(e) {
            var t = Object.create(this.constructor.prototype),
              n = Object.create(this._ctx);
            return e && a(n, e), (t._ctx = n), t;
          }
          raw() {
            return (this._ctx.valueMapper = null), this;
          }
          each(e) {
            var t = this._ctx;
            return this._read(n => Ht(t, e, n, t.table.core));
          }
          count(e) {
            return this._read(e => {
              const t = this._ctx,
                n = t.table.core;
              if (It(t, !0))
                return n
                  .count({ trans: e, query: { index: Ut(t, n.schema), range: t.range } })
                  .then(e => Math.min(e, t.limit));
              var r = 0;
              return Ht(t, () => (++r, !1), e, n).then(() => r);
            }).then(e);
          }
          sortBy(e, t) {
            const n = e.split(".").reverse(),
              r = n[0],
              i = n.length - 1;
            function o(e, t) {
              return t ? o(e[n[t]], t - 1) : e[r];
            }
            var a = "next" === this._ctx.dir ? 1 : -1;
            function s(e, t) {
              var n = o(e, i),
                r = o(t, i);
              return n < r ? -a : n > r ? a : 0;
            }
            return this.toArray(function (e) {
              return e.sort(s);
            }).then(t);
          }
          toArray(e) {
            return this._read(e => {
              var t = this._ctx;
              if ("next" === t.dir && It(t, !0) && t.limit > 0) {
                const { valueMapper: n } = t,
                  r = Ut(t, t.table.core.schema);
                return t.table.core
                  .query({ trans: e, limit: t.limit, values: !0, query: { index: r, range: t.range } })
                  .then(({ result: e }) => (n ? e.map(n) : e));
              }
              {
                const n = [];
                return Ht(t, e => n.push(e), e, t.table.core).then(() => n);
              }
            }, e);
          }
          offset(e) {
            var t = this._ctx;
            return (
              e <= 0 ||
                ((t.offset += e),
                It(t)
                  ? Dt(t, () => {
                      var t = e;
                      return (e, n) =>
                        0 === t ||
                        (1 === t
                          ? (--t, !1)
                          : (n(() => {
                              e.advance(t), (t = 0);
                            }),
                            !1));
                    })
                  : Dt(t, () => {
                      var t = e;
                      return () => --t < 0;
                    })),
              this
            );
          }
          limit(e) {
            return (
              (this._ctx.limit = Math.min(this._ctx.limit, e)),
              Dt(
                this._ctx,
                () => {
                  var t = e;
                  return function (e, n, r) {
                    return --t <= 0 && n(r), t >= 0;
                  };
                },
                !0
              ),
              this
            );
          }
          until(e, t) {
            return (
              Ft(this._ctx, function (n, r, i) {
                return !e(n.value) || (r(i), t);
              }),
              this
            );
          }
          first(e) {
            return this.limit(1)
              .toArray(function (e) {
                return e[0];
              })
              .then(e);
          }
          last(e) {
            return this.reverse().first(e);
          }
          filter(e) {
            var t, n;
            return (
              Ft(this._ctx, function (t) {
                return e(t.value);
              }),
              (t = this._ctx),
              (n = e),
              (t.isMatch = Tt(t.isMatch, n)),
              this
            );
          }
          and(e) {
            return this.filter(e);
          }
          or(e) {
            return new this.db.WhereClause(this._ctx.table, e, this);
          }
          reverse() {
            return (
              (this._ctx.dir = "prev" === this._ctx.dir ? "next" : "prev"),
              this._ondirectionchange && this._ondirectionchange(this._ctx.dir),
              this
            );
          }
          desc() {
            return this.reverse();
          }
          eachKey(e) {
            var t = this._ctx;
            return (
              (t.keysOnly = !t.isMatch),
              this.each(function (t, n) {
                e(n.key, n);
              })
            );
          }
          eachUniqueKey(e) {
            return (this._ctx.unique = "unique"), this.eachKey(e);
          }
          eachPrimaryKey(e) {
            var t = this._ctx;
            return (
              (t.keysOnly = !t.isMatch),
              this.each(function (t, n) {
                e(n.primaryKey, n);
              })
            );
          }
          keys(e) {
            var t = this._ctx;
            t.keysOnly = !t.isMatch;
            var n = [];
            return this.each(function (e, t) {
              n.push(t.key);
            })
              .then(function () {
                return n;
              })
              .then(e);
          }
          primaryKeys(e) {
            var t = this._ctx;
            if ("next" === t.dir && It(t, !0) && t.limit > 0)
              return this._read(e => {
                var n = Ut(t, t.table.core.schema);
                return t.table.core.query({
                  trans: e,
                  values: !1,
                  limit: t.limit,
                  query: { index: n, range: t.range },
                });
              })
                .then(({ result: e }) => e)
                .then(e);
            t.keysOnly = !t.isMatch;
            var n = [];
            return this.each(function (e, t) {
              n.push(t.primaryKey);
            })
              .then(function () {
                return n;
              })
              .then(e);
          }
          uniqueKeys(e) {
            return (this._ctx.unique = "unique"), this.keys(e);
          }
          firstKey(e) {
            return this.limit(1)
              .keys(function (e) {
                return e[0];
              })
              .then(e);
          }
          lastKey(e) {
            return this.reverse().firstKey(e);
          }
          distinct() {
            var e = this._ctx,
              t = e.index && e.table.schema.idxByName[e.index];
            if (!t || !t.multi) return this;
            var n = {};
            return (
              Ft(this._ctx, function (e) {
                var t = e.primaryKey.toString(),
                  r = c(n, t);
                return (n[t] = !0), !r;
              }),
              this
            );
          }
          modify(e) {
            var t = this._ctx;
            return this._write(n => {
              var r;
              if ("function" == typeof e) r = e;
              else {
                var o = i(e),
                  a = o.length;
                r = function (t) {
                  for (var n = !1, r = 0; r < a; ++r) {
                    var i = o[r],
                      s = e[i];
                    E(t, i) !== s && (k(t, i, s), (n = !0));
                  }
                  return n;
                };
              }
              const s = t.table.core,
                { outbound: l, extractKey: c } = s.schema.primaryKey,
                u = this.db._options.modifyChunkSize || 200,
                d = [];
              let f = 0;
              const h = [],
                p = (e, t) => {
                  const { failures: n, numFailures: r } = t;
                  f += e - r;
                  for (let e of i(n)) d.push(n[e]);
                };
              return this.clone()
                .primaryKeys()
                .then(i => {
                  const o = a => {
                    const d = Math.min(u, i.length - a);
                    return s.getMany({ trans: n, keys: i.slice(a, a + d), cache: "immutable" }).then(f => {
                      const h = [],
                        m = [],
                        y = l ? [] : null,
                        g = [];
                      for (let e = 0; e < d; ++e) {
                        const t = f[e],
                          n = { value: _(t), primKey: i[a + e] };
                        !1 !== r.call(n, n.value, n) &&
                          (null == n.value
                            ? g.push(i[a + e])
                            : l || 0 === Wt(c(t), c(n.value))
                            ? (m.push(n.value), l && y.push(i[a + e]))
                            : (g.push(i[a + e]), h.push(n.value)));
                      }
                      const v = It(t) &&
                        t.limit === 1 / 0 &&
                        ("function" != typeof e || e === Gt) && { index: t.index, range: t.range };
                      return Promise.resolve(
                        h.length > 0 &&
                          s.mutate({ trans: n, type: "add", values: h }).then(e => {
                            for (let t in e.failures) g.splice(parseInt(t), 1);
                            p(h.length, e);
                          })
                      )
                        .then(
                          () =>
                            (m.length > 0 || (v && "object" == typeof e)) &&
                            s
                              .mutate({
                                trans: n,
                                type: "put",
                                keys: y,
                                values: m,
                                criteria: v,
                                changeSpec: "function" != typeof e && e,
                              })
                              .then(e => p(m.length, e))
                        )
                        .then(
                          () =>
                            (g.length > 0 || (v && e === Gt)) &&
                            s.mutate({ trans: n, type: "delete", keys: g, criteria: v }).then(e => p(g.length, e))
                        )
                        .then(() => i.length > a + d && o(a + u));
                    });
                  };
                  return o(0).then(() => {
                    if (d.length > 0) throw new Y("Error modifying one or more objects", d, f, h);
                    return i.length;
                  });
                });
            });
          }
          delete() {
            var e = this._ctx,
              t = e.range;
            return It(e) && ((e.isPrimKey && !At) || 3 === t.type)
              ? this._write(n => {
                  const { primaryKey: r } = e.table.core.schema,
                    i = t;
                  return e.table.core.count({ trans: n, query: { index: r, range: i } }).then(t =>
                    e.table.core
                      .mutate({ trans: n, type: "deleteRange", range: i })
                      .then(({ failures: e, lastResult: n, results: r, numFailures: i }) => {
                        if (i)
                          throw new Y(
                            "Could not delete some values",
                            Object.keys(e).map(t => e[t]),
                            t - i
                          );
                        return t - i;
                      })
                  );
                })
              : this.modify(Gt);
          }
        }
        const Gt = (e, t) => (t.value = null);
        function Zt(e, t) {
          return e < t ? -1 : e === t ? 0 : 1;
        }
        function Yt(e, t) {
          return e > t ? -1 : e === t ? 0 : 1;
        }
        function Xt(e, t, n) {
          var r = e instanceof rn ? new e.Collection(e) : e;
          return (r._ctx.error = n ? new n(t) : new TypeError(t)), r;
        }
        function Qt(e) {
          return new e.Collection(e, () => nn("")).limit(0);
        }
        function Jt(e, t, n, r, i, o) {
          for (var a = Math.min(e.length, r.length), s = -1, l = 0; l < a; ++l) {
            var c = t[l];
            if (c !== r[l])
              return i(e[l], n[l]) < 0
                ? e.substr(0, l) + n[l] + n.substr(l + 1)
                : i(e[l], r[l]) < 0
                ? e.substr(0, l) + r[l] + n.substr(l + 1)
                : s >= 0
                ? e.substr(0, s) + t[s] + n.substr(s + 1)
                : null;
            i(e[l], c) < 0 && (s = l);
          }
          return a < r.length && "next" === o
            ? e + n.substr(e.length)
            : a < e.length && "prev" === o
            ? e.substr(0, n.length)
            : s < 0
            ? null
            : e.substr(0, s) + r[s] + n.substr(s + 1);
        }
        function en(e, t, n, r) {
          var i,
            o,
            a,
            s,
            l,
            c,
            u,
            d = n.length;
          if (!n.every(e => "string" == typeof e)) return Xt(e, Et);
          function f(e) {
            (i = (function (e) {
              return "next" === e ? e => e.toUpperCase() : e => e.toLowerCase();
            })(e)),
              (o = (function (e) {
                return "next" === e ? e => e.toLowerCase() : e => e.toUpperCase();
              })(e)),
              (a = "next" === e ? Zt : Yt);
            var t = n
              .map(function (e) {
                return { lower: o(e), upper: i(e) };
              })
              .sort(function (e, t) {
                return a(e.lower, t.lower);
              });
            (s = t.map(function (e) {
              return e.upper;
            })),
              (l = t.map(function (e) {
                return e.lower;
              })),
              (c = e),
              (u = "next" === e ? "" : r);
          }
          f("next");
          var h = new e.Collection(e, () => tn(s[0], l[d - 1] + r));
          h._ondirectionchange = function (e) {
            f(e);
          };
          var p = 0;
          return (
            h._addAlgorithm(function (e, n, r) {
              var i = e.key;
              if ("string" != typeof i) return !1;
              var f = o(i);
              if (t(f, l, p)) return !0;
              for (var h = null, m = p; m < d; ++m) {
                var y = Jt(i, f, s[m], l[m], a, c);
                null === y && null === h ? (p = m + 1) : (null === h || a(h, y) > 0) && (h = y);
              }
              return (
                n(
                  null !== h
                    ? function () {
                        e.continue(h + u);
                      }
                    : r
                ),
                !1
              );
            }),
            h
          );
        }
        function tn(e, t, n, r) {
          return { type: 2, lower: e, upper: t, lowerOpen: n, upperOpen: r };
        }
        function nn(e) {
          return { type: 1, lower: e, upper: e };
        }
        class rn {
          get Collection() {
            return this._ctx.table.db.Collection;
          }
          between(e, t, n, r) {
            (n = !1 !== n), (r = !0 === r);
            try {
              return this._cmp(e, t) > 0 || (0 === this._cmp(e, t) && (n || r) && (!n || !r))
                ? Qt(this)
                : new this.Collection(this, () => tn(e, t, !n, !r));
            } catch (e) {
              return Xt(this, xt);
            }
          }
          equals(e) {
            return null == e ? Xt(this, xt) : new this.Collection(this, () => nn(e));
          }
          above(e) {
            return null == e ? Xt(this, xt) : new this.Collection(this, () => tn(e, void 0, !0));
          }
          aboveOrEqual(e) {
            return null == e ? Xt(this, xt) : new this.Collection(this, () => tn(e, void 0, !1));
          }
          below(e) {
            return null == e ? Xt(this, xt) : new this.Collection(this, () => tn(void 0, e, !1, !0));
          }
          belowOrEqual(e) {
            return null == e ? Xt(this, xt) : new this.Collection(this, () => tn(void 0, e));
          }
          startsWith(e) {
            return "string" != typeof e ? Xt(this, Et) : this.between(e, e + wt, !0, !0);
          }
          startsWithIgnoreCase(e) {
            return "" === e ? this.startsWith(e) : en(this, (e, t) => 0 === e.indexOf(t[0]), [e], wt);
          }
          equalsIgnoreCase(e) {
            return en(this, (e, t) => e === t[0], [e], "");
          }
          anyOfIgnoreCase() {
            var e = I.apply(L, arguments);
            return 0 === e.length ? Qt(this) : en(this, (e, t) => -1 !== t.indexOf(e), e, "");
          }
          startsWithAnyOfIgnoreCase() {
            var e = I.apply(L, arguments);
            return 0 === e.length ? Qt(this) : en(this, (e, t) => t.some(t => 0 === e.indexOf(t)), e, wt);
          }
          anyOf() {
            const e = I.apply(L, arguments);
            let t = this._cmp;
            try {
              e.sort(t);
            } catch (e) {
              return Xt(this, xt);
            }
            if (0 === e.length) return Qt(this);
            const n = new this.Collection(this, () => tn(e[0], e[e.length - 1]));
            n._ondirectionchange = n => {
              (t = "next" === n ? this._ascending : this._descending), e.sort(t);
            };
            let r = 0;
            return (
              n._addAlgorithm((n, i, o) => {
                const a = n.key;
                for (; t(a, e[r]) > 0; ) if ((++r, r === e.length)) return i(o), !1;
                return (
                  0 === t(a, e[r]) ||
                  (i(() => {
                    n.continue(e[r]);
                  }),
                  !1)
                );
              }),
              n
            );
          }
          notEqual(e) {
            return this.inAnyRange(
              [
                [bt, e],
                [e, this.db._maxKey],
              ],
              { includeLowers: !1, includeUppers: !1 }
            );
          }
          noneOf() {
            const e = I.apply(L, arguments);
            if (0 === e.length) return new this.Collection(this);
            try {
              e.sort(this._ascending);
            } catch (e) {
              return Xt(this, xt);
            }
            const t = e.reduce((e, t) => (e ? e.concat([[e[e.length - 1][1], t]]) : [[bt, t]]), null);
            return (
              t.push([e[e.length - 1], this.db._maxKey]), this.inAnyRange(t, { includeLowers: !1, includeUppers: !1 })
            );
          }
          inAnyRange(e, t) {
            const n = this._cmp,
              r = this._ascending,
              i = this._descending,
              o = this._min,
              a = this._max;
            if (0 === e.length) return Qt(this);
            if (!e.every(e => void 0 !== e[0] && void 0 !== e[1] && r(e[0], e[1]) <= 0))
              return Xt(
                this,
                "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",
                ee.InvalidArgument
              );
            const s = !t || !1 !== t.includeLowers,
              l = t && !0 === t.includeUppers;
            let c,
              u = r;
            function d(e, t) {
              return u(e[0], t[0]);
            }
            try {
              (c = e.reduce(function (e, t) {
                let r = 0,
                  i = e.length;
                for (; r < i; ++r) {
                  const i = e[r];
                  if (n(t[0], i[1]) < 0 && n(t[1], i[0]) > 0) {
                    (i[0] = o(i[0], t[0])), (i[1] = a(i[1], t[1]));
                    break;
                  }
                }
                return r === i && e.push(t), e;
              }, [])),
                c.sort(d);
            } catch (e) {
              return Xt(this, xt);
            }
            let f = 0;
            const h = l ? e => r(e, c[f][1]) > 0 : e => r(e, c[f][1]) >= 0,
              p = s ? e => i(e, c[f][0]) > 0 : e => i(e, c[f][0]) >= 0;
            let m = h;
            const y = new this.Collection(this, () => tn(c[0][0], c[c.length - 1][1], !s, !l));
            return (
              (y._ondirectionchange = e => {
                "next" === e ? ((m = h), (u = r)) : ((m = p), (u = i)), c.sort(d);
              }),
              y._addAlgorithm((e, t, n) => {
                for (var i = e.key; m(i); ) if ((++f, f === c.length)) return t(n), !1;
                return (
                  !!(function (e) {
                    return !h(e) && !p(e);
                  })(i) ||
                  (0 === this._cmp(i, c[f][1]) ||
                    0 === this._cmp(i, c[f][0]) ||
                    t(() => {
                      u === r ? e.continue(c[f][0]) : e.continue(c[f][1]);
                    }),
                  !1)
                );
              }),
              y
            );
          }
          startsWithAnyOf() {
            const e = I.apply(L, arguments);
            return e.every(e => "string" == typeof e)
              ? 0 === e.length
                ? Qt(this)
                : this.inAnyRange(e.map(e => [e, e + wt]))
              : Xt(this, "startsWithAnyOf() only works with strings");
          }
        }
        function on(e) {
          return Ze(function (t) {
            return an(t), e(t.target.error), !1;
          });
        }
        function an(e) {
          e.stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault();
        }
        const sn = "storagemutated",
          ln = "x-storagemutated-1",
          cn = Ot(null, sn);
        class un {
          _lock() {
            return w(!_e.global), ++this._reculock, 1 !== this._reculock || _e.global || (_e.lockOwnerFor = this), this;
          }
          _unlock() {
            if ((w(!_e.global), 0 == --this._reculock))
              for (_e.global || (_e.lockOwnerFor = null); this._blockedFuncs.length > 0 && !this._locked(); ) {
                var e = this._blockedFuncs.shift();
                try {
                  ut(e[1], e[0]);
                } catch (e) {}
              }
            return this;
          }
          _locked() {
            return this._reculock && _e.lockOwnerFor !== this;
          }
          create(e) {
            if (!this.mode) return this;
            const t = this.db.idbdb,
              n = this.db._state.dbOpenError;
            if ((w(!this.idbtrans), !e && !t))
              switch (n && n.name) {
                case "DatabaseClosedError":
                  throw new ee.DatabaseClosed(n);
                case "MissingAPIError":
                  throw new ee.MissingAPI(n.message, n);
                default:
                  throw new ee.OpenFailed(n);
              }
            if (!this.active) throw new ee.TransactionInactive();
            return (
              w(null === this._completion._state),
              ((e = this.idbtrans =
                e ||
                (this.db.core
                  ? this.db.core.transaction(this.storeNames, this.mode, {
                      durability: this.chromeTransactionDurability,
                    })
                  : t.transaction(this.storeNames, this.mode, {
                      durability: this.chromeTransactionDurability,
                    }))).onerror = Ze(t => {
                an(t), this._reject(e.error);
              })),
              (e.onabort = Ze(t => {
                an(t), this.active && this._reject(new ee.Abort(e.error)), (this.active = !1), this.on("abort").fire(t);
              })),
              (e.oncomplete = Ze(() => {
                (this.active = !1), this._resolve(), "mutatedParts" in e && cn.storagemutated.fire(e.mutatedParts);
              })),
              this
            );
          }
          _promise(e, t, n) {
            if ("readwrite" === e && "readwrite" !== this.mode) return yt(new ee.ReadOnly("Transaction is readonly"));
            if (!this.active) return yt(new ee.TransactionInactive());
            if (this._locked())
              return new Be((r, i) => {
                this._blockedFuncs.push([
                  () => {
                    this._promise(e, t, n).then(r, i);
                  },
                  _e,
                ]);
              });
            if (n)
              return nt(() => {
                var e = new Be((e, n) => {
                  this._lock();
                  const r = t(e, n, this);
                  r && r.then && r.then(e, n);
                });
                return e.finally(() => this._unlock()), (e._lib = !0), e;
              });
            var r = new Be((e, n) => {
              var r = t(e, n, this);
              r && r.then && r.then(e, n);
            });
            return (r._lib = !0), r;
          }
          _root() {
            return this.parent ? this.parent._root() : this;
          }
          waitFor(e) {
            var t = this._root();
            const n = Be.resolve(e);
            if (t._waitingFor) t._waitingFor = t._waitingFor.then(() => n);
            else {
              (t._waitingFor = n), (t._waitingQueue = []);
              var r = t.idbtrans.objectStore(t.storeNames[0]);
              !(function e() {
                for (++t._spinCount; t._waitingQueue.length; ) t._waitingQueue.shift()();
                t._waitingFor && (r.get(-1 / 0).onsuccess = e);
              })();
            }
            var i = t._waitingFor;
            return new Be((e, r) => {
              n.then(
                n => t._waitingQueue.push(Ze(e.bind(null, n))),
                e => t._waitingQueue.push(Ze(r.bind(null, e)))
              ).finally(() => {
                t._waitingFor === i && (t._waitingFor = null);
              });
            });
          }
          abort() {
            this.active && ((this.active = !1), this.idbtrans && this.idbtrans.abort(), this._reject(new ee.Abort()));
          }
          table(e) {
            const t = this._memoizedTables || (this._memoizedTables = {});
            if (c(t, e)) return t[e];
            const n = this.schema[e];
            if (!n) throw new ee.NotFound("Table " + e + " not part of transaction");
            const r = new this.db.Table(e, n, this);
            return (r.core = this.db.core.table(e)), (t[e] = r), r;
          }
        }
        function dn(e, t, n, r, i, o, a) {
          return {
            name: e,
            keyPath: t,
            unique: n,
            multi: r,
            auto: i,
            compound: o,
            src: (n && !a ? "&" : "") + (r ? "*" : "") + (i ? "++" : "") + fn(t),
          };
        }
        function fn(e) {
          return "string" == typeof e ? e : e ? "[" + [].join.call(e, "+") + "]" : "";
        }
        function hn(e, t, n) {
          return { name: e, primKey: t, indexes: n, mappedClass: null, idxByName: x(n, e => [e.name, e]) };
        }
        let pn = e => {
          try {
            return e.only([[]]), (pn = () => [[]]), [[]];
          } catch (e) {
            return (pn = () => wt), wt;
          }
        };
        function mn(e) {
          return null == e
            ? () => {}
            : "string" == typeof e
            ? (function (e) {
                return 1 === e.split(".").length ? t => t[e] : t => E(t, e);
              })(e)
            : t => E(t, e);
        }
        function yn(e) {
          return [].slice.call(e);
        }
        let gn = 0;
        function vn(e) {
          return null == e ? ":id" : "string" == typeof e ? e : `[${e.join("+")}]`;
        }
        function wn(e, t, n) {
          function r(e) {
            if (3 === e.type) return null;
            if (4 === e.type) throw new Error("Cannot convert never type to IDBKeyRange");
            const { lower: n, upper: r, lowerOpen: i, upperOpen: o } = e;
            return void 0 === n
              ? void 0 === r
                ? null
                : t.upperBound(r, !!o)
              : void 0 === r
              ? t.lowerBound(n, !!i)
              : t.bound(n, r, !!i, !!o);
          }
          const { schema: i, hasGetAll: a } = (function (e, t) {
              const n = yn(e.objectStoreNames);
              return {
                schema: {
                  name: e.name,
                  tables: n
                    .map(e => t.objectStore(e))
                    .map(e => {
                      const { keyPath: t, autoIncrement: n } = e,
                        r = o(t),
                        i = null == t,
                        a = {},
                        s = {
                          name: e.name,
                          primaryKey: {
                            name: null,
                            isPrimaryKey: !0,
                            outbound: i,
                            compound: r,
                            keyPath: t,
                            autoIncrement: n,
                            unique: !0,
                            extractKey: mn(t),
                          },
                          indexes: yn(e.indexNames)
                            .map(t => e.index(t))
                            .map(e => {
                              const { name: t, unique: n, multiEntry: r, keyPath: i } = e,
                                s = {
                                  name: t,
                                  compound: o(i),
                                  keyPath: i,
                                  unique: n,
                                  multiEntry: r,
                                  extractKey: mn(i),
                                };
                              return (a[vn(i)] = s), s;
                            }),
                          getIndexByKeyPath: e => a[vn(e)],
                        };
                      return (a[":id"] = s.primaryKey), null != t && (a[vn(t)] = s.primaryKey), s;
                    }),
                },
                hasGetAll:
                  n.length > 0 &&
                  "getAll" in t.objectStore(n[0]) &&
                  !(
                    "undefined" != typeof navigator &&
                    /Safari/.test(navigator.userAgent) &&
                    !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
                    [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604
                  ),
              };
            })(e, n),
            s = i.tables.map(e =>
              (function (e) {
                const t = e.name;
                return {
                  name: t,
                  schema: e,
                  mutate: function ({ trans: e, type: n, keys: i, values: o, range: a }) {
                    return new Promise((s, l) => {
                      s = Ze(s);
                      const c = e.objectStore(t),
                        u = null == c.keyPath,
                        d = "put" === n || "add" === n;
                      if (!d && "delete" !== n && "deleteRange" !== n) throw new Error("Invalid operation type: " + n);
                      const { length: f } = i || o || { length: 1 };
                      if (i && o && i.length !== o.length)
                        throw new Error("Given keys array must have same length as given values array.");
                      if (0 === f) return s({ numFailures: 0, failures: {}, results: [], lastResult: void 0 });
                      let h;
                      const p = [],
                        m = [];
                      let y = 0;
                      const g = e => {
                        ++y, an(e);
                      };
                      if ("deleteRange" === n) {
                        if (4 === a.type) return s({ numFailures: y, failures: m, results: [], lastResult: void 0 });
                        3 === a.type ? p.push((h = c.clear())) : p.push((h = c.delete(r(a))));
                      } else {
                        const [e, t] = d ? (u ? [o, i] : [o, null]) : [i, null];
                        if (d)
                          for (let r = 0; r < f; ++r)
                            p.push((h = t && void 0 !== t[r] ? c[n](e[r], t[r]) : c[n](e[r]))), (h.onerror = g);
                        else for (let t = 0; t < f; ++t) p.push((h = c[n](e[t]))), (h.onerror = g);
                      }
                      const v = e => {
                        const t = e.target.result;
                        p.forEach((e, t) => null != e.error && (m[t] = e.error)),
                          s({
                            numFailures: y,
                            failures: m,
                            results: "delete" === n ? i : p.map(e => e.result),
                            lastResult: t,
                          });
                      };
                      (h.onerror = e => {
                        g(e), v(e);
                      }),
                        (h.onsuccess = v);
                    });
                  },
                  getMany: ({ trans: e, keys: n }) =>
                    new Promise((r, i) => {
                      r = Ze(r);
                      const o = e.objectStore(t),
                        a = n.length,
                        s = new Array(a);
                      let l,
                        c = 0,
                        u = 0;
                      const d = e => {
                          const t = e.target;
                          (s[t._pos] = t.result), ++u === c && r(s);
                        },
                        f = on(i);
                      for (let e = 0; e < a; ++e)
                        null != n[e] && ((l = o.get(n[e])), (l._pos = e), (l.onsuccess = d), (l.onerror = f), ++c);
                      0 === c && r(s);
                    }),
                  get: ({ trans: e, key: n }) =>
                    new Promise((r, i) => {
                      r = Ze(r);
                      const o = e.objectStore(t).get(n);
                      (o.onsuccess = e => r(e.target.result)), (o.onerror = on(i));
                    }),
                  query: (function (e) {
                    return n =>
                      new Promise((i, o) => {
                        i = Ze(i);
                        const { trans: a, values: s, limit: l, query: c } = n,
                          u = l === 1 / 0 ? void 0 : l,
                          { index: d, range: f } = c,
                          h = a.objectStore(t),
                          p = d.isPrimaryKey ? h : h.index(d.name),
                          m = r(f);
                        if (0 === l) return i({ result: [] });
                        if (e) {
                          const e = s ? p.getAll(m, u) : p.getAllKeys(m, u);
                          (e.onsuccess = e => i({ result: e.target.result })), (e.onerror = on(o));
                        } else {
                          let e = 0;
                          const t = s || !("openKeyCursor" in p) ? p.openCursor(m) : p.openKeyCursor(m),
                            n = [];
                          (t.onsuccess = r => {
                            const o = t.result;
                            return o
                              ? (n.push(s ? o.value : o.primaryKey), ++e === l ? i({ result: n }) : void o.continue())
                              : i({ result: n });
                          }),
                            (t.onerror = on(o));
                        }
                      });
                  })(a),
                  openCursor: function ({ trans: e, values: n, query: i, reverse: o, unique: a }) {
                    return new Promise((s, l) => {
                      s = Ze(s);
                      const { index: c, range: u } = i,
                        d = e.objectStore(t),
                        f = c.isPrimaryKey ? d : d.index(c.name),
                        h = o ? (a ? "prevunique" : "prev") : a ? "nextunique" : "next",
                        p = n || !("openKeyCursor" in f) ? f.openCursor(r(u), h) : f.openKeyCursor(r(u), h);
                      (p.onerror = on(l)),
                        (p.onsuccess = Ze(t => {
                          const n = p.result;
                          if (!n) return void s(null);
                          (n.___id = ++gn), (n.done = !1);
                          const r = n.continue.bind(n);
                          let i = n.continuePrimaryKey;
                          i && (i = i.bind(n));
                          const o = n.advance.bind(n),
                            a = () => {
                              throw new Error("Cursor not stopped");
                            };
                          (n.trans = e),
                            (n.stop =
                              n.continue =
                              n.continuePrimaryKey =
                              n.advance =
                                () => {
                                  throw new Error("Cursor not started");
                                }),
                            (n.fail = Ze(l)),
                            (n.next = function () {
                              let e = 1;
                              return this.start(() => (e-- ? this.continue() : this.stop())).then(() => this);
                            }),
                            (n.start = e => {
                              const t = new Promise((e, t) => {
                                  (e = Ze(e)),
                                    (p.onerror = on(t)),
                                    (n.fail = t),
                                    (n.stop = t => {
                                      (n.stop = n.continue = n.continuePrimaryKey = n.advance = a), e(t);
                                    });
                                }),
                                s = () => {
                                  if (p.result)
                                    try {
                                      e();
                                    } catch (e) {
                                      n.fail(e);
                                    }
                                  else
                                    (n.done = !0),
                                      (n.start = () => {
                                        throw new Error("Cursor behind last entry");
                                      }),
                                      n.stop();
                                };
                              return (
                                (p.onsuccess = Ze(e => {
                                  (p.onsuccess = s), s();
                                })),
                                (n.continue = r),
                                (n.continuePrimaryKey = i),
                                (n.advance = o),
                                s(),
                                t
                              );
                            }),
                            s(n);
                        }, l));
                    });
                  },
                  count({ query: e, trans: n }) {
                    const { index: i, range: o } = e;
                    return new Promise((e, a) => {
                      const s = n.objectStore(t),
                        l = i.isPrimaryKey ? s : s.index(i.name),
                        c = r(o),
                        u = c ? l.count(c) : l.count();
                      (u.onsuccess = Ze(t => e(t.target.result))), (u.onerror = on(a));
                    });
                  },
                };
              })(e)
            ),
            l = {};
          return (
            s.forEach(e => (l[e.name] = e)),
            {
              stack: "dbcore",
              transaction: e.transaction.bind(e),
              table(e) {
                if (!l[e]) throw new Error(`Table '${e}' not found`);
                return l[e];
              },
              MIN_KEY: -1 / 0,
              MAX_KEY: pn(t),
              schema: i,
            }
          );
        }
        function bn({ _novip: e }, t) {
          const n = t.db,
            r = (function (e, t, { IDBKeyRange: n, indexedDB: r }, i) {
              const o = (function (e, t) {
                return t.reduce((e, { create: t }) => ({ ...e, ...t(e) }), e);
              })(wn(t, n, i), e.dbcore);
              return { dbcore: o };
            })(e._middlewares, n, e._deps, t);
          (e.core = r.dbcore),
            e.tables.forEach(t => {
              const n = t.name;
              e.core.schema.tables.some(e => e.name === n) &&
                ((t.core = e.core.table(n)), e[n] instanceof e.Table && (e[n].core = t.core));
            });
        }
        function xn({ _novip: e }, t, n, r) {
          n.forEach(n => {
            const i = r[n];
            t.forEach(t => {
              const r = m(t, n);
              (!r || ("value" in r && void 0 === r.value)) &&
                (t === e.Transaction.prototype || t instanceof e.Transaction
                  ? f(t, n, {
                      get() {
                        return this.table(n);
                      },
                      set(e) {
                        d(this, n, { value: e, writable: !0, configurable: !0, enumerable: !0 });
                      },
                    })
                  : (t[n] = new e.Table(n, i)));
            });
          });
        }
        function En({ _novip: e }, t) {
          t.forEach(t => {
            for (let n in t) t[n] instanceof e.Table && delete t[n];
          });
        }
        function kn(e, t) {
          return e._cfg.version - t._cfg.version;
        }
        function jn(e, t, n, r) {
          const o = e._dbSchema,
            a = e._createTransaction("readwrite", e._storeNames, o);
          a.create(n), a._completion.catch(r);
          const s = a._reject.bind(a),
            l = _e.transless || _e;
          nt(() => {
            (_e.trans = a),
              (_e.transless = l),
              0 === t
                ? (i(o).forEach(e => {
                    An(n, e, o[e].primKey, o[e].indexes);
                  }),
                  bn(e, n),
                  Be.follow(() => e.on.populate.fire(a)).catch(s))
                : (function ({ _novip: e }, t, n, r) {
                    const o = [],
                      a = e._versions;
                    let s = (e._dbSchema = Nn(0, e.idbdb, r)),
                      l = !1;
                    const c = a.filter(e => e._cfg.version >= t);
                    return (
                      c.forEach(a => {
                        o.push(() => {
                          const o = s,
                            c = a._cfg.dbschema;
                          Pn(e, o, r), Pn(e, c, r), (s = e._dbSchema = c);
                          const u = Sn(o, c);
                          u.add.forEach(e => {
                            An(r, e[0], e[1].primKey, e[1].indexes);
                          }),
                            u.change.forEach(e => {
                              if (e.recreate) throw new ee.Upgrade("Not yet support for changing primary key");
                              {
                                const t = r.objectStore(e.name);
                                e.add.forEach(e => Cn(t, e)),
                                  e.change.forEach(e => {
                                    t.deleteIndex(e.name), Cn(t, e);
                                  }),
                                  e.del.forEach(e => t.deleteIndex(e));
                              }
                            });
                          const d = a._cfg.contentUpgrade;
                          if (d && a._cfg.version > t) {
                            bn(e, r), (n._memoizedTables = {}), (l = !0);
                            let t = j(c);
                            u.del.forEach(e => {
                              t[e] = o[e];
                            }),
                              En(e, [e.Transaction.prototype]),
                              xn(e, [e.Transaction.prototype], i(t), t),
                              (n.schema = t);
                            const a = F(d);
                            let s;
                            a && rt();
                            const f = Be.follow(() => {
                              if (((s = d(n)), s && a)) {
                                var e = it.bind(null, null);
                                s.then(e, e);
                              }
                            });
                            return s && "function" == typeof s.then ? Be.resolve(s) : f.then(() => s);
                          }
                        }),
                          o.push(t => {
                            (l && St) ||
                              (function (e, t) {
                                [].slice
                                  .call(t.db.objectStoreNames)
                                  .forEach(n => null == e[n] && t.db.deleteObjectStore(n));
                              })(a._cfg.dbschema, t),
                              En(e, [e.Transaction.prototype]),
                              xn(e, [e.Transaction.prototype], e._storeNames, e._dbSchema),
                              (n.schema = e._dbSchema);
                          });
                      }),
                      (function e() {
                        return o.length ? Be.resolve(o.shift()(n.idbtrans)).then(e) : Be.resolve();
                      })().then(() => {
                        var e, t;
                        (t = r),
                          i((e = s)).forEach(n => {
                            t.db.objectStoreNames.contains(n) || An(t, n, e[n].primKey, e[n].indexes);
                          });
                      })
                    );
                  })(e, t, a, n).catch(s);
          });
        }
        function Sn(e, t) {
          const n = { del: [], add: [], change: [] };
          let r;
          for (r in e) t[r] || n.del.push(r);
          for (r in t) {
            const i = e[r],
              o = t[r];
            if (i) {
              const e = { name: r, def: o, recreate: !1, del: [], add: [], change: [] };
              if (
                "" + (i.primKey.keyPath || "") != "" + (o.primKey.keyPath || "") ||
                (i.primKey.auto !== o.primKey.auto && !jt)
              )
                (e.recreate = !0), n.change.push(e);
              else {
                const t = i.idxByName,
                  r = o.idxByName;
                let a;
                for (a in t) r[a] || e.del.push(a);
                for (a in r) {
                  const n = t[a],
                    i = r[a];
                  n ? n.src !== i.src && e.change.push(i) : e.add.push(i);
                }
                (e.del.length > 0 || e.add.length > 0 || e.change.length > 0) && n.change.push(e);
              }
            } else n.add.push([r, o]);
          }
          return n;
        }
        function An(e, t, n, r) {
          const i = e.db.createObjectStore(
            t,
            n.keyPath ? { keyPath: n.keyPath, autoIncrement: n.auto } : { autoIncrement: n.auto }
          );
          return r.forEach(e => Cn(i, e)), i;
        }
        function Cn(e, t) {
          e.createIndex(t.name, t.keyPath, { unique: t.unique, multiEntry: t.multi });
        }
        function Nn(e, t, n) {
          const r = {};
          return (
            g(t.objectStoreNames, 0).forEach(e => {
              const t = n.objectStore(e);
              let i = t.keyPath;
              const o = dn(fn(i), i || "", !1, !1, !!t.autoIncrement, i && "string" != typeof i, !0),
                a = [];
              for (let e = 0; e < t.indexNames.length; ++e) {
                const n = t.index(t.indexNames[e]);
                i = n.keyPath;
                var s = dn(n.name, i, !!n.unique, !!n.multiEntry, !1, i && "string" != typeof i, !1);
                a.push(s);
              }
              r[e] = hn(e, o, a);
            }),
            r
          );
        }
        function Pn({ _novip: e }, t, n) {
          const i = n.db.objectStoreNames;
          for (let r = 0; r < i.length; ++r) {
            const o = i[r],
              a = n.objectStore(o);
            e._hasGetAll = "getAll" in a;
            for (let e = 0; e < a.indexNames.length; ++e) {
              const n = a.indexNames[e],
                r = a.index(n).keyPath,
                i = "string" == typeof r ? r : "[" + g(r).join("+") + "]";
              if (t[o]) {
                const e = t[o].idxByName[i];
                e && ((e.name = n), delete t[o].idxByName[i], (t[o].idxByName[n] = e));
              }
            }
          }
          "undefined" != typeof navigator &&
            /Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            r.WorkerGlobalScope &&
            r instanceof r.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604 &&
            (e._hasGetAll = !1);
        }
        class _n {
          _parseStoresSpec(e, t) {
            i(e).forEach(n => {
              if (null !== e[n]) {
                var r = e[n].split(",").map((e, t) => {
                    const n = (e = e.trim()).replace(/([&*]|\+\+)/g, ""),
                      r = /^\[/.test(n) ? n.match(/^\[(.*)\]$/)[1].split("+") : n;
                    return dn(n, r || null, /\&/.test(e), /\*/.test(e), /\+\+/.test(e), o(r), 0 === t);
                  }),
                  i = r.shift();
                if (i.multi) throw new ee.Schema("Primary key cannot be multi-valued");
                r.forEach(e => {
                  if (e.auto) throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");
                  if (!e.keyPath) throw new ee.Schema("Index must have a name and cannot be an empty string");
                }),
                  (t[n] = hn(n, i, r));
              }
            });
          }
          stores(e) {
            const t = this.db;
            this._cfg.storesSource = this._cfg.storesSource ? a(this._cfg.storesSource, e) : e;
            const n = t._versions,
              r = {};
            let o = {};
            return (
              n.forEach(e => {
                a(r, e._cfg.storesSource), (o = e._cfg.dbschema = {}), e._parseStoresSpec(r, o);
              }),
              (t._dbSchema = o),
              En(t, [t._allTables, t, t.Transaction.prototype]),
              xn(t, [t._allTables, t, t.Transaction.prototype, this._cfg.tables], i(o), o),
              (t._storeNames = i(o)),
              this
            );
          }
          upgrade(e) {
            return (this._cfg.contentUpgrade = de(this._cfg.contentUpgrade || re, e)), this;
          }
        }
        function Tn(e, t) {
          let n = e._dbNamesDB;
          return (
            n ||
              ((n = e._dbNamesDB = new Jn(Nt, { addons: [], indexedDB: e, IDBKeyRange: t })),
              n.version(1).stores({ dbnames: "name" })),
            n.table("dbnames")
          );
        }
        function Mn(e) {
          return e && "function" == typeof e.databases;
        }
        function Rn(e) {
          return nt(function () {
            return (_e.letThrough = !0), e();
          });
        }
        function Bn() {
          var e;
          return !navigator.userAgentData &&
            /Safari\//.test(navigator.userAgent) &&
            !/Chrom(e|ium)\//.test(navigator.userAgent) &&
            indexedDB.databases
            ? new Promise(function (t) {
                var n = function () {
                  return indexedDB.databases().finally(t);
                };
                (e = setInterval(n, 100)), n();
              }).finally(function () {
                return clearInterval(e);
              })
            : Promise.resolve();
        }
        function On(e) {
          var t = t => e.next(t),
            n = i(t),
            r = i(t => e.throw(t));
          function i(e) {
            return t => {
              var i = e(t),
                a = i.value;
              return i.done
                ? a
                : a && "function" == typeof a.then
                ? a.then(n, r)
                : o(a)
                ? Promise.all(a).then(n, r)
                : n(a);
            };
          }
          return i(t)();
        }
        function Ln(e, t, n) {
          var r = arguments.length;
          if (r < 2) throw new ee.InvalidArgument("Too few arguments");
          for (var i = new Array(r - 1); --r; ) i[r - 1] = arguments[r];
          return (n = i.pop()), [e, A(i), n];
        }
        function In(e, t, n, r, i) {
          return Be.resolve().then(() => {
            const o = _e.transless || _e,
              a = e._createTransaction(t, n, e._dbSchema, r),
              s = { trans: a, transless: o };
            if (r) a.idbtrans = r.idbtrans;
            else
              try {
                a.create(), (e._state.PR1398_maxLoop = 3);
              } catch (r) {
                return r.name === Q.InvalidState && e.isOpen() && --e._state.PR1398_maxLoop > 0
                  ? (console.warn("Dexie: Need to reopen db"), e._close(), e.open().then(() => In(e, t, n, null, i)))
                  : yt(r);
              }
            const l = F(i);
            let c;
            l && rt();
            const u = Be.follow(() => {
              if (((c = i.call(a, a)), c))
                if (l) {
                  var e = it.bind(null, null);
                  c.then(e, e);
                } else "function" == typeof c.next && "function" == typeof c.throw && (c = On(c));
            }, s);
            return (
              c && "function" == typeof c.then
                ? Be.resolve(c).then(e =>
                    a.active
                      ? e
                      : yt(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))
                  )
                : u.then(() => c)
            )
              .then(e => (r && a._resolve(), a._completion.then(() => e)))
              .catch(e => (a._reject(e), yt(e)));
          });
        }
        function Fn(e, t, n) {
          const r = o(e) ? e.slice() : [e];
          for (let e = 0; e < n; ++e) r.push(t);
          return r;
        }
        const Dn = {
          stack: "dbcore",
          name: "VirtualIndexMiddleware",
          level: 1,
          create: function (e) {
            return {
              ...e,
              table(t) {
                const n = e.table(t),
                  { schema: r } = n,
                  i = {},
                  o = [];
                function a(e, t, n) {
                  const r = vn(e),
                    s = (i[r] = i[r] || []),
                    l = null == e ? 0 : "string" == typeof e ? 1 : e.length,
                    c = t > 0,
                    u = { ...n, isVirtual: c, keyTail: t, keyLength: l, extractKey: mn(e), unique: !c && n.unique };
                  return (
                    s.push(u),
                    u.isPrimaryKey || o.push(u),
                    l > 1 && a(2 === l ? e[0] : e.slice(0, l - 1), t + 1, n),
                    s.sort((e, t) => e.keyTail - t.keyTail),
                    u
                  );
                }
                const s = a(r.primaryKey.keyPath, 0, r.primaryKey);
                i[":id"] = [s];
                for (const e of r.indexes) a(e.keyPath, 0, e);
                function l(t) {
                  const n = t.query.index;
                  return n.isVirtual
                    ? {
                        ...t,
                        query: {
                          index: n,
                          range:
                            ((r = t.query.range),
                            (i = n.keyTail),
                            {
                              type: 1 === r.type ? 2 : r.type,
                              lower: Fn(r.lower, r.lowerOpen ? e.MAX_KEY : e.MIN_KEY, i),
                              lowerOpen: !0,
                              upper: Fn(r.upper, r.upperOpen ? e.MIN_KEY : e.MAX_KEY, i),
                              upperOpen: !0,
                            }),
                        },
                      }
                    : t;
                  var r, i;
                }
                const c = {
                  ...n,
                  schema: {
                    ...r,
                    primaryKey: s,
                    indexes: o,
                    getIndexByKeyPath: function (e) {
                      const t = i[vn(e)];
                      return t && t[0];
                    },
                  },
                  count: e => n.count(l(e)),
                  query: e => n.query(l(e)),
                  openCursor(t) {
                    const { keyTail: r, isVirtual: i, keyLength: o } = t.query.index;
                    return i
                      ? n.openCursor(l(t)).then(
                          n =>
                            n &&
                            (function (n) {
                              const i = Object.create(n, {
                                continue: {
                                  value: function (i) {
                                    null != i
                                      ? n.continue(Fn(i, t.reverse ? e.MAX_KEY : e.MIN_KEY, r))
                                      : t.unique
                                      ? n.continue(n.key.slice(0, o).concat(t.reverse ? e.MIN_KEY : e.MAX_KEY, r))
                                      : n.continue();
                                  },
                                },
                                continuePrimaryKey: {
                                  value(t, i) {
                                    n.continuePrimaryKey(Fn(t, e.MAX_KEY, r), i);
                                  },
                                },
                                primaryKey: { get: () => n.primaryKey },
                                key: {
                                  get() {
                                    const e = n.key;
                                    return 1 === o ? e[0] : e.slice(0, o);
                                  },
                                },
                                value: { get: () => n.value },
                              });
                              return i;
                            })(n)
                        )
                      : n.openCursor(t);
                  },
                };
                return c;
              },
            };
          },
        };
        function Un(e, t, n, r) {
          return (
            (n = n || {}),
            (r = r || ""),
            i(e).forEach(i => {
              if (c(t, i)) {
                var o = e[i],
                  a = t[i];
                if ("object" == typeof o && "object" == typeof a && o && a) {
                  const e = R(o);
                  e !== R(a)
                    ? (n[r + i] = t[i])
                    : "Object" === e
                    ? Un(o, a, n, r + i + ".")
                    : o !== a && (n[r + i] = t[i]);
                } else o !== a && (n[r + i] = t[i]);
              } else n[r + i] = void 0;
            }),
            i(t).forEach(i => {
              c(e, i) || (n[r + i] = t[i]);
            }),
            n
          );
        }
        const zn = {
          stack: "dbcore",
          name: "HooksMiddleware",
          level: 2,
          create: e => ({
            ...e,
            table(t) {
              const n = e.table(t),
                { primaryKey: r } = n.schema,
                i = {
                  ...n,
                  mutate(e) {
                    const i = _e.trans,
                      { deleting: o, creating: a, updating: s } = i.table(t).hook;
                    switch (e.type) {
                      case "add":
                        if (a.fire === re) break;
                        return i._promise("readwrite", () => l(e), !0);
                      case "put":
                        if (a.fire === re && s.fire === re) break;
                        return i._promise("readwrite", () => l(e), !0);
                      case "delete":
                        if (o.fire === re) break;
                        return i._promise("readwrite", () => l(e), !0);
                      case "deleteRange":
                        if (o.fire === re) break;
                        return i._promise(
                          "readwrite",
                          () =>
                            (function (e) {
                              return u(e.trans, e.range, 1e4);
                            })(e),
                          !0
                        );
                    }
                    return n.mutate(e);
                    function l(e) {
                      const t = _e.trans,
                        i =
                          e.keys ||
                          (function (e, t) {
                            return "delete" === t.type ? t.keys : t.keys || t.values.map(e.extractKey);
                          })(r, e);
                      if (!i) throw new Error("Keys missing");
                      return (
                        "delete" !== (e = "add" === e.type || "put" === e.type ? { ...e, keys: i } : { ...e }).type &&
                          (e.values = [...e.values]),
                        e.keys && (e.keys = [...e.keys]),
                        (function (e, t, n) {
                          return "add" === t.type
                            ? Promise.resolve([])
                            : e.getMany({ trans: t.trans, keys: n, cache: "immutable" });
                        })(n, e, i).then(l => {
                          const u = i.map((n, i) => {
                            const u = l[i],
                              d = { onerror: null, onsuccess: null };
                            if ("delete" === e.type) o.fire.call(d, n, u, t);
                            else if ("add" === e.type || void 0 === u) {
                              const o = a.fire.call(d, n, e.values[i], t);
                              null == n &&
                                null != o &&
                                ((n = o), (e.keys[i] = n), r.outbound || k(e.values[i], r.keyPath, n));
                            } else {
                              const r = Un(u, e.values[i]),
                                o = s.fire.call(d, r, n, u, t);
                              if (o) {
                                const t = e.values[i];
                                Object.keys(o).forEach(e => {
                                  c(t, e) ? (t[e] = o[e]) : k(t, e, o[e]);
                                });
                              }
                            }
                            return d;
                          });
                          return n
                            .mutate(e)
                            .then(({ failures: t, results: n, numFailures: r, lastResult: o }) => {
                              for (let r = 0; r < i.length; ++r) {
                                const o = n ? n[r] : i[r],
                                  a = u[r];
                                null == o
                                  ? a.onerror && a.onerror(t[r])
                                  : a.onsuccess && a.onsuccess("put" === e.type && l[r] ? e.values[r] : o);
                              }
                              return { failures: t, results: n, numFailures: r, lastResult: o };
                            })
                            .catch(e => (u.forEach(t => t.onerror && t.onerror(e)), Promise.reject(e)));
                        })
                      );
                    }
                    function u(e, t, i) {
                      return n
                        .query({ trans: e, values: !1, query: { index: r, range: t }, limit: i })
                        .then(({ result: n }) =>
                          l({ type: "delete", keys: n, trans: e }).then(r =>
                            r.numFailures > 0
                              ? Promise.reject(r.failures[0])
                              : n.length < i
                              ? { failures: [], numFailures: 0, lastResult: void 0 }
                              : u(e, { ...t, lower: n[n.length - 1], lowerOpen: !0 }, i)
                          )
                        );
                    }
                  },
                };
              return i;
            },
          }),
        };
        function Hn(e, t, n) {
          try {
            if (!t) return null;
            if (t.keys.length < e.length) return null;
            const r = [];
            for (let i = 0, o = 0; i < t.keys.length && o < e.length; ++i)
              0 === Wt(t.keys[i], e[o]) && (r.push(n ? _(t.values[i]) : t.values[i]), ++o);
            return r.length === e.length ? r : null;
          } catch (e) {
            return null;
          }
        }
        const Kn = {
          stack: "dbcore",
          level: -1,
          create: e => ({
            table: t => {
              const n = e.table(t);
              return {
                ...n,
                getMany: e => {
                  if (!e.cache) return n.getMany(e);
                  const t = Hn(e.keys, e.trans._cache, "clone" === e.cache);
                  return t
                    ? Be.resolve(t)
                    : n
                        .getMany(e)
                        .then(t => ((e.trans._cache = { keys: e.keys, values: "clone" === e.cache ? _(t) : t }), t));
                },
                mutate: e => ("add" !== e.type && (e.trans._cache = null), n.mutate(e)),
              };
            },
          }),
        };
        function Wn(e) {
          return !("from" in e);
        }
        const qn = function (e, t) {
          if (!this) {
            const t = new qn();
            return e && "d" in e && a(t, e), t;
          }
          a(this, arguments.length ? { d: 1, from: e, to: arguments.length > 1 ? t : e } : { d: 0 });
        };
        function Vn(e, t, n) {
          const r = Wt(t, n);
          if (isNaN(r)) return;
          if (r > 0) throw RangeError();
          if (Wn(e)) return a(e, { from: t, to: n, d: 1 });
          const i = e.l,
            o = e.r;
          if (Wt(n, e.from) < 0) return i ? Vn(i, t, n) : (e.l = { from: t, to: n, d: 1, l: null, r: null }), Yn(e);
          if (Wt(t, e.to) > 0) return o ? Vn(o, t, n) : (e.r = { from: t, to: n, d: 1, l: null, r: null }), Yn(e);
          Wt(t, e.from) < 0 && ((e.from = t), (e.l = null), (e.d = o ? o.d + 1 : 1)),
            Wt(n, e.to) > 0 && ((e.to = n), (e.r = null), (e.d = e.l ? e.l.d + 1 : 1));
          const s = !e.r;
          i && !e.l && $n(e, i), o && s && $n(e, o);
        }
        function $n(e, t) {
          Wn(t) ||
            (function e(t, { from: n, to: r, l: i, r: o }) {
              Vn(t, n, r), i && e(t, i), o && e(t, o);
            })(e, t);
        }
        function Gn(e, t) {
          const n = Zn(t);
          let r = n.next();
          if (r.done) return !1;
          let i = r.value;
          const o = Zn(e);
          let a = o.next(i.from),
            s = a.value;
          for (; !r.done && !a.done; ) {
            if (Wt(s.from, i.to) <= 0 && Wt(s.to, i.from) >= 0) return !0;
            Wt(i.from, s.from) < 0 ? (i = (r = n.next(s.from)).value) : (s = (a = o.next(i.from)).value);
          }
          return !1;
        }
        function Zn(e) {
          let t = Wn(e) ? null : { s: 0, n: e };
          return {
            next(e) {
              const n = arguments.length > 0;
              for (; t; )
                switch (t.s) {
                  case 0:
                    if (((t.s = 1), n)) for (; t.n.l && Wt(e, t.n.from) < 0; ) t = { up: t, n: t.n.l, s: 1 };
                    else for (; t.n.l; ) t = { up: t, n: t.n.l, s: 1 };
                  case 1:
                    if (((t.s = 2), !n || Wt(e, t.n.to) <= 0)) return { value: t.n, done: !1 };
                  case 2:
                    if (t.n.r) {
                      (t.s = 3), (t = { up: t, n: t.n.r, s: 0 });
                      continue;
                    }
                  case 3:
                    t = t.up;
                }
              return { done: !0 };
            },
          };
        }
        function Yn(e) {
          var t, n;
          const r =
              ((null === (t = e.r) || void 0 === t ? void 0 : t.d) || 0) -
              ((null === (n = e.l) || void 0 === n ? void 0 : n.d) || 0),
            i = r > 1 ? "r" : r < -1 ? "l" : "";
          if (i) {
            const t = "r" === i ? "l" : "r",
              n = { ...e },
              r = e[i];
            (e.from = r.from), (e.to = r.to), (e[i] = r[i]), (n[i] = r[t]), (e[t] = n), (n.d = Xn(n));
          }
          e.d = Xn(e);
        }
        function Xn({ r: e, l: t }) {
          return (e ? (t ? Math.max(e.d, t.d) : e.d) : t ? t.d : 0) + 1;
        }
        u(qn.prototype, {
          add(e) {
            return $n(this, e), this;
          },
          addKey(e) {
            return Vn(this, e, e), this;
          },
          addKeys(e) {
            return e.forEach(e => Vn(this, e, e)), this;
          },
          [B]() {
            return Zn(this);
          },
        });
        const Qn = {
          stack: "dbcore",
          level: 0,
          create: e => {
            const t = e.schema.name,
              n = new qn(e.MIN_KEY, e.MAX_KEY);
            return {
              ...e,
              table: r => {
                const a = e.table(r),
                  { schema: s } = a,
                  { primaryKey: l } = s,
                  { extractKey: c, outbound: u } = l,
                  d = {
                    ...a,
                    mutate: e => {
                      const i = e.trans,
                        l = i.mutatedParts || (i.mutatedParts = {}),
                        c = e => {
                          const n = `idb://${t}/${r}/${e}`;
                          return l[n] || (l[n] = new qn());
                        },
                        u = c(""),
                        d = c(":dels"),
                        { type: f } = e;
                      let [h, p] =
                        "deleteRange" === e.type
                          ? [e.range]
                          : "delete" === e.type
                          ? [e.keys]
                          : e.values.length < 50
                          ? [[], e.values]
                          : [];
                      const m = e.trans._cache;
                      return a.mutate(e).then(e => {
                        if (o(h)) {
                          "delete" !== f && (h = e.results), u.addKeys(h);
                          const t = Hn(h, m);
                          t || "add" === f || d.addKeys(h),
                            (t || p) &&
                              (function (e, t, n, r) {
                                t.indexes.forEach(function (t) {
                                  const i = e(t.name || "");
                                  function a(e) {
                                    return null != e ? t.extractKey(e) : null;
                                  }
                                  const s = e => (t.multiEntry && o(e) ? e.forEach(e => i.addKey(e)) : i.addKey(e));
                                  (n || r).forEach((e, t) => {
                                    const i = n && a(n[t]),
                                      o = r && a(r[t]);
                                    0 !== Wt(i, o) && (null != i && s(i), null != o && s(o));
                                  });
                                });
                              })(c, s, t, p);
                        } else if (h) {
                          const e = { from: h.lower, to: h.upper };
                          d.add(e), u.add(e);
                        } else u.add(n), d.add(n), s.indexes.forEach(e => c(e.name).add(n));
                        return e;
                      });
                    },
                  },
                  f = ({ query: { index: t, range: n } }) => {
                    var r, i;
                    return [
                      t,
                      new qn(
                        null !== (r = n.lower) && void 0 !== r ? r : e.MIN_KEY,
                        null !== (i = n.upper) && void 0 !== i ? i : e.MAX_KEY
                      ),
                    ];
                  },
                  h = {
                    get: e => [l, new qn(e.key)],
                    getMany: e => [l, new qn().addKeys(e.keys)],
                    count: f,
                    query: f,
                    openCursor: f,
                  };
                return (
                  i(h).forEach(e => {
                    d[e] = function (i) {
                      const { subscr: o } = _e;
                      if (o) {
                        const s = e => {
                            const n = `idb://${t}/${r}/${e}`;
                            return o[n] || (o[n] = new qn());
                          },
                          l = s(""),
                          d = s(":dels"),
                          [f, p] = h[e](i);
                        if ((s(f.name || "").add(p), !f.isPrimaryKey)) {
                          if ("count" !== e) {
                            const t = "query" === e && u && i.values && a.query({ ...i, values: !1 });
                            return a[e].apply(this, arguments).then(n => {
                              if ("query" === e) {
                                if (u && i.values) return t.then(({ result: e }) => (l.addKeys(e), n));
                                const e = i.values ? n.result.map(c) : n.result;
                                i.values ? l.addKeys(e) : d.addKeys(e);
                              } else if ("openCursor" === e) {
                                const e = n,
                                  t = i.values;
                                return (
                                  e &&
                                  Object.create(e, {
                                    key: { get: () => (d.addKey(e.primaryKey), e.key) },
                                    primaryKey: {
                                      get() {
                                        const t = e.primaryKey;
                                        return d.addKey(t), t;
                                      },
                                    },
                                    value: { get: () => (t && l.addKey(e.primaryKey), e.value) },
                                  })
                                );
                              }
                              return n;
                            });
                          }
                          d.add(n);
                        }
                      }
                      return a[e].apply(this, arguments);
                    };
                  }),
                  d
                );
              },
            };
          },
        };
        class Jn {
          constructor(e, t) {
            (this._middlewares = {}), (this.verno = 0);
            const n = Jn.dependencies;
            (this._options = t =
              { addons: Jn.addons, autoOpen: !0, indexedDB: n.indexedDB, IDBKeyRange: n.IDBKeyRange, ...t }),
              (this._deps = { indexedDB: t.indexedDB, IDBKeyRange: t.IDBKeyRange });
            const { addons: r } = t;
            (this._dbSchema = {}),
              (this._versions = []),
              (this._storeNames = []),
              (this._allTables = {}),
              (this.idbdb = null),
              (this._novip = this);
            const i = {
              dbOpenError: null,
              isBeingOpened: !1,
              onReadyBeingFired: null,
              openComplete: !1,
              dbReadyResolve: re,
              dbReadyPromise: null,
              cancelOpen: re,
              openCanceller: null,
              autoSchema: !0,
              PR1398_maxLoop: 3,
            };
            var o;
            (i.dbReadyPromise = new Be(e => {
              i.dbReadyResolve = e;
            })),
              (i.openCanceller = new Be((e, t) => {
                i.cancelOpen = t;
              })),
              (this._state = i),
              (this.name = e),
              (this.on = Ot(this, "populate", "blocked", "versionchange", "close", { ready: [de, re] })),
              (this.on.ready.subscribe = v(this.on.ready.subscribe, e => (t, n) => {
                Jn.vip(() => {
                  const r = this._state;
                  if (r.openComplete) r.dbOpenError || Be.resolve().then(t), n && e(t);
                  else if (r.onReadyBeingFired) r.onReadyBeingFired.push(t), n && e(t);
                  else {
                    e(t);
                    const r = this;
                    n ||
                      e(function e() {
                        r.on.ready.unsubscribe(t), r.on.ready.unsubscribe(e);
                      });
                  }
                });
              })),
              (this.Collection =
                ((o = this),
                Lt($t.prototype, function (e, t) {
                  this.db = o;
                  let n = Mt,
                    r = null;
                  if (t)
                    try {
                      n = t();
                    } catch (e) {
                      r = e;
                    }
                  const i = e._ctx,
                    a = i.table,
                    s = a.hook.reading.fire;
                  this._ctx = {
                    table: a,
                    index: i.index,
                    isPrimKey: !i.index || (a.schema.primKey.keyPath && i.index === a.schema.primKey.name),
                    range: n,
                    keysOnly: !1,
                    dir: "next",
                    unique: "",
                    algorithm: null,
                    filter: null,
                    replayFilter: null,
                    justLimit: !0,
                    isMatch: null,
                    offset: 0,
                    limit: 1 / 0,
                    error: r,
                    or: i.or,
                    valueMapper: s !== ie ? s : null,
                  };
                }))),
              (this.Table = (function (e) {
                return Lt(Bt.prototype, function (t, n, r) {
                  (this.db = e),
                    (this._tx = r),
                    (this.name = t),
                    (this.schema = n),
                    (this.hook = e._allTables[t]
                      ? e._allTables[t].hook
                      : Ot(null, { creating: [se, re], reading: [oe, ie], updating: [ce, re], deleting: [le, re] }));
                });
              })(this)),
              (this.Transaction = (function (e) {
                return Lt(un.prototype, function (t, n, r, i, o) {
                  (this.db = e),
                    (this.mode = t),
                    (this.storeNames = n),
                    (this.schema = r),
                    (this.chromeTransactionDurability = i),
                    (this.idbtrans = null),
                    (this.on = Ot(this, "complete", "error", "abort")),
                    (this.parent = o || null),
                    (this.active = !0),
                    (this._reculock = 0),
                    (this._blockedFuncs = []),
                    (this._resolve = null),
                    (this._reject = null),
                    (this._waitingFor = null),
                    (this._waitingQueue = null),
                    (this._spinCount = 0),
                    (this._completion = new Be((e, t) => {
                      (this._resolve = e), (this._reject = t);
                    })),
                    this._completion.then(
                      () => {
                        (this.active = !1), this.on.complete.fire();
                      },
                      e => {
                        var t = this.active;
                        return (
                          (this.active = !1),
                          this.on.error.fire(e),
                          this.parent ? this.parent._reject(e) : t && this.idbtrans && this.idbtrans.abort(),
                          yt(e)
                        );
                      }
                    );
                });
              })(this)),
              (this.Version = (function (e) {
                return Lt(_n.prototype, function (t) {
                  (this.db = e),
                    (this._cfg = { version: t, storesSource: null, dbschema: {}, tables: {}, contentUpgrade: null });
                });
              })(this)),
              (this.WhereClause = (function (e) {
                return Lt(rn.prototype, function (t, n, r) {
                  (this.db = e), (this._ctx = { table: t, index: ":id" === n ? null : n, or: r });
                  const i = e._deps.indexedDB;
                  if (!i) throw new ee.MissingAPI();
                  (this._cmp = this._ascending = i.cmp.bind(i)),
                    (this._descending = (e, t) => i.cmp(t, e)),
                    (this._max = (e, t) => (i.cmp(e, t) > 0 ? e : t)),
                    (this._min = (e, t) => (i.cmp(e, t) < 0 ? e : t)),
                    (this._IDBKeyRange = e._deps.IDBKeyRange);
                });
              })(this)),
              this.on("versionchange", e => {
                e.newVersion > 0
                  ? console.warn(
                      `Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`
                    )
                  : console.warn(
                      `Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`
                    ),
                  this.close();
              }),
              this.on("blocked", e => {
                !e.newVersion || e.newVersion < e.oldVersion
                  ? console.warn(`Dexie.delete('${this.name}') was blocked`)
                  : console.warn(
                      `Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion / 10}`
                    );
              }),
              (this._maxKey = pn(t.IDBKeyRange)),
              (this._createTransaction = (e, t, n, r) =>
                new this.Transaction(e, t, n, this._options.chromeTransactionDurability, r)),
              (this._fireOnBlocked = e => {
                this.on("blocked").fire(e),
                  kt
                    .filter(e => e.name === this.name && e !== this && !e._state.vcFired)
                    .map(t => t.on("versionchange").fire(e));
              }),
              this.use(Dn),
              this.use(zn),
              this.use(Qn),
              this.use(Kn),
              (this.vip = Object.create(this, { _vip: { value: !0 } })),
              r.forEach(e => e(this));
          }
          version(e) {
            if (isNaN(e) || e < 0.1) throw new ee.Type("Given version is not a positive number");
            if (((e = Math.round(10 * e) / 10), this.idbdb || this._state.isBeingOpened))
              throw new ee.Schema("Cannot add version when database is open");
            this.verno = Math.max(this.verno, e);
            const t = this._versions;
            var n = t.filter(t => t._cfg.version === e)[0];
            return (
              n || ((n = new this.Version(e)), t.push(n), t.sort(kn), n.stores({}), (this._state.autoSchema = !1), n)
            );
          }
          _whenReady(e) {
            return this.idbdb && (this._state.openComplete || _e.letThrough || this._vip)
              ? e()
              : new Be((e, t) => {
                  if (this._state.openComplete) return t(new ee.DatabaseClosed(this._state.dbOpenError));
                  if (!this._state.isBeingOpened) {
                    if (!this._options.autoOpen) return void t(new ee.DatabaseClosed());
                    this.open().catch(re);
                  }
                  this._state.dbReadyPromise.then(e, t);
                }).then(e);
          }
          use({ stack: e, create: t, level: n, name: r }) {
            r && this.unuse({ stack: e, name: r });
            const i = this._middlewares[e] || (this._middlewares[e] = []);
            return (
              i.push({ stack: e, create: t, level: null == n ? 10 : n, name: r }),
              i.sort((e, t) => e.level - t.level),
              this
            );
          }
          unuse({ stack: e, name: t, create: n }) {
            return (
              e &&
                this._middlewares[e] &&
                (this._middlewares[e] = this._middlewares[e].filter(e => (n ? e.create !== n : !!t && e.name !== t))),
              this
            );
          }
          open() {
            return (function (e) {
              const t = e._state,
                { indexedDB: n } = e._deps;
              if (t.isBeingOpened || e.idbdb)
                return t.dbReadyPromise.then(() => (t.dbOpenError ? yt(t.dbOpenError) : e));
              D && (t.openCanceller._stackHolder = K()),
                (t.isBeingOpened = !0),
                (t.dbOpenError = null),
                (t.openComplete = !1);
              const r = t.openCanceller;
              function o() {
                if (t.openCanceller !== r) throw new ee.DatabaseClosed("db.open() was cancelled");
              }
              let a = t.dbReadyResolve,
                s = null,
                l = !1;
              return Be.race([
                r,
                ("undefined" == typeof navigator ? Be.resolve() : Bn()).then(
                  () =>
                    new Be((r, a) => {
                      if ((o(), !n)) throw new ee.MissingAPI();
                      const c = e.name,
                        u = t.autoSchema ? n.open(c) : n.open(c, Math.round(10 * e.verno));
                      if (!u) throw new ee.MissingAPI();
                      (u.onerror = on(a)),
                        (u.onblocked = Ze(e._fireOnBlocked)),
                        (u.onupgradeneeded = Ze(r => {
                          if (((s = u.transaction), t.autoSchema && !e._options.allowEmptyDB)) {
                            (u.onerror = an), s.abort(), u.result.close();
                            const e = n.deleteDatabase(c);
                            e.onsuccess = e.onerror = Ze(() => {
                              a(new ee.NoSuchDatabase(`Database ${c} doesnt exist`));
                            });
                          } else {
                            s.onerror = on(a);
                            var i = r.oldVersion > Math.pow(2, 62) ? 0 : r.oldVersion;
                            (l = i < 1), (e._novip.idbdb = u.result), jn(e, i / 10, s, a);
                          }
                        }, a)),
                        (u.onsuccess = Ze(() => {
                          s = null;
                          const n = (e._novip.idbdb = u.result),
                            o = g(n.objectStoreNames);
                          if (o.length > 0)
                            try {
                              const r = n.transaction(1 === (a = o).length ? a[0] : a, "readonly");
                              t.autoSchema
                                ? (function ({ _novip: e }, t, n) {
                                    e.verno = t.version / 10;
                                    const r = (e._dbSchema = Nn(0, t, n));
                                    (e._storeNames = g(t.objectStoreNames, 0)), xn(e, [e._allTables], i(r), r);
                                  })(e, n, r)
                                : (Pn(e, e._dbSchema, r),
                                  (function (e, t) {
                                    const n = Sn(Nn(0, e.idbdb, t), e._dbSchema);
                                    return !(n.add.length || n.change.some(e => e.add.length || e.change.length));
                                  })(e, r) ||
                                    console.warn(
                                      "Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail."
                                    )),
                                bn(e, r);
                            } catch (e) {}
                          var a;
                          kt.push(e),
                            (n.onversionchange = Ze(n => {
                              (t.vcFired = !0), e.on("versionchange").fire(n);
                            })),
                            (n.onclose = Ze(t => {
                              e.on("close").fire(t);
                            })),
                            l &&
                              (function ({ indexedDB: e, IDBKeyRange: t }, n) {
                                !Mn(e) && n !== Nt && Tn(e, t).put({ name: n }).catch(re);
                              })(e._deps, c),
                            r();
                        }, a));
                    })
                ),
              ])
                .then(
                  () => (
                    o(),
                    (t.onReadyBeingFired = []),
                    Be.resolve(Rn(() => e.on.ready.fire(e.vip))).then(function n() {
                      if (t.onReadyBeingFired.length > 0) {
                        let r = t.onReadyBeingFired.reduce(de, re);
                        return (t.onReadyBeingFired = []), Be.resolve(Rn(() => r(e.vip))).then(n);
                      }
                    })
                  )
                )
                .finally(() => {
                  (t.onReadyBeingFired = null), (t.isBeingOpened = !1);
                })
                .then(() => e)
                .catch(n => {
                  t.dbOpenError = n;
                  try {
                    s && s.abort();
                  } catch (e) {}
                  return r === t.openCanceller && e._close(), yt(n);
                })
                .finally(() => {
                  (t.openComplete = !0), a();
                });
            })(this);
          }
          _close() {
            const e = this._state,
              t = kt.indexOf(this);
            if ((t >= 0 && kt.splice(t, 1), this.idbdb)) {
              try {
                this.idbdb.close();
              } catch (e) {}
              this._novip.idbdb = null;
            }
            (e.dbReadyPromise = new Be(t => {
              e.dbReadyResolve = t;
            })),
              (e.openCanceller = new Be((t, n) => {
                e.cancelOpen = n;
              }));
          }
          close() {
            this._close();
            const e = this._state;
            (this._options.autoOpen = !1),
              (e.dbOpenError = new ee.DatabaseClosed()),
              e.isBeingOpened && e.cancelOpen(e.dbOpenError);
          }
          delete() {
            const e = arguments.length > 0,
              t = this._state;
            return new Be((n, r) => {
              const i = () => {
                this.close();
                var e = this._deps.indexedDB.deleteDatabase(this.name);
                (e.onsuccess = Ze(() => {
                  !(function ({ indexedDB: e, IDBKeyRange: t }, n) {
                    !Mn(e) && n !== Nt && Tn(e, t).delete(n).catch(re);
                  })(this._deps, this.name),
                    n();
                })),
                  (e.onerror = on(r)),
                  (e.onblocked = this._fireOnBlocked);
              };
              if (e) throw new ee.InvalidArgument("Arguments not allowed in db.delete()");
              t.isBeingOpened ? t.dbReadyPromise.then(i) : i();
            });
          }
          backendDB() {
            return this.idbdb;
          }
          isOpen() {
            return null !== this.idbdb;
          }
          hasBeenClosed() {
            const e = this._state.dbOpenError;
            return e && "DatabaseClosed" === e.name;
          }
          hasFailed() {
            return null !== this._state.dbOpenError;
          }
          dynamicallyOpened() {
            return this._state.autoSchema;
          }
          get tables() {
            return i(this._allTables).map(e => this._allTables[e]);
          }
          transaction() {
            const e = Ln.apply(this, arguments);
            return this._transaction.apply(this, e);
          }
          _transaction(e, t, n) {
            let r = _e.trans;
            (r && r.db === this && -1 === e.indexOf("!")) || (r = null);
            const i = -1 !== e.indexOf("?");
            let o, a;
            e = e.replace("!", "").replace("?", "");
            try {
              if (
                ((a = t.map(e => {
                  var t = e instanceof this.Table ? e.name : e;
                  if ("string" != typeof t)
                    throw new TypeError(
                      "Invalid table argument to Dexie.transaction(). Only Table or String are allowed"
                    );
                  return t;
                })),
                "r" == e || e === Pt)
              )
                o = Pt;
              else {
                if ("rw" != e && e != _t) throw new ee.InvalidArgument("Invalid transaction mode: " + e);
                o = _t;
              }
              if (r) {
                if (r.mode === Pt && o === _t) {
                  if (!i)
                    throw new ee.SubTransaction(
                      "Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY"
                    );
                  r = null;
                }
                r &&
                  a.forEach(e => {
                    if (r && -1 === r.storeNames.indexOf(e)) {
                      if (!i) throw new ee.SubTransaction("Table " + e + " not included in parent transaction.");
                      r = null;
                    }
                  }),
                  i && r && !r.active && (r = null);
              }
            } catch (e) {
              return r
                ? r._promise(null, (t, n) => {
                    n(e);
                  })
                : yt(e);
            }
            const s = In.bind(null, this, o, a, r, n);
            return r
              ? r._promise(o, s, "lock")
              : _e.trans
              ? ut(_e.transless, () => this._whenReady(s))
              : this._whenReady(s);
          }
          table(e) {
            if (!c(this._allTables, e)) throw new ee.InvalidTable(`Table ${e} does not exist`);
            return this._allTables[e];
          }
        }
        const er = "undefined" != typeof Symbol && "observable" in Symbol ? Symbol.observable : "@@observable";
        class tr {
          constructor(e) {
            this._subscribe = e;
          }
          subscribe(e, t, n) {
            return this._subscribe(e && "function" != typeof e ? e : { next: e, error: t, complete: n });
          }
          [er]() {
            return this;
          }
        }
        function nr(e, t) {
          return (
            i(t).forEach(n => {
              $n(e[n] || (e[n] = new qn()), t[n]);
            }),
            e
          );
        }
        function rr(e) {
          let t,
            n = !1;
          const r = new tr(r => {
            const o = F(e);
            let a = !1,
              s = {},
              l = {};
            const c = {
              get closed() {
                return a;
              },
              unsubscribe: () => {
                (a = !0), cn.storagemutated.unsubscribe(h);
              },
            };
            r.start && r.start(c);
            let u = !1,
              d = !1;
            function f() {
              return i(l).some(e => s[e] && Gn(s[e], l[e]));
            }
            const h = e => {
                nr(s, e), f() && p();
              },
              p = () => {
                if (u || a) return;
                s = {};
                const i = {},
                  m = (function (t) {
                    o && rt();
                    const n = () => nt(e, { subscr: t, trans: null }),
                      r = _e.trans ? ut(_e.transless, n) : n();
                    return o && r.then(it, it), r;
                  })(i);
                d || (cn(sn, h), (d = !0)),
                  (u = !0),
                  Promise.resolve(m).then(
                    e => {
                      (n = !0), (t = e), (u = !1), a || (f() ? p() : ((s = {}), (l = i), r.next && r.next(e)));
                    },
                    e => {
                      (u = !1), (n = !1), r.error && r.error(e), c.unsubscribe();
                    }
                  );
              };
            return p(), c;
          });
          return (r.hasValue = () => n), (r.getValue = () => t), r;
        }
        let ir;
        try {
          ir = {
            indexedDB: r.indexedDB || r.mozIndexedDB || r.webkitIndexedDB || r.msIndexedDB,
            IDBKeyRange: r.IDBKeyRange || r.webkitIDBKeyRange,
          };
        } catch (r) {
          ir = { indexedDB: null, IDBKeyRange: null };
        }
        const or = Jn;
        function ar(e) {
          let t = sr;
          try {
            (sr = !0), cn.storagemutated.fire(e);
          } finally {
            sr = t;
          }
        }
        u(or, {
          ...ne,
          delete: e => new or(e, { addons: [] }).delete(),
          exists: e =>
            new or(e, { addons: [] })
              .open()
              .then(e => (e.close(), !0))
              .catch("NoSuchDatabaseError", () => !1),
          getDatabaseNames(e) {
            try {
              return (function ({ indexedDB: e, IDBKeyRange: t }) {
                return Mn(e)
                  ? Promise.resolve(e.databases()).then(e => e.map(e => e.name).filter(e => e !== Nt))
                  : Tn(e, t).toCollection().primaryKeys();
              })(or.dependencies).then(e);
            } catch (e) {
              return yt(new ee.MissingAPI());
            }
          },
          defineClass: () =>
            function (e) {
              a(this, e);
            },
          ignoreTransaction: e => (_e.trans ? ut(_e.transless, e) : e()),
          vip: Rn,
          async: function (e) {
            return function () {
              try {
                var t = On(e.apply(this, arguments));
                return t && "function" == typeof t.then ? t : Be.resolve(t);
              } catch (e) {
                return yt(e);
              }
            };
          },
          spawn: function (e, t, n) {
            try {
              var r = On(e.apply(n, t || []));
              return r && "function" == typeof r.then ? r : Be.resolve(r);
            } catch (e) {
              return yt(e);
            }
          },
          currentTransaction: { get: () => _e.trans || null },
          waitFor: function (e, t) {
            const n = Be.resolve("function" == typeof e ? or.ignoreTransaction(e) : e).timeout(t || 6e4);
            return _e.trans ? _e.trans.waitFor(n) : n;
          },
          Promise: Be,
          debug: {
            get: () => D,
            set: e => {
              U(e, "dexie" === e ? () => !0 : Ct);
            },
          },
          derive: h,
          extend: a,
          props: u,
          override: v,
          Events: Ot,
          on: cn,
          liveQuery: rr,
          extendObservabilitySet: nr,
          getByKeyPath: E,
          setByKeyPath: k,
          delByKeyPath: function (e, t) {
            "string" == typeof t
              ? k(e, t, void 0)
              : "length" in t &&
                [].map.call(t, function (t) {
                  k(e, t, void 0);
                });
          },
          shallowClone: j,
          deepClone: _,
          getObjectDiff: Un,
          cmp: Wt,
          asap: b,
          minKey: bt,
          addons: [],
          connections: kt,
          errnames: Q,
          dependencies: ir,
          semVer: vt,
          version: vt
            .split(".")
            .map(e => parseInt(e))
            .reduce((e, t, n) => e + t / Math.pow(10, 2 * n)),
        }),
          (or.maxKey = pn(or.dependencies.IDBKeyRange)),
          "undefined" != typeof dispatchEvent &&
            "undefined" != typeof addEventListener &&
            (cn(sn, e => {
              if (!sr) {
                let t;
                jt
                  ? ((t = document.createEvent("CustomEvent")), t.initCustomEvent(ln, !0, !0, e))
                  : (t = new CustomEvent(ln, { detail: e })),
                  (sr = !0),
                  dispatchEvent(t),
                  (sr = !1);
              }
            }),
            addEventListener(ln, ({ detail: e }) => {
              sr || ar(e);
            }));
        let sr = !1;
        if ("undefined" != typeof BroadcastChannel) {
          const e = new BroadcastChannel(ln);
          "function" == typeof e.unref && e.unref(),
            cn(sn, t => {
              sr || e.postMessage(t);
            }),
            (e.onmessage = e => {
              e.data && ar(e.data);
            });
        } else if ("undefined" != typeof self && "undefined" != typeof navigator) {
          cn(sn, e => {
            try {
              sr ||
                ("undefined" != typeof localStorage &&
                  localStorage.setItem(ln, JSON.stringify({ trig: Math.random(), changedParts: e })),
                "object" == typeof self.clients &&
                  [...self.clients.matchAll({ includeUncontrolled: !0 })].forEach(t =>
                    t.postMessage({ type: ln, changedParts: e })
                  ));
            } catch (e) {}
          }),
            "undefined" != typeof addEventListener &&
              addEventListener("storage", e => {
                if (e.key === ln) {
                  const t = JSON.parse(e.newValue);
                  t && ar(t.changedParts);
                }
              });
          const e = self.document && navigator.serviceWorker;
          e &&
            e.addEventListener("message", function ({ data: e }) {
              e && e.type === ln && ar(e.changedParts);
            });
        }
        (Be.rejectionMapper = function (e, t) {
          if (!e || e instanceof G || e instanceof TypeError || e instanceof SyntaxError || !e.name || !te[e.name])
            return e;
          var n = new te[e.name](t || e.message, e);
          return (
            "stack" in e &&
              f(n, "stack", {
                get: function () {
                  return this.inner.stack;
                },
              }),
            n
          );
        }),
          U(D, Ct);
      },
    },
    o = {};
  function a(e) {
    var t = o[e];
    if (void 0 !== t) return t.exports;
    var n = (o[e] = { id: e, loaded: !1, exports: {} });
    return i[e].call(n.exports, n, n.exports, a), (n.loaded = !0), n.exports;
  }
  (a.m = i),
    (a.n = e => {
      var t = e && e.__esModule ? () => e.default : () => e;
      return a.d(t, { a: t }), t;
    }),
    (t = Object.getPrototypeOf ? e => Object.getPrototypeOf(e) : e => e.__proto__),
    (a.t = function (n, r) {
      if ((1 & r && (n = this(n)), 8 & r)) return n;
      if ("object" == typeof n && n) {
        if (4 & r && n.__esModule) return n;
        if (16 & r && "function" == typeof n.then) return n;
      }
      var i = Object.create(null);
      a.r(i);
      var o = {};
      e = e || [null, t({}), t([]), t(t)];
      for (var s = 2 & r && n; "object" == typeof s && !~e.indexOf(s); s = t(s))
        Object.getOwnPropertyNames(s).forEach(e => (o[e] = () => n[e]));
      return (o.default = () => n), a.d(i, o), i;
    }),
    (a.d = (e, t) => {
      for (var n in t) a.o(t, n) && !a.o(e, n) && Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
    }),
    (a.f = {}),
    (a.e = e => Promise.all(Object.keys(a.f).reduce((t, n) => (a.f[n](e, t), t), []))),
    (a.u = e =>
      e +
      "." +
      {
        26: "6caa9512a52728c9e1c1",
        45: "aa7355088a8d27736313",
        47: "4063f19a00dda852626a",
        109: "f191657c24f0321fd50d",
        137: "237b7b255753ef52d9c6",
        211: "a59feb7c8ff123bcda88",
        215: "5fbcf340cb442811f507",
        245: "78afb850cc6617f1b185",
        279: "709e647f64e83cc243d6",
        310: "d6393fdb5a2341e218ab",
        334: "7d0c202d856d4a5795ad",
        363: "42ee2bc121aae588fab3",
        365: "8c213f0cd70fef070050",
        409: "578c2a0533c7600127f5",
        462: "564e6a464f1852aab131",
        579: "954e85d1a0631216df97",
        671: "0754186e13361ccd05ae",
        730: "059a9a7c533ca5a84d12",
        769: "76b5223a0d3a886d88c2",
        790: "261d48d31e62e7e11e23",
        976: "4596274a569db1a17825",
      }[e] +
      ".js"),
    (a.miniCssF = e => {}),
    (a.g = (function () {
      if ("object" == typeof globalThis) return globalThis;
      try {
        return this || new Function("return this")();
      } catch (e) {
        if ("object" == typeof window) return window;
      }
    })()),
    (a.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
    (n = {}),
    (r = "@snort/app:"),
    (a.l = (e, t, i, o) => {
      if (n[e]) n[e].push(t);
      else {
        var s, l;
        if (void 0 !== i)
          for (var c = document.getElementsByTagName("script"), u = 0; u < c.length; u++) {
            var d = c[u];
            if (d.getAttribute("src") == e || d.getAttribute("data-webpack") == r + i) {
              s = d;
              break;
            }
          }
        s ||
          ((l = !0),
          ((s = document.createElement("script")).charset = "utf-8"),
          (s.timeout = 120),
          a.nc && s.setAttribute("nonce", a.nc),
          s.setAttribute("data-webpack", r + i),
          (s.src = e)),
          (n[e] = [t]);
        var f = (t, r) => {
            (s.onerror = s.onload = null), clearTimeout(h);
            var i = n[e];
            if ((delete n[e], s.parentNode && s.parentNode.removeChild(s), i && i.forEach(e => e(r)), t)) return t(r);
          },
          h = setTimeout(f.bind(null, void 0, { type: "timeout", target: s }), 12e4);
        (s.onerror = f.bind(null, s.onerror)), (s.onload = f.bind(null, s.onload)), l && document.head.appendChild(s);
      }
    }),
    (a.r = e => {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (a.nmd = e => ((e.paths = []), e.children || (e.children = []), e)),
    (a.p = "/"),
    (() => {
      var e = { 179: 0 };
      a.f.j = (t, n) => {
        var r = a.o(e, t) ? e[t] : void 0;
        if (0 !== r)
          if (r) n.push(r[2]);
          else {
            var i = new Promise((n, i) => (r = e[t] = [n, i]));
            n.push((r[2] = i));
            var o = a.p + a.u(t),
              s = new Error();
            a.l(
              o,
              n => {
                if (a.o(e, t) && (0 !== (r = e[t]) && (e[t] = void 0), r)) {
                  var i = n && ("load" === n.type ? "missing" : n.type),
                    o = n && n.target && n.target.src;
                  (s.message = "Loading chunk " + t + " failed.\n(" + i + ": " + o + ")"),
                    (s.name = "ChunkLoadError"),
                    (s.type = i),
                    (s.request = o),
                    r[1](s);
                }
              },
              "chunk-" + t,
              t
            );
          }
      };
      var t = (t, n) => {
          var r,
            i,
            [o, s, l] = n,
            c = 0;
          if (o.some(t => 0 !== e[t])) {
            for (r in s) a.o(s, r) && (a.m[r] = s[r]);
            l && l(a);
          }
          for (t && t(n); c < o.length; c++) (i = o[c]), a.o(e, i) && e[i] && e[i][0](), (e[i] = 0);
        },
        n = (self.webpackChunk_snort_app = self.webpackChunk_snort_app || []);
      n.forEach(t.bind(null, 0)), (n.push = t.bind(null, n.push.bind(n)));
    })();
  var s = {};
  (() => {
    "use strict";
    a.d(s, { _2: () => tw, xP: () => ew, Nd: () => nw });
    var e = a(6174),
      t = a.t(e, 2),
      n = a(2274),
      r = a(1499),
      i = a(8138),
      o = a(6235);
    let l = function (e) {
      e();
    };
    const c = () => l,
      u = (0, e.createContext)(null);
    function d() {
      return (0, e.useContext)(u);
    }
    let f = () => {
      throw new Error("uSES not initialized!");
    };
    const h = (e, t) => e === t;
    function p(t = u) {
      const n = t === u ? d : () => (0, e.useContext)(t);
      return function (t, r = h) {
        const { store: i, subscription: o, getServerState: a } = n(),
          s = f(o.addNestedSub, i.getState, a || i.getState, t, r);
        return (0, e.useDebugValue)(s), s;
      };
    }
    const m = p();
    a(5121), a(1482);
    const y = { notify() {}, get: () => [] };
    const g =
      "undefined" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement
        ? e.useLayoutEffect
        : e.useEffect;
    let v = null;
    const w = function ({ store: t, context: n, children: r, serverState: i }) {
      const o = (0, e.useMemo)(() => {
          const e = (function (e, t) {
            let n,
              r = y;
            function i() {
              a.onStateChange && a.onStateChange();
            }
            function o() {
              n ||
                ((n = t ? t.addNestedSub(i) : e.subscribe(i)),
                (r = (function () {
                  const e = c();
                  let t = null,
                    n = null;
                  return {
                    clear() {
                      (t = null), (n = null);
                    },
                    notify() {
                      e(() => {
                        let e = t;
                        for (; e; ) e.callback(), (e = e.next);
                      });
                    },
                    get() {
                      let e = [],
                        n = t;
                      for (; n; ) e.push(n), (n = n.next);
                      return e;
                    },
                    subscribe(e) {
                      let r = !0,
                        i = (n = { callback: e, next: null, prev: n });
                      return (
                        i.prev ? (i.prev.next = i) : (t = i),
                        function () {
                          r &&
                            null !== t &&
                            ((r = !1),
                            i.next ? (i.next.prev = i.prev) : (n = i.prev),
                            i.prev ? (i.prev.next = i.next) : (t = i.next));
                        }
                      );
                    },
                  };
                })()));
            }
            const a = {
              addNestedSub: function (e) {
                return o(), r.subscribe(e);
              },
              notifyNestedSubs: function () {
                r.notify();
              },
              handleChangeWrapper: i,
              isSubscribed: function () {
                return Boolean(n);
              },
              trySubscribe: o,
              tryUnsubscribe: function () {
                n && (n(), (n = void 0), r.clear(), (r = y));
              },
              getListeners: () => r,
            };
            return a;
          })(t);
          return { store: t, subscription: e, getServerState: i ? () => i : void 0 };
        }, [t, i]),
        a = (0, e.useMemo)(() => t.getState(), [t]);
      g(() => {
        const { subscription: e } = o;
        return (
          (e.onStateChange = e.notifyNestedSubs),
          e.trySubscribe(),
          a !== t.getState() && e.notifyNestedSubs(),
          () => {
            e.tryUnsubscribe(), (e.onStateChange = void 0);
          }
        );
      }, [o, a]);
      const s = n || u;
      return e.createElement(s.Provider, { value: o }, r);
    };
    function b(t = u) {
      const n = t === u ? d : () => (0, e.useContext)(t);
      return function () {
        const { store: e } = n();
        return e;
      };
    }
    const x = b();
    function E(e = u) {
      const t = e === u ? x : b(e);
      return function () {
        return t().dispatch;
      };
    }
    const k = E();
    var j, S;
    function A() {
      return (
        (A = Object.assign
          ? Object.assign.bind()
          : function (e) {
              for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            }),
        A.apply(this, arguments)
      );
    }
    (e => {
      f = e;
    })(i.useSyncExternalStoreWithSelector),
      (e => {
        v = e;
      })(r.useSyncExternalStore),
      (j = o.unstable_batchedUpdates),
      (l = j),
      (function (e) {
        (e.Pop = "POP"), (e.Push = "PUSH"), (e.Replace = "REPLACE");
      })(S || (S = {}));
    const C = "popstate";
    function N(e, t) {
      if (!1 === e || null == e) throw new Error(t);
    }
    function P(e, t) {
      if (!e) {
        "undefined" != typeof console && console.warn(t);
        try {
          throw new Error(t);
        } catch (e) {}
      }
    }
    function _(e, t) {
      return { usr: e.state, key: e.key, idx: t };
    }
    function T(e, t, n, r) {
      return (
        void 0 === n && (n = null),
        A({ pathname: "string" == typeof e ? e : e.pathname, search: "", hash: "" }, "string" == typeof t ? R(t) : t, {
          state: n,
          key: (t && t.key) || r || Math.random().toString(36).substr(2, 8),
        })
      );
    }
    function M(e) {
      let { pathname: t = "/", search: n = "", hash: r = "" } = e;
      return (
        n && "?" !== n && (t += "?" === n.charAt(0) ? n : "?" + n),
        r && "#" !== r && (t += "#" === r.charAt(0) ? r : "#" + r),
        t
      );
    }
    function R(e) {
      let t = {};
      if (e) {
        let n = e.indexOf("#");
        n >= 0 && ((t.hash = e.substr(n)), (e = e.substr(0, n)));
        let r = e.indexOf("?");
        r >= 0 && ((t.search = e.substr(r)), (e = e.substr(0, r))), e && (t.pathname = e);
      }
      return t;
    }
    var B;
    !(function (e) {
      (e.data = "data"), (e.deferred = "deferred"), (e.redirect = "redirect"), (e.error = "error");
    })(B || (B = {}));
    const O = new Set(["lazy", "caseSensitive", "path", "id", "index", "children"]);
    function L(e, t, n, r) {
      return (
        void 0 === n && (n = []),
        void 0 === r && (r = {}),
        e.map((e, i) => {
          let o = [...n, i],
            a = "string" == typeof e.id ? e.id : o.join("-");
          if (
            (N(!0 !== e.index || !e.children, "Cannot specify children on an index route"),
            N(
              !r[a],
              'Found a route id collision on id "' +
                a +
                "\".  Route id's must be globally unique within Data Router usages"
            ),
            (function (e) {
              return !0 === e.index;
            })(e))
          ) {
            let n = A({}, e, { hasErrorBoundary: t(e), id: a });
            return (r[a] = n), n;
          }
          {
            let n = A({}, e, { id: a, hasErrorBoundary: t(e), children: void 0 });
            return (r[a] = n), e.children && (n.children = L(e.children, t, o, r)), n;
          }
        })
      );
    }
    function I(e, t, n) {
      void 0 === n && (n = "/");
      let r = X(("string" == typeof t ? R(t) : t).pathname || "/", n);
      if (null == r) return null;
      let i = F(e);
      !(function (e) {
        e.sort((e, t) =>
          e.score !== t.score
            ? t.score - e.score
            : (function (e, t) {
                let n = e.length === t.length && e.slice(0, -1).every((e, n) => e === t[n]);
                return n ? e[e.length - 1] - t[t.length - 1] : 0;
              })(
                e.routesMeta.map(e => e.childrenIndex),
                t.routesMeta.map(e => e.childrenIndex)
              )
        );
      })(i);
      let o = null;
      for (let e = 0; null == o && e < i.length; ++e) o = G(i[e], Y(r));
      return o;
    }
    function F(e, t, n, r) {
      void 0 === t && (t = []), void 0 === n && (n = []), void 0 === r && (r = "");
      let i = (e, i, o) => {
        let a = {
          relativePath: void 0 === o ? e.path || "" : o,
          caseSensitive: !0 === e.caseSensitive,
          childrenIndex: i,
          route: e,
        };
        a.relativePath.startsWith("/") &&
          (N(
            a.relativePath.startsWith(r),
            'Absolute route path "' +
              a.relativePath +
              '" nested under path "' +
              r +
              '" is not valid. An absolute child route path must start with the combined path of all its parent routes.'
          ),
          (a.relativePath = a.relativePath.slice(r.length)));
        let s = te([r, a.relativePath]),
          l = n.concat(a);
        e.children &&
          e.children.length > 0 &&
          (N(
            !0 !== e.index,
            'Index routes must not have child routes. Please remove all child routes from route path "' + s + '".'
          ),
          F(e.children, t, l, s)),
          (null != e.path || e.index) && t.push({ path: s, score: $(s, e.index), routesMeta: l });
      };
      return (
        e.forEach((e, t) => {
          var n;
          if ("" !== e.path && null != (n = e.path) && n.includes("?")) for (let n of D(e.path)) i(e, t, n);
          else i(e, t);
        }),
        t
      );
    }
    function D(e) {
      let t = e.split("/");
      if (0 === t.length) return [];
      let [n, ...r] = t,
        i = n.endsWith("?"),
        o = n.replace(/\?$/, "");
      if (0 === r.length) return i ? [o, ""] : [o];
      let a = D(r.join("/")),
        s = [];
      return (
        s.push(...a.map(e => ("" === e ? o : [o, e].join("/")))),
        i && s.push(...a),
        s.map(t => (e.startsWith("/") && "" === t ? "/" : t))
      );
    }
    const U = /^:\w+$/,
      z = 3,
      H = 2,
      K = 1,
      W = 10,
      q = -2,
      V = e => "*" === e;
    function $(e, t) {
      let n = e.split("/"),
        r = n.length;
      return (
        n.some(V) && (r += q),
        t && (r += H),
        n.filter(e => !V(e)).reduce((e, t) => e + (U.test(t) ? z : "" === t ? K : W), r)
      );
    }
    function G(e, t) {
      let { routesMeta: n } = e,
        r = {},
        i = "/",
        o = [];
      for (let e = 0; e < n.length; ++e) {
        let a = n[e],
          s = e === n.length - 1,
          l = "/" === i ? t : t.slice(i.length) || "/",
          c = Z({ path: a.relativePath, caseSensitive: a.caseSensitive, end: s }, l);
        if (!c) return null;
        Object.assign(r, c.params);
        let u = a.route;
        o.push({ params: r, pathname: te([i, c.pathname]), pathnameBase: ne(te([i, c.pathnameBase])), route: u }),
          "/" !== c.pathnameBase && (i = te([i, c.pathnameBase]));
      }
      return o;
    }
    function Z(e, t) {
      "string" == typeof e && (e = { path: e, caseSensitive: !1, end: !0 });
      let [n, r] = (function (e, t, n) {
          void 0 === t && (t = !1),
            void 0 === n && (n = !0),
            P(
              "*" === e || !e.endsWith("*") || e.endsWith("/*"),
              'Route path "' +
                e +
                '" will be treated as if it were "' +
                e.replace(/\*$/, "/*") +
                '" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "' +
                e.replace(/\*$/, "/*") +
                '".'
            );
          let r = [],
            i =
              "^" +
              e
                .replace(/\/*\*?$/, "")
                .replace(/^\/*/, "/")
                .replace(/[\\.*+^$?{}|()[\]]/g, "\\$&")
                .replace(/\/:(\w+)/g, (e, t) => (r.push(t), "/([^\\/]+)"));
          return (
            e.endsWith("*")
              ? (r.push("*"), (i += "*" === e || "/*" === e ? "(.*)$" : "(?:\\/(.+)|\\/*)$"))
              : n
              ? (i += "\\/*$")
              : "" !== e && "/" !== e && (i += "(?:(?=\\/|$))"),
            [new RegExp(i, t ? void 0 : "i"), r]
          );
        })(e.path, e.caseSensitive, e.end),
        i = t.match(n);
      if (!i) return null;
      let o = i[0],
        a = o.replace(/(.)\/+$/, "$1"),
        s = i.slice(1);
      return {
        params: r.reduce((e, t, n) => {
          if ("*" === t) {
            let e = s[n] || "";
            a = o.slice(0, o.length - e.length).replace(/(.)\/+$/, "$1");
          }
          return (
            (e[t] = (function (e, t) {
              try {
                return decodeURIComponent(e);
              } catch (n) {
                return (
                  P(
                    !1,
                    'The value for the URL param "' +
                      t +
                      '" will not be decoded because the string "' +
                      e +
                      '" is a malformed URL segment. This is probably due to a bad percent encoding (' +
                      n +
                      ")."
                  ),
                  e
                );
              }
            })(s[n] || "", t)),
            e
          );
        }, {}),
        pathname: o,
        pathnameBase: a,
        pattern: e,
      };
    }
    function Y(e) {
      try {
        return decodeURI(e);
      } catch (t) {
        return (
          P(
            !1,
            'The URL path "' +
              e +
              '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (' +
              t +
              ")."
          ),
          e
        );
      }
    }
    function X(e, t) {
      if ("/" === t) return e;
      if (!e.toLowerCase().startsWith(t.toLowerCase())) return null;
      let n = t.endsWith("/") ? t.length - 1 : t.length,
        r = e.charAt(n);
      return r && "/" !== r ? null : e.slice(n) || "/";
    }
    function Q(e, t, n, r) {
      return (
        "Cannot include a '" +
        e +
        "' character in a manually specified `to." +
        t +
        "` field [" +
        JSON.stringify(r) +
        "].  Please separate it out to the `to." +
        n +
        '` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'
      );
    }
    function J(e) {
      return e.filter((e, t) => 0 === t || (e.route.path && e.route.path.length > 0));
    }
    function ee(e, t, n, r) {
      let i;
      void 0 === r && (r = !1),
        "string" == typeof e
          ? (i = R(e))
          : ((i = A({}, e)),
            N(!i.pathname || !i.pathname.includes("?"), Q("?", "pathname", "search", i)),
            N(!i.pathname || !i.pathname.includes("#"), Q("#", "pathname", "hash", i)),
            N(!i.search || !i.search.includes("#"), Q("#", "search", "hash", i)));
      let o,
        a = "" === e || "" === i.pathname,
        s = a ? "/" : i.pathname;
      if (r || null == s) o = n;
      else {
        let e = t.length - 1;
        if (s.startsWith("..")) {
          let t = s.split("/");
          for (; ".." === t[0]; ) t.shift(), (e -= 1);
          i.pathname = t.join("/");
        }
        o = e >= 0 ? t[e] : "/";
      }
      let l = (function (e, t) {
          void 0 === t && (t = "/");
          let { pathname: n, search: r = "", hash: i = "" } = "string" == typeof e ? R(e) : e,
            o = n
              ? n.startsWith("/")
                ? n
                : (function (e, t) {
                    let n = t.replace(/\/+$/, "").split("/");
                    return (
                      e.split("/").forEach(e => {
                        ".." === e ? n.length > 1 && n.pop() : "." !== e && n.push(e);
                      }),
                      n.length > 1 ? n.join("/") : "/"
                    );
                  })(n, t)
              : t;
          return { pathname: o, search: re(r), hash: ie(i) };
        })(i, o),
        c = s && "/" !== s && s.endsWith("/"),
        u = (a || "." === s) && n.endsWith("/");
      return l.pathname.endsWith("/") || (!c && !u) || (l.pathname += "/"), l;
    }
    const te = e => e.join("/").replace(/\/\/+/g, "/"),
      ne = e => e.replace(/\/+$/, "").replace(/^\/*/, "/"),
      re = e => (e && "?" !== e ? (e.startsWith("?") ? e : "?" + e) : ""),
      ie = e => (e && "#" !== e ? (e.startsWith("#") ? e : "#" + e) : "");
    class oe extends Error {}
    class ae {
      constructor(e, t, n, r) {
        void 0 === r && (r = !1),
          (this.status = e),
          (this.statusText = t || ""),
          (this.internal = r),
          n instanceof Error ? ((this.data = n.toString()), (this.error = n)) : (this.data = n);
      }
    }
    function se(e) {
      return (
        null != e &&
        "number" == typeof e.status &&
        "string" == typeof e.statusText &&
        "boolean" == typeof e.internal &&
        "data" in e
      );
    }
    const le = ["post", "put", "patch", "delete"],
      ce = new Set(le),
      ue = ["get", ...le],
      de = new Set(ue),
      fe = new Set([301, 302, 303, 307, 308]),
      he = new Set([307, 308]),
      pe = {
        state: "idle",
        location: void 0,
        formMethod: void 0,
        formAction: void 0,
        formEncType: void 0,
        formData: void 0,
      },
      me = {
        state: "idle",
        data: void 0,
        formMethod: void 0,
        formAction: void 0,
        formEncType: void 0,
        formData: void 0,
      },
      ye = { state: "unblocked", proceed: void 0, reset: void 0, location: void 0 },
      ge = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,
      ve = "undefined" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement,
      we = !ve,
      be = e => Boolean(e.hasErrorBoundary);
    function xe(e, t, n, r) {
      void 0 === r && (r = !1);
      let i,
        o = "string" == typeof e ? e : M(e);
      if (
        !n ||
        !(function (e) {
          return null != e && "formData" in e;
        })(n)
      )
        return { path: o };
      if (n.formMethod && ((a = n.formMethod), !de.has(a.toLowerCase())))
        return { path: o, error: Re(405, { method: n.formMethod }) };
      var a;
      if (n.formData) {
        let e = n.formMethod || "get";
        if (
          ((i = {
            formMethod: t.v7_normalizeFormMethod ? e.toUpperCase() : e.toLowerCase(),
            formAction: Oe(o),
            formEncType: (n && n.formEncType) || "application/x-www-form-urlencoded",
            formData: n.formData,
          }),
          De(i.formMethod))
        )
          return { path: o, submission: i };
      }
      let s = R(o),
        l = Ne(n.formData);
      return (
        r && s.search && He(s.search) && l.append("index", ""), (s.search = "?" + l), { path: M(s), submission: i }
      );
    }
    function Ee(e, t, n, r, i, o, a, s, l, c, u, d, f) {
      let h = f ? Object.values(f)[0] : d ? Object.values(d)[0] : void 0,
        p = e.createURL(t.location),
        m = e.createURL(i),
        y = o || p.toString() === m.toString() || p.search !== m.search,
        g = f ? Object.keys(f)[0] : void 0,
        v = (function (e, t) {
          let n = e;
          if (t) {
            let r = e.findIndex(e => e.route.id === t);
            r >= 0 && (n = e.slice(0, r));
          }
          return n;
        })(n, g).filter((e, n) => {
          if (e.route.lazy) return !0;
          if (null == e.route.loader) return !1;
          if (
            (function (e, t, n) {
              let r = !t || n.route.id !== t.route.id,
                i = void 0 === e[n.route.id];
              return r || i;
            })(t.loaderData, t.matches[n], e) ||
            a.some(t => t === e.route.id)
          )
            return !0;
          let i = t.matches[n],
            o = e;
          return je(
            e,
            A({ currentUrl: p, currentParams: i.params, nextUrl: m, nextParams: o.params }, r, {
              actionResult: h,
              defaultShouldRevalidate: y || ke(i, o),
            })
          );
        }),
        w = [];
      return (
        l.forEach((e, i) => {
          if (!n.some(t => t.route.id === e.routeId)) return;
          let o = I(c, e.path, u);
          if (!o) return void w.push(A({ key: i }, e, { matches: null, match: null }));
          let a = We(o, e.path);
          (s.includes(i) ||
            je(
              a,
              A(
                {
                  currentUrl: p,
                  currentParams: t.matches[t.matches.length - 1].params,
                  nextUrl: m,
                  nextParams: n[n.length - 1].params,
                },
                r,
                { actionResult: h, defaultShouldRevalidate: y }
              )
            )) &&
            w.push(A({ key: i, matches: o, match: a }, e));
        }),
        [v, w]
      );
    }
    function ke(e, t) {
      let n = e.route.path;
      return e.pathname !== t.pathname || (null != n && n.endsWith("*") && e.params["*"] !== t.params["*"]);
    }
    function je(e, t) {
      if (e.route.shouldRevalidate) {
        let n = e.route.shouldRevalidate(t);
        if ("boolean" == typeof n) return n;
      }
      return t.defaultShouldRevalidate;
    }
    async function Se(e, t, n) {
      if (!e.lazy) return;
      let r = await e.lazy();
      if (!e.lazy) return;
      let i = n[e.id];
      N(i, "No route found in manifest");
      let o = {};
      for (let e in r) {
        let t = void 0 !== i[e] && "hasErrorBoundary" !== e;
        P(
          !t,
          'Route "' +
            i.id +
            '" has a static property "' +
            e +
            '" defined but its lazy function is also returning a value for this property. The lazy route property "' +
            e +
            '" will be ignored.'
        ),
          t || O.has(e) || (o[e] = r[e]);
      }
      Object.assign(i, o), Object.assign(i, { hasErrorBoundary: t(A({}, i)), lazy: void 0 });
    }
    async function Ae(e, t, n, r, i, o, a, s, l, c) {
      let u, d, f;
      void 0 === a && (a = "/"), void 0 === s && (s = !1), void 0 === l && (l = !1);
      let h = e => {
        let r,
          i = new Promise((e, t) => (r = t));
        return (
          (f = () => r()),
          t.signal.addEventListener("abort", f),
          Promise.race([e({ request: t, params: n.params, context: c }), i])
        );
      };
      try {
        let r = n.route[e];
        if (n.route.lazy)
          if (r) d = (await Promise.all([h(r), Se(n.route, o, i)]))[0];
          else {
            if ((await Se(n.route, o, i), (r = n.route[e]), !r)) {
              if ("action" === e)
                throw Re(405, { method: t.method, pathname: new URL(t.url).pathname, routeId: n.route.id });
              return { type: B.data, data: void 0 };
            }
            d = await h(r);
          }
        else N(r, "Could not find the " + e + ' to run on the "' + n.route.id + '" route'), (d = await h(r));
        N(
          void 0 !== d,
          "You defined " +
            ("action" === e ? "an action" : "a loader") +
            ' for route "' +
            n.route.id +
            "\" but didn't return anything from your `" +
            e +
            "` function. Please return a value or `null`."
        );
      } catch (e) {
        (u = B.error), (d = e);
      } finally {
        f && t.signal.removeEventListener("abort", f);
      }
      if (
        null != (p = d) &&
        "number" == typeof p.status &&
        "string" == typeof p.statusText &&
        "object" == typeof p.headers &&
        void 0 !== p.body
      ) {
        let e,
          i = d.status;
        if (fe.has(i)) {
          let e = d.headers.get("Location");
          if ((N(e, "Redirects returned/thrown from loaders/actions must have a Location header"), ge.test(e))) {
            if (!s) {
              let n = new URL(t.url),
                r = e.startsWith("//") ? new URL(n.protocol + e) : new URL(e),
                i = null != X(r.pathname, a);
              r.origin === n.origin && i && (e = r.pathname + r.search + r.hash);
            }
          } else {
            let i = ee(
              e,
              J(r.slice(0, r.indexOf(n) + 1)).map(e => e.pathnameBase),
              new URL(t.url).pathname
            );
            if ((N(M(i), "Unable to resolve redirect location: " + e), a)) {
              let e = i.pathname;
              i.pathname = "/" === e ? a : te([a, e]);
            }
            e = M(i);
          }
          if (s) throw (d.headers.set("Location", e), d);
          return { type: B.redirect, status: i, location: e, revalidate: null !== d.headers.get("X-Remix-Revalidate") };
        }
        if (l) throw { type: u || B.data, response: d };
        let o = d.headers.get("Content-Type");
        return (
          (e = o && /\bapplication\/json\b/.test(o) ? await d.json() : await d.text()),
          u === B.error
            ? { type: u, error: new ae(i, d.statusText, e), headers: d.headers }
            : { type: B.data, data: e, statusCode: d.status, headers: d.headers }
        );
      }
      var p, m, y;
      return u === B.error
        ? { type: u, error: d }
        : (function (e) {
            let t = e;
            return (
              t &&
              "object" == typeof t &&
              "object" == typeof t.data &&
              "function" == typeof t.subscribe &&
              "function" == typeof t.cancel &&
              "function" == typeof t.resolveData
            );
          })(d)
        ? {
            type: B.deferred,
            deferredData: d,
            statusCode: null == (m = d.init) ? void 0 : m.status,
            headers: (null == (y = d.init) ? void 0 : y.headers) && new Headers(d.init.headers),
          }
        : { type: B.data, data: d };
    }
    function Ce(e, t, n, r) {
      let i = e.createURL(Oe(t)).toString(),
        o = { signal: n };
      if (r && De(r.formMethod)) {
        let { formMethod: e, formEncType: t, formData: n } = r;
        (o.method = e.toUpperCase()), (o.body = "application/x-www-form-urlencoded" === t ? Ne(n) : n);
      }
      return new Request(i, o);
    }
    function Ne(e) {
      let t = new URLSearchParams();
      for (let [n, r] of e.entries()) t.append(n, r instanceof File ? r.name : r);
      return t;
    }
    function Pe(e, t, n, r, i, o, a, s) {
      let { loaderData: l, errors: c } = (function (e, t, n, r, i) {
        let o,
          a = {},
          s = null,
          l = !1,
          c = {};
        return (
          n.forEach((n, u) => {
            let d = t[u].route.id;
            if ((N(!Fe(n), "Cannot handle redirect results in processLoaderData"), Ie(n))) {
              let t = Te(e, d),
                i = n.error;
              r && ((i = Object.values(r)[0]), (r = void 0)),
                (s = s || {}),
                null == s[t.route.id] && (s[t.route.id] = i),
                (a[d] = void 0),
                l || ((l = !0), (o = se(n.error) ? n.error.status : 500)),
                n.headers && (c[d] = n.headers);
            } else
              Le(n) ? (i.set(d, n.deferredData), (a[d] = n.deferredData.data)) : (a[d] = n.data),
                null == n.statusCode || 200 === n.statusCode || l || (o = n.statusCode),
                n.headers && (c[d] = n.headers);
          }),
          r && ((s = r), (a[Object.keys(r)[0]] = void 0)),
          { loaderData: a, errors: s, statusCode: o || 200, loaderHeaders: c }
        );
      })(t, n, r, i, s);
      for (let t = 0; t < o.length; t++) {
        let { key: n, match: r } = o[t];
        N(void 0 !== a && void 0 !== a[t], "Did not find corresponding fetcher result");
        let i = a[t];
        if (Ie(i)) {
          let t = Te(e.matches, null == r ? void 0 : r.route.id);
          (c && c[t.route.id]) || (c = A({}, c, { [t.route.id]: i.error })), e.fetchers.delete(n);
        } else if (Fe(i)) N(!1, "Unhandled fetcher revalidation redirect");
        else if (Le(i)) N(!1, "Unhandled fetcher deferred data");
        else {
          let t = {
            state: "idle",
            data: i.data,
            formMethod: void 0,
            formAction: void 0,
            formEncType: void 0,
            formData: void 0,
            " _hasFetcherDoneAnything ": !0,
          };
          e.fetchers.set(n, t);
        }
      }
      return { loaderData: l, errors: c };
    }
    function _e(e, t, n, r) {
      let i = A({}, t);
      for (let o of n) {
        let n = o.route.id;
        if (
          (t.hasOwnProperty(n) ? void 0 !== t[n] && (i[n] = t[n]) : void 0 !== e[n] && o.route.loader && (i[n] = e[n]),
          r && r.hasOwnProperty(n))
        )
          break;
      }
      return i;
    }
    function Te(e, t) {
      let n = t ? e.slice(0, e.findIndex(e => e.route.id === t) + 1) : [...e];
      return n.reverse().find(e => !0 === e.route.hasErrorBoundary) || e[0];
    }
    function Me(e) {
      let t = e.find(e => e.index || !e.path || "/" === e.path) || { id: "__shim-error-route__" };
      return { matches: [{ params: {}, pathname: "", pathnameBase: "", route: t }], route: t };
    }
    function Re(e, t) {
      let { pathname: n, routeId: r, method: i, type: o } = void 0 === t ? {} : t,
        a = "Unknown Server Error",
        s = "Unknown @remix-run/router error";
      return (
        400 === e
          ? ((a = "Bad Request"),
            i && n && r
              ? (s =
                  "You made a " +
                  i +
                  ' request to "' +
                  n +
                  '" but did not provide a `loader` for route "' +
                  r +
                  '", so there is no way to handle the request.')
              : "defer-action" === o && (s = "defer() is not supported in actions"))
          : 403 === e
          ? ((a = "Forbidden"), (s = 'Route "' + r + '" does not match URL "' + n + '"'))
          : 404 === e
          ? ((a = "Not Found"), (s = 'No route matches URL "' + n + '"'))
          : 405 === e &&
            ((a = "Method Not Allowed"),
            i && n && r
              ? (s =
                  "You made a " +
                  i.toUpperCase() +
                  ' request to "' +
                  n +
                  '" but did not provide an `action` for route "' +
                  r +
                  '", so there is no way to handle the request.')
              : i && (s = 'Invalid request method "' + i.toUpperCase() + '"')),
        new ae(e || 500, a, new Error(s), !0)
      );
    }
    function Be(e) {
      for (let t = e.length - 1; t >= 0; t--) {
        let n = e[t];
        if (Fe(n)) return n;
      }
    }
    function Oe(e) {
      return M(A({}, "string" == typeof e ? R(e) : e, { hash: "" }));
    }
    function Le(e) {
      return e.type === B.deferred;
    }
    function Ie(e) {
      return e.type === B.error;
    }
    function Fe(e) {
      return (e && e.type) === B.redirect;
    }
    function De(e) {
      return ce.has(e.toLowerCase());
    }
    async function Ue(e, t, n, r, i, o) {
      for (let a = 0; a < n.length; a++) {
        let s = n[a],
          l = t[a];
        if (!l) continue;
        let c = e.find(e => e.route.id === l.route.id),
          u = null != c && !ke(c, l) && void 0 !== (o && o[l.route.id]);
        Le(s) &&
          (i || u) &&
          (await ze(s, r, i).then(e => {
            e && (n[a] = e || n[a]);
          }));
      }
    }
    async function ze(e, t, n) {
      if ((void 0 === n && (n = !1), !(await e.deferredData.resolveData(t)))) {
        if (n)
          try {
            return { type: B.data, data: e.deferredData.unwrappedData };
          } catch (e) {
            return { type: B.error, error: e };
          }
        return { type: B.data, data: e.deferredData.data };
      }
    }
    function He(e) {
      return new URLSearchParams(e).getAll("index").some(e => "" === e);
    }
    function Ke(e, t) {
      let { route: n, pathname: r, params: i } = e;
      return { id: n.id, pathname: r, params: i, data: t[n.id], handle: n.handle };
    }
    function We(e, t) {
      let n = "string" == typeof t ? R(t).search : t.search;
      if (e[e.length - 1].route.index && He(n || "")) return e[e.length - 1];
      let r = J(e);
      return r[r.length - 1];
    }
    Symbol("deferred");
    "function" == typeof Object.is && Object.is;
    const { useState: qe, useEffect: Ve, useLayoutEffect: $e, useDebugValue: Ge } = t;
    "undefined" == typeof window || void 0 === window.document || window.document.createElement;
    const Ze = t.useSyncExternalStore,
      Ye = e.createContext(null),
      Xe = e.createContext(null),
      Qe = e.createContext(null),
      Je = e.createContext(null),
      et = e.createContext({ outlet: null, matches: [] }),
      tt = e.createContext(null);
    function nt() {
      return (
        (nt = Object.assign
          ? Object.assign.bind()
          : function (e) {
              for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            }),
        nt.apply(this, arguments)
      );
    }
    function rt() {
      return null != e.useContext(Je);
    }
    function it() {
      return rt() || N(!1), e.useContext(Je).location;
    }
    function ot() {
      rt() || N(!1);
      let { basename: t, navigator: n } = e.useContext(Qe),
        { matches: r } = e.useContext(et),
        { pathname: i } = it(),
        o = JSON.stringify(J(r).map(e => e.pathnameBase)),
        a = e.useRef(!1);
      return (
        e.useEffect(() => {
          a.current = !0;
        }),
        e.useCallback(
          function (e, r) {
            if ((void 0 === r && (r = {}), !a.current)) return;
            if ("number" == typeof e) return void n.go(e);
            let s = ee(e, JSON.parse(o), i, "path" === r.relative);
            "/" !== t && (s.pathname = "/" === s.pathname ? t : te([t, s.pathname])),
              (r.replace ? n.replace : n.push)(s, r.state, r);
          },
          [t, n, o, i]
        )
      );
    }
    const at = e.createContext(null);
    function st() {
      let { matches: t } = e.useContext(et),
        n = t[t.length - 1];
      return n ? n.params : {};
    }
    function lt(t, n) {
      let { relative: r } = void 0 === n ? {} : n,
        { matches: i } = e.useContext(et),
        { pathname: o } = it(),
        a = JSON.stringify(J(i).map(e => e.pathnameBase));
      return e.useMemo(() => ee(t, JSON.parse(a), o, "path" === r), [t, a, o, r]);
    }
    function ct() {
      let t = mt(),
        n = se(t) ? t.status + " " + t.statusText : t instanceof Error ? t.message : JSON.stringify(t),
        r = t instanceof Error ? t.stack : null,
        i = { padding: "0.5rem", backgroundColor: "rgba(200,200,200, 0.5)" };
      return e.createElement(
        e.Fragment,
        null,
        e.createElement("h2", null, "Unexpected Application Error!"),
        e.createElement("h3", { style: { fontStyle: "italic" } }, n),
        r ? e.createElement("pre", { style: i }, r) : null,
        null
      );
    }
    class ut extends e.Component {
      constructor(e) {
        super(e), (this.state = { location: e.location, error: e.error });
      }
      static getDerivedStateFromError(e) {
        return { error: e };
      }
      static getDerivedStateFromProps(e, t) {
        return t.location !== e.location
          ? { error: e.error, location: e.location }
          : { error: e.error || t.error, location: t.location };
      }
      componentDidCatch(e, t) {
        console.error("React Router caught the following error during render", e, t);
      }
      render() {
        return this.state.error
          ? e.createElement(
              et.Provider,
              { value: this.props.routeContext },
              e.createElement(tt.Provider, { value: this.state.error, children: this.props.component })
            )
          : this.props.children;
      }
    }
    function dt(t) {
      let { routeContext: n, match: r, children: i } = t,
        o = e.useContext(Ye);
      return (
        o &&
          o.static &&
          o.staticContext &&
          (r.route.errorElement || r.route.ErrorBoundary) &&
          (o.staticContext._deepestRenderedBoundaryId = r.route.id),
        e.createElement(et.Provider, { value: n }, i)
      );
    }
    var ft, ht, pt;
    function mt() {
      var t;
      let n = e.useContext(tt),
        r = (function (t) {
          let n = e.useContext(Xe);
          return n || N(!1), n;
        })(ht.UseRouteError),
        i = (function (t) {
          let n = (function (t) {
              let n = e.useContext(et);
              return n || N(!1), n;
            })(),
            r = n.matches[n.matches.length - 1];
          return r.route.id || N(!1), r.route.id;
        })(ht.UseRouteError);
      return n || (null == (t = r.errors) ? void 0 : t[i]);
    }
    function yt(t) {
      let { fallbackElement: n, router: r } = t,
        i = e.useCallback(() => r.state, [r]),
        o = Ze(r.subscribe, i, i),
        a = e.useMemo(
          () => ({
            createHref: r.createHref,
            encodeLocation: r.encodeLocation,
            go: e => r.navigate(e),
            push: (e, t, n) =>
              r.navigate(e, { state: t, preventScrollReset: null == n ? void 0 : n.preventScrollReset }),
            replace: (e, t, n) =>
              r.navigate(e, { replace: !0, state: t, preventScrollReset: null == n ? void 0 : n.preventScrollReset }),
          }),
          [r]
        ),
        s = r.basename || "/",
        l = e.useMemo(() => ({ router: r, navigator: a, static: !1, basename: s }), [r, a, s]);
      return e.createElement(
        e.Fragment,
        null,
        e.createElement(
          Ye.Provider,
          { value: l },
          e.createElement(
            Xe.Provider,
            { value: o },
            e.createElement(
              bt,
              { basename: r.basename, location: r.state.location, navigationType: r.state.historyAction, navigator: a },
              r.state.initialized ? e.createElement(xt, null) : n
            )
          )
        ),
        null
      );
    }
    function gt(t) {
      let { to: n, replace: r, state: i, relative: o } = t;
      rt() || N(!1);
      let a = e.useContext(Xe),
        s = ot();
      return (
        e.useEffect(() => {
          (a && "idle" !== a.navigation.state) || s(n, { replace: r, state: i, relative: o });
        }),
        null
      );
    }
    function vt(t) {
      return (function (t) {
        let n = e.useContext(et).outlet;
        return n ? e.createElement(at.Provider, { value: t }, n) : n;
      })(t.context);
    }
    function wt(e) {
      N(!1);
    }
    function bt(t) {
      let {
        basename: n = "/",
        children: r = null,
        location: i,
        navigationType: o = S.Pop,
        navigator: a,
        static: s = !1,
      } = t;
      rt() && N(!1);
      let l = n.replace(/^\/*/, "/"),
        c = e.useMemo(() => ({ basename: l, navigator: a, static: s }), [l, a, s]);
      "string" == typeof i && (i = R(i));
      let { pathname: u = "/", search: d = "", hash: f = "", state: h = null, key: p = "default" } = i,
        m = e.useMemo(() => {
          let e = X(u, l);
          return null == e
            ? null
            : { location: { pathname: e, search: d, hash: f, state: h, key: p }, navigationType: o };
        }, [l, u, d, f, h, p, o]);
      return null == m
        ? null
        : e.createElement(Qe.Provider, { value: c }, e.createElement(Je.Provider, { children: r, value: m }));
    }
    function xt(t) {
      let { children: n, location: r } = t,
        i = e.useContext(Ye);
      return (function (t, n) {
        rt() || N(!1);
        let { navigator: r } = e.useContext(Qe),
          i = e.useContext(Xe),
          { matches: o } = e.useContext(et),
          a = o[o.length - 1],
          s = a ? a.params : {},
          l = (a && a.pathname, a ? a.pathnameBase : "/");
        a && a.route;
        let c,
          u = it();
        if (n) {
          var d;
          let e = "string" == typeof n ? R(n) : n;
          "/" === l || (null == (d = e.pathname) ? void 0 : d.startsWith(l)) || N(!1), (c = e);
        } else c = u;
        let f = c.pathname || "/",
          h = I(t, { pathname: "/" === l ? f : f.slice(l.length) || "/" }),
          p = (function (t, n, r) {
            if ((void 0 === n && (n = []), null == t)) {
              if (null == r || !r.errors) return null;
              t = r.matches;
            }
            let i = t,
              o = null == r ? void 0 : r.errors;
            if (null != o) {
              let e = i.findIndex(e => e.route.id && (null == o ? void 0 : o[e.route.id]));
              e >= 0 || N(!1), (i = i.slice(0, Math.min(i.length, e + 1)));
            }
            return i.reduceRight((t, a, s) => {
              let l = a.route.id ? (null == o ? void 0 : o[a.route.id]) : null,
                c = null;
              r &&
                (c = a.route.ErrorBoundary
                  ? e.createElement(a.route.ErrorBoundary, null)
                  : a.route.errorElement
                  ? a.route.errorElement
                  : e.createElement(ct, null));
              let u = n.concat(i.slice(0, s + 1)),
                d = () => {
                  let n = t;
                  return (
                    l
                      ? (n = c)
                      : a.route.Component
                      ? (n = e.createElement(a.route.Component, null))
                      : a.route.element && (n = a.route.element),
                    e.createElement(dt, { match: a, routeContext: { outlet: t, matches: u }, children: n })
                  );
                };
              return r && (a.route.ErrorBoundary || a.route.errorElement || 0 === s)
                ? e.createElement(ut, {
                    location: r.location,
                    component: c,
                    error: l,
                    children: d(),
                    routeContext: { outlet: null, matches: u },
                  })
                : d();
            }, null);
          })(
            h &&
              h.map(e =>
                Object.assign({}, e, {
                  params: Object.assign({}, s, e.params),
                  pathname: te([l, r.encodeLocation ? r.encodeLocation(e.pathname).pathname : e.pathname]),
                  pathnameBase:
                    "/" === e.pathnameBase
                      ? l
                      : te([l, r.encodeLocation ? r.encodeLocation(e.pathnameBase).pathname : e.pathnameBase]),
                })
              ),
            o,
            i || void 0
          );
        return n && p
          ? e.createElement(
              Je.Provider,
              {
                value: {
                  location: nt({ pathname: "/", search: "", hash: "", state: null, key: "default" }, c),
                  navigationType: S.Pop,
                },
              },
              p
            )
          : p;
      })(i && !n ? i.router.routes : kt(n), r);
    }
    !(function (e) {
      (e.UseBlocker = "useBlocker"), (e.UseRevalidator = "useRevalidator");
    })(ft || (ft = {})),
      (function (e) {
        (e.UseBlocker = "useBlocker"),
          (e.UseLoaderData = "useLoaderData"),
          (e.UseActionData = "useActionData"),
          (e.UseRouteError = "useRouteError"),
          (e.UseNavigation = "useNavigation"),
          (e.UseRouteLoaderData = "useRouteLoaderData"),
          (e.UseMatches = "useMatches"),
          (e.UseRevalidator = "useRevalidator");
      })(ht || (ht = {})),
      (function (e) {
        (e[(e.pending = 0)] = "pending"), (e[(e.success = 1)] = "success"), (e[(e.error = 2)] = "error");
      })(pt || (pt = {})),
      new Promise(() => {});
    class Et extends e.Component {
      constructor(e) {
        super(e), (this.state = { error: null });
      }
      static getDerivedStateFromError(e) {
        return { error: e };
      }
      componentDidCatch(e, t) {
        console.error("<Await> caught the following error during render", e, t);
      }
      render() {
        let { children: e, errorElement: t, resolve: n } = this.props,
          r = null,
          i = pt.pending;
        if (n instanceof Promise)
          if (this.state.error) {
            pt.error;
            let e = this.state.error;
            Promise.reject().catch(() => {}),
              Object.defineProperty(r, "_tracked", { get: () => !0 }),
              Object.defineProperty(r, "_error", { get: () => e });
          } else
            n._tracked
              ? void 0 !== r._error
                ? pt.error
                : void 0 !== r._data
                ? pt.success
                : pt.pending
              : (pt.pending,
                Object.defineProperty(n, "_tracked", { get: () => !0 }),
                n.then(
                  e => Object.defineProperty(n, "_data", { get: () => e }),
                  e => Object.defineProperty(n, "_error", { get: () => e })
                ));
        else
          pt.success,
            Promise.resolve(),
            Object.defineProperty(r, "_tracked", { get: () => !0 }),
            Object.defineProperty(r, "_data", { get: () => n });
        if (i === pt.error && r._error instanceof AbortedDeferredError) throw neverSettledPromise;
        if (i === pt.error && !t) throw r._error;
        if (i === pt.error) return React.createElement(AwaitContext.Provider, { value: r, children: t });
        if (i === pt.success) return React.createElement(AwaitContext.Provider, { value: r, children: e });
        throw r;
      }
    }
    function kt(t, n) {
      void 0 === n && (n = []);
      let r = [];
      return (
        e.Children.forEach(t, (t, i) => {
          if (!e.isValidElement(t)) return;
          let o = [...n, i];
          if (t.type === e.Fragment) return void r.push.apply(r, kt(t.props.children, o));
          t.type !== wt && N(!1), t.props.index && t.props.children && N(!1);
          let a = {
            id: t.props.id || o.join("-"),
            caseSensitive: t.props.caseSensitive,
            element: t.props.element,
            Component: t.props.Component,
            index: t.props.index,
            path: t.props.path,
            loader: t.props.loader,
            action: t.props.action,
            errorElement: t.props.errorElement,
            ErrorBoundary: t.props.ErrorBoundary,
            hasErrorBoundary: null != t.props.ErrorBoundary || null != t.props.errorElement,
            shouldRevalidate: t.props.shouldRevalidate,
            handle: t.props.handle,
            lazy: t.props.lazy,
          };
          t.props.children && (a.children = kt(t.props.children, o)), r.push(a);
        }),
        r
      );
    }
    function jt() {
      return (
        (jt = Object.assign
          ? Object.assign.bind()
          : function (e) {
              for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            }),
        jt.apply(this, arguments)
      );
    }
    const St = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset"];
    function At(e) {
      if (!e) return null;
      let t = Object.entries(e),
        n = {};
      for (let [e, r] of t)
        if (r && "RouteErrorResponse" === r.__type) n[e] = new ae(r.status, r.statusText, r.data, !0 === r.internal);
        else if (r && "Error" === r.__type) {
          let t = new Error(r.message);
          (t.stack = ""), (n[e] = t);
        } else n[e] = r;
      return n;
    }
    const Ct = "undefined" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement,
      Nt = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,
      Pt = e.forwardRef(function (t, n) {
        let r,
          {
            onClick: i,
            relative: o,
            reloadDocument: a,
            replace: s,
            state: l,
            target: c,
            to: u,
            preventScrollReset: d,
          } = t,
          f = (function (e, t) {
            if (null == e) return {};
            var n,
              r,
              i = {},
              o = Object.keys(e);
            for (r = 0; r < o.length; r++) (n = o[r]), t.indexOf(n) >= 0 || (i[n] = e[n]);
            return i;
          })(t, St),
          { basename: h } = e.useContext(Qe),
          p = !1;
        if ("string" == typeof u && Nt.test(u) && ((r = u), Ct)) {
          let e = new URL(window.location.href),
            t = u.startsWith("//") ? new URL(e.protocol + u) : new URL(u),
            n = X(t.pathname, h);
          t.origin === e.origin && null != n ? (u = n + t.search + t.hash) : (p = !0);
        }
        let m = (function (t, n) {
            let { relative: r } = void 0 === n ? {} : n;
            rt() || N(!1);
            let { basename: i, navigator: o } = e.useContext(Qe),
              { hash: a, pathname: s, search: l } = lt(t, { relative: r }),
              c = s;
            return "/" !== i && (c = "/" === s ? i : te([i, s])), o.createHref({ pathname: c, search: l, hash: a });
          })(u, { relative: o }),
          y = (function (t, n) {
            let { target: r, replace: i, state: o, preventScrollReset: a, relative: s } = void 0 === n ? {} : n,
              l = ot(),
              c = it(),
              u = lt(t, { relative: s });
            return e.useCallback(
              e => {
                if (
                  (function (e, t) {
                    return !(
                      0 !== e.button ||
                      (t && "_self" !== t) ||
                      (function (e) {
                        return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey);
                      })(e)
                    );
                  })(e, r)
                ) {
                  e.preventDefault();
                  let n = void 0 !== i ? i : M(c) === M(u);
                  l(t, { replace: n, state: o, preventScrollReset: a, relative: s });
                }
              },
              [c, l, u, i, o, r, t, a, s]
            );
          })(u, { replace: s, state: l, target: c, preventScrollReset: d, relative: o });
        return e.createElement(
          "a",
          jt({}, f, {
            href: r || m,
            onClick:
              p || a
                ? i
                : function (e) {
                    i && i(e), e.defaultPrevented || y(e);
                  },
            ref: n,
            target: c,
          })
        );
      });
    var _t, Tt;
    (function (e) {
      (e.UseScrollRestoration = "useScrollRestoration"),
        (e.UseSubmitImpl = "useSubmitImpl"),
        (e.UseFetcher = "useFetcher");
    })(_t || (_t = {})),
      (function (e) {
        (e.UseFetchers = "useFetchers"), (e.UseScrollRestoration = "useScrollRestoration");
      })(Tt || (Tt = {}));
    var Mt = a(2087),
      Rt = function (e, t) {
        return (
          (Rt =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (e, t) {
                e.__proto__ = t;
              }) ||
            function (e, t) {
              for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }),
          Rt(e, t)
        );
      };
    function Bt(e, t) {
      if ("function" != typeof t && null !== t)
        throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
      function n() {
        this.constructor = e;
      }
      Rt(e, t), (e.prototype = null === t ? Object.create(t) : ((n.prototype = t.prototype), new n()));
    }
    var Ot = function () {
      return (
        (Ot =
          Object.assign ||
          function (e) {
            for (var t, n = 1, r = arguments.length; n < r; n++)
              for (var i in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e;
          }),
        Ot.apply(this, arguments)
      );
    };
    function Lt(e, t) {
      var n = {};
      for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
      if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var i = 0;
        for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
          t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);
      }
      return n;
    }
    function It(e, t, n) {
      if (n || 2 === arguments.length)
        for (var r, i = 0, o = t.length; i < o; i++)
          (!r && i in t) || (r || (r = Array.prototype.slice.call(t, 0, i)), (r[i] = t[i]));
      return e.concat(r || Array.prototype.slice.call(t));
    }
    Object.create, Object.create;
    var Ft,
      Dt,
      Ut,
      zt =
        "undefined" == typeof window || window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__
          ? e.createContext(null)
          : window.__REACT_INTL_CONTEXT__ || (window.__REACT_INTL_CONTEXT__ = e.createContext(null)),
      Ht = (zt.Consumer, zt.Provider),
      Kt = zt;
    function Wt(e, t, n) {
      if ((void 0 === n && (n = Error), !e)) throw new n(t);
    }
    function qt(e) {
      return e.type === Dt.literal;
    }
    function Vt(e) {
      return e.type === Dt.argument;
    }
    function $t(e) {
      return e.type === Dt.number;
    }
    function Gt(e) {
      return e.type === Dt.date;
    }
    function Zt(e) {
      return e.type === Dt.time;
    }
    function Yt(e) {
      return e.type === Dt.select;
    }
    function Xt(e) {
      return e.type === Dt.plural;
    }
    function Qt(e) {
      return e.type === Dt.pound;
    }
    function Jt(e) {
      return e.type === Dt.tag;
    }
    function en(e) {
      return !(!e || "object" != typeof e || e.type !== Ut.number);
    }
    function tn(e) {
      return !(!e || "object" != typeof e || e.type !== Ut.dateTime);
    }
    !(function (e) {
      (e[(e.EXPECT_ARGUMENT_CLOSING_BRACE = 1)] = "EXPECT_ARGUMENT_CLOSING_BRACE"),
        (e[(e.EMPTY_ARGUMENT = 2)] = "EMPTY_ARGUMENT"),
        (e[(e.MALFORMED_ARGUMENT = 3)] = "MALFORMED_ARGUMENT"),
        (e[(e.EXPECT_ARGUMENT_TYPE = 4)] = "EXPECT_ARGUMENT_TYPE"),
        (e[(e.INVALID_ARGUMENT_TYPE = 5)] = "INVALID_ARGUMENT_TYPE"),
        (e[(e.EXPECT_ARGUMENT_STYLE = 6)] = "EXPECT_ARGUMENT_STYLE"),
        (e[(e.INVALID_NUMBER_SKELETON = 7)] = "INVALID_NUMBER_SKELETON"),
        (e[(e.INVALID_DATE_TIME_SKELETON = 8)] = "INVALID_DATE_TIME_SKELETON"),
        (e[(e.EXPECT_NUMBER_SKELETON = 9)] = "EXPECT_NUMBER_SKELETON"),
        (e[(e.EXPECT_DATE_TIME_SKELETON = 10)] = "EXPECT_DATE_TIME_SKELETON"),
        (e[(e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE = 11)] = "UNCLOSED_QUOTE_IN_ARGUMENT_STYLE"),
        (e[(e.EXPECT_SELECT_ARGUMENT_OPTIONS = 12)] = "EXPECT_SELECT_ARGUMENT_OPTIONS"),
        (e[(e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE = 13)] = "EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE"),
        (e[(e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE = 14)] = "INVALID_PLURAL_ARGUMENT_OFFSET_VALUE"),
        (e[(e.EXPECT_SELECT_ARGUMENT_SELECTOR = 15)] = "EXPECT_SELECT_ARGUMENT_SELECTOR"),
        (e[(e.EXPECT_PLURAL_ARGUMENT_SELECTOR = 16)] = "EXPECT_PLURAL_ARGUMENT_SELECTOR"),
        (e[(e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT = 17)] = "EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT"),
        (e[(e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT = 18)] = "EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT"),
        (e[(e.INVALID_PLURAL_ARGUMENT_SELECTOR = 19)] = "INVALID_PLURAL_ARGUMENT_SELECTOR"),
        (e[(e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR = 20)] = "DUPLICATE_PLURAL_ARGUMENT_SELECTOR"),
        (e[(e.DUPLICATE_SELECT_ARGUMENT_SELECTOR = 21)] = "DUPLICATE_SELECT_ARGUMENT_SELECTOR"),
        (e[(e.MISSING_OTHER_CLAUSE = 22)] = "MISSING_OTHER_CLAUSE"),
        (e[(e.INVALID_TAG = 23)] = "INVALID_TAG"),
        (e[(e.INVALID_TAG_NAME = 25)] = "INVALID_TAG_NAME"),
        (e[(e.UNMATCHED_CLOSING_TAG = 26)] = "UNMATCHED_CLOSING_TAG"),
        (e[(e.UNCLOSED_TAG = 27)] = "UNCLOSED_TAG");
    })(Ft || (Ft = {})),
      (function (e) {
        (e[(e.literal = 0)] = "literal"),
          (e[(e.argument = 1)] = "argument"),
          (e[(e.number = 2)] = "number"),
          (e[(e.date = 3)] = "date"),
          (e[(e.time = 4)] = "time"),
          (e[(e.select = 5)] = "select"),
          (e[(e.plural = 6)] = "plural"),
          (e[(e.pound = 7)] = "pound"),
          (e[(e.tag = 8)] = "tag");
      })(Dt || (Dt = {})),
      (function (e) {
        (e[(e.number = 0)] = "number"), (e[(e.dateTime = 1)] = "dateTime");
      })(Ut || (Ut = {}));
    var nn = /[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,
      rn =
        /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;
    function on(e) {
      var t = {};
      return (
        e.replace(rn, function (e) {
          var n = e.length;
          switch (e[0]) {
            case "G":
              t.era = 4 === n ? "long" : 5 === n ? "narrow" : "short";
              break;
            case "y":
              t.year = 2 === n ? "2-digit" : "numeric";
              break;
            case "Y":
            case "u":
            case "U":
            case "r":
              throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");
            case "q":
            case "Q":
              throw new RangeError("`q/Q` (quarter) patterns are not supported");
            case "M":
            case "L":
              t.month = ["numeric", "2-digit", "short", "long", "narrow"][n - 1];
              break;
            case "w":
            case "W":
              throw new RangeError("`w/W` (week) patterns are not supported");
            case "d":
              t.day = ["numeric", "2-digit"][n - 1];
              break;
            case "D":
            case "F":
            case "g":
              throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");
            case "E":
              t.weekday = 4 === n ? "short" : 5 === n ? "narrow" : "short";
              break;
            case "e":
              if (n < 4) throw new RangeError("`e..eee` (weekday) patterns are not supported");
              t.weekday = ["short", "long", "narrow", "short"][n - 4];
              break;
            case "c":
              if (n < 4) throw new RangeError("`c..ccc` (weekday) patterns are not supported");
              t.weekday = ["short", "long", "narrow", "short"][n - 4];
              break;
            case "a":
              t.hour12 = !0;
              break;
            case "b":
            case "B":
              throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");
            case "h":
              (t.hourCycle = "h12"), (t.hour = ["numeric", "2-digit"][n - 1]);
              break;
            case "H":
              (t.hourCycle = "h23"), (t.hour = ["numeric", "2-digit"][n - 1]);
              break;
            case "K":
              (t.hourCycle = "h11"), (t.hour = ["numeric", "2-digit"][n - 1]);
              break;
            case "k":
              (t.hourCycle = "h24"), (t.hour = ["numeric", "2-digit"][n - 1]);
              break;
            case "j":
            case "J":
            case "C":
              throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");
            case "m":
              t.minute = ["numeric", "2-digit"][n - 1];
              break;
            case "s":
              t.second = ["numeric", "2-digit"][n - 1];
              break;
            case "S":
            case "A":
              throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");
            case "z":
              t.timeZoneName = n < 4 ? "short" : "long";
              break;
            case "Z":
            case "O":
            case "v":
            case "V":
            case "X":
            case "x":
              throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead");
          }
          return "";
        }),
        t
      );
    }
    var an = /[\t-\r \x85\u200E\u200F\u2028\u2029]/i,
      sn = /^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,
      ln = /^(@+)?(\+|#+)?[rs]?$/g,
      cn = /(\*)(0+)|(#+)(0+)|(0+)/g,
      un = /^(0+)$/;
    function dn(e) {
      var t = {};
      return (
        "r" === e[e.length - 1]
          ? (t.roundingPriority = "morePrecision")
          : "s" === e[e.length - 1] && (t.roundingPriority = "lessPrecision"),
        e.replace(ln, function (e, n, r) {
          return (
            "string" != typeof r
              ? ((t.minimumSignificantDigits = n.length), (t.maximumSignificantDigits = n.length))
              : "+" === r
              ? (t.minimumSignificantDigits = n.length)
              : "#" === n[0]
              ? (t.maximumSignificantDigits = n.length)
              : ((t.minimumSignificantDigits = n.length),
                (t.maximumSignificantDigits = n.length + ("string" == typeof r ? r.length : 0))),
            ""
          );
        }),
        t
      );
    }
    function fn(e) {
      switch (e) {
        case "sign-auto":
          return { signDisplay: "auto" };
        case "sign-accounting":
        case "()":
          return { currencySign: "accounting" };
        case "sign-always":
        case "+!":
          return { signDisplay: "always" };
        case "sign-accounting-always":
        case "()!":
          return { signDisplay: "always", currencySign: "accounting" };
        case "sign-except-zero":
        case "+?":
          return { signDisplay: "exceptZero" };
        case "sign-accounting-except-zero":
        case "()?":
          return { signDisplay: "exceptZero", currencySign: "accounting" };
        case "sign-never":
        case "+_":
          return { signDisplay: "never" };
      }
    }
    function hn(e) {
      var t;
      if (
        ("E" === e[0] && "E" === e[1]
          ? ((t = { notation: "engineering" }), (e = e.slice(2)))
          : "E" === e[0] && ((t = { notation: "scientific" }), (e = e.slice(1))),
        t)
      ) {
        var n = e.slice(0, 2);
        if (
          ("+!" === n
            ? ((t.signDisplay = "always"), (e = e.slice(2)))
            : "+?" === n && ((t.signDisplay = "exceptZero"), (e = e.slice(2))),
          !un.test(e))
        )
          throw new Error("Malformed concise eng/scientific notation");
        t.minimumIntegerDigits = e.length;
      }
      return t;
    }
    function pn(e) {
      return fn(e) || {};
    }
    function mn(e) {
      for (var t = {}, n = 0, r = e; n < r.length; n++) {
        var i = r[n];
        switch (i.stem) {
          case "percent":
          case "%":
            t.style = "percent";
            continue;
          case "%x100":
            (t.style = "percent"), (t.scale = 100);
            continue;
          case "currency":
            (t.style = "currency"), (t.currency = i.options[0]);
            continue;
          case "group-off":
          case ",_":
            t.useGrouping = !1;
            continue;
          case "precision-integer":
          case ".":
            t.maximumFractionDigits = 0;
            continue;
          case "measure-unit":
          case "unit":
            (t.style = "unit"), (t.unit = i.options[0].replace(/^(.*?)-/, ""));
            continue;
          case "compact-short":
          case "K":
            (t.notation = "compact"), (t.compactDisplay = "short");
            continue;
          case "compact-long":
          case "KK":
            (t.notation = "compact"), (t.compactDisplay = "long");
            continue;
          case "scientific":
            t = Ot(
              Ot(Ot({}, t), { notation: "scientific" }),
              i.options.reduce(function (e, t) {
                return Ot(Ot({}, e), pn(t));
              }, {})
            );
            continue;
          case "engineering":
            t = Ot(
              Ot(Ot({}, t), { notation: "engineering" }),
              i.options.reduce(function (e, t) {
                return Ot(Ot({}, e), pn(t));
              }, {})
            );
            continue;
          case "notation-simple":
            t.notation = "standard";
            continue;
          case "unit-width-narrow":
            (t.currencyDisplay = "narrowSymbol"), (t.unitDisplay = "narrow");
            continue;
          case "unit-width-short":
            (t.currencyDisplay = "code"), (t.unitDisplay = "short");
            continue;
          case "unit-width-full-name":
            (t.currencyDisplay = "name"), (t.unitDisplay = "long");
            continue;
          case "unit-width-iso-code":
            t.currencyDisplay = "symbol";
            continue;
          case "scale":
            t.scale = parseFloat(i.options[0]);
            continue;
          case "integer-width":
            if (i.options.length > 1) throw new RangeError("integer-width stems only accept a single optional option");
            i.options[0].replace(cn, function (e, n, r, i, o, a) {
              if (n) t.minimumIntegerDigits = r.length;
              else {
                if (i && o) throw new Error("We currently do not support maximum integer digits");
                if (a) throw new Error("We currently do not support exact integer digits");
              }
              return "";
            });
            continue;
        }
        if (un.test(i.stem)) t.minimumIntegerDigits = i.stem.length;
        else if (sn.test(i.stem)) {
          if (i.options.length > 1)
            throw new RangeError("Fraction-precision stems only accept a single optional option");
          i.stem.replace(sn, function (e, n, r, i, o, a) {
            return (
              "*" === r
                ? (t.minimumFractionDigits = n.length)
                : i && "#" === i[0]
                ? (t.maximumFractionDigits = i.length)
                : o && a
                ? ((t.minimumFractionDigits = o.length), (t.maximumFractionDigits = o.length + a.length))
                : ((t.minimumFractionDigits = n.length), (t.maximumFractionDigits = n.length)),
              ""
            );
          });
          var o = i.options[0];
          "w" === o ? (t = Ot(Ot({}, t), { trailingZeroDisplay: "stripIfInteger" })) : o && (t = Ot(Ot({}, t), dn(o)));
        } else if (ln.test(i.stem)) t = Ot(Ot({}, t), dn(i.stem));
        else {
          var a = fn(i.stem);
          a && (t = Ot(Ot({}, t), a));
          var s = hn(i.stem);
          s && (t = Ot(Ot({}, t), s));
        }
      }
      return t;
    }
    var yn,
      gn = {
        "001": ["H", "h"],
        AC: ["H", "h", "hb", "hB"],
        AD: ["H", "hB"],
        AE: ["h", "hB", "hb", "H"],
        AF: ["H", "hb", "hB", "h"],
        AG: ["h", "hb", "H", "hB"],
        AI: ["H", "h", "hb", "hB"],
        AL: ["h", "H", "hB"],
        AM: ["H", "hB"],
        AO: ["H", "hB"],
        AR: ["H", "h", "hB", "hb"],
        AS: ["h", "H"],
        AT: ["H", "hB"],
        AU: ["h", "hb", "H", "hB"],
        AW: ["H", "hB"],
        AX: ["H"],
        AZ: ["H", "hB", "h"],
        BA: ["H", "hB", "h"],
        BB: ["h", "hb", "H", "hB"],
        BD: ["h", "hB", "H"],
        BE: ["H", "hB"],
        BF: ["H", "hB"],
        BG: ["H", "hB", "h"],
        BH: ["h", "hB", "hb", "H"],
        BJ: ["H", "hB"],
        BL: ["H", "hB"],
        BM: ["h", "hb", "H", "hB"],
        BN: ["hb", "hB", "h", "H"],
        BO: ["H", "hB", "h", "hb"],
        BQ: ["H"],
        BR: ["H", "hB"],
        BS: ["h", "hb", "H", "hB"],
        BT: ["h", "H"],
        BW: ["H", "h", "hb", "hB"],
        BZ: ["H", "h", "hb", "hB"],
        CA: ["h", "hb", "H", "hB"],
        CC: ["H", "h", "hb", "hB"],
        CD: ["hB", "H"],
        CF: ["H", "h", "hB"],
        CG: ["H", "hB"],
        CH: ["H", "hB", "h"],
        CI: ["H", "hB"],
        CK: ["H", "h", "hb", "hB"],
        CL: ["H", "h", "hB", "hb"],
        CM: ["H", "h", "hB"],
        CN: ["H", "hB", "hb", "h"],
        CO: ["h", "H", "hB", "hb"],
        CP: ["H"],
        CR: ["H", "h", "hB", "hb"],
        CU: ["H", "h", "hB", "hb"],
        CV: ["H", "hB"],
        CX: ["H", "h", "hb", "hB"],
        CY: ["h", "H", "hb", "hB"],
        CZ: ["H"],
        DE: ["H", "hB"],
        DG: ["H", "h", "hb", "hB"],
        DJ: ["h", "H"],
        DK: ["H"],
        DM: ["h", "hb", "H", "hB"],
        DO: ["h", "H", "hB", "hb"],
        DZ: ["h", "hB", "hb", "H"],
        EA: ["H", "h", "hB", "hb"],
        EC: ["H", "hB", "h", "hb"],
        EE: ["H", "hB"],
        EG: ["h", "hB", "hb", "H"],
        EH: ["h", "hB", "hb", "H"],
        ER: ["h", "H"],
        ES: ["H", "hB", "h", "hb"],
        ET: ["hB", "hb", "h", "H"],
        FI: ["H"],
        FJ: ["h", "hb", "H", "hB"],
        FK: ["H", "h", "hb", "hB"],
        FM: ["h", "hb", "H", "hB"],
        FR: ["H", "hB"],
        GA: ["H", "hB"],
        GB: ["H", "h", "hb", "hB"],
        GD: ["h", "hb", "H", "hB"],
        GE: ["H", "hB", "h"],
        GF: ["H", "hB"],
        GG: ["H", "h", "hb", "hB"],
        GH: ["h", "H"],
        GI: ["H", "h", "hb", "hB"],
        GM: ["h", "hb", "H", "hB"],
        GN: ["H", "hB"],
        GP: ["H", "hB"],
        GQ: ["H", "hB", "h", "hb"],
        GR: ["h", "H", "hb", "hB"],
        GT: ["H", "h", "hB", "hb"],
        GU: ["h", "hb", "H", "hB"],
        GW: ["H", "hB"],
        GY: ["h", "hb", "H", "hB"],
        HK: ["h", "hB", "hb", "H"],
        HN: ["H", "h", "hB", "hb"],
        HR: ["H", "hB"],
        IC: ["H", "h", "hB", "hb"],
        ID: ["H"],
        IE: ["H", "h", "hb", "hB"],
        IL: ["H", "hB"],
        IM: ["H", "h", "hb", "hB"],
        IN: ["h", "H"],
        IO: ["H", "h", "hb", "hB"],
        IQ: ["h", "hB", "hb", "H"],
        IR: ["hB", "H"],
        IS: ["H"],
        IT: ["H", "hB"],
        JE: ["H", "h", "hb", "hB"],
        JM: ["h", "hb", "H", "hB"],
        JO: ["h", "hB", "hb", "H"],
        JP: ["H", "h", "K"],
        KE: ["hB", "hb", "H", "h"],
        KG: ["H", "h", "hB", "hb"],
        KH: ["hB", "h", "H", "hb"],
        KI: ["h", "hb", "H", "hB"],
        KM: ["H", "h", "hB", "hb"],
        KN: ["h", "hb", "H", "hB"],
        KP: ["h", "H", "hB", "hb"],
        KR: ["h", "H", "hB", "hb"],
        KW: ["h", "hB", "hb", "H"],
        KY: ["h", "hb", "H", "hB"],
        KZ: ["H", "hB"],
        LA: ["H", "hb", "hB", "h"],
        LB: ["h", "hB", "hb", "H"],
        LC: ["h", "hb", "H", "hB"],
        LI: ["H", "hB", "h"],
        LK: ["H", "h", "hB", "hb"],
        LR: ["h", "hb", "H", "hB"],
        LS: ["h", "H"],
        LT: ["H", "h", "hb", "hB"],
        LU: ["H", "h", "hB"],
        LV: ["H", "hB", "hb", "h"],
        LY: ["h", "hB", "hb", "H"],
        MA: ["H", "h", "hB", "hb"],
        MC: ["H", "hB"],
        MD: ["H", "hB"],
        ME: ["H", "hB", "h"],
        MF: ["H", "hB"],
        MH: ["h", "hb", "H", "hB"],
        MK: ["H", "h", "hb", "hB"],
        ML: ["H"],
        MM: ["hB", "hb", "H", "h"],
        MN: ["H", "h", "hb", "hB"],
        MO: ["h", "hB", "hb", "H"],
        MP: ["h", "hb", "H", "hB"],
        MQ: ["H", "hB"],
        MR: ["h", "hB", "hb", "H"],
        MS: ["H", "h", "hb", "hB"],
        MW: ["h", "hb", "H", "hB"],
        MX: ["H", "h", "hB", "hb"],
        MY: ["hb", "hB", "h", "H"],
        MZ: ["H", "hB"],
        NA: ["h", "H", "hB", "hb"],
        NC: ["H", "hB"],
        NE: ["H"],
        NF: ["H", "h", "hb", "hB"],
        NG: ["H", "h", "hb", "hB"],
        NI: ["H", "h", "hB", "hb"],
        NL: ["H", "hB"],
        NP: ["H", "h", "hB"],
        NR: ["H", "h", "hb", "hB"],
        NU: ["H", "h", "hb", "hB"],
        NZ: ["h", "hb", "H", "hB"],
        OM: ["h", "hB", "hb", "H"],
        PA: ["h", "H", "hB", "hb"],
        PE: ["H", "hB", "h", "hb"],
        PF: ["H", "h", "hB"],
        PG: ["h", "H"],
        PH: ["h", "hB", "hb", "H"],
        PK: ["h", "hB", "H"],
        PM: ["H", "hB"],
        PN: ["H", "h", "hb", "hB"],
        PR: ["h", "H", "hB", "hb"],
        PS: ["h", "hB", "hb", "H"],
        PT: ["H", "hB"],
        PW: ["h", "H"],
        PY: ["H", "h", "hB", "hb"],
        QA: ["h", "hB", "hb", "H"],
        RE: ["H", "hB"],
        RO: ["H", "hB"],
        RS: ["H", "hB", "h"],
        RU: ["H"],
        SA: ["h", "hB", "hb", "H"],
        SB: ["h", "hb", "H", "hB"],
        SC: ["H", "h", "hB"],
        SD: ["h", "hB", "hb", "H"],
        SE: ["H"],
        SG: ["h", "hb", "H", "hB"],
        SH: ["H", "h", "hb", "hB"],
        SI: ["H", "hB"],
        SJ: ["H"],
        SK: ["H"],
        SL: ["h", "hb", "H", "hB"],
        SM: ["H", "h", "hB"],
        SN: ["H", "h", "hB"],
        SO: ["h", "H"],
        SR: ["H", "hB"],
        SS: ["h", "hb", "H", "hB"],
        ST: ["H", "hB"],
        SV: ["H", "h", "hB", "hb"],
        SX: ["H", "h", "hb", "hB"],
        SY: ["h", "hB", "hb", "H"],
        SZ: ["h", "hb", "H", "hB"],
        TA: ["H", "h", "hb", "hB"],
        TC: ["h", "hb", "H", "hB"],
        TD: ["h", "H", "hB"],
        TF: ["H", "h", "hB"],
        TG: ["H", "hB"],
        TL: ["H", "hB", "hb", "h"],
        TN: ["h", "hB", "hb", "H"],
        TO: ["h", "H"],
        TR: ["H", "hB"],
        TT: ["h", "hb", "H", "hB"],
        TW: ["hB", "hb", "h", "H"],
        TZ: ["hB", "hb", "H", "h"],
        UA: ["H", "hB", "h"],
        UG: ["hB", "hb", "H", "h"],
        UM: ["h", "hb", "H", "hB"],
        US: ["h", "hb", "H", "hB"],
        UY: ["H", "h", "hB", "hb"],
        UZ: ["H", "hB", "h"],
        VA: ["H", "h", "hB"],
        VC: ["h", "hb", "H", "hB"],
        VE: ["h", "H", "hB", "hb"],
        VG: ["h", "hb", "H", "hB"],
        VI: ["h", "hb", "H", "hB"],
        VU: ["h", "H"],
        WF: ["H", "hB"],
        WS: ["h", "H"],
        XK: ["H", "hB", "h"],
        YE: ["h", "hB", "hb", "H"],
        YT: ["H", "hB"],
        ZA: ["H", "h", "hb", "hB"],
        ZM: ["h", "hb", "H", "hB"],
        "af-ZA": ["H", "h", "hB", "hb"],
        "ar-001": ["h", "hB", "hb", "H"],
        "ca-ES": ["H", "h", "hB"],
        "en-001": ["h", "hb", "H", "hB"],
        "es-BO": ["H", "h", "hB", "hb"],
        "es-BR": ["H", "h", "hB", "hb"],
        "es-EC": ["H", "h", "hB", "hb"],
        "es-ES": ["H", "h", "hB", "hb"],
        "es-GQ": ["H", "h", "hB", "hb"],
        "es-PE": ["H", "h", "hB", "hb"],
        "fr-CA": ["H", "h", "hB"],
        "gl-ES": ["H", "h", "hB"],
        "gu-IN": ["hB", "hb", "h", "H"],
        "hi-IN": ["hB", "h", "H"],
        "it-CH": ["H", "h", "hB"],
        "it-IT": ["H", "h", "hB"],
        "kn-IN": ["hB", "h", "H"],
        "ml-IN": ["hB", "h", "H"],
        "mr-IN": ["hB", "hb", "h", "H"],
        "pa-IN": ["hB", "hb", "h", "H"],
        "ta-IN": ["hB", "h", "hb", "H"],
        "te-IN": ["hB", "h", "H"],
        "zu-ZA": ["H", "hB", "hb", "h"],
      };
    function vn(e) {
      var t = e.hourCycle;
      if ((void 0 === t && e.hourCycles && e.hourCycles.length && (t = e.hourCycles[0]), t))
        switch (t) {
          case "h24":
            return "k";
          case "h23":
            return "H";
          case "h12":
            return "h";
          case "h11":
            return "K";
          default:
            throw new Error("Invalid hourCycle");
        }
      var n,
        r = e.language;
      return (
        "root" !== r && (n = e.maximize().region),
        (gn[n || ""] || gn[r || ""] || gn["".concat(r, "-001")] || gn["001"])[0]
      );
    }
    var wn = new RegExp("^".concat(nn.source, "*")),
      bn = new RegExp("".concat(nn.source, "*$"));
    function xn(e, t) {
      return { start: e, end: t };
    }
    var En = !!String.prototype.startsWith,
      kn = !!String.fromCodePoint,
      jn = !!Object.fromEntries,
      Sn = !!String.prototype.codePointAt,
      An = !!String.prototype.trimStart,
      Cn = !!String.prototype.trimEnd,
      Nn = Number.isSafeInteger
        ? Number.isSafeInteger
        : function (e) {
            return "number" == typeof e && isFinite(e) && Math.floor(e) === e && Math.abs(e) <= 9007199254740991;
          },
      Pn = !0;
    try {
      Pn =
        "a" ===
        (null === (yn = In("([^\\p{White_Space}\\p{Pattern_Syntax}]*)", "yu").exec("a")) || void 0 === yn
          ? void 0
          : yn[0]);
    } catch (Ca) {
      Pn = !1;
    }
    var _n,
      Tn = En
        ? function (e, t, n) {
            return e.startsWith(t, n);
          }
        : function (e, t, n) {
            return e.slice(n, n + t.length) === t;
          },
      Mn = kn
        ? String.fromCodePoint
        : function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            for (var n, r = "", i = e.length, o = 0; i > o; ) {
              if ((n = e[o++]) > 1114111) throw RangeError(n + " is not a valid code point");
              r +=
                n < 65536
                  ? String.fromCharCode(n)
                  : String.fromCharCode(55296 + ((n -= 65536) >> 10), (n % 1024) + 56320);
            }
            return r;
          },
      Rn = jn
        ? Object.fromEntries
        : function (e) {
            for (var t = {}, n = 0, r = e; n < r.length; n++) {
              var i = r[n],
                o = i[0],
                a = i[1];
              t[o] = a;
            }
            return t;
          },
      Bn = Sn
        ? function (e, t) {
            return e.codePointAt(t);
          }
        : function (e, t) {
            var n = e.length;
            if (!(t < 0 || t >= n)) {
              var r,
                i = e.charCodeAt(t);
              return i < 55296 || i > 56319 || t + 1 === n || (r = e.charCodeAt(t + 1)) < 56320 || r > 57343
                ? i
                : r - 56320 + ((i - 55296) << 10) + 65536;
            }
          },
      On = An
        ? function (e) {
            return e.trimStart();
          }
        : function (e) {
            return e.replace(wn, "");
          },
      Ln = Cn
        ? function (e) {
            return e.trimEnd();
          }
        : function (e) {
            return e.replace(bn, "");
          };
    function In(e, t) {
      return new RegExp(e, t);
    }
    if (Pn) {
      var Fn = In("([^\\p{White_Space}\\p{Pattern_Syntax}]*)", "yu");
      _n = function (e, t) {
        var n;
        return (Fn.lastIndex = t), null !== (n = Fn.exec(e)[1]) && void 0 !== n ? n : "";
      };
    } else
      _n = function (e, t) {
        for (var n = []; ; ) {
          var r = Bn(e, t);
          if (void 0 === r || Hn(r) || Kn(r)) break;
          n.push(r), (t += r >= 65536 ? 2 : 1);
        }
        return Mn.apply(void 0, n);
      };
    var Dn = (function () {
      function e(e, t) {
        void 0 === t && (t = {}),
          (this.message = e),
          (this.position = { offset: 0, line: 1, column: 1 }),
          (this.ignoreTag = !!t.ignoreTag),
          (this.locale = t.locale),
          (this.requiresOtherClause = !!t.requiresOtherClause),
          (this.shouldParseSkeletons = !!t.shouldParseSkeletons);
      }
      return (
        (e.prototype.parse = function () {
          if (0 !== this.offset()) throw Error("parser can only be used once");
          return this.parseMessage(0, "", !1);
        }),
        (e.prototype.parseMessage = function (e, t, n) {
          for (var r = []; !this.isEOF(); ) {
            var i = this.char();
            if (123 === i) {
              if ((o = this.parseArgument(e, n)).err) return o;
              r.push(o.val);
            } else {
              if (125 === i && e > 0) break;
              if (35 !== i || ("plural" !== t && "selectordinal" !== t)) {
                if (60 === i && !this.ignoreTag && 47 === this.peek()) {
                  if (n) break;
                  return this.error(Ft.UNMATCHED_CLOSING_TAG, xn(this.clonePosition(), this.clonePosition()));
                }
                if (60 === i && !this.ignoreTag && Un(this.peek() || 0)) {
                  if ((o = this.parseTag(e, t)).err) return o;
                  r.push(o.val);
                } else {
                  var o;
                  if ((o = this.parseLiteral(e, t)).err) return o;
                  r.push(o.val);
                }
              } else {
                var a = this.clonePosition();
                this.bump(), r.push({ type: Dt.pound, location: xn(a, this.clonePosition()) });
              }
            }
          }
          return { val: r, err: null };
        }),
        (e.prototype.parseTag = function (e, t) {
          var n = this.clonePosition();
          this.bump();
          var r = this.parseTagName();
          if ((this.bumpSpace(), this.bumpIf("/>")))
            return {
              val: { type: Dt.literal, value: "<".concat(r, "/>"), location: xn(n, this.clonePosition()) },
              err: null,
            };
          if (this.bumpIf(">")) {
            var i = this.parseMessage(e + 1, t, !0);
            if (i.err) return i;
            var o = i.val,
              a = this.clonePosition();
            if (this.bumpIf("</")) {
              if (this.isEOF() || !Un(this.char())) return this.error(Ft.INVALID_TAG, xn(a, this.clonePosition()));
              var s = this.clonePosition();
              return r !== this.parseTagName()
                ? this.error(Ft.UNMATCHED_CLOSING_TAG, xn(s, this.clonePosition()))
                : (this.bumpSpace(),
                  this.bumpIf(">")
                    ? { val: { type: Dt.tag, value: r, children: o, location: xn(n, this.clonePosition()) }, err: null }
                    : this.error(Ft.INVALID_TAG, xn(a, this.clonePosition())));
            }
            return this.error(Ft.UNCLOSED_TAG, xn(n, this.clonePosition()));
          }
          return this.error(Ft.INVALID_TAG, xn(n, this.clonePosition()));
        }),
        (e.prototype.parseTagName = function () {
          var e = this.offset();
          for (this.bump(); !this.isEOF() && zn(this.char()); ) this.bump();
          return this.message.slice(e, this.offset());
        }),
        (e.prototype.parseLiteral = function (e, t) {
          for (var n = this.clonePosition(), r = ""; ; ) {
            var i = this.tryParseQuote(t);
            if (i) r += i;
            else {
              var o = this.tryParseUnquoted(e, t);
              if (o) r += o;
              else {
                var a = this.tryParseLeftAngleBracket();
                if (!a) break;
                r += a;
              }
            }
          }
          var s = xn(n, this.clonePosition());
          return { val: { type: Dt.literal, value: r, location: s }, err: null };
        }),
        (e.prototype.tryParseLeftAngleBracket = function () {
          return this.isEOF() || 60 !== this.char() || (!this.ignoreTag && (Un((e = this.peek() || 0)) || 47 === e))
            ? null
            : (this.bump(), "<");
          var e;
        }),
        (e.prototype.tryParseQuote = function (e) {
          if (this.isEOF() || 39 !== this.char()) return null;
          switch (this.peek()) {
            case 39:
              return this.bump(), this.bump(), "'";
            case 123:
            case 60:
            case 62:
            case 125:
              break;
            case 35:
              if ("plural" === e || "selectordinal" === e) break;
              return null;
            default:
              return null;
          }
          this.bump();
          var t = [this.char()];
          for (this.bump(); !this.isEOF(); ) {
            var n = this.char();
            if (39 === n) {
              if (39 !== this.peek()) {
                this.bump();
                break;
              }
              t.push(39), this.bump();
            } else t.push(n);
            this.bump();
          }
          return Mn.apply(void 0, t);
        }),
        (e.prototype.tryParseUnquoted = function (e, t) {
          if (this.isEOF()) return null;
          var n = this.char();
          return 60 === n ||
            123 === n ||
            (35 === n && ("plural" === t || "selectordinal" === t)) ||
            (125 === n && e > 0)
            ? null
            : (this.bump(), Mn(n));
        }),
        (e.prototype.parseArgument = function (e, t) {
          var n = this.clonePosition();
          if ((this.bump(), this.bumpSpace(), this.isEOF()))
            return this.error(Ft.EXPECT_ARGUMENT_CLOSING_BRACE, xn(n, this.clonePosition()));
          if (125 === this.char()) return this.bump(), this.error(Ft.EMPTY_ARGUMENT, xn(n, this.clonePosition()));
          var r = this.parseIdentifierIfPossible().value;
          if (!r) return this.error(Ft.MALFORMED_ARGUMENT, xn(n, this.clonePosition()));
          if ((this.bumpSpace(), this.isEOF()))
            return this.error(Ft.EXPECT_ARGUMENT_CLOSING_BRACE, xn(n, this.clonePosition()));
          switch (this.char()) {
            case 125:
              return (
                this.bump(), { val: { type: Dt.argument, value: r, location: xn(n, this.clonePosition()) }, err: null }
              );
            case 44:
              return (
                this.bump(),
                this.bumpSpace(),
                this.isEOF()
                  ? this.error(Ft.EXPECT_ARGUMENT_CLOSING_BRACE, xn(n, this.clonePosition()))
                  : this.parseArgumentOptions(e, t, r, n)
              );
            default:
              return this.error(Ft.MALFORMED_ARGUMENT, xn(n, this.clonePosition()));
          }
        }),
        (e.prototype.parseIdentifierIfPossible = function () {
          var e = this.clonePosition(),
            t = this.offset(),
            n = _n(this.message, t),
            r = t + n.length;
          return this.bumpTo(r), { value: n, location: xn(e, this.clonePosition()) };
        }),
        (e.prototype.parseArgumentOptions = function (e, t, n, r) {
          var i,
            o = this.clonePosition(),
            a = this.parseIdentifierIfPossible().value,
            s = this.clonePosition();
          switch (a) {
            case "":
              return this.error(Ft.EXPECT_ARGUMENT_TYPE, xn(o, s));
            case "number":
            case "date":
            case "time":
              this.bumpSpace();
              var l = null;
              if (this.bumpIf(",")) {
                this.bumpSpace();
                var c = this.clonePosition();
                if ((g = this.parseSimpleArgStyleIfPossible()).err) return g;
                if (0 === (h = Ln(g.val)).length)
                  return this.error(Ft.EXPECT_ARGUMENT_STYLE, xn(this.clonePosition(), this.clonePosition()));
                l = { style: h, styleLocation: xn(c, this.clonePosition()) };
              }
              if ((v = this.tryParseArgumentClose(r)).err) return v;
              var u = xn(r, this.clonePosition());
              if (l && Tn(null == l ? void 0 : l.style, "::", 0)) {
                var d = On(l.style.slice(2));
                if ("number" === a)
                  return (g = this.parseNumberSkeletonFromString(d, l.styleLocation)).err
                    ? g
                    : { val: { type: Dt.number, value: n, location: u, style: g.val }, err: null };
                if (0 === d.length) return this.error(Ft.EXPECT_DATE_TIME_SKELETON, u);
                var f = d;
                this.locale &&
                  (f = (function (e, t) {
                    for (var n = "", r = 0; r < e.length; r++) {
                      var i = e.charAt(r);
                      if ("j" === i) {
                        for (var o = 0; r + 1 < e.length && e.charAt(r + 1) === i; ) o++, r++;
                        var a = 1 + (1 & o),
                          s = o < 2 ? 1 : 3 + (o >> 1),
                          l = vn(t);
                        for (("H" != l && "k" != l) || (s = 0); s-- > 0; ) n += "a";
                        for (; a-- > 0; ) n = l + n;
                      } else n += "J" === i ? "H" : i;
                    }
                    return n;
                  })(d, this.locale));
                var h = {
                  type: Ut.dateTime,
                  pattern: f,
                  location: l.styleLocation,
                  parsedOptions: this.shouldParseSkeletons ? on(f) : {},
                };
                return { val: { type: "date" === a ? Dt.date : Dt.time, value: n, location: u, style: h }, err: null };
              }
              return {
                val: {
                  type: "number" === a ? Dt.number : "date" === a ? Dt.date : Dt.time,
                  value: n,
                  location: u,
                  style: null !== (i = null == l ? void 0 : l.style) && void 0 !== i ? i : null,
                },
                err: null,
              };
            case "plural":
            case "selectordinal":
            case "select":
              var p = this.clonePosition();
              if ((this.bumpSpace(), !this.bumpIf(",")))
                return this.error(Ft.EXPECT_SELECT_ARGUMENT_OPTIONS, xn(p, Ot({}, p)));
              this.bumpSpace();
              var m = this.parseIdentifierIfPossible(),
                y = 0;
              if ("select" !== a && "offset" === m.value) {
                if (!this.bumpIf(":"))
                  return this.error(
                    Ft.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,
                    xn(this.clonePosition(), this.clonePosition())
                  );
                var g;
                if (
                  (this.bumpSpace(),
                  (g = this.tryParseDecimalInteger(
                    Ft.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,
                    Ft.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE
                  )).err)
                )
                  return g;
                this.bumpSpace(), (m = this.parseIdentifierIfPossible()), (y = g.val);
              }
              var v,
                w = this.tryParsePluralOrSelectOptions(e, a, t, m);
              if (w.err) return w;
              if ((v = this.tryParseArgumentClose(r)).err) return v;
              var b = xn(r, this.clonePosition());
              return "select" === a
                ? { val: { type: Dt.select, value: n, options: Rn(w.val), location: b }, err: null }
                : {
                    val: {
                      type: Dt.plural,
                      value: n,
                      options: Rn(w.val),
                      offset: y,
                      pluralType: "plural" === a ? "cardinal" : "ordinal",
                      location: b,
                    },
                    err: null,
                  };
            default:
              return this.error(Ft.INVALID_ARGUMENT_TYPE, xn(o, s));
          }
        }),
        (e.prototype.tryParseArgumentClose = function (e) {
          return this.isEOF() || 125 !== this.char()
            ? this.error(Ft.EXPECT_ARGUMENT_CLOSING_BRACE, xn(e, this.clonePosition()))
            : (this.bump(), { val: !0, err: null });
        }),
        (e.prototype.parseSimpleArgStyleIfPossible = function () {
          for (var e = 0, t = this.clonePosition(); !this.isEOF(); )
            switch (this.char()) {
              case 39:
                this.bump();
                var n = this.clonePosition();
                if (!this.bumpUntil("'"))
                  return this.error(Ft.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, xn(n, this.clonePosition()));
                this.bump();
                break;
              case 123:
                (e += 1), this.bump();
                break;
              case 125:
                if (!(e > 0)) return { val: this.message.slice(t.offset, this.offset()), err: null };
                e -= 1;
                break;
              default:
                this.bump();
            }
          return { val: this.message.slice(t.offset, this.offset()), err: null };
        }),
        (e.prototype.parseNumberSkeletonFromString = function (e, t) {
          var n = [];
          try {
            n = (function (e) {
              if (0 === e.length) throw new Error("Number skeleton cannot be empty");
              for (
                var t = e.split(an).filter(function (e) {
                    return e.length > 0;
                  }),
                  n = [],
                  r = 0,
                  i = t;
                r < i.length;
                r++
              ) {
                var o = i[r].split("/");
                if (0 === o.length) throw new Error("Invalid number skeleton");
                for (var a = o[0], s = o.slice(1), l = 0, c = s; l < c.length; l++)
                  if (0 === c[l].length) throw new Error("Invalid number skeleton");
                n.push({ stem: a, options: s });
              }
              return n;
            })(e);
          } catch (e) {
            return this.error(Ft.INVALID_NUMBER_SKELETON, t);
          }
          return {
            val: { type: Ut.number, tokens: n, location: t, parsedOptions: this.shouldParseSkeletons ? mn(n) : {} },
            err: null,
          };
        }),
        (e.prototype.tryParsePluralOrSelectOptions = function (e, t, n, r) {
          for (var i, o = !1, a = [], s = new Set(), l = r.value, c = r.location; ; ) {
            if (0 === l.length) {
              var u = this.clonePosition();
              if ("select" === t || !this.bumpIf("=")) break;
              var d = this.tryParseDecimalInteger(
                Ft.EXPECT_PLURAL_ARGUMENT_SELECTOR,
                Ft.INVALID_PLURAL_ARGUMENT_SELECTOR
              );
              if (d.err) return d;
              (c = xn(u, this.clonePosition())), (l = this.message.slice(u.offset, this.offset()));
            }
            if (s.has(l))
              return this.error(
                "select" === t ? Ft.DUPLICATE_SELECT_ARGUMENT_SELECTOR : Ft.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,
                c
              );
            "other" === l && (o = !0), this.bumpSpace();
            var f = this.clonePosition();
            if (!this.bumpIf("{"))
              return this.error(
                "select" === t
                  ? Ft.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT
                  : Ft.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,
                xn(this.clonePosition(), this.clonePosition())
              );
            var h = this.parseMessage(e + 1, t, n);
            if (h.err) return h;
            var p = this.tryParseArgumentClose(f);
            if (p.err) return p;
            a.push([l, { value: h.val, location: xn(f, this.clonePosition()) }]),
              s.add(l),
              this.bumpSpace(),
              (l = (i = this.parseIdentifierIfPossible()).value),
              (c = i.location);
          }
          return 0 === a.length
            ? this.error(
                "select" === t ? Ft.EXPECT_SELECT_ARGUMENT_SELECTOR : Ft.EXPECT_PLURAL_ARGUMENT_SELECTOR,
                xn(this.clonePosition(), this.clonePosition())
              )
            : this.requiresOtherClause && !o
            ? this.error(Ft.MISSING_OTHER_CLAUSE, xn(this.clonePosition(), this.clonePosition()))
            : { val: a, err: null };
        }),
        (e.prototype.tryParseDecimalInteger = function (e, t) {
          var n = 1,
            r = this.clonePosition();
          this.bumpIf("+") || (this.bumpIf("-") && (n = -1));
          for (var i = !1, o = 0; !this.isEOF(); ) {
            var a = this.char();
            if (!(a >= 48 && a <= 57)) break;
            (i = !0), (o = 10 * o + (a - 48)), this.bump();
          }
          var s = xn(r, this.clonePosition());
          return i ? (Nn((o *= n)) ? { val: o, err: null } : this.error(t, s)) : this.error(e, s);
        }),
        (e.prototype.offset = function () {
          return this.position.offset;
        }),
        (e.prototype.isEOF = function () {
          return this.offset() === this.message.length;
        }),
        (e.prototype.clonePosition = function () {
          return { offset: this.position.offset, line: this.position.line, column: this.position.column };
        }),
        (e.prototype.char = function () {
          var e = this.position.offset;
          if (e >= this.message.length) throw Error("out of bound");
          var t = Bn(this.message, e);
          if (void 0 === t) throw Error("Offset ".concat(e, " is at invalid UTF-16 code unit boundary"));
          return t;
        }),
        (e.prototype.error = function (e, t) {
          return { val: null, err: { kind: e, message: this.message, location: t } };
        }),
        (e.prototype.bump = function () {
          if (!this.isEOF()) {
            var e = this.char();
            10 === e
              ? ((this.position.line += 1), (this.position.column = 1), (this.position.offset += 1))
              : ((this.position.column += 1), (this.position.offset += e < 65536 ? 1 : 2));
          }
        }),
        (e.prototype.bumpIf = function (e) {
          if (Tn(this.message, e, this.offset())) {
            for (var t = 0; t < e.length; t++) this.bump();
            return !0;
          }
          return !1;
        }),
        (e.prototype.bumpUntil = function (e) {
          var t = this.offset(),
            n = this.message.indexOf(e, t);
          return n >= 0 ? (this.bumpTo(n), !0) : (this.bumpTo(this.message.length), !1);
        }),
        (e.prototype.bumpTo = function (e) {
          if (this.offset() > e)
            throw Error(
              "targetOffset ".concat(e, " must be greater than or equal to the current offset ").concat(this.offset())
            );
          for (e = Math.min(e, this.message.length); ; ) {
            var t = this.offset();
            if (t === e) break;
            if (t > e) throw Error("targetOffset ".concat(e, " is at invalid UTF-16 code unit boundary"));
            if ((this.bump(), this.isEOF())) break;
          }
        }),
        (e.prototype.bumpSpace = function () {
          for (; !this.isEOF() && Hn(this.char()); ) this.bump();
        }),
        (e.prototype.peek = function () {
          if (this.isEOF()) return null;
          var e = this.char(),
            t = this.offset(),
            n = this.message.charCodeAt(t + (e >= 65536 ? 2 : 1));
          return null != n ? n : null;
        }),
        e
      );
    })();
    function Un(e) {
      return (e >= 97 && e <= 122) || (e >= 65 && e <= 90);
    }
    function zn(e) {
      return (
        45 === e ||
        46 === e ||
        (e >= 48 && e <= 57) ||
        95 === e ||
        (e >= 97 && e <= 122) ||
        (e >= 65 && e <= 90) ||
        183 == e ||
        (e >= 192 && e <= 214) ||
        (e >= 216 && e <= 246) ||
        (e >= 248 && e <= 893) ||
        (e >= 895 && e <= 8191) ||
        (e >= 8204 && e <= 8205) ||
        (e >= 8255 && e <= 8256) ||
        (e >= 8304 && e <= 8591) ||
        (e >= 11264 && e <= 12271) ||
        (e >= 12289 && e <= 55295) ||
        (e >= 63744 && e <= 64975) ||
        (e >= 65008 && e <= 65533) ||
        (e >= 65536 && e <= 983039)
      );
    }
    function Hn(e) {
      return (e >= 9 && e <= 13) || 32 === e || 133 === e || (e >= 8206 && e <= 8207) || 8232 === e || 8233 === e;
    }
    function Kn(e) {
      return (
        (e >= 33 && e <= 35) ||
        36 === e ||
        (e >= 37 && e <= 39) ||
        40 === e ||
        41 === e ||
        42 === e ||
        43 === e ||
        44 === e ||
        45 === e ||
        (e >= 46 && e <= 47) ||
        (e >= 58 && e <= 59) ||
        (e >= 60 && e <= 62) ||
        (e >= 63 && e <= 64) ||
        91 === e ||
        92 === e ||
        93 === e ||
        94 === e ||
        96 === e ||
        123 === e ||
        124 === e ||
        125 === e ||
        126 === e ||
        161 === e ||
        (e >= 162 && e <= 165) ||
        166 === e ||
        167 === e ||
        169 === e ||
        171 === e ||
        172 === e ||
        174 === e ||
        176 === e ||
        177 === e ||
        182 === e ||
        187 === e ||
        191 === e ||
        215 === e ||
        247 === e ||
        (e >= 8208 && e <= 8213) ||
        (e >= 8214 && e <= 8215) ||
        8216 === e ||
        8217 === e ||
        8218 === e ||
        (e >= 8219 && e <= 8220) ||
        8221 === e ||
        8222 === e ||
        8223 === e ||
        (e >= 8224 && e <= 8231) ||
        (e >= 8240 && e <= 8248) ||
        8249 === e ||
        8250 === e ||
        (e >= 8251 && e <= 8254) ||
        (e >= 8257 && e <= 8259) ||
        8260 === e ||
        8261 === e ||
        8262 === e ||
        (e >= 8263 && e <= 8273) ||
        8274 === e ||
        8275 === e ||
        (e >= 8277 && e <= 8286) ||
        (e >= 8592 && e <= 8596) ||
        (e >= 8597 && e <= 8601) ||
        (e >= 8602 && e <= 8603) ||
        (e >= 8604 && e <= 8607) ||
        8608 === e ||
        (e >= 8609 && e <= 8610) ||
        8611 === e ||
        (e >= 8612 && e <= 8613) ||
        8614 === e ||
        (e >= 8615 && e <= 8621) ||
        8622 === e ||
        (e >= 8623 && e <= 8653) ||
        (e >= 8654 && e <= 8655) ||
        (e >= 8656 && e <= 8657) ||
        8658 === e ||
        8659 === e ||
        8660 === e ||
        (e >= 8661 && e <= 8691) ||
        (e >= 8692 && e <= 8959) ||
        (e >= 8960 && e <= 8967) ||
        8968 === e ||
        8969 === e ||
        8970 === e ||
        8971 === e ||
        (e >= 8972 && e <= 8991) ||
        (e >= 8992 && e <= 8993) ||
        (e >= 8994 && e <= 9e3) ||
        9001 === e ||
        9002 === e ||
        (e >= 9003 && e <= 9083) ||
        9084 === e ||
        (e >= 9085 && e <= 9114) ||
        (e >= 9115 && e <= 9139) ||
        (e >= 9140 && e <= 9179) ||
        (e >= 9180 && e <= 9185) ||
        (e >= 9186 && e <= 9254) ||
        (e >= 9255 && e <= 9279) ||
        (e >= 9280 && e <= 9290) ||
        (e >= 9291 && e <= 9311) ||
        (e >= 9472 && e <= 9654) ||
        9655 === e ||
        (e >= 9656 && e <= 9664) ||
        9665 === e ||
        (e >= 9666 && e <= 9719) ||
        (e >= 9720 && e <= 9727) ||
        (e >= 9728 && e <= 9838) ||
        9839 === e ||
        (e >= 9840 && e <= 10087) ||
        10088 === e ||
        10089 === e ||
        10090 === e ||
        10091 === e ||
        10092 === e ||
        10093 === e ||
        10094 === e ||
        10095 === e ||
        10096 === e ||
        10097 === e ||
        10098 === e ||
        10099 === e ||
        10100 === e ||
        10101 === e ||
        (e >= 10132 && e <= 10175) ||
        (e >= 10176 && e <= 10180) ||
        10181 === e ||
        10182 === e ||
        (e >= 10183 && e <= 10213) ||
        10214 === e ||
        10215 === e ||
        10216 === e ||
        10217 === e ||
        10218 === e ||
        10219 === e ||
        10220 === e ||
        10221 === e ||
        10222 === e ||
        10223 === e ||
        (e >= 10224 && e <= 10239) ||
        (e >= 10240 && e <= 10495) ||
        (e >= 10496 && e <= 10626) ||
        10627 === e ||
        10628 === e ||
        10629 === e ||
        10630 === e ||
        10631 === e ||
        10632 === e ||
        10633 === e ||
        10634 === e ||
        10635 === e ||
        10636 === e ||
        10637 === e ||
        10638 === e ||
        10639 === e ||
        10640 === e ||
        10641 === e ||
        10642 === e ||
        10643 === e ||
        10644 === e ||
        10645 === e ||
        10646 === e ||
        10647 === e ||
        10648 === e ||
        (e >= 10649 && e <= 10711) ||
        10712 === e ||
        10713 === e ||
        10714 === e ||
        10715 === e ||
        (e >= 10716 && e <= 10747) ||
        10748 === e ||
        10749 === e ||
        (e >= 10750 && e <= 11007) ||
        (e >= 11008 && e <= 11055) ||
        (e >= 11056 && e <= 11076) ||
        (e >= 11077 && e <= 11078) ||
        (e >= 11079 && e <= 11084) ||
        (e >= 11085 && e <= 11123) ||
        (e >= 11124 && e <= 11125) ||
        (e >= 11126 && e <= 11157) ||
        11158 === e ||
        (e >= 11159 && e <= 11263) ||
        (e >= 11776 && e <= 11777) ||
        11778 === e ||
        11779 === e ||
        11780 === e ||
        11781 === e ||
        (e >= 11782 && e <= 11784) ||
        11785 === e ||
        11786 === e ||
        11787 === e ||
        11788 === e ||
        11789 === e ||
        (e >= 11790 && e <= 11798) ||
        11799 === e ||
        (e >= 11800 && e <= 11801) ||
        11802 === e ||
        11803 === e ||
        11804 === e ||
        11805 === e ||
        (e >= 11806 && e <= 11807) ||
        11808 === e ||
        11809 === e ||
        11810 === e ||
        11811 === e ||
        11812 === e ||
        11813 === e ||
        11814 === e ||
        11815 === e ||
        11816 === e ||
        11817 === e ||
        (e >= 11818 && e <= 11822) ||
        11823 === e ||
        (e >= 11824 && e <= 11833) ||
        (e >= 11834 && e <= 11835) ||
        (e >= 11836 && e <= 11839) ||
        11840 === e ||
        11841 === e ||
        11842 === e ||
        (e >= 11843 && e <= 11855) ||
        (e >= 11856 && e <= 11857) ||
        11858 === e ||
        (e >= 11859 && e <= 11903) ||
        (e >= 12289 && e <= 12291) ||
        12296 === e ||
        12297 === e ||
        12298 === e ||
        12299 === e ||
        12300 === e ||
        12301 === e ||
        12302 === e ||
        12303 === e ||
        12304 === e ||
        12305 === e ||
        (e >= 12306 && e <= 12307) ||
        12308 === e ||
        12309 === e ||
        12310 === e ||
        12311 === e ||
        12312 === e ||
        12313 === e ||
        12314 === e ||
        12315 === e ||
        12316 === e ||
        12317 === e ||
        (e >= 12318 && e <= 12319) ||
        12320 === e ||
        12336 === e ||
        64830 === e ||
        64831 === e ||
        (e >= 65093 && e <= 65094)
      );
    }
    function Wn(e) {
      e.forEach(function (e) {
        if ((delete e.location, Yt(e) || Xt(e)))
          for (var t in e.options) delete e.options[t].location, Wn(e.options[t].value);
        else
          ($t(e) && en(e.style)) || ((Gt(e) || Zt(e)) && tn(e.style))
            ? delete e.style.location
            : Jt(e) && Wn(e.children);
      });
    }
    function qn(e, t) {
      void 0 === t && (t = {}), (t = Ot({ shouldParseSkeletons: !0, requiresOtherClause: !0 }, t));
      var n = new Dn(e, t).parse();
      if (n.err) {
        var r = SyntaxError(Ft[n.err.kind]);
        throw ((r.location = n.err.location), (r.originalMessage = n.err.message), r);
      }
      return (null == t ? void 0 : t.captureLocation) || Wn(n.val), n.val;
    }
    function Vn(e, t) {
      var n = t && t.cache ? t.cache : er,
        r = t && t.serializer ? t.serializer : Xn;
      return (t && t.strategy ? t.strategy : Yn)(e, { cache: n, serializer: r });
    }
    function $n(e, t, n, r) {
      var i,
        o = null == (i = r) || "number" == typeof i || "boolean" == typeof i ? r : n(r),
        a = t.get(o);
      return void 0 === a && ((a = e.call(this, r)), t.set(o, a)), a;
    }
    function Gn(e, t, n) {
      var r = Array.prototype.slice.call(arguments, 3),
        i = n(r),
        o = t.get(i);
      return void 0 === o && ((o = e.apply(this, r)), t.set(i, o)), o;
    }
    function Zn(e, t, n, r, i) {
      return n.bind(t, e, r, i);
    }
    function Yn(e, t) {
      return Zn(e, this, 1 === e.length ? $n : Gn, t.cache.create(), t.serializer);
    }
    var Xn = function () {
      return JSON.stringify(arguments);
    };
    function Qn() {
      this.cache = Object.create(null);
    }
    (Qn.prototype.get = function (e) {
      return this.cache[e];
    }),
      (Qn.prototype.set = function (e, t) {
        this.cache[e] = t;
      });
    var Jn,
      er = {
        create: function () {
          return new Qn();
        },
      },
      tr = {
        variadic: function (e, t) {
          return Zn(e, this, Gn, t.cache.create(), t.serializer);
        },
        monadic: function (e, t) {
          return Zn(e, this, $n, t.cache.create(), t.serializer);
        },
      };
    !(function (e) {
      (e.MISSING_VALUE = "MISSING_VALUE"),
        (e.INVALID_VALUE = "INVALID_VALUE"),
        (e.MISSING_INTL_API = "MISSING_INTL_API");
    })(Jn || (Jn = {}));
    var nr,
      rr = (function (e) {
        function t(t, n, r) {
          var i = e.call(this, t) || this;
          return (i.code = n), (i.originalMessage = r), i;
        }
        return (
          Bt(t, e),
          (t.prototype.toString = function () {
            return "[formatjs Error: ".concat(this.code, "] ").concat(this.message);
          }),
          t
        );
      })(Error),
      ir = (function (e) {
        function t(t, n, r, i) {
          return (
            e.call(
              this,
              'Invalid values for "'
                .concat(t, '": "')
                .concat(n, '". Options are "')
                .concat(Object.keys(r).join('", "'), '"'),
              Jn.INVALID_VALUE,
              i
            ) || this
          );
        }
        return Bt(t, e), t;
      })(rr),
      or = (function (e) {
        function t(t, n, r) {
          return e.call(this, 'Value for "'.concat(t, '" must be of type ').concat(n), Jn.INVALID_VALUE, r) || this;
        }
        return Bt(t, e), t;
      })(rr),
      ar = (function (e) {
        function t(t, n) {
          return (
            e.call(
              this,
              'The intl string context variable "'.concat(t, '" was not provided to the string "').concat(n, '"'),
              Jn.MISSING_VALUE,
              n
            ) || this
          );
        }
        return Bt(t, e), t;
      })(rr);
    function sr(e) {
      return "function" == typeof e;
    }
    function lr(e, t, n, r, i, o, a) {
      if (1 === e.length && qt(e[0])) return [{ type: nr.literal, value: e[0].value }];
      for (var s = [], l = 0, c = e; l < c.length; l++) {
        var u = c[l];
        if (qt(u)) s.push({ type: nr.literal, value: u.value });
        else if (Qt(u)) "number" == typeof o && s.push({ type: nr.literal, value: n.getNumberFormat(t).format(o) });
        else {
          var d = u.value;
          if (!i || !(d in i)) throw new ar(d, a);
          var f = i[d];
          if (Vt(u))
            (f && "string" != typeof f && "number" != typeof f) ||
              (f = "string" == typeof f || "number" == typeof f ? String(f) : ""),
              s.push({ type: "string" == typeof f ? nr.literal : nr.object, value: f });
          else if (Gt(u)) {
            var h = "string" == typeof u.style ? r.date[u.style] : tn(u.style) ? u.style.parsedOptions : void 0;
            s.push({ type: nr.literal, value: n.getDateTimeFormat(t, h).format(f) });
          } else if (Zt(u))
            (h = "string" == typeof u.style ? r.time[u.style] : tn(u.style) ? u.style.parsedOptions : r.time.medium),
              s.push({ type: nr.literal, value: n.getDateTimeFormat(t, h).format(f) });
          else if ($t(u))
            (h = "string" == typeof u.style ? r.number[u.style] : en(u.style) ? u.style.parsedOptions : void 0) &&
              h.scale &&
              (f *= h.scale || 1),
              s.push({ type: nr.literal, value: n.getNumberFormat(t, h).format(f) });
          else {
            if (Jt(u)) {
              var p = u.children,
                m = u.value,
                y = i[m];
              if (!sr(y)) throw new or(m, "function", a);
              var g = y(
                lr(p, t, n, r, i, o).map(function (e) {
                  return e.value;
                })
              );
              Array.isArray(g) || (g = [g]),
                s.push.apply(
                  s,
                  g.map(function (e) {
                    return { type: "string" == typeof e ? nr.literal : nr.object, value: e };
                  })
                );
            }
            if (Yt(u)) {
              if (!(v = u.options[f] || u.options.other)) throw new ir(u.value, f, Object.keys(u.options), a);
              s.push.apply(s, lr(v.value, t, n, r, i));
            } else if (Xt(u)) {
              var v;
              if (!(v = u.options["=".concat(f)])) {
                if (!Intl.PluralRules)
                  throw new rr(
                    'Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',
                    Jn.MISSING_INTL_API,
                    a
                  );
                var w = n.getPluralRules(t, { type: u.pluralType }).select(f - (u.offset || 0));
                v = u.options[w] || u.options.other;
              }
              if (!v) throw new ir(u.value, f, Object.keys(u.options), a);
              s.push.apply(s, lr(v.value, t, n, r, i, f - (u.offset || 0)));
            }
          }
        }
      }
      return (b = s).length < 2
        ? b
        : b.reduce(function (e, t) {
            var n = e[e.length - 1];
            return n && n.type === nr.literal && t.type === nr.literal ? (n.value += t.value) : e.push(t), e;
          }, []);
      var b;
    }
    function cr(e) {
      return {
        create: function () {
          return {
            get: function (t) {
              return e[t];
            },
            set: function (t, n) {
              e[t] = n;
            },
          };
        },
      };
    }
    !(function (e) {
      (e[(e.literal = 0)] = "literal"), (e[(e.object = 1)] = "object");
    })(nr || (nr = {}));
    var ur,
      dr = (function () {
        function e(t, n, r, i) {
          void 0 === n && (n = e.defaultLocale);
          var o,
            a,
            s,
            l = this;
          if (
            ((this.formatterCache = { number: {}, dateTime: {}, pluralRules: {} }),
            (this.format = function (e) {
              var t = l.formatToParts(e);
              if (1 === t.length) return t[0].value;
              var n = t.reduce(function (e, t) {
                return (
                  e.length && t.type === nr.literal && "string" == typeof e[e.length - 1]
                    ? (e[e.length - 1] += t.value)
                    : e.push(t.value),
                  e
                );
              }, []);
              return n.length <= 1 ? n[0] || "" : n;
            }),
            (this.formatToParts = function (e) {
              return lr(l.ast, l.locales, l.formatters, l.formats, e, void 0, l.message);
            }),
            (this.resolvedOptions = function () {
              var e;
              return {
                locale:
                  (null === (e = l.resolvedLocale) || void 0 === e ? void 0 : e.toString()) ||
                  Intl.NumberFormat.supportedLocalesOf(l.locales)[0],
              };
            }),
            (this.getAst = function () {
              return l.ast;
            }),
            (this.locales = n),
            (this.resolvedLocale = e.resolveLocale(n)),
            "string" == typeof t)
          ) {
            if (((this.message = t), !e.__parse))
              throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");
            var c = i || {},
              u = (c.formatters, Lt(c, ["formatters"]));
            this.ast = e.__parse(t, Ot(Ot({}, u), { locale: this.resolvedLocale }));
          } else this.ast = t;
          if (!Array.isArray(this.ast)) throw new TypeError("A message must be provided as a String or AST.");
          (this.formats =
            ((a = e.formats),
            (s = r)
              ? Object.keys(a).reduce(function (e, t) {
                  var n, r;
                  return (
                    (e[t] =
                      ((n = a[t]),
                      (r = s[t])
                        ? Ot(
                            Ot(Ot({}, n || {}), r || {}),
                            Object.keys(n).reduce(function (e, t) {
                              return (e[t] = Ot(Ot({}, n[t]), r[t] || {})), e;
                            }, {})
                          )
                        : n)),
                    e
                  );
                }, Ot({}, a))
              : a)),
            (this.formatters =
              (i && i.formatters) ||
              (void 0 === (o = this.formatterCache) && (o = { number: {}, dateTime: {}, pluralRules: {} }),
              {
                getNumberFormat: Vn(
                  function () {
                    for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return new ((e = Intl.NumberFormat).bind.apply(e, It([void 0], t, !1)))();
                  },
                  { cache: cr(o.number), strategy: tr.variadic }
                ),
                getDateTimeFormat: Vn(
                  function () {
                    for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return new ((e = Intl.DateTimeFormat).bind.apply(e, It([void 0], t, !1)))();
                  },
                  { cache: cr(o.dateTime), strategy: tr.variadic }
                ),
                getPluralRules: Vn(
                  function () {
                    for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return new ((e = Intl.PluralRules).bind.apply(e, It([void 0], t, !1)))();
                  },
                  { cache: cr(o.pluralRules), strategy: tr.variadic }
                ),
              }));
        }
        return (
          Object.defineProperty(e, "defaultLocale", {
            get: function () {
              return (
                e.memoizedDefaultLocale || (e.memoizedDefaultLocale = new Intl.NumberFormat().resolvedOptions().locale),
                e.memoizedDefaultLocale
              );
            },
            enumerable: !1,
            configurable: !0,
          }),
          (e.memoizedDefaultLocale = null),
          (e.resolveLocale = function (e) {
            if (void 0 !== Intl.Locale) {
              var t = Intl.NumberFormat.supportedLocalesOf(e);
              return t.length > 0 ? new Intl.Locale(t[0]) : new Intl.Locale("string" == typeof e ? e : e[0]);
            }
          }),
          (e.__parse = qn),
          (e.formats = {
            number: {
              integer: { maximumFractionDigits: 0 },
              currency: { style: "currency" },
              percent: { style: "percent" },
            },
            date: {
              short: { month: "numeric", day: "numeric", year: "2-digit" },
              medium: { month: "short", day: "numeric", year: "numeric" },
              long: { month: "long", day: "numeric", year: "numeric" },
              full: { weekday: "long", month: "long", day: "numeric", year: "numeric" },
            },
            time: {
              short: { hour: "numeric", minute: "numeric" },
              medium: { hour: "numeric", minute: "numeric", second: "numeric" },
              long: { hour: "numeric", minute: "numeric", second: "numeric", timeZoneName: "short" },
              full: { hour: "numeric", minute: "numeric", second: "numeric", timeZoneName: "short" },
            },
          }),
          e
        );
      })();
    !(function (e) {
      (e.FORMAT_ERROR = "FORMAT_ERROR"),
        (e.UNSUPPORTED_FORMATTER = "UNSUPPORTED_FORMATTER"),
        (e.INVALID_CONFIG = "INVALID_CONFIG"),
        (e.MISSING_DATA = "MISSING_DATA"),
        (e.MISSING_TRANSLATION = "MISSING_TRANSLATION");
    })(ur || (ur = {}));
    var fr = (function (e) {
        function t(n, r, i) {
          var o = this,
            a = i ? (i instanceof Error ? i : new Error(String(i))) : void 0;
          return (
            ((o =
              e.call(
                this,
                "[@formatjs/intl Error "
                  .concat(n, "] ")
                  .concat(r, "\n")
                  .concat(a ? "\n".concat(a.message, "\n").concat(a.stack) : "")
              ) || this).code = n),
            "function" == typeof Error.captureStackTrace && Error.captureStackTrace(o, t),
            o
          );
        }
        return Bt(t, e), t;
      })(Error),
      hr = (function (e) {
        function t(t, n) {
          return e.call(this, ur.UNSUPPORTED_FORMATTER, t, n) || this;
        }
        return Bt(t, e), t;
      })(fr),
      pr = (function (e) {
        function t(t, n) {
          return e.call(this, ur.INVALID_CONFIG, t, n) || this;
        }
        return Bt(t, e), t;
      })(fr),
      mr = (function (e) {
        function t(t, n) {
          return e.call(this, ur.MISSING_DATA, t, n) || this;
        }
        return Bt(t, e), t;
      })(fr),
      yr = (function (e) {
        function t(t, n, r) {
          var i = e.call(this, ur.FORMAT_ERROR, "".concat(t, "\nLocale: ").concat(n, "\n"), r) || this;
          return (i.locale = n), i;
        }
        return Bt(t, e), t;
      })(fr),
      gr = (function (e) {
        function t(t, n, r, i) {
          var o =
            e.call(
              this,
              ""
                .concat(t, "\nMessageID: ")
                .concat(null == r ? void 0 : r.id, "\nDefault Message: ")
                .concat(null == r ? void 0 : r.defaultMessage, "\nDescription: ")
                .concat(null == r ? void 0 : r.description, "\n"),
              n,
              i
            ) || this;
          return (o.descriptor = r), (o.locale = n), o;
        }
        return Bt(t, e), t;
      })(yr),
      vr = (function (e) {
        function t(t, n) {
          var r =
            e.call(
              this,
              ur.MISSING_TRANSLATION,
              'Missing message: "'
                .concat(t.id, '" for locale "')
                .concat(n, '", using ')
                .concat(
                  t.defaultMessage
                    ? "default message (".concat(
                        "string" == typeof t.defaultMessage
                          ? t.defaultMessage
                          : t.defaultMessage
                              .map(function (e) {
                                var t;
                                return null !== (t = e.value) && void 0 !== t ? t : JSON.stringify(e);
                              })
                              .join(),
                        ")"
                      )
                    : "id",
                  " as fallback."
                )
            ) || this;
          return (r.descriptor = t), r;
        }
        return Bt(t, e), t;
      })(fr);
    function wr(e, t, n) {
      return (
        void 0 === n && (n = {}),
        t.reduce(function (t, r) {
          return r in e ? (t[r] = e[r]) : r in n && (t[r] = n[r]), t;
        }, {})
      );
    }
    var br = {
      formats: {},
      messages: {},
      timeZone: void 0,
      defaultLocale: "en",
      defaultFormats: {},
      fallbackOnEmptyString: !0,
      onError: function (e) {},
      onWarn: function (e) {},
    };
    function xr(e) {
      return {
        create: function () {
          return {
            get: function (t) {
              return e[t];
            },
            set: function (t, n) {
              e[t] = n;
            },
          };
        },
      };
    }
    function Er(e, t, n, r) {
      var i,
        o = e && e[t];
      if ((o && (i = o[n]), i)) return i;
      r(new hr("No ".concat(t, " format named: ").concat(n)));
    }
    function kr(e) {
      Wt(
        e,
        "[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry."
      );
    }
    var jr = Ot(Ot({}, br), { textComponent: e.Fragment });
    function Sr(e, t) {
      if (e === t) return !0;
      if (!e || !t) return !1;
      var n = Object.keys(e),
        r = Object.keys(t),
        i = n.length;
      if (r.length !== i) return !1;
      for (var o = 0; o < i; o++) {
        var a = n[o];
        if (e[a] !== t[a] || !Object.prototype.hasOwnProperty.call(t, a)) return !1;
      }
      return !0;
    }
    function Ar(e, t) {
      return Object.keys(e).reduce(function (n, r) {
        return (n[r] = Ot({ timeZone: t }, e[r])), n;
      }, {});
    }
    function Cr(e, t) {
      return Object.keys(Ot(Ot({}, e), t)).reduce(function (n, r) {
        return (n[r] = Ot(Ot({}, e[r] || {}), t[r] || {})), n;
      }, {});
    }
    function Nr(e, t) {
      if (!t) return e;
      var n = dr.formats;
      return Ot(Ot(Ot({}, n), e), {
        date: Cr(Ar(n.date, t), Ar(e.date || {}, t)),
        time: Cr(Ar(n.time, t), Ar(e.time || {}, t)),
      });
    }
    var Pr = function (e, t, n, r, i) {
        var o = e.locale,
          a = e.formats,
          s = e.messages,
          l = e.defaultLocale,
          c = e.defaultFormats,
          u = e.fallbackOnEmptyString,
          d = e.onError,
          f = e.timeZone,
          h = e.defaultRichTextElements;
        void 0 === n && (n = { id: "" });
        var p = n.id,
          m = n.defaultMessage;
        Wt(
          !!p,
          "[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue"
        );
        var y = String(p),
          g = s && Object.prototype.hasOwnProperty.call(s, y) && s[y];
        if (Array.isArray(g) && 1 === g.length && g[0].type === Dt.literal) return g[0].value;
        if (!r && g && "string" == typeof g && !h) return g.replace(/'\{(.*?)\}'/gi, "{$1}");
        if (((r = Ot(Ot({}, h), r || {})), (a = Nr(a, f)), (c = Nr(c, f)), !g)) {
          if (!1 === u && "" === g) return g;
          if (((!m || (o && o.toLowerCase() !== l.toLowerCase())) && d(new vr(n, o)), m))
            try {
              return t.getMessageFormat(m, l, c, i).format(r);
            } catch (e) {
              return (
                d(
                  new gr(
                    'Error formatting default message for: "'.concat(y, '", rendering default message verbatim'),
                    o,
                    n,
                    e
                  )
                ),
                "string" == typeof m ? m : y
              );
            }
          return y;
        }
        try {
          return t.getMessageFormat(g, o, a, Ot({ formatters: t }, i || {})).format(r);
        } catch (e) {
          d(
            new gr(
              'Error formatting message: "'
                .concat(y, '", using ')
                .concat(m ? "default message" : "id", " as fallback."),
              o,
              n,
              e
            )
          );
        }
        if (m)
          try {
            return t.getMessageFormat(m, l, c, i).format(r);
          } catch (e) {
            d(
              new gr('Error formatting the default message for: "'.concat(y, '", rendering message verbatim'), o, n, e)
            );
          }
        return "string" == typeof g ? g : "string" == typeof m ? m : y;
      },
      _r = [
        "style",
        "currency",
        "currencyDisplay",
        "unit",
        "unitDisplay",
        "useGrouping",
        "minimumIntegerDigits",
        "minimumFractionDigits",
        "maximumFractionDigits",
        "minimumSignificantDigits",
        "maximumSignificantDigits",
        "compactDisplay",
        "currencyDisplay",
        "currencySign",
        "notation",
        "signDisplay",
        "unit",
        "unitDisplay",
        "numberingSystem",
      ];
    function Tr(e, t, n) {
      var r = e.locale,
        i = e.formats,
        o = e.onError;
      void 0 === n && (n = {});
      var a = n.format,
        s = (a && Er(i, "number", a, o)) || {};
      return t(r, wr(n, _r, s));
    }
    function Mr(e, t, n, r) {
      void 0 === r && (r = {});
      try {
        return Tr(e, t, r).format(n);
      } catch (t) {
        e.onError(new yr("Error formatting number.", e.locale, t));
      }
      return String(n);
    }
    function Rr(e, t, n, r) {
      void 0 === r && (r = {});
      try {
        return Tr(e, t, r).formatToParts(n);
      } catch (t) {
        e.onError(new yr("Error formatting number.", e.locale, t));
      }
      return [];
    }
    var Br = ["numeric", "style"];
    function Or(e, t, n, r, i) {
      void 0 === i && (i = {}),
        r || (r = "second"),
        Intl.RelativeTimeFormat ||
          e.onError(
            new rr(
              'Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',
              Jn.MISSING_INTL_API
            )
          );
      try {
        return (function (e, t, n) {
          var r = e.locale,
            i = e.formats,
            o = e.onError;
          void 0 === n && (n = {});
          var a = n.format,
            s = (!!a && Er(i, "relative", a, o)) || {};
          return t(r, wr(n, Br, s));
        })(e, t, i).format(n, r);
      } catch (t) {
        e.onError(new yr("Error formatting relative time.", e.locale, t));
      }
      return String(n);
    }
    var Lr = [
      "formatMatcher",
      "timeZone",
      "hour12",
      "weekday",
      "era",
      "year",
      "month",
      "day",
      "hour",
      "minute",
      "second",
      "timeZoneName",
      "hourCycle",
      "dateStyle",
      "timeStyle",
      "calendar",
      "numberingSystem",
      "fractionalSecondDigits",
    ];
    function Ir(e, t, n, r) {
      var i = e.locale,
        o = e.formats,
        a = e.onError,
        s = e.timeZone;
      void 0 === r && (r = {});
      var l = r.format,
        c = Ot(Ot({}, s && { timeZone: s }), l && Er(o, t, l, a)),
        u = wr(r, Lr, c);
      return (
        "time" !== t ||
          u.hour ||
          u.minute ||
          u.second ||
          u.timeStyle ||
          u.dateStyle ||
          (u = Ot(Ot({}, u), { hour: "numeric", minute: "numeric" })),
        n(i, u)
      );
    }
    function Fr(e, t) {
      for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
      var i = n[0],
        o = n[1],
        a = void 0 === o ? {} : o,
        s = "string" == typeof i ? new Date(i || 0) : i;
      try {
        return Ir(e, "date", t, a).format(s);
      } catch (t) {
        e.onError(new yr("Error formatting date.", e.locale, t));
      }
      return String(s);
    }
    function Dr(e, t) {
      for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
      var i = n[0],
        o = n[1],
        a = void 0 === o ? {} : o,
        s = "string" == typeof i ? new Date(i || 0) : i;
      try {
        return Ir(e, "time", t, a).format(s);
      } catch (t) {
        e.onError(new yr("Error formatting time.", e.locale, t));
      }
      return String(s);
    }
    function Ur(e, t) {
      for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
      var i = n[0],
        o = n[1],
        a = n[2],
        s = void 0 === a ? {} : a,
        l = e.timeZone,
        c = e.locale,
        u = e.onError,
        d = wr(s, Lr, l ? { timeZone: l } : {});
      try {
        return t(c, d).formatRange(i, o);
      } catch (t) {
        u(new yr("Error formatting date time range.", e.locale, t));
      }
      return String(i);
    }
    function zr(e, t) {
      for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
      var i = n[0],
        o = n[1],
        a = void 0 === o ? {} : o,
        s = "string" == typeof i ? new Date(i || 0) : i;
      try {
        return Ir(e, "date", t, a).formatToParts(s);
      } catch (t) {
        e.onError(new yr("Error formatting date.", e.locale, t));
      }
      return [];
    }
    function Hr(e, t) {
      for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
      var i = n[0],
        o = n[1],
        a = void 0 === o ? {} : o,
        s = "string" == typeof i ? new Date(i || 0) : i;
      try {
        return Ir(e, "time", t, a).formatToParts(s);
      } catch (t) {
        e.onError(new yr("Error formatting time.", e.locale, t));
      }
      return [];
    }
    var Kr = ["type"];
    function Wr(e, t, n, r) {
      var i = e.locale,
        o = e.onError;
      void 0 === r && (r = {}),
        Intl.PluralRules ||
          o(
            new rr(
              'Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',
              Jn.MISSING_INTL_API
            )
          );
      var a = wr(r, Kr);
      try {
        return t(i, a).select(n);
      } catch (e) {
        o(new yr("Error formatting plural.", i, e));
      }
      return "other";
    }
    var qr = ["type", "style"],
      Vr = Date.now();
    function $r(e, t, n, r) {
      void 0 === r && (r = {});
      var i = Gr(e, t, n, r).reduce(function (e, t) {
        var n = t.value;
        return (
          "string" != typeof n ? e.push(n) : "string" == typeof e[e.length - 1] ? (e[e.length - 1] += n) : e.push(n), e
        );
      }, []);
      return 1 === i.length ? i[0] : 0 === i.length ? "" : i;
    }
    function Gr(e, t, n, r) {
      var i = e.locale,
        o = e.onError;
      void 0 === r && (r = {}),
        Intl.ListFormat ||
          o(
            new rr(
              'Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',
              Jn.MISSING_INTL_API
            )
          );
      var a = wr(r, qr);
      try {
        var s = {},
          l = n.map(function (e, t) {
            if ("object" == typeof e) {
              var n = (function (e) {
                return "".concat(Vr, "_").concat(e, "_").concat(Vr);
              })(t);
              return (s[n] = e), n;
            }
            return String(e);
          });
        return t(i, a)
          .formatToParts(l)
          .map(function (e) {
            return "literal" === e.type ? e : Ot(Ot({}, e), { value: s[e.value] || e.value });
          });
      } catch (e) {
        o(new yr("Error formatting list.", i, e));
      }
      return n;
    }
    var Zr = ["style", "type", "fallback", "languageDisplay"];
    function Yr(e, t, n, r) {
      var i = e.locale,
        o = e.onError;
      Intl.DisplayNames ||
        o(
          new rr(
            'Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',
            Jn.MISSING_INTL_API
          )
        );
      var a = wr(r, Zr);
      try {
        return t(i, a).of(n);
      } catch (e) {
        o(new yr("Error formatting display name.", i, e));
      }
    }
    function Xr(e, t) {
      var n = (function (e) {
          void 0 === e &&
            (e = {
              dateTime: {},
              number: {},
              message: {},
              relativeTime: {},
              pluralRules: {},
              list: {},
              displayNames: {},
            });
          var t = Intl.RelativeTimeFormat,
            n = Intl.ListFormat,
            r = Intl.DisplayNames,
            i = Vn(
              function () {
                for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                return new ((e = Intl.DateTimeFormat).bind.apply(e, It([void 0], t, !1)))();
              },
              { cache: xr(e.dateTime), strategy: tr.variadic }
            ),
            o = Vn(
              function () {
                for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                return new ((e = Intl.NumberFormat).bind.apply(e, It([void 0], t, !1)))();
              },
              { cache: xr(e.number), strategy: tr.variadic }
            ),
            a = Vn(
              function () {
                for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                return new ((e = Intl.PluralRules).bind.apply(e, It([void 0], t, !1)))();
              },
              { cache: xr(e.pluralRules), strategy: tr.variadic }
            );
          return {
            getDateTimeFormat: i,
            getNumberFormat: o,
            getMessageFormat: Vn(
              function (e, t, n, r) {
                return new dr(
                  e,
                  t,
                  n,
                  Ot({ formatters: { getNumberFormat: o, getDateTimeFormat: i, getPluralRules: a } }, r || {})
                );
              },
              { cache: xr(e.message), strategy: tr.variadic }
            ),
            getRelativeTimeFormat: Vn(
              function () {
                for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                return new (t.bind.apply(t, It([void 0], e, !1)))();
              },
              { cache: xr(e.relativeTime), strategy: tr.variadic }
            ),
            getPluralRules: a,
            getListFormat: Vn(
              function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                return new (n.bind.apply(n, It([void 0], e, !1)))();
              },
              { cache: xr(e.list), strategy: tr.variadic }
            ),
            getDisplayNames: Vn(
              function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                return new (r.bind.apply(r, It([void 0], e, !1)))();
              },
              { cache: xr(e.displayNames), strategy: tr.variadic }
            ),
          };
        })(t),
        r = Ot(Ot({}, br), e),
        i = r.locale,
        o = r.defaultLocale,
        a = r.onError;
      return (
        i
          ? !Intl.NumberFormat.supportedLocalesOf(i).length && a
            ? a(
                new mr(
                  'Missing locale data for locale: "'
                    .concat(i, '" in Intl.NumberFormat. Using default locale: "')
                    .concat(
                      o,
                      '" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'
                    )
                )
              )
            : !Intl.DateTimeFormat.supportedLocalesOf(i).length &&
              a &&
              a(
                new mr(
                  'Missing locale data for locale: "'
                    .concat(i, '" in Intl.DateTimeFormat. Using default locale: "')
                    .concat(
                      o,
                      '" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'
                    )
                )
              )
          : (a &&
              a(
                new pr(
                  '"locale" was not configured, using "'.concat(
                    o,
                    '" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'
                  )
                )
              ),
            (r.locale = r.defaultLocale || "en")),
        (function (e) {
          e.onWarn &&
            e.defaultRichTextElements &&
            (function (e) {
              return "string" == typeof (e ? e[Object.keys(e)[0]] : void 0);
            })(e.messages || {}) &&
            e.onWarn(
              '[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution'
            );
        })(r),
        Ot(Ot({}, r), {
          formatters: n,
          formatNumber: Mr.bind(null, r, n.getNumberFormat),
          formatNumberToParts: Rr.bind(null, r, n.getNumberFormat),
          formatRelativeTime: Or.bind(null, r, n.getRelativeTimeFormat),
          formatDate: Fr.bind(null, r, n.getDateTimeFormat),
          formatDateToParts: zr.bind(null, r, n.getDateTimeFormat),
          formatTime: Dr.bind(null, r, n.getDateTimeFormat),
          formatDateTimeRange: Ur.bind(null, r, n.getDateTimeFormat),
          formatTimeToParts: Hr.bind(null, r, n.getDateTimeFormat),
          formatPlural: Wr.bind(null, r, n.getPluralRules),
          formatMessage: Pr.bind(null, r, n),
          $t: Pr.bind(null, r, n),
          formatList: $r.bind(null, r, n.getListFormat),
          formatListToParts: Gr.bind(null, r, n.getListFormat),
          formatDisplayName: Yr.bind(null, r, n.getDisplayNames),
        })
      );
    }
    function Qr(e) {
      return {
        locale: e.locale,
        timeZone: e.timeZone,
        fallbackOnEmptyString: e.fallbackOnEmptyString,
        formats: e.formats,
        textComponent: e.textComponent,
        messages: e.messages,
        defaultLocale: e.defaultLocale,
        defaultFormats: e.defaultFormats,
        onError: e.onError,
        onWarn: e.onWarn,
        wrapRichTextChunksInFragment: e.wrapRichTextChunksInFragment,
        defaultRichTextElements: e.defaultRichTextElements,
      };
    }
    function Jr(t) {
      return t
        ? Object.keys(t).reduce(function (n, r) {
            var i,
              o = t[r];
            return (
              (n[r] = sr(o)
                ? ((i = o),
                  function (t) {
                    return i(e.Children.toArray(t));
                  })
                : o),
              n
            );
          }, {})
        : t;
    }
    var ei = function (t, n, r, i) {
        for (var o = [], a = 4; a < arguments.length; a++) o[a - 4] = arguments[a];
        var s = Jr(i),
          l = Pr.apply(void 0, It([t, n, r, s], o, !1));
        return Array.isArray(l) ? e.Children.toArray(l) : l;
      },
      ti = function (e, t) {
        var n = e.defaultRichTextElements,
          r = Lt(e, ["defaultRichTextElements"]),
          i = Jr(n),
          o = Xr(Ot(Ot(Ot({}, jr), r), { defaultRichTextElements: i }), t),
          a = {
            locale: o.locale,
            timeZone: o.timeZone,
            fallbackOnEmptyString: o.fallbackOnEmptyString,
            formats: o.formats,
            defaultLocale: o.defaultLocale,
            defaultFormats: o.defaultFormats,
            messages: o.messages,
            onError: o.onError,
            defaultRichTextElements: i,
          };
        return Ot(Ot({}, o), { formatMessage: ei.bind(null, a, o.formatters), $t: ei.bind(null, a, o.formatters) });
      },
      ni = (function (t) {
        function n() {
          var e = (null !== t && t.apply(this, arguments)) || this;
          return (
            (e.cache = {
              dateTime: {},
              number: {},
              message: {},
              relativeTime: {},
              pluralRules: {},
              list: {},
              displayNames: {},
            }),
            (e.state = { cache: e.cache, intl: ti(Qr(e.props), e.cache), prevConfig: Qr(e.props) }),
            e
          );
        }
        return (
          Bt(n, t),
          (n.getDerivedStateFromProps = function (e, t) {
            var n = t.prevConfig,
              r = t.cache,
              i = Qr(e);
            return Sr(n, i) ? null : { intl: ti(i, r), prevConfig: i };
          }),
          (n.prototype.render = function () {
            return kr(this.state.intl), e.createElement(Ht, { value: this.state.intl }, this.props.children);
          }),
          (n.displayName = "IntlProvider"),
          (n.defaultProps = jr),
          n
        );
      })(e.PureComponent);
    const ri = ni,
      ii = JSON.parse(
        '{"+D82kt":"Are you sure you want to repost: {id}","+PzQ9Y":"Payout Now","+Vxixo":"Secret Group Chat","+aZY2h":"Zap Type","+vA//S":"Logins","+vIQlC":"Please make sure to save the following password in order to manage your handle in the future","+vVZ/G":"Connect","+xliwN":"{name} reposted","/4tOwT":"Skip","/JE/X+":"Account Support","/PCavi":"Public","/RD0e2":"Nostr uses digital signature technology to provide tamper proof notes which can safely be replicated to many relays to provide redundant storage of your content.","/d6vEc":"Make your profile easier to find and share","/n5KSF":"{n} ms","00LcfG":"Load more","08zn6O":"Export Keys","0Azlrb":"Manage","0BUTMv":"Search...","0jOEtS":"Invalid LNURL","0mch2Y":"name has disallowed characters","0yO7wF":"{n} secs","1A7TZk":"What is Snort and how does it work?","1Mo59U":"Are you sure you want to remove this note from bookmarks?","1R43+L":"Enter Nostr Wallet Connect config","1c4YST":"Connected to: {node} 🎉","1iQ8GN":"Toggle Preview","1nYUGC":"{n} Following","1udzha":"Conversations","2/2yg+":"Add","25V4l1":"Banner","2IFGap":"Donate","2LbrkB":"Enter password","2a2YiP":"{n} Bookmarks","2k0Cv+":"Dislikes ({n})","2ukA4d":"{n} hours","3Rx6Qo":"Advanced","3cc4Ct":"Light","3gOsZq":"Translators","3qnJlS":"You are voting with {amount} sats","3t3kok":"{n,plural,=1{{n} new note} other{{n} new notes}}","3tVy+Z":"{n} Followers","3xCwbZ":"OR","3yk8fB":"Wallet","450Fty":"None","47FYwb":"Cancel","4IPzdn":"Primary Developers","4L2vUY":"Your new NIP-05 handle is:","4OB335":"Dislike","4Vmpt4":"Nostr Plebs is one of the first NIP-05 providers in the space and offers a good collection of domains at reasonable prices","4Z3t5i":"Use imgproxy to compress images","4rYCjn":"Note to Self","5JcXdV":"Create Account","5oTnfy":"Buy Handle","5rOdPG":"Once you setup your key manager extension and generated a key, you can follow our new users flow to setup your profile and help you find some interesting people on Nostr to follow.","5u6iEc":"Transfer to Pubkey","5vMmmR":"Usernames are not unique on Nostr. The nostr address is your unique human-readable address that is unique to you upon registration.","5ykRmX":"Send zap","65BmHb":"Failed to proxy image from {host}, click here to load directly","6Yfvvp":"Get an identifier","6ewQqw":"Likes ({n})","6uMqL1":"Unpaid","7+Domh":"Notes","7BX/yC":"Account Switcher","7hp70g":"NIP-05","7xzTiH":"{action} to {target}","8/vBbP":"Reposts ({n})","89q5wc":"Confirm Reposts","8QDesP":"Zap {n} sats","8g2vyB":"name too long","8v1NN+":"Pairing phrase","9+Ddtu":"Next","9HU8vw":"Reply","9SvQep":"Follows {n}","9WRlF4":"Send","9gqH2W":"Login","9pMqYs":"Nostr Address","9wO4wJ":"Lightning Invoice","ADmfQT":"Parent","AGNz71":"Zap All {n} sats","ASRK0S":"This author has been muted","Adk34V":"Setup your Profile","Ai8VHU":"Unlimited note retention on Snort relay","AkCxS/":"Reason","AnLrRC":"Non-Zap","AyGauy":"Login","B4C47Y":"name too short","B6+XJy":"zapped","B6H7eJ":"nsec, npub, nip-05, hex","BGCM48":"Write access to Snort relay, with 1 year of event retention","BOUMjw":"No nostr users found for {twitterUsername}","BOr9z/":"Snort is an open source project built by passionate people in their free time","BWpuKl":"Update","BcGMo+":"Notes hold text content, the most popular usage of these notes is to store \\"tweet like\\" messages.","C5xzTC":"Premium","C81/uG":"Logout","C8HhVE":"Suggested Follows","CHTbO3":"Failed to load invoice","CVWeJ6":"Trending People","CmZ9ls":"{n} Muted","CsCUYo":"{n} sats","Cu/K85":"Translated from {lang}","D+KzKd":"Automatically zap every note when loaded","D3idYv":"Settings","DKnriN":"Send sats","DZzCem":"Show latest {n} notes","DcL8P+":"Supporter","Dh3hbq":"Auto Zap","DtYelJ":"Transfer","E8a4yq":"Follow some popular accounts","ELbg9p":"Data Providers","EPYwm7":"Your private key is your password. If you lose this key, you will lose access to your account! Copy it and keep it in a safe place. There is no way to reset your private key.","EWyQH5":"Global","Ebl/B2":"Translate to {lang}","EcZF24":"Custom Relays","EcglP9":"Key","EnCOBJ":"Buy","Eqjl5K":"Only Snort and our integration partner identifier gives you a colorful domain name, but you are welcome to use other services too.","F+B3x1":"We have also partnered with nostrplebs.com to give you more options","F3l7xL":"Add Account","FDguSC":"{n} Zaps","FP+D3H":"LNURL to forward zaps to","FS3b54":"Done!","FSYL8G":"Trending Users","FdhSU2":"Claim Now","FfYsOb":"An error has occured!","FmXUJg":"follows you","G/yZLu":"Remove","G1BGCg":"Select Wallet","GFOoEE":"Salt","GL8aXW":"Bookmarks ({n})","GSye7T":"Lightning Address","GUlSVG":"Claim your included Snort nostr address","Gcn9NQ":"Magnet Link","GspYR7":"{n} Dislike","H+vHiz":"Hex Key..","H0JBH6":"Log Out","H6/kLh":"Order Paid!","HAlOn1":"Name","HF4YnO":"Watch Live!","HFls6j":"name will be available later","HOzFdo":"Muted","HWbkEK":"Clear cache and reload","HbefNb":"Open Wallet","IDjHJ6":"Thanks for using Snort, please consider donating if you can.","IEwZvs":"Are you sure you want to unpin this note?","IKKHqV":"Follows","INSqIz":"Twitter username...","IUZC+0":"This means that nobody can modify notes which you have created and everybody can easily verify that the notes they are reading are created by you.","Ig9/a1":"Sent {n} sats to {name}","Ix8l+B":"Trending Notes","J+dIsA":"Subscriptions","JCIgkj":"Username","JHEHCk":"Zaps ({n})","JPFYIM":"No lightning address","JeoS4y":"Repost","JjGgXI":"Search users","JkLHGw":"Website","JymXbw":"Private Key","K3r6DQ":"Delete","K7AkdL":"Show","KAhAcM":"Enter LNDHub config","KLo3SP":"Reason: {reason}","KQvWvD":"Deleted","KWuDfz":"I have saved my keys, continue","KahimY":"Unknown event kind: {kind}","KoFlZg":"Enter mint URL","LF5kYT":"Other Connections","LXxsbk":"Anonymous","LgbKvU":"Comment","Lu5/Bj":"Open on Zapstr","Lw+I+J":"{n,plural,=0{{name} zapped} other{{name} & {n} others zapped}}","M3Oirc":"Debug Menus","MBAYRO":"Shows \\"Copy ID\\" and \\"Copy Event JSON\\" in the context menu on each message","MI2jkA":"Not available:","MP54GY":"Wallet password","MRp6Ly":"Twitter username","MWTx65":"Default Page","Mrpkot":"Pay for subscription","MuVeKe":"Buy nostr address","MzRYWH":"Buying {item}","N2IrpM":"Confirm","NAuFNH":"You already have a subscription of this type, please renew or pay","NNSu3d":"Import Twitter Follows","NdOYJJ":"Hmm nothing here.. Checkout {newUsersPage} to follow some recommended nostrich\'s!","NepkXH":"Can\'t vote with {amount} sats, please set a different default zap amount","NfNk2V":"Your private key","NndBJE":"New users page","O9GTIc":"Profile picture","OEW7yJ":"Zaps","OKhRC6":"Share","OLEm6z":"Unknown login error","OQXnew":"You subscription is still active, you can\'t renew yet","ORGv1Q":"Created","P04gQm":"All zaps sent to this note will be received by the following LNURL","P61BTu":"Copy Event JSON","P7FD0F":"System (Default)","P7nJT9":"Total today (UTC): {amount} sats","PCSt5T":"Preferences","PLSbmL":"Your mnemonic phrase","PamNxw":"Unknown file header: {name}","Pe0ogR":"Theme","PrsIg7":"Reactions will be shown on every page, if disabled no reactions will be shown","QDFTjG":"{n} Relays","QWhotP":"Zap Pool only works if you use one of the supported wallet connections (WebLN, LNC, LNDHub or Nostr Wallet Connect)","QawghE":"You can change your username at any point.","QxCuTo":"Art by {name}","Qxv0B2":"You currently have {number} sats in your zap pool.","R/6nsx":"Subscription","R1fEdZ":"Forward Zaps","R81upa":"People you follow","RDZVQL":"Check","RahCRH":"Expired","RfhLwC":"By: {author}","RhDAoS":"Are you sure you want to delete {id}","RjpoYG":"Recent","RoOyAh":"Relays","Rs4kCE":"Bookmark","RwFaYs":"Sort","SOqbe9":"Update Lightning Address","SP0+yi":"Buy Subscription","SX58hM":"Copy","SYQtZ7":"LN Address Proxy","ShdEie":"Mark all read","Sjo1P4":"Custom","Ss0sWu":"Pay Now","TDR5ge":"Media in notes will automatically be shown for selected people, otherwise only the link will show","TMfYfY":"Cashu token","TpgeGw":"Hex Salt..","Tpy00S":"People","UDYlxu":"Pending Subscriptions","ULotH9":"Amount: {amount} sats","UT7Nkj":"New Chat","UUPFlt":"Users must accept the content warning to show the content of your note.","Up5U7K":"Block","VBadwB":"Hmm, can\'t find a key manager extension.. try reloading the page.","VN0+Fz":"Balance: {amount} sats","VOjC1i":"Pick which upload service you want to upload attachments to","VR5eHw":"Public key (npub/nprofile)","VlJkSk":"{n} muted","VnXp8Z":"Avatar","VtPV/B":"Login with Extension (NIP-07)","VvaJst":"View Wallets","Vx7Zm2":"How do keys work?","W1yoZY":"It looks like you dont have any subscriptions, you can get one {link}","W2PiAr":"{n} Blocked","W9355R":"Unmute","WONP5O":"Find your twitter follows on nostr (Data provided by {provider})","WxthCV":"e.g. Jack","X7xU8J":"nsec, npub, nip-05, hex, mnemonic","XICsE8":"File hosts","XgWvGA":"Reactions","Xopqkl":"Your default zap amount is {number} sats, example values are calculated from this.","XrSk2j":"Redeem","XzF0aC":"Key manager extensions are more secure and allow you to easily login to any Nostr client, here are some well known extensions:","Y31HTH":"Help fund the development of Snort","YDURw6":"Service URL","YXA3AH":"Enable reactions","Z0FDj+":"Subscribe to Snort {plan} for {price} and receive the following rewards","Z4BMCZ":"Enter pairing phrase","ZKORll":"Activate Now","ZLmyG9":"Contributors","ZUZedV":"Lightning Donation:","Zr5TMx":"Setup profile","a5UPxh":"Fund developers and platforms providing NIP-05 verification services","a7TDNm":"Notes will stream in real time into global and notes tab","aWpBzj":"Show more","b12Goz":"Mnemonic","b5vAk0":"Your handle will act like a lightning address and will redirect to your chosen LNURL or Lightning address","bQdA2k":"Sensitive Content","bep9C3":"Public Key","bfvyfs":"Anon","brAXSu":"Pick a username","bxv59V":"Just now","c+oiJe":"Install Extension","c35bj2":"If you have an enquiry about your NIP-05 order please DM {link}","c3g2hL":"Broadcast Again","cFbU1B":"Using Alby? Go to {link} to get your NWC config!","cPIKU2":"Following","cQfLWb":"URL..","cWx9t8":"Mute all","cg1VJ2":"Connect Wallet","cuP16y":"Multi account support","cuV2gK":"name is registered","cyR7Kh":"Back","d6CyG5":"History","d7d0/x":"LN Address","dOQCL8":"Display name","e61Jf3":"Coming soon","e7qqly":"Mark All Read","eHAneD":"Reaction emoji","eJj8HD":"Get Verified","eSzf2G":"A single zap of {nIn} sats will allocate {nOut} sats to the zap pool.","eXT2QQ":"Group Chat","fBI91o":"Zap","fOksnD":"Can\'t vote because LNURL service does not support zaps","fWZYP5":"Pinned","filwqD":"Read","flnGvv":"What\'s on your mind?","fsB/4p":"Saved","g5pX+a":"About","g985Wp":"Failed to send vote","gBdUXk":"Save your keys!","gDZkld":"Snort is a Nostr UI, nostr is a decentralised protocol for saving and distributing \\"notes\\".","gDzDRs":"Emoji to send when reactiong to a note","gXgY3+":"Not all clients support this yet","gczcC5":"Subscribe","gjBiyj":"Loading...","grQ+mI":"Proof of Work","h8XMJL":"Badges","hK5ZDk":"the world","hMzcSq":"Messages","hWSp+B":"Nostr Connect (NIP-46)","hY4lzx":"Supports","hicxcO":"Show replies","hniz8Z":"here","i/dBAR":"Zap Pool","iCqGww":"Reactions ({n})","iDGAbc":"Get a Snort identifier","iEoXYx":"DeepL translations","iGT1eE":"Prevent fake accounts from imitating you","iNWbVV":"Handle","iUsU2x":"Mint: {url}","iXPL0Z":"Can\'t login with private key on an insecure connection, please use a Nostr key manager extension instead","ieGrWo":"Follow","itPgxd":"Profile","izWS4J":"Unfollow","jA3OE/":"{n,plural,=1{{n} sat} other{{n} sats}}","jCA7Cw":"Preview on snort","jMzO1S":"Internal error: {msg}","jfV8Wr":"Back","juhqvW":"Improve login security with browser extensions","jvo0vs":"Save","jzgQ2z":"{n} Reactions","k2veDA":"Write","k7sKNy":"Our very own NIP-05 verification service, help support the development of this site and get a shiny special badge on our site!","kJYo0u":"{n,plural,=0{{name} reposted} other{{name} & {n} others reposted}}","kaaf1E":"now","kuPHYE":"{n,plural,=0{{name} liked} other{{name} & {n} others liked}}","l+ikU1":"Everything in {plan}","lBboHo":"If you want to try out some others, check out {link} for more!","lCILNz":"Buy Now","lD3+8a":"Pay","lPWASz":"Snort nostr address","lTbT3s":"Wallet password","lgg1KN":"account page","ll3xBp":"Image proxy service","lnaT9F":"Following {n}","lsNFM1":"Click to load content from {link}","lvlPhZ":"Pay Invoice","mErPop":"It looks like you dont have any, check {link} to buy one!","mH91FY":"Each contributor will get paid a percentage of all donations and NIP-05 orders, you can see the split amounts below","mKAr6h":"Follow all","mKh2HS":"File upload service","mKhgP9":"{n,plural,=0{} =1{zapped} other{zapped}}","mTJFgF":"Popular","mfe8RW":"Option: {n}","n1Whvj":"Switch","nDejmx":"Unblock","nGBrvw":"Bookmarks","nN9XTz":"Share your thoughts with {link}","nOaArs":"Setup Profile","nWQFic":"Renew","nn1qb3":"Your donations are greatly appreciated","nwZXeh":"{n} blocked","o6Uy3d":"Only the secret key can be used to publish (sign events), everything else logs you in read-only mode.","o7e+nJ":"{n} followers","oJ+JJN":"Nothing found :/","odFwjL":"Follows only","odhABf":"Login","ojzbwv":"Hey, it looks like you dont have a Nostr Address yet, you should get one! Check out {link}","osUr8O":"You can also use these extensions to login to most Nostr sites.","oxCa4R":"Getting an identifier helps confirm the real you to people who know you. Many people can have a username @jack, but there is only one jack@cash.app.","p4N05H":"Upload","p85Uwy":"Active Subscriptions","pI+77w":"Downloadable backups from Snort relay","puLNUJ":"Pin","pzTOmv":"Followers","qD9EUF":"Email <> DM bridge for your Snort nostr address","qDwvZ4":"Unknown error","qMx1sA":"Default Zap amount","qUJTsT":"Blocked","qdGuQo":"Your Private Key Is (do not share this with anyone)","qkvYUb":"Add to Profile","qmJ8kD":"Translation failed","qtWLmt":"Like","r3C4x/":"Software","r5srDR":"Enter wallet password","rT14Ow":"Add Relays","reJ6SM":"It is recommended to use one of the following browser extensions if you are on a desktop computer to secure your key:","rfuMjE":"(Default)","rmdsT4":"{n} days","rrfdTe":"This is the same technology which is used by Bitcoin and has been proven to be extremely secure.","rudscU":"Failed to load follows, please try again later","sWnYKw":"Snort is designed to have a similar experience to Twitter.","svOoEH":"Name-squatting and impersonation is not allowed. Snort and our partners reserve the right to terminate your handle (not your account - nobody can take that away) for violating this rule.","tOdNiY":"Dark","th5lxp":"Send note to a subset of your write relays","thnRpU":"Getting NIP-05 verified can help:","ttxS0b":"Supporter Badge","u/vOPu":"Paid","u4bHcR":"Check out the code here: {link}","uD/N6c":"Zap {target} {n} sats","uSV4Ti":"Reposts need to be manually confirmed","usAvMr":"Edit Profile","ut+2Cd":"Get a partner identifier","v8lolG":"Start chat","vOKedj":"{n,plural,=1{& {n} other} other{& {n} others}}","vU71Ez":"Paying with {wallet}","vZ4quW":"NIP-05 is a DNS based verification spec which helps to validate you as a real user.","vhlWFg":"Poll Options","vlbWtt":"Get a free one","vrTOHJ":"{amount} sats","vxwnbh":"Amount of work to apply to all published events","wEQDC6":"Edit","wLtRCF":"Your key","wWLwvh":"Anon","wYSD2L":"Nostr Adddress","wih7iJ":"name is blocked","wqyN/i":"Find out more info about {service} at {link}","wtLjP6":"Copy ID","x/Fx2P":"Fund the services that you use by splitting a portion of all your zaps into a pool of funds!","x/q8d5":"This note has been marked as sensitive, click here to reveal","x82IOl":"Mute","xIoGG9":"Go to","xJ9n2N":"Your public key","xKflGN":"{username}\'\'s Follows on Nostr","xQtL3v":"Unlock","xaj9Ba":"Provider","xbVgIm":"Automatically load media","xhQMeQ":"Expires","xmcVZ0":"Search","y1Z3or":"Language","yCLnBC":"LNURL or Lightning Address","yCmnnm":"Read global from","zFegDD":"Contact","zINlao":"Owner","zQvVDJ":"All","zcaOTs":"Zap amount in sats","zjJZBd":"You\'re ready!","zonsdq":"Failed to load LNURL service","zvCDao":"Automatically show latest notes"}'
      );
    var oi = a(5267),
      ai = a(9509),
      si = a(5861);
    const li = "https://api.snort.social",
      ci = "https://translate.snort.social",
      ui = "https://void.cat",
      di = "npub1v0lxxxxutpvrelsksy8cdhgfux9l6a42hsj2qzquu2zk7vc9qnkszrqj49",
      fi = "npub1sn0rtcjcf543gj4wsg7fa59s700d5ztys5ctj0g69g2x6802npjqhjjtws",
      hi = new Map([
        ["wss://relay.snort.social/", { read: !0, write: !0 }],
        ["wss://nostr.wine/", { read: !0, write: !1 }],
        ["wss://nos.lol/", { read: !0, write: !0 }],
      ]),
      pi = ["wss://relay.nostr.band"],
      mi = [
        "82341f882b6eabcd2ba7f1ef90aad961cf074af15b9ef44a09f9d2a8fbfbe6a2",
        "3bf0c63fcb93463407af97a5e5ee64fa883d107ef9e558472c4eb9aaaefa459d",
        "020f2d21ae09bf35fcdfb65decf1478b846f5f728ab30c5eaabcd6d081a81c3e",
        "6e468422dfb74a5738702a8823b9b28168abab8655faacb6853cd0ee15deee93",
        "63fe6318dc58583cfe16810f86dd09e18bfd76aabc24a0081ce2856f330504ed",
        "32e1827635450ebb3c5a7d12c1f8e7b2b514439ac10a67eef3d9fd9c5c68e245",
        "e33fe65f1fde44c6dc17eeb38fdad0fceaf1cae8722084332ed1e32496291d42",
        "00000000827ffaa94bfea288c3dfce4422c794fbb96625b6b31e9049f729d700",
        "A341F45FF9758F570A21B000C17D4E53A3A497C8397F26C0E6D61E5ACFFC7A98",
        "E88A691E98D9987C964521DFF60025F60700378A4879180DCBBB4A5027850411",
        "C4EABAE1BE3CF657BC1855EE05E69DE9F059CB7A059227168B80B89761CBC4E0",
        "85080D3BAD70CCDCD7F74C29A44F55BB85CBCD3DD0CBB957DA1D215BDB931204",
        "C49D52A573366792B9A6E4851587C28042FB24FA5625C6D67B8C95C8751ACA15",
        "83E818DFBECCEA56B0F551576B3FD39A7A50E1D8159343500368FA085CCD964B",
        "3F770D65D3A764A9C5CB503AE123E62EC7598AD035D836E2A810F3877A745B24",
        "472F440F29EF996E92A186B8D320FF180C855903882E59D50DE1B8BD5669301E",
        "1577e4599dd10c863498fe3c20bd82aafaf829a595ce83c5cf8ac3463531b09b",
        "04c915daefee38317fa734444acee390a8269fe5810b2241e5e6dd343dfbecc9",
        "7fa56f5d6962ab1e3cd424e758c3002b8665f7b0d8dcee9fe9e288d7751ac194",
      ],
      yi = {
        url: "https://imgproxy.snort.social",
        key: "a82fcf26aa0ccb55dfc6b4bd6a1c90744d3be0f38429f21a8828b43449ce7cebe6bdc2b09a827311bef37b18ce35cb1e6b1c60387a254541afa9e5b4264ae942",
        salt: "a897770d9abf163de055e9617891214e75a9016d748f8ef865e6ffbcb9ed932295659549773a22a019a5f06d0b440c320be411e3fddfe784e199e4f03d74bd9b",
      },
      gi = "m/44'/1237'/0'/0/0",
      vi =
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
      wi = /(\w+)/g,
      bi = /\.([\w]{1,7})$/i,
      xi = /(#\[\d+\])/gi,
      Ei =
        /(?:https?:\/\/)?(?:www|m\.)?(?:youtu\.be\/|youtube\.com\/(?:live\/|shorts\/|embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})/,
      ki = /https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)/,
      ji = /tidal\.com\/(?:browse\/)?(\w+)\/([a-z0-9-]+)/i,
      Si = /soundcloud\.com\/(?!live)([a-zA-Z0-9]+)\/([a-zA-Z0-9-]+)/,
      Ai = /mixcloud\.com\/(?!live)([a-zA-Z0-9]+)\/([a-zA-Z0-9-]+)/,
      Ci = /open\.spotify\.com\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/,
      Ni = /twitch.tv\/([a-z0-9_]+$)/i,
      Pi = /music\.apple\.com\/([a-z]{2}\/)?(?:album|playlist)\/[\w\d-]+\/([.a-zA-Z0-9-]+)(?:\?i=\d+)?/i,
      _i = /nostrnests\.com\/[a-zA-Z0-9]+/i,
      Ti =
        /https?:\/\/(?:player\.|www\.)?wavlake\.com\/(?!top|new|artists|account|activity|login|preferences|feed|profile)(?:(?:track|album)\/[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}|[a-z-]+)/i,
      Mi = {
        language: "en",
        enableReactions: !0,
        reactionEmoji: "+",
        autoLoadMedia: "all",
        theme: "system",
        confirmReposts: !1,
        showDebugMenus: !1,
        autoShowLatest: !1,
        fileUploader: "void.cat",
        imgProxyConfig: yi,
        defaultRootTab: "notes",
        defaultZapAmount: 50,
        autoZap: !1,
      };
    function Ri(e, t) {
      Oi(e, t), t.add(e);
    }
    function Bi(e, t, n) {
      Oi(e, t), t.set(e, n);
    }
    function Oi(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function Li(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, Di(e, t, "get"));
    }
    function Ii(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
      return n;
    }
    function Fi(e, t, n) {
      return (
        (function (e, t, n) {
          if (t.set) t.set.call(e, n);
          else {
            if (!t.writable) throw new TypeError("attempted to set read only private field");
            t.value = n;
          }
        })(e, Di(e, t, "set"), n),
        n
      );
    }
    function Di(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    const Ui = "sessions",
      zi = {
        type: "public_key",
        preferences: Mi,
        tags: { item: [], timestamp: 0 },
        follows: { item: [], timestamp: 0 },
        muted: { item: [], timestamp: 0 },
        blocked: { item: [], timestamp: 0 },
        bookmarked: { item: [], timestamp: 0 },
        pinned: { item: [], timestamp: 0 },
        relays: {
          item: Object.fromEntries([...hi.entries()].map(e => [(0, si.unwrap)((0, si.sanitizeRelayUrl)(e[0])), e[1]])),
          timestamp: 0,
        },
        latestNotification: 0,
        readNotifications: 0,
        subscriptions: [],
      },
      Hi = "secret",
      Ki = "pubkey",
      Wi = "preferences";
    var qi = new WeakMap(),
      Vi = new WeakMap(),
      $i = new WeakSet(),
      Gi = new WeakSet(),
      Zi = new WeakSet();
    class Yi extends si.ExternalStore {
      constructor() {
        super(),
          Ri(this, Zi),
          Ri(this, Gi),
          Ri(this, $i),
          Bi(this, qi, { writable: !0, value: void 0 }),
          Bi(this, Vi, { writable: !0, value: void 0 });
        const e = window.localStorage.getItem(Ui);
        if (e) {
          const t = JSON.parse(e);
          Fi(this, Vi, new Map(t.map(e => [(0, si.unwrap)(e.publicKey), e])));
        } else Fi(this, Vi, new Map());
        Ii(this, Gi, Qi).call(this), Li(this, qi) || Fi(this, qi, Li(this, Vi).keys().next().value);
        for (const [, e] of Li(this, Vi)) e.publisher = Ii(this, $i, Xi).call(this, e);
      }
      getSessions() {
        return [...Li(this, Vi).keys()];
      }
      allSubscriptions() {
        return [...Li(this, Vi).values()].map(e => e.subscriptions).flat();
      }
      switchAccount(e) {
        Li(this, Vi).has(e) && (Fi(this, qi, e), Ii(this, Zi, Ji).call(this));
      }
      loginWithPubkey(e, t, n, r, i) {
        if (Li(this, Vi).has(e)) throw new Error("Already logged in with this pubkey");
        const o = this.decideInitRelays(n),
          a = {
            ...zi,
            type: t,
            publicKey: e,
            relays: { item: o, timestamp: 1 },
            preferences: (0, si.deepClone)(Mi),
            remoteSignerRelays: r,
            privateKey: i,
          };
        return (
          (a.publisher = Ii(this, $i, Xi).call(this, a)),
          Li(this, Vi).set(e, a),
          Fi(this, qi, e),
          Ii(this, Zi, Ji).call(this),
          a
        );
      }
      decideInitRelays(e) {
        return e && Object.keys(e).length > 0 ? e : Object.fromEntries(hi.entries());
      }
      loginWithPrivateKey(e, t, n) {
        const r = ai.ci(oi.xW.getPublicKey(e));
        if (Li(this, Vi).has(r)) throw new Error("Already logged in with this pubkey");
        const i = null != n ? n : Object.fromEntries(hi.entries()),
          o = {
            ...zi,
            type: eo.PrivateKey,
            privateKey: e,
            publicKey: r,
            generatedEntropy: t,
            relays: { item: i, timestamp: 1 },
            preferences: (0, si.deepClone)(Mi),
          };
        return (
          (o.publisher = Ii(this, $i, Xi).call(this, o)),
          Li(this, Vi).set(r, o),
          Fi(this, qi, r),
          Ii(this, Zi, Ji).call(this),
          o
        );
      }
      updateSession(e) {
        const t = (0, si.unwrap)(e.publicKey);
        Li(this, Vi).has(t) && (Li(this, Vi).set(t, e), console.debug("SET SESSION", e), Ii(this, Zi, Ji).call(this));
      }
      removeSession(e) {
        Li(this, Vi).delete(e) && (Li(this, qi) === e && Fi(this, qi, void 0), Ii(this, Zi, Ji).call(this));
      }
      takeSnapshot() {
        const e = Li(this, qi) ? Li(this, Vi).get(Li(this, qi)) : void 0;
        return e ? { ...e } : zi;
      }
    }
    function Xi(e) {
      switch (e.type) {
        case eo.PrivateKey:
          return Mt.EventPublisher.privateKey((0, si.unwrap)(e.privateKey));
        case eo.Nip46: {
          var t;
          const n = (null !== (t = e.remoteSignerRelays) && void 0 !== t ? t : []).map(
              e => `relay=${encodeURIComponent(e)}`
            ),
            r = new Mt.PrivateKeySigner((0, si.unwrap)(e.privateKey)),
            i = new Mt.Nip46Signer(`bunker://${(0, si.unwrap)(e.publicKey)}?${[...n].join("&")}`, r);
          return new Mt.EventPublisher(i, (0, si.unwrap)(e.publicKey));
        }
        default:
          if (e.publicKey) return new Mt.EventPublisher(new Mt.Nip7Signer(), e.publicKey);
      }
    }
    function Qi() {
      let e = !1;
      const t = window.localStorage.getItem(Wi),
        n = t ? JSON.parse(t) : (0, si.deepClone)(Mi);
      window.localStorage.removeItem(Wi);
      const r = window.localStorage.getItem(Hi);
      if (r) {
        const t = ai.ci(oi.xW.getPublicKey(r));
        Li(this, Vi).set(t, { ...zi, privateKey: r, publicKey: t, preferences: n }),
          window.localStorage.removeItem(Hi),
          window.localStorage.removeItem(Ki),
          (e = !0);
      }
      const i = window.localStorage.getItem(Ki);
      i && (Li(this, Vi).set(i, { ...zi, publicKey: i, preferences: n }), window.localStorage.removeItem(Ki), (e = !0)),
        window.localStorage.removeItem("last-relays"),
        window.localStorage.removeItem("last-follows"),
        window.localStorage.removeItem("notifications-read");
      for (const [, t] of Li(this, Vi))
        "posts" === t.preferences.defaultRootTab && ((t.preferences.defaultRootTab = "notes"), (e = !0));
      for (const [, t] of Li(this, Vi)) t.type || ((t.type = t.privateKey ? eo.PrivateKey : eo.Nip7), (e = !0));
      e && (console.debug("Finished migration to MultiAccountStore"), Ii(this, Zi, Ji).call(this));
    }
    function Ji() {
      !Li(this, qi) && Li(this, Vi).size > 0 && Fi(this, qi, [...Li(this, Vi).keys()][0]),
        window.localStorage.setItem(Ui, JSON.stringify([...Li(this, Vi).values()])),
        this.notifyChange();
    }
    let eo = (function (e) {
      return (e.PrivateKey = "private_key"), (e.PublicKey = "public_key"), (e.Nip7 = "nip7"), (e.Nip46 = "nip46"), e;
    })({});
    var to = a(8092),
      no = a(530),
      ro = a(9385),
      io = a(5711),
      oo = a(7588);
    const ao = new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]),
      so = Uint8Array.from({ length: 16 }, (e, t) => t),
      lo = so.map(e => (9 * e + 5) % 16);
    let co = [so],
      uo = [lo];
    for (let e = 0; e < 4; e++) for (let t of [co, uo]) t.push(t[e].map(e => ao[e]));
    const fo = [
        [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],
        [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],
        [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],
        [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],
        [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],
      ].map(e => new Uint8Array(e)),
      ho = co.map((e, t) => e.map(e => fo[t][e])),
      po = uo.map((e, t) => e.map(e => fo[t][e])),
      mo = new Uint32Array([0, 1518500249, 1859775393, 2400959708, 2840853838]),
      yo = new Uint32Array([1352829926, 1548603684, 1836072691, 2053994217, 0]),
      go = (e, t) => (e << t) | (e >>> (32 - t));
    function vo(e, t, n, r) {
      return 0 === e
        ? t ^ n ^ r
        : 1 === e
        ? (t & n) | (~t & r)
        : 2 === e
        ? (t | ~n) ^ r
        : 3 === e
        ? (t & r) | (n & ~r)
        : t ^ (n | ~r);
    }
    const wo = new Uint32Array(16);
    class bo extends io.N {
      constructor() {
        super(64, 20, 8, !0),
          (this.h0 = 1732584193),
          (this.h1 = -271733879),
          (this.h2 = -1732584194),
          (this.h3 = 271733878),
          (this.h4 = -1009589776);
      }
      get() {
        const { h0: e, h1: t, h2: n, h3: r, h4: i } = this;
        return [e, t, n, r, i];
      }
      set(e, t, n, r, i) {
        (this.h0 = 0 | e), (this.h1 = 0 | t), (this.h2 = 0 | n), (this.h3 = 0 | r), (this.h4 = 0 | i);
      }
      process(e, t) {
        for (let n = 0; n < 16; n++, t += 4) wo[n] = e.getUint32(t, !0);
        let n = 0 | this.h0,
          r = n,
          i = 0 | this.h1,
          o = i,
          a = 0 | this.h2,
          s = a,
          l = 0 | this.h3,
          c = l,
          u = 0 | this.h4,
          d = u;
        for (let e = 0; e < 5; e++) {
          const t = 4 - e,
            f = mo[e],
            h = yo[e],
            p = co[e],
            m = uo[e],
            y = ho[e],
            g = po[e];
          for (let t = 0; t < 16; t++) {
            const r = (go(n + vo(e, i, a, l) + wo[p[t]] + f, y[t]) + u) | 0;
            (n = u), (u = l), (l = 0 | go(a, 10)), (a = i), (i = r);
          }
          for (let e = 0; e < 16; e++) {
            const n = (go(r + vo(t, o, s, c) + wo[m[e]] + h, g[e]) + d) | 0;
            (r = d), (d = c), (c = 0 | go(s, 10)), (s = o), (o = n);
          }
        }
        this.set(
          (this.h1 + a + c) | 0,
          (this.h2 + l + d) | 0,
          (this.h3 + u + r) | 0,
          (this.h4 + n + o) | 0,
          (this.h0 + i + s) | 0
        );
      }
      roundClean() {
        wo.fill(0);
      }
      destroy() {
        (this.destroyed = !0), this.buffer.fill(0), this.set(0, 0, 0, 0, 0);
      }
    }
    const xo = (0, oo.hE)(() => new bo());
    var Eo = a(9753);
    const ko = BigInt(2 ** 32 - 1),
      jo = BigInt(32);
    function So(e, t = !1) {
      return t
        ? { h: Number(e & ko), l: Number((e >> jo) & ko) }
        : { h: 0 | Number((e >> jo) & ko), l: 0 | Number(e & ko) };
    }
    const Ao = {
        fromBig: So,
        split: function (e, t = !1) {
          let n = new Uint32Array(e.length),
            r = new Uint32Array(e.length);
          for (let i = 0; i < e.length; i++) {
            const { h: o, l: a } = So(e[i], t);
            [n[i], r[i]] = [o, a];
          }
          return [n, r];
        },
        toBig: (e, t) => (BigInt(e >>> 0) << jo) | BigInt(t >>> 0),
        shrSH: (e, t, n) => e >>> n,
        shrSL: (e, t, n) => (e << (32 - n)) | (t >>> n),
        rotrSH: (e, t, n) => (e >>> n) | (t << (32 - n)),
        rotrSL: (e, t, n) => (e << (32 - n)) | (t >>> n),
        rotrBH: (e, t, n) => (e << (64 - n)) | (t >>> (n - 32)),
        rotrBL: (e, t, n) => (e >>> (n - 32)) | (t << (64 - n)),
        rotr32H: (e, t) => t,
        rotr32L: (e, t) => e,
        rotlSH: (e, t, n) => (e << n) | (t >>> (32 - n)),
        rotlSL: (e, t, n) => (t << n) | (e >>> (32 - n)),
        rotlBH: (e, t, n) => (t << (n - 32)) | (e >>> (64 - n)),
        rotlBL: (e, t, n) => (e << (n - 32)) | (t >>> (64 - n)),
        add: function (e, t, n, r) {
          const i = (t >>> 0) + (r >>> 0);
          return { h: (e + n + ((i / 2 ** 32) | 0)) | 0, l: 0 | i };
        },
        add3L: (e, t, n) => (e >>> 0) + (t >>> 0) + (n >>> 0),
        add3H: (e, t, n, r) => (t + n + r + ((e / 2 ** 32) | 0)) | 0,
        add4L: (e, t, n, r) => (e >>> 0) + (t >>> 0) + (n >>> 0) + (r >>> 0),
        add4H: (e, t, n, r, i) => (t + n + r + i + ((e / 2 ** 32) | 0)) | 0,
        add5H: (e, t, n, r, i, o) => (t + n + r + i + o + ((e / 2 ** 32) | 0)) | 0,
        add5L: (e, t, n, r, i) => (e >>> 0) + (t >>> 0) + (n >>> 0) + (r >>> 0) + (i >>> 0),
      },
      Co = Ao,
      [No, Po] = Co.split(
        [
          "0x428a2f98d728ae22",
          "0x7137449123ef65cd",
          "0xb5c0fbcfec4d3b2f",
          "0xe9b5dba58189dbbc",
          "0x3956c25bf348b538",
          "0x59f111f1b605d019",
          "0x923f82a4af194f9b",
          "0xab1c5ed5da6d8118",
          "0xd807aa98a3030242",
          "0x12835b0145706fbe",
          "0x243185be4ee4b28c",
          "0x550c7dc3d5ffb4e2",
          "0x72be5d74f27b896f",
          "0x80deb1fe3b1696b1",
          "0x9bdc06a725c71235",
          "0xc19bf174cf692694",
          "0xe49b69c19ef14ad2",
          "0xefbe4786384f25e3",
          "0x0fc19dc68b8cd5b5",
          "0x240ca1cc77ac9c65",
          "0x2de92c6f592b0275",
          "0x4a7484aa6ea6e483",
          "0x5cb0a9dcbd41fbd4",
          "0x76f988da831153b5",
          "0x983e5152ee66dfab",
          "0xa831c66d2db43210",
          "0xb00327c898fb213f",
          "0xbf597fc7beef0ee4",
          "0xc6e00bf33da88fc2",
          "0xd5a79147930aa725",
          "0x06ca6351e003826f",
          "0x142929670a0e6e70",
          "0x27b70a8546d22ffc",
          "0x2e1b21385c26c926",
          "0x4d2c6dfc5ac42aed",
          "0x53380d139d95b3df",
          "0x650a73548baf63de",
          "0x766a0abb3c77b2a8",
          "0x81c2c92e47edaee6",
          "0x92722c851482353b",
          "0xa2bfe8a14cf10364",
          "0xa81a664bbc423001",
          "0xc24b8b70d0f89791",
          "0xc76c51a30654be30",
          "0xd192e819d6ef5218",
          "0xd69906245565a910",
          "0xf40e35855771202a",
          "0x106aa07032bbd1b8",
          "0x19a4c116b8d2d0c8",
          "0x1e376c085141ab53",
          "0x2748774cdf8eeb99",
          "0x34b0bcb5e19b48a8",
          "0x391c0cb3c5c95a63",
          "0x4ed8aa4ae3418acb",
          "0x5b9cca4f7763e373",
          "0x682e6ff3d6b2b8a3",
          "0x748f82ee5defb2fc",
          "0x78a5636f43172f60",
          "0x84c87814a1f0ab72",
          "0x8cc702081a6439ec",
          "0x90befffa23631e28",
          "0xa4506cebde82bde9",
          "0xbef9a3f7b2c67915",
          "0xc67178f2e372532b",
          "0xca273eceea26619c",
          "0xd186b8c721c0c207",
          "0xeada7dd6cde0eb1e",
          "0xf57d4f7fee6ed178",
          "0x06f067aa72176fba",
          "0x0a637dc5a2c898a6",
          "0x113f9804bef90dae",
          "0x1b710b35131c471b",
          "0x28db77f523047d84",
          "0x32caab7b40c72493",
          "0x3c9ebe0a15c9bebc",
          "0x431d67c49c100d4c",
          "0x4cc5d4becb3e42b6",
          "0x597f299cfc657e2a",
          "0x5fcb6fab3ad6faec",
          "0x6c44198c4a475817",
        ].map(e => BigInt(e))
      ),
      _o = new Uint32Array(80),
      To = new Uint32Array(80);
    class Mo extends io.N {
      constructor() {
        super(128, 64, 16, !1),
          (this.Ah = 1779033703),
          (this.Al = -205731576),
          (this.Bh = -1150833019),
          (this.Bl = -2067093701),
          (this.Ch = 1013904242),
          (this.Cl = -23791573),
          (this.Dh = -1521486534),
          (this.Dl = 1595750129),
          (this.Eh = 1359893119),
          (this.El = -1377402159),
          (this.Fh = -1694144372),
          (this.Fl = 725511199),
          (this.Gh = 528734635),
          (this.Gl = -79577749),
          (this.Hh = 1541459225),
          (this.Hl = 327033209);
      }
      get() {
        const {
          Ah: e,
          Al: t,
          Bh: n,
          Bl: r,
          Ch: i,
          Cl: o,
          Dh: a,
          Dl: s,
          Eh: l,
          El: c,
          Fh: u,
          Fl: d,
          Gh: f,
          Gl: h,
          Hh: p,
          Hl: m,
        } = this;
        return [e, t, n, r, i, o, a, s, l, c, u, d, f, h, p, m];
      }
      set(e, t, n, r, i, o, a, s, l, c, u, d, f, h, p, m) {
        (this.Ah = 0 | e),
          (this.Al = 0 | t),
          (this.Bh = 0 | n),
          (this.Bl = 0 | r),
          (this.Ch = 0 | i),
          (this.Cl = 0 | o),
          (this.Dh = 0 | a),
          (this.Dl = 0 | s),
          (this.Eh = 0 | l),
          (this.El = 0 | c),
          (this.Fh = 0 | u),
          (this.Fl = 0 | d),
          (this.Gh = 0 | f),
          (this.Gl = 0 | h),
          (this.Hh = 0 | p),
          (this.Hl = 0 | m);
      }
      process(e, t) {
        for (let n = 0; n < 16; n++, t += 4) (_o[n] = e.getUint32(t)), (To[n] = e.getUint32((t += 4)));
        for (let e = 16; e < 80; e++) {
          const t = 0 | _o[e - 15],
            n = 0 | To[e - 15],
            r = Co.rotrSH(t, n, 1) ^ Co.rotrSH(t, n, 8) ^ Co.shrSH(t, n, 7),
            i = Co.rotrSL(t, n, 1) ^ Co.rotrSL(t, n, 8) ^ Co.shrSL(t, n, 7),
            o = 0 | _o[e - 2],
            a = 0 | To[e - 2],
            s = Co.rotrSH(o, a, 19) ^ Co.rotrBH(o, a, 61) ^ Co.shrSH(o, a, 6),
            l = Co.rotrSL(o, a, 19) ^ Co.rotrBL(o, a, 61) ^ Co.shrSL(o, a, 6),
            c = Co.add4L(i, l, To[e - 7], To[e - 16]),
            u = Co.add4H(c, r, s, _o[e - 7], _o[e - 16]);
          (_o[e] = 0 | u), (To[e] = 0 | c);
        }
        let {
          Ah: n,
          Al: r,
          Bh: i,
          Bl: o,
          Ch: a,
          Cl: s,
          Dh: l,
          Dl: c,
          Eh: u,
          El: d,
          Fh: f,
          Fl: h,
          Gh: p,
          Gl: m,
          Hh: y,
          Hl: g,
        } = this;
        for (let e = 0; e < 80; e++) {
          const t = Co.rotrSH(u, d, 14) ^ Co.rotrSH(u, d, 18) ^ Co.rotrBH(u, d, 41),
            v = Co.rotrSL(u, d, 14) ^ Co.rotrSL(u, d, 18) ^ Co.rotrBL(u, d, 41),
            w = (u & f) ^ (~u & p),
            b = (d & h) ^ (~d & m),
            x = Co.add5L(g, v, b, Po[e], To[e]),
            E = Co.add5H(x, y, t, w, No[e], _o[e]),
            k = 0 | x,
            j = Co.rotrSH(n, r, 28) ^ Co.rotrBH(n, r, 34) ^ Co.rotrBH(n, r, 39),
            S = Co.rotrSL(n, r, 28) ^ Co.rotrBL(n, r, 34) ^ Co.rotrBL(n, r, 39),
            A = (n & i) ^ (n & a) ^ (i & a),
            C = (r & o) ^ (r & s) ^ (o & s);
          (y = 0 | p),
            (g = 0 | m),
            (p = 0 | f),
            (m = 0 | h),
            (f = 0 | u),
            (h = 0 | d),
            ({ h: u, l: d } = Co.add(0 | l, 0 | c, 0 | E, 0 | k)),
            (l = 0 | a),
            (c = 0 | s),
            (a = 0 | i),
            (s = 0 | o),
            (i = 0 | n),
            (o = 0 | r);
          const N = Co.add3L(k, S, C);
          (n = Co.add3H(N, E, j, A)), (r = 0 | N);
        }
        ({ h: n, l: r } = Co.add(0 | this.Ah, 0 | this.Al, 0 | n, 0 | r)),
          ({ h: i, l: o } = Co.add(0 | this.Bh, 0 | this.Bl, 0 | i, 0 | o)),
          ({ h: a, l: s } = Co.add(0 | this.Ch, 0 | this.Cl, 0 | a, 0 | s)),
          ({ h: l, l: c } = Co.add(0 | this.Dh, 0 | this.Dl, 0 | l, 0 | c)),
          ({ h: u, l: d } = Co.add(0 | this.Eh, 0 | this.El, 0 | u, 0 | d)),
          ({ h: f, l: h } = Co.add(0 | this.Fh, 0 | this.Fl, 0 | f, 0 | h)),
          ({ h: p, l: m } = Co.add(0 | this.Gh, 0 | this.Gl, 0 | p, 0 | m)),
          ({ h: y, l: g } = Co.add(0 | this.Hh, 0 | this.Hl, 0 | y, 0 | g)),
          this.set(n, r, i, o, a, s, l, c, u, d, f, h, p, m, y, g);
      }
      roundClean() {
        _o.fill(0), To.fill(0);
      }
      destroy() {
        this.buffer.fill(0), this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
      }
    }
    class Ro extends Mo {
      constructor() {
        super(),
          (this.Ah = -1942145080),
          (this.Al = 424955298),
          (this.Bh = 1944164710),
          (this.Bl = -1982016298),
          (this.Ch = 502970286),
          (this.Cl = 855612546),
          (this.Dh = 1738396948),
          (this.Dl = 1479516111),
          (this.Eh = 258812777),
          (this.El = 2077511080),
          (this.Fh = 2011393907),
          (this.Fl = 79989058),
          (this.Gh = 1067287976),
          (this.Gl = 1780299464),
          (this.Hh = 286451373),
          (this.Hl = -1848208735),
          (this.outputLen = 28);
      }
    }
    class Bo extends Mo {
      constructor() {
        super(),
          (this.Ah = 573645204),
          (this.Al = -64227540),
          (this.Bh = -1621794909),
          (this.Bl = -934517566),
          (this.Ch = 596883563),
          (this.Cl = 1867755857),
          (this.Dh = -1774684391),
          (this.Dl = 1497426621),
          (this.Eh = -1775747358),
          (this.El = -1467023389),
          (this.Fh = -1101128155),
          (this.Fl = 1401305490),
          (this.Gh = 721525244),
          (this.Gl = 746961066),
          (this.Hh = 246885852),
          (this.Hl = -2117784414),
          (this.outputLen = 32);
      }
    }
    class Oo extends Mo {
      constructor() {
        super(),
          (this.Ah = -876896931),
          (this.Al = -1056596264),
          (this.Bh = 1654270250),
          (this.Bl = 914150663),
          (this.Ch = -1856437926),
          (this.Cl = 812702999),
          (this.Dh = 355462360),
          (this.Dl = -150054599),
          (this.Eh = 1731405415),
          (this.El = -4191439),
          (this.Fh = -1900787065),
          (this.Fl = 1750603025),
          (this.Gh = -619958771),
          (this.Gl = 1694076839),
          (this.Hh = 1203062813),
          (this.Hl = -1090891868),
          (this.outputLen = 48);
      }
    }
    const Lo = (0, oo.hE)(() => new Mo());
    (0, oo.hE)(() => new Ro()), (0, oo.hE)(() => new Bo()), (0, oo.hE)(() => new Oo());
    var Io = a(3193),
      Fo = a(292),
      Do = a(1888);
    const Uo = oi.kA.ProjectivePoint,
      zo = (0, Do.Av)(Eo.J);
    function Ho(e) {
      return BigInt(`0x${(0, oo.ci)(e)}`);
    }
    const Ko = (0, oo.iY)("Bitcoin seed"),
      Wo = { private: 76066276, public: 76067358 },
      qo = 2147483648,
      Vo = e => {
        if (!Number.isSafeInteger(e) || e < 0 || e > 2 ** 32 - 1)
          throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);
        const t = new Uint8Array(4);
        return (0, oo.GL)(t).setUint32(0, e, !1), t;
      };
    class $o {
      get fingerprint() {
        if (!this.pubHash) throw new Error("No publicKey set!");
        return (e = this.pubHash), (0, oo.GL)(e).getUint32(0, !1);
        var e;
      }
      get identifier() {
        return this.pubHash;
      }
      get pubKeyHash() {
        return this.pubHash;
      }
      get privateKey() {
        return this.privKeyBytes || null;
      }
      get publicKey() {
        return this.pubKey || null;
      }
      get privateExtendedKey() {
        const e = this.privateKey;
        if (!e) throw new Error("No private key");
        return zo.encode(this.serialize(this.versions.private, (0, oo.eV)(new Uint8Array([0]), e)));
      }
      get publicExtendedKey() {
        if (!this.pubKey) throw new Error("No public key");
        return zo.encode(this.serialize(this.versions.public, this.pubKey));
      }
      static fromMasterSeed(e, t = Wo) {
        if (((0, Io.aI)(e), 8 * e.length < 128 || 8 * e.length > 512))
          throw new Error(
            `HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`
          );
        const n = (0, ro.b)(Lo, Ko, e);
        return new $o({ versions: t, chainCode: n.slice(32), privateKey: n.slice(0, 32) });
      }
      static fromExtendedKey(e, t = Wo) {
        const n = zo.decode(e),
          r = (0, oo.GL)(n),
          i = r.getUint32(0, !1),
          o = {
            versions: t,
            depth: n[4],
            parentFingerprint: r.getUint32(5, !1),
            index: r.getUint32(9, !1),
            chainCode: n.slice(13, 45),
          },
          a = n.slice(45),
          s = 0 === a[0];
        if (i !== t[s ? "private" : "public"]) throw new Error("Version mismatch");
        return new $o(s ? { ...o, privateKey: a.slice(1) } : { ...o, publicKey: a });
      }
      static fromJSON(e) {
        return $o.fromExtendedKey(e.xpriv);
      }
      constructor(e) {
        if (
          ((this.depth = 0),
          (this.index = 0),
          (this.chainCode = null),
          (this.parentFingerprint = 0),
          !e || "object" != typeof e)
        )
          throw new Error("HDKey.constructor must not be called directly");
        if (
          ((this.versions = e.versions || Wo),
          (this.depth = e.depth || 0),
          (this.chainCode = e.chainCode),
          (this.index = e.index || 0),
          (this.parentFingerprint = e.parentFingerprint || 0),
          !this.depth && (this.parentFingerprint || this.index))
        )
          throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");
        if (e.publicKey && e.privateKey) throw new Error("HDKey: publicKey and privateKey at same time.");
        if (e.privateKey) {
          if (!oi.kA.utils.isValidPrivateKey(e.privateKey)) throw new Error("Invalid private key");
          (this.privKey = "bigint" == typeof e.privateKey ? e.privateKey : Ho(e.privateKey)),
            (this.privKeyBytes = ((t = this.privKey), (0, oo.nr)(t.toString(16).padStart(64, "0")))),
            (this.pubKey = oi.kA.getPublicKey(e.privateKey, !0));
        } else {
          if (!e.publicKey) throw new Error("HDKey: no public or private key provided");
          this.pubKey = Uo.fromHex(e.publicKey).toRawBytes(!0);
        }
        var t, n;
        this.pubHash = ((n = this.pubKey), xo((0, Eo.J)(n)));
      }
      derive(e) {
        if (!/^[mM]'?/.test(e)) throw new Error('Path must start with "m" or "M"');
        if (/^[mM]'?$/.test(e)) return this;
        const t = e.replace(/^[mM]'?\//, "").split("/");
        let n = this;
        for (const e of t) {
          const t = /^(\d+)('?)$/.exec(e);
          if (!t || 3 !== t.length) throw new Error(`Invalid child index: ${e}`);
          let r = +t[1];
          if (!Number.isSafeInteger(r) || r >= qo) throw new Error("Invalid index");
          "'" === t[2] && (r += qo), (n = n.deriveChild(r));
        }
        return n;
      }
      deriveChild(e) {
        if (!this.pubKey || !this.chainCode) throw new Error("No publicKey or chainCode set");
        let t = Vo(e);
        if (e >= qo) {
          const e = this.privateKey;
          if (!e) throw new Error("Could not derive hardened child key");
          t = (0, oo.eV)(new Uint8Array([0]), e, t);
        } else t = (0, oo.eV)(this.pubKey, t);
        const n = (0, ro.b)(Lo, this.chainCode, t),
          r = Ho(n.slice(0, 32)),
          i = n.slice(32);
        if (!oi.kA.utils.isValidPrivateKey(r)) throw new Error("Tweak bigger than curve order");
        const o = {
          versions: this.versions,
          chainCode: i,
          depth: this.depth + 1,
          parentFingerprint: this.fingerprint,
          index: e,
        };
        try {
          if (this.privateKey) {
            const e = (0, Fo.wQ)(this.privKey + r, oi.kA.CURVE.n);
            if (!oi.kA.utils.isValidPrivateKey(e))
              throw new Error("The tweak was out of range or the resulted private key is invalid");
            o.privateKey = e;
          } else {
            const e = Uo.fromHex(this.pubKey).add(Uo.fromPrivateKey(r));
            if (e.equals(Uo.ZERO))
              throw new Error("The tweak was equal to negative P, which made the result key invalid");
            o.publicKey = e.toRawBytes(!0);
          }
          return new $o(o);
        } catch (t) {
          return this.deriveChild(e + 1);
        }
      }
      sign(e) {
        if (!this.privateKey) throw new Error("No privateKey set!");
        return (0, Io.aI)(e, 32), oi.kA.sign(e, this.privKey).toCompactRawBytes();
      }
      verify(e, t) {
        if (((0, Io.aI)(e, 32), (0, Io.aI)(t, 64), !this.publicKey)) throw new Error("No publicKey set!");
        let n;
        try {
          n = oi.kA.Signature.fromCompact(t);
        } catch (e) {
          return !1;
        }
        return oi.kA.verify(n, e, this.publicKey);
      }
      wipePrivateData() {
        return (
          (this.privKey = void 0), this.privKeyBytes && (this.privKeyBytes.fill(0), (this.privKeyBytes = void 0)), this
        );
      }
      toJSON() {
        return { xpriv: this.privateExtendedKey, xpub: this.publicExtendedKey };
      }
      serialize(e, t) {
        if (!this.chainCode) throw new Error("No chainCode set");
        return (
          (0, Io.aI)(t, 33),
          (0, oo.eV)(Vo(e), new Uint8Array([this.depth]), Vo(this.parentFingerprint), Vo(this.index), this.chainCode, t)
        );
      }
    }
    function Go(e) {
      try {
        const t = null != e ? e : to.OF(no.U, 256);
        return to.oy(t, no.U);
      } catch (e) {
        throw new Error("INVALID MNEMONIC PHRASE");
      }
    }
    function Zo(e) {
      const t = ai.hexToBytes(e);
      return to.JJ(t, no.U);
    }
    function Yo(e) {
      const t = $o.fromMasterSeed(e).derive(gi);
      if (!t.privateKey) throw new Error("INVALID KEY DERIVATION");
      return ai.ci(t.privateKey);
    }
    var Xo = a(830);
    function Qo(e, t, n) {
      if (e.relays.timestamp >= n) return;
      const r = new Map();
      for (const [e, n] of Object.entries(t))
        if (e.startsWith("wss://") || e.startsWith("ws://")) {
          const t = (0, Xo.mY)(e);
          t && r.set(t, n);
        }
      (e.relays.item = Object.fromEntries(r.entries())), (e.relays.timestamp = n), oa.updateSession(e);
    }
    function Jo(e, t) {
      (e.preferences = t), oa.updateSession(e);
    }
    function ea(e, t, n) {
      e.tags.timestamp >= n || ((e.tags.item = t), (e.tags.timestamp = n), oa.updateSession(e));
    }
    function ta(e, t, n) {
      e.muted.timestamp >= n || ((e.muted.item = t), (e.muted.timestamp = n), oa.updateSession(e));
    }
    function na(e, t, n) {
      e.blocked.timestamp >= n || ((e.blocked.item = t), (e.blocked.timestamp = n), oa.updateSession(e));
    }
    function ra(e, t, n) {
      e.pinned.timestamp >= n || ((e.pinned.item = t), (e.pinned.timestamp = n), oa.updateSession(e));
    }
    function ia(e, t, n) {
      e.bookmarked.timestamp >= n || ((e.bookmarked.item = t), (e.bookmarked.timestamp = n), oa.updateSession(e));
    }
    const oa = new Yi();
    function aa() {
      return (0, e.useSyncExternalStore)(
        e => oa.hook(e),
        () => oa.snapshot()
      );
    }
    var sa = a(5889);
    const la = "en-US",
      ca = t => {
        let { children: n } = t;
        const { language: r } = aa().preferences,
          i = null != r ? r : ua(),
          [o, s] = (0, e.useState)(ii);
        return (
          (0, e.useEffect)(() => {
            (e => {
              var t, n;
              const r = e.toLowerCase().split(/[_-]+/)[0],
                i = async e => {
                  switch (e) {
                    case "es-ES":
                    case "es":
                      return (await a.e(976).then(a.t.bind(a, 4976, 19))).default;
                    case "zh-CN":
                    case "zh-Hans-CN":
                    case "zh":
                      return (await a.e(211).then(a.t.bind(a, 7211, 19))).default;
                    case "zh-TW":
                      return (await a.e(26).then(a.t.bind(a, 1026, 19))).default;
                    case "ja-JP":
                    case "ja":
                      return (await a.e(409).then(a.t.bind(a, 1409, 19))).default;
                    case "fr-FR":
                    case "fr":
                      return (await a.e(462).then(a.t.bind(a, 4462, 19))).default;
                    case "hu-HU":
                    case "hu":
                      return (await a.e(45).then(a.t.bind(a, 6045, 19))).default;
                    case "id-ID":
                    case "id":
                      return (await a.e(790).then(a.t.bind(a, 5790, 19))).default;
                    case "ar-SA":
                    case "ar":
                      return (await a.e(245).then(a.t.bind(a, 2245, 19))).default;
                    case "it-IT":
                    case "it":
                      return (await a.e(109).then(a.t.bind(a, 109, 19))).default;
                    case "de-DE":
                    case "de":
                      return (await a.e(769).then(a.t.bind(a, 9769, 19))).default;
                    case "ru-RU":
                    case "ru":
                      return (await a.e(215).then(a.t.bind(a, 9215, 19))).default;
                    case "sv-SE":
                    case "sv":
                      return (await a.e(310).then(a.t.bind(a, 4310, 19))).default;
                    case "hr-HR":
                    case "hr":
                      return (await a.e(279).then(a.t.bind(a, 3279, 19))).default;
                    case "ta-IN":
                    case "ta":
                      return (await a.e(579).then(a.t.bind(a, 6579, 19))).default;
                    case "fa-IR":
                    case "fa":
                      return (await a.e(365).then(a.t.bind(a, 3365, 19))).default;
                    case la:
                    case "en":
                      return ii;
                  }
                };
              return null !== (t = null !== (n = i(e)) && void 0 !== n ? n : i(r)) && void 0 !== t
                ? t
                : Promise.resolve(ii);
            })(i)
              .then(e => {
                e && s(e);
              })
              .catch(console.error);
          }, [r]),
          (0, sa.jsx)(ri, { locale: i, messages: o, children: n })
        );
      },
      ua = () => {
        var e, t;
        return null !==
          (e = null !== (t = navigator.languages && navigator.languages[0]) && void 0 !== t ? t : navigator.language) &&
          void 0 !== e
          ? e
          : la;
      };
    function da(e) {
      for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
      throw Error(
        "[Immer] minified error nr: " +
          e +
          (n.length
            ? " " +
              n
                .map(function (e) {
                  return "'" + e + "'";
                })
                .join(",")
            : "") +
          ". Find the full error at: https://bit.ly/3cXEKWf"
      );
    }
    function fa(e) {
      return !!e && !!e[Qa];
    }
    function ha(e) {
      var t;
      return (
        !!e &&
        ((function (e) {
          if (!e || "object" != typeof e) return !1;
          var t = Object.getPrototypeOf(e);
          if (null === t) return !0;
          var n = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
          return n === Object || ("function" == typeof n && Function.toString.call(n) === Ja);
        })(e) ||
          Array.isArray(e) ||
          !!e[Xa] ||
          !!(null === (t = e.constructor) || void 0 === t ? void 0 : t[Xa]) ||
          wa(e) ||
          ba(e))
      );
    }
    function pa(e, t, n) {
      void 0 === n && (n = !1),
        0 === ma(e)
          ? (n ? Object.keys : es)(e).forEach(function (r) {
              (n && "symbol" == typeof r) || t(r, e[r], e);
            })
          : e.forEach(function (n, r) {
              return t(r, n, e);
            });
    }
    function ma(e) {
      var t = e[Qa];
      return t ? (t.i > 3 ? t.i - 4 : t.i) : Array.isArray(e) ? 1 : wa(e) ? 2 : ba(e) ? 3 : 0;
    }
    function ya(e, t) {
      return 2 === ma(e) ? e.has(t) : Object.prototype.hasOwnProperty.call(e, t);
    }
    function ga(e, t, n) {
      var r = ma(e);
      2 === r ? e.set(t, n) : 3 === r ? e.add(n) : (e[t] = n);
    }
    function va(e, t) {
      return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;
    }
    function wa(e) {
      return $a && e instanceof Map;
    }
    function ba(e) {
      return Ga && e instanceof Set;
    }
    function xa(e) {
      return e.o || e.t;
    }
    function Ea(e) {
      if (Array.isArray(e)) return Array.prototype.slice.call(e);
      var t = ts(e);
      delete t[Qa];
      for (var n = es(t), r = 0; r < n.length; r++) {
        var i = n[r],
          o = t[i];
        !1 === o.writable && ((o.writable = !0), (o.configurable = !0)),
          (o.get || o.set) && (t[i] = { configurable: !0, writable: !0, enumerable: o.enumerable, value: e[i] });
      }
      return Object.create(Object.getPrototypeOf(e), t);
    }
    function ka(e, t) {
      return (
        void 0 === t && (t = !1),
        Sa(e) ||
          fa(e) ||
          !ha(e) ||
          (ma(e) > 1 && (e.set = e.add = e.clear = e.delete = ja),
          Object.freeze(e),
          t &&
            pa(
              e,
              function (e, t) {
                return ka(t, !0);
              },
              !0
            )),
        e
      );
    }
    function ja() {
      da(2);
    }
    function Sa(e) {
      return null == e || "object" != typeof e || Object.isFrozen(e);
    }
    function Aa(e) {
      var t = ns[e];
      return t || da(18, e), t;
    }
    function Ca() {
      return qa;
    }
    function Na(e, t) {
      t && (Aa("Patches"), (e.u = []), (e.s = []), (e.v = t));
    }
    function Pa(e) {
      _a(e), e.p.forEach(Ma), (e.p = null);
    }
    function _a(e) {
      e === qa && (qa = e.l);
    }
    function Ta(e) {
      return (qa = { p: [], l: qa, h: e, m: !0, _: 0 });
    }
    function Ma(e) {
      var t = e[Qa];
      0 === t.i || 1 === t.i ? t.j() : (t.g = !0);
    }
    function Ra(e, t) {
      t._ = t.p.length;
      var n = t.p[0],
        r = void 0 !== e && e !== n;
      return (
        t.h.O || Aa("ES5").S(t, e, r),
        r
          ? (n[Qa].P && (Pa(t), da(4)),
            ha(e) && ((e = Ba(t, e)), t.l || La(t, e)),
            t.u && Aa("Patches").M(n[Qa].t, e, t.u, t.s))
          : (e = Ba(t, n, [])),
        Pa(t),
        t.u && t.v(t.u, t.s),
        e !== Ya ? e : void 0
      );
    }
    function Ba(e, t, n) {
      if (Sa(t)) return t;
      var r = t[Qa];
      if (!r)
        return (
          pa(
            t,
            function (i, o) {
              return Oa(e, r, t, i, o, n);
            },
            !0
          ),
          t
        );
      if (r.A !== e) return t;
      if (!r.P) return La(e, r.t, !0), r.t;
      if (!r.I) {
        (r.I = !0), r.A._--;
        var i = 4 === r.i || 5 === r.i ? (r.o = Ea(r.k)) : r.o,
          o = i,
          a = !1;
        3 === r.i && ((o = new Set(i)), i.clear(), (a = !0)),
          pa(o, function (t, o) {
            return Oa(e, r, i, t, o, n, a);
          }),
          La(e, i, !1),
          n && e.u && Aa("Patches").N(r, n, e.u, e.s);
      }
      return r.o;
    }
    function Oa(e, t, n, r, i, o, a) {
      if (fa(i)) {
        var s = Ba(e, i, o && t && 3 !== t.i && !ya(t.R, r) ? o.concat(r) : void 0);
        if ((ga(n, r, s), !fa(s))) return;
        e.m = !1;
      } else a && n.add(i);
      if (ha(i) && !Sa(i)) {
        if (!e.h.D && e._ < 1) return;
        Ba(e, i), (t && t.A.l) || La(e, i);
      }
    }
    function La(e, t, n) {
      void 0 === n && (n = !1), !e.l && e.h.D && e.m && ka(t, n);
    }
    function Ia(e, t) {
      var n = e[Qa];
      return (n ? xa(n) : e)[t];
    }
    function Fa(e, t) {
      if (t in e)
        for (var n = Object.getPrototypeOf(e); n; ) {
          var r = Object.getOwnPropertyDescriptor(n, t);
          if (r) return r;
          n = Object.getPrototypeOf(n);
        }
    }
    function Da(e) {
      e.P || ((e.P = !0), e.l && Da(e.l));
    }
    function Ua(e) {
      e.o || (e.o = Ea(e.t));
    }
    function za(e, t, n) {
      var r = wa(t)
        ? Aa("MapSet").F(t, n)
        : ba(t)
        ? Aa("MapSet").T(t, n)
        : e.O
        ? (function (e, t) {
            var n = Array.isArray(e),
              r = {
                i: n ? 1 : 0,
                A: t ? t.A : Ca(),
                P: !1,
                I: !1,
                R: {},
                l: t,
                t: e,
                k: null,
                o: null,
                j: null,
                C: !1,
              },
              i = r,
              o = rs;
            n && ((i = [r]), (o = is));
            var a = Proxy.revocable(i, o),
              s = a.revoke,
              l = a.proxy;
            return (r.k = l), (r.j = s), l;
          })(t, n)
        : Aa("ES5").J(t, n);
      return (n ? n.A : Ca()).p.push(r), r;
    }
    function Ha(e) {
      return (
        fa(e) || da(22, e),
        (function e(t) {
          if (!ha(t)) return t;
          var n,
            r = t[Qa],
            i = ma(t);
          if (r) {
            if (!r.P && (r.i < 4 || !Aa("ES5").K(r))) return r.t;
            (r.I = !0), (n = Ka(t, i)), (r.I = !1);
          } else n = Ka(t, i);
          return (
            pa(n, function (t, i) {
              (r &&
                (function (e, t) {
                  return 2 === ma(e) ? e.get(t) : e[t];
                })(r.t, t) === i) ||
                ga(n, t, e(i));
            }),
            3 === i ? new Set(n) : n
          );
        })(e)
      );
    }
    function Ka(e, t) {
      switch (t) {
        case 2:
          return new Map(e);
        case 3:
          return Array.from(e);
      }
      return Ea(e);
    }
    var Wa,
      qa,
      Va = "undefined" != typeof Symbol && "symbol" == typeof Symbol("x"),
      $a = "undefined" != typeof Map,
      Ga = "undefined" != typeof Set,
      Za = "undefined" != typeof Proxy && void 0 !== Proxy.revocable && "undefined" != typeof Reflect,
      Ya = Va ? Symbol.for("immer-nothing") : (((Wa = {})["immer-nothing"] = !0), Wa),
      Xa = Va ? Symbol.for("immer-draftable") : "__$immer_draftable",
      Qa = Va ? Symbol.for("immer-state") : "__$immer_state",
      Ja = ("undefined" != typeof Symbol && Symbol.iterator, "" + Object.prototype.constructor),
      es =
        "undefined" != typeof Reflect && Reflect.ownKeys
          ? Reflect.ownKeys
          : void 0 !== Object.getOwnPropertySymbols
          ? function (e) {
              return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));
            }
          : Object.getOwnPropertyNames,
      ts =
        Object.getOwnPropertyDescriptors ||
        function (e) {
          var t = {};
          return (
            es(e).forEach(function (n) {
              t[n] = Object.getOwnPropertyDescriptor(e, n);
            }),
            t
          );
        },
      ns = {},
      rs = {
        get: function (e, t) {
          if (t === Qa) return e;
          var n = xa(e);
          if (!ya(n, t))
            return (function (e, t, n) {
              var r,
                i = Fa(t, n);
              return i
                ? "value" in i
                  ? i.value
                  : null === (r = i.get) || void 0 === r
                  ? void 0
                  : r.call(e.k)
                : void 0;
            })(e, n, t);
          var r = n[t];
          return e.I || !ha(r) ? r : r === Ia(e.t, t) ? (Ua(e), (e.o[t] = za(e.A.h, r, e))) : r;
        },
        has: function (e, t) {
          return t in xa(e);
        },
        ownKeys: function (e) {
          return Reflect.ownKeys(xa(e));
        },
        set: function (e, t, n) {
          var r = Fa(xa(e), t);
          if (null == r ? void 0 : r.set) return r.set.call(e.k, n), !0;
          if (!e.P) {
            var i = Ia(xa(e), t),
              o = null == i ? void 0 : i[Qa];
            if (o && o.t === n) return (e.o[t] = n), (e.R[t] = !1), !0;
            if (va(n, i) && (void 0 !== n || ya(e.t, t))) return !0;
            Ua(e), Da(e);
          }
          return (
            (e.o[t] === n && (void 0 !== n || t in e.o)) ||
              (Number.isNaN(n) && Number.isNaN(e.o[t])) ||
              ((e.o[t] = n), (e.R[t] = !0)),
            !0
          );
        },
        deleteProperty: function (e, t) {
          return (
            void 0 !== Ia(e.t, t) || t in e.t ? ((e.R[t] = !1), Ua(e), Da(e)) : delete e.R[t], e.o && delete e.o[t], !0
          );
        },
        getOwnPropertyDescriptor: function (e, t) {
          var n = xa(e),
            r = Reflect.getOwnPropertyDescriptor(n, t);
          return r
            ? { writable: !0, configurable: 1 !== e.i || "length" !== t, enumerable: r.enumerable, value: n[t] }
            : r;
        },
        defineProperty: function () {
          da(11);
        },
        getPrototypeOf: function (e) {
          return Object.getPrototypeOf(e.t);
        },
        setPrototypeOf: function () {
          da(12);
        },
      },
      is = {};
    pa(rs, function (e, t) {
      is[e] = function () {
        return (arguments[0] = arguments[0][0]), t.apply(this, arguments);
      };
    }),
      (is.deleteProperty = function (e, t) {
        return is.set.call(this, e, t, void 0);
      }),
      (is.set = function (e, t, n) {
        return rs.set.call(this, e[0], t, n, e[0]);
      });
    var os = (function () {
        function e(e) {
          var t = this;
          (this.O = Za),
            (this.D = !0),
            (this.produce = function (e, n, r) {
              if ("function" == typeof e && "function" != typeof n) {
                var i = n;
                n = e;
                var o = t;
                return function (e) {
                  var t = this;
                  void 0 === e && (e = i);
                  for (var r = arguments.length, a = Array(r > 1 ? r - 1 : 0), s = 1; s < r; s++)
                    a[s - 1] = arguments[s];
                  return o.produce(e, function (e) {
                    var r;
                    return (r = n).call.apply(r, [t, e].concat(a));
                  });
                };
              }
              var a;
              if (("function" != typeof n && da(6), void 0 !== r && "function" != typeof r && da(7), ha(e))) {
                var s = Ta(t),
                  l = za(t, e, void 0),
                  c = !0;
                try {
                  (a = n(l)), (c = !1);
                } finally {
                  c ? Pa(s) : _a(s);
                }
                return "undefined" != typeof Promise && a instanceof Promise
                  ? a.then(
                      function (e) {
                        return Na(s, r), Ra(e, s);
                      },
                      function (e) {
                        throw (Pa(s), e);
                      }
                    )
                  : (Na(s, r), Ra(a, s));
              }
              if (!e || "object" != typeof e) {
                if ((void 0 === (a = n(e)) && (a = e), a === Ya && (a = void 0), t.D && ka(a, !0), r)) {
                  var u = [],
                    d = [];
                  Aa("Patches").M(e, a, u, d), r(u, d);
                }
                return a;
              }
              da(21, e);
            }),
            (this.produceWithPatches = function (e, n) {
              if ("function" == typeof e)
                return function (n) {
                  for (var r = arguments.length, i = Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)
                    i[o - 1] = arguments[o];
                  return t.produceWithPatches(n, function (t) {
                    return e.apply(void 0, [t].concat(i));
                  });
                };
              var r,
                i,
                o = t.produce(e, n, function (e, t) {
                  (r = e), (i = t);
                });
              return "undefined" != typeof Promise && o instanceof Promise
                ? o.then(function (e) {
                    return [e, r, i];
                  })
                : [o, r, i];
            }),
            "boolean" == typeof (null == e ? void 0 : e.useProxies) && this.setUseProxies(e.useProxies),
            "boolean" == typeof (null == e ? void 0 : e.autoFreeze) && this.setAutoFreeze(e.autoFreeze);
        }
        var t = e.prototype;
        return (
          (t.createDraft = function (e) {
            ha(e) || da(8), fa(e) && (e = Ha(e));
            var t = Ta(this),
              n = za(this, e, void 0);
            return (n[Qa].C = !0), _a(t), n;
          }),
          (t.finishDraft = function (e, t) {
            var n = (e && e[Qa]).A;
            return Na(n, t), Ra(void 0, n);
          }),
          (t.setAutoFreeze = function (e) {
            this.D = e;
          }),
          (t.setUseProxies = function (e) {
            e && !Za && da(20), (this.O = e);
          }),
          (t.applyPatches = function (e, t) {
            var n;
            for (n = t.length - 1; n >= 0; n--) {
              var r = t[n];
              if (0 === r.path.length && "replace" === r.op) {
                e = r.value;
                break;
              }
            }
            n > -1 && (t = t.slice(n + 1));
            var i = Aa("Patches").$;
            return fa(e)
              ? i(e, t)
              : this.produce(e, function (e) {
                  return i(e, t);
                });
          }),
          e
        );
      })(),
      as = new os(),
      ss = as.produce;
    as.produceWithPatches.bind(as),
      as.setAutoFreeze.bind(as),
      as.setUseProxies.bind(as),
      as.applyPatches.bind(as),
      as.createDraft.bind(as),
      as.finishDraft.bind(as);
    const ls = ss;
    function cs(e) {
      return (
        (cs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (e) {
                return typeof e;
              }
            : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype
                  ? "symbol"
                  : typeof e;
              }),
        cs(e)
      );
    }
    function us(e, t, n) {
      return (
        (t = (function (e) {
          var t = (function (e, t) {
            if ("object" !== cs(e) || null === e) return e;
            var n = e[Symbol.toPrimitive];
            if (void 0 !== n) {
              var r = n.call(e, "string");
              if ("object" !== cs(r)) return r;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(e);
          })(e);
          return "symbol" === cs(t) ? t : String(t);
        })(t)) in e
          ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 })
          : (e[t] = n),
        e
      );
    }
    function ds(e, t) {
      var n = Object.keys(e);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(e);
        t &&
          (r = r.filter(function (t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function fs(e) {
      for (var t = 1; t < arguments.length; t++) {
        var n = null != arguments[t] ? arguments[t] : {};
        t % 2
          ? ds(Object(n), !0).forEach(function (t) {
              us(e, t, n[t]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
          : ds(Object(n)).forEach(function (t) {
              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
            });
      }
      return e;
    }
    function hs(e) {
      return (
        "Minified Redux error #" +
        e +
        "; visit https://redux.js.org/Errors?code=" +
        e +
        " for the full message or use the non-minified dev environment for full errors. "
      );
    }
    var ps = ("function" == typeof Symbol && Symbol.observable) || "@@observable",
      ms = function () {
        return Math.random().toString(36).substring(7).split("").join(".");
      },
      ys = {
        INIT: "@@redux/INIT" + ms(),
        REPLACE: "@@redux/REPLACE" + ms(),
        PROBE_UNKNOWN_ACTION: function () {
          return "@@redux/PROBE_UNKNOWN_ACTION" + ms();
        },
      };
    function gs(e, t, n) {
      var r;
      if (
        ("function" == typeof t && "function" == typeof n) ||
        ("function" == typeof n && "function" == typeof arguments[3])
      )
        throw new Error(hs(0));
      if (("function" == typeof t && void 0 === n && ((n = t), (t = void 0)), void 0 !== n)) {
        if ("function" != typeof n) throw new Error(hs(1));
        return n(gs)(e, t);
      }
      if ("function" != typeof e) throw new Error(hs(2));
      var i = e,
        o = t,
        a = [],
        s = a,
        l = !1;
      function c() {
        s === a && (s = a.slice());
      }
      function u() {
        if (l) throw new Error(hs(3));
        return o;
      }
      function d(e) {
        if ("function" != typeof e) throw new Error(hs(4));
        if (l) throw new Error(hs(5));
        var t = !0;
        return (
          c(),
          s.push(e),
          function () {
            if (t) {
              if (l) throw new Error(hs(6));
              (t = !1), c();
              var n = s.indexOf(e);
              s.splice(n, 1), (a = null);
            }
          }
        );
      }
      function f(e) {
        if (
          !(function (e) {
            if ("object" != typeof e || null === e) return !1;
            for (var t = e; null !== Object.getPrototypeOf(t); ) t = Object.getPrototypeOf(t);
            return Object.getPrototypeOf(e) === t;
          })(e)
        )
          throw new Error(hs(7));
        if (void 0 === e.type) throw new Error(hs(8));
        if (l) throw new Error(hs(9));
        try {
          (l = !0), (o = i(o, e));
        } finally {
          l = !1;
        }
        for (var t = (a = s), n = 0; n < t.length; n++) (0, t[n])();
        return e;
      }
      return (
        f({ type: ys.INIT }),
        ((r = {
          dispatch: f,
          subscribe: d,
          getState: u,
          replaceReducer: function (e) {
            if ("function" != typeof e) throw new Error(hs(10));
            (i = e), f({ type: ys.REPLACE });
          },
        })[ps] = function () {
          var e,
            t = d;
          return (
            ((e = {
              subscribe: function (e) {
                if ("object" != typeof e || null === e) throw new Error(hs(11));
                function n() {
                  e.next && e.next(u());
                }
                return n(), { unsubscribe: t(n) };
              },
            })[ps] = function () {
              return this;
            }),
            e
          );
        }),
        r
      );
    }
    function vs() {
      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
      return 0 === t.length
        ? function (e) {
            return e;
          }
        : 1 === t.length
        ? t[0]
        : t.reduce(function (e, t) {
            return function () {
              return e(t.apply(void 0, arguments));
            };
          });
    }
    function ws() {
      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
      return function (e) {
        return function () {
          var n = e.apply(void 0, arguments),
            r = function () {
              throw new Error(hs(15));
            },
            i = {
              getState: n.getState,
              dispatch: function () {
                return r.apply(void 0, arguments);
              },
            },
            o = t.map(function (e) {
              return e(i);
            });
          return (r = vs.apply(void 0, o)(n.dispatch)), fs(fs({}, n), {}, { dispatch: r });
        };
      };
    }
    function bs(e) {
      return function (t) {
        var n = t.dispatch,
          r = t.getState;
        return function (t) {
          return function (i) {
            return "function" == typeof i ? i(n, r, e) : t(i);
          };
        };
      };
    }
    var xs = bs();
    xs.withExtraArgument = bs;
    const Es = xs;
    var ks = (function () {
        var e = function (t, n) {
          return (
            (e =
              Object.setPrototypeOf ||
              ({ __proto__: [] } instanceof Array &&
                function (e, t) {
                  e.__proto__ = t;
                }) ||
              function (e, t) {
                for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
              }),
            e(t, n)
          );
        };
        return function (t, n) {
          if ("function" != typeof n && null !== n)
            throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");
          function r() {
            this.constructor = t;
          }
          e(t, n), (t.prototype = null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
        };
      })(),
      js = function (e, t) {
        for (var n = 0, r = t.length, i = e.length; n < r; n++, i++) e[i] = t[n];
        return e;
      },
      Ss = Object.defineProperty,
      As = Object.defineProperties,
      Cs = Object.getOwnPropertyDescriptors,
      Ns = Object.getOwnPropertySymbols,
      Ps = Object.prototype.hasOwnProperty,
      _s = Object.prototype.propertyIsEnumerable,
      Ts = function (e, t, n) {
        return t in e ? Ss(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : (e[t] = n);
      },
      Ms = function (e, t) {
        for (var n in t || (t = {})) Ps.call(t, n) && Ts(e, n, t[n]);
        if (Ns) for (var r = 0, i = Ns(t); r < i.length; r++) (n = i[r]), _s.call(t, n) && Ts(e, n, t[n]);
        return e;
      },
      Rs = function (e, t) {
        return As(e, Cs(t));
      },
      Bs =
        "undefined" != typeof window && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__
          ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__
          : function () {
              if (0 !== arguments.length) return "object" == typeof arguments[0] ? vs : vs.apply(null, arguments);
            };
    "undefined" != typeof window && window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__;
    var Os = (function (e) {
      function t() {
        for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
        var i = e.apply(this, n) || this;
        return Object.setPrototypeOf(i, t.prototype), i;
      }
      return (
        ks(t, e),
        Object.defineProperty(t, Symbol.species, {
          get: function () {
            return t;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.concat = function () {
          for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
          return e.prototype.concat.apply(this, t);
        }),
        (t.prototype.prepend = function () {
          for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
          return 1 === e.length && Array.isArray(e[0])
            ? new (t.bind.apply(t, js([void 0], e[0].concat(this))))()
            : new (t.bind.apply(t, js([void 0], e.concat(this))))();
        }),
        t
      );
    })(Array);
    function Ls(e) {
      return ha(e) ? ls(e, function () {}) : e;
    }
    function Is(e, t) {
      function n() {
        for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
        if (t) {
          var i = t.apply(void 0, n);
          if (!i) throw new Error("prepareAction did not return an object");
          return Ms(
            Ms({ type: e, payload: i.payload }, "meta" in i && { meta: i.meta }),
            "error" in i && { error: i.error }
          );
        }
        return { type: e, payload: n[0] };
      }
      return (
        (n.toString = function () {
          return "" + e;
        }),
        (n.type = e),
        (n.match = function (t) {
          return t.type === e;
        }),
        n
      );
    }
    function Fs(e) {
      var t,
        n = {},
        r = [],
        i = {
          addCase: function (e, t) {
            var r = "string" == typeof e ? e : e.type;
            if (r in n) throw new Error("addCase cannot be called with two reducers for the same action type");
            return (n[r] = t), i;
          },
          addMatcher: function (e, t) {
            return r.push({ matcher: e, reducer: t }), i;
          },
          addDefaultCase: function (e) {
            return (t = e), i;
          },
        };
      return e(i), [n, r, t];
    }
    function Ds(e) {
      var t = e.name;
      if (!t) throw new Error("`name` is a required option for createSlice");
      var n,
        r = "function" == typeof e.initialState ? e.initialState : Ls(e.initialState),
        i = e.reducers || {},
        o = Object.keys(i),
        a = {},
        s = {},
        l = {};
      function c() {
        var t = "function" == typeof e.extraReducers ? Fs(e.extraReducers) : [e.extraReducers],
          n = t[0],
          i = void 0 === n ? {} : n,
          o = t[1],
          a = void 0 === o ? [] : o,
          l = t[2],
          c = void 0 === l ? void 0 : l,
          u = Ms(Ms({}, i), s);
        return (function (e, t, n, r) {
          void 0 === n && (n = []);
          var i,
            o = Fs(t),
            a = o[0],
            s = o[1],
            l = o[2];
          if (
            (function (e) {
              return "function" == typeof e;
            })(e)
          )
            i = function () {
              return Ls(e());
            };
          else {
            var c = Ls(e);
            i = function () {
              return c;
            };
          }
          function u(e, t) {
            void 0 === e && (e = i());
            var n = js(
              [a[t.type]],
              s
                .filter(function (e) {
                  return (0, e.matcher)(t);
                })
                .map(function (e) {
                  return e.reducer;
                })
            );
            return (
              0 ===
                n.filter(function (e) {
                  return !!e;
                }).length && (n = [l]),
              n.reduce(function (e, n) {
                if (n) {
                  var r;
                  if (fa(e)) return void 0 === (r = n(e, t)) ? e : r;
                  if (ha(e))
                    return ls(e, function (e) {
                      return n(e, t);
                    });
                  if (void 0 === (r = n(e, t))) {
                    if (null === e) return e;
                    throw Error("A case reducer on a non-draftable value must not return undefined");
                  }
                  return r;
                }
                return e;
              }, e)
            );
          }
          return (u.getInitialState = i), u;
        })(r, function (e) {
          for (var t in u) e.addCase(t, u[t]);
          for (var n = 0, r = a; n < r.length; n++) {
            var i = r[n];
            e.addMatcher(i.matcher, i.reducer);
          }
          c && e.addDefaultCase(c);
        });
      }
      return (
        o.forEach(function (e) {
          var n,
            r,
            o = i[e],
            c = t + "/" + e;
          "reducer" in o ? ((n = o.reducer), (r = o.prepare)) : (n = o),
            (a[e] = n),
            (s[c] = n),
            (l[e] = r ? Is(c, r) : Is(c));
        }),
        {
          name: t,
          reducer: function (e, t) {
            return n || (n = c()), n(e, t);
          },
          actions: l,
          caseReducers: a,
          getInitialState: function () {
            return n || (n = c()), n.getInitialState();
          },
        }
      );
    }
    var Us = ["name", "message", "stack", "code"],
      zs = function (e, t) {
        (this.payload = e), (this.meta = t);
      },
      Hs = function (e, t) {
        (this.payload = e), (this.meta = t);
      },
      Ks = function (e) {
        if ("object" == typeof e && null !== e) {
          for (var t = {}, n = 0, r = Us; n < r.length; n++) {
            var i = r[n];
            "string" == typeof e[i] && (t[i] = e[i]);
          }
          return t;
        }
        return { message: String(e) };
      };
    function Ws(e) {
      if (e.meta && e.meta.rejectedWithValue) throw e.payload;
      if (e.error) throw e.error;
      return e.payload;
    }
    !(function () {
      function e(e, t, n) {
        var r = Is(e + "/fulfilled", function (e, t, n, r) {
            return { payload: e, meta: Rs(Ms({}, r || {}), { arg: n, requestId: t, requestStatus: "fulfilled" }) };
          }),
          i = Is(e + "/pending", function (e, t, n) {
            return { payload: void 0, meta: Rs(Ms({}, n || {}), { arg: t, requestId: e, requestStatus: "pending" }) };
          }),
          o = Is(e + "/rejected", function (e, t, r, i, o) {
            return {
              payload: i,
              error: ((n && n.serializeError) || Ks)(e || "Rejected"),
              meta: Rs(Ms({}, o || {}), {
                arg: r,
                requestId: t,
                rejectedWithValue: !!i,
                requestStatus: "rejected",
                aborted: "AbortError" === (null == e ? void 0 : e.name),
                condition: "ConditionError" === (null == e ? void 0 : e.name),
              }),
            };
          }),
          a =
            "undefined" != typeof AbortController
              ? AbortController
              : (function () {
                  function e() {
                    this.signal = {
                      aborted: !1,
                      addEventListener: function () {},
                      dispatchEvent: function () {
                        return !1;
                      },
                      onabort: function () {},
                      removeEventListener: function () {},
                      reason: void 0,
                      throwIfAborted: function () {},
                    };
                  }
                  return (e.prototype.abort = function () {}), e;
                })();
        return Object.assign(
          function (e) {
            return function (s, l, c) {
              var u,
                d = (null == n ? void 0 : n.idGenerator)
                  ? n.idGenerator(e)
                  : (function (e) {
                      void 0 === e && (e = 21);
                      for (var t = "", n = e; n--; )
                        t += "ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[
                          (64 * Math.random()) | 0
                        ];
                      return t;
                    })(),
                f = new a();
              function h(e) {
                (u = e), f.abort();
              }
              var p = (function () {
                return (
                  (a = this),
                  (p = null),
                  (m = function () {
                    var a, p, m, y, g, v;
                    return (function (e, t) {
                      var n,
                        r,
                        i,
                        o,
                        a = {
                          label: 0,
                          sent: function () {
                            if (1 & i[0]) throw i[1];
                            return i[1];
                          },
                          trys: [],
                          ops: [],
                        };
                      return (
                        (o = { next: s(0), throw: s(1), return: s(2) }),
                        "function" == typeof Symbol &&
                          (o[Symbol.iterator] = function () {
                            return this;
                          }),
                        o
                      );
                      function s(o) {
                        return function (s) {
                          return (function (o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a; )
                              try {
                                if (
                                  ((n = 1),
                                  r &&
                                    (i =
                                      2 & o[0]
                                        ? r.return
                                        : o[0]
                                        ? r.throw || ((i = r.return) && i.call(r), 0)
                                        : r.next) &&
                                    !(i = i.call(r, o[1])).done)
                                )
                                  return i;
                                switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                                  case 0:
                                  case 1:
                                    i = o;
                                    break;
                                  case 4:
                                    return a.label++, { value: o[1], done: !1 };
                                  case 5:
                                    a.label++, (r = o[1]), (o = [0]);
                                    continue;
                                  case 7:
                                    (o = a.ops.pop()), a.trys.pop();
                                    continue;
                                  default:
                                    if (
                                      !((i = (i = a.trys).length > 0 && i[i.length - 1]) || (6 !== o[0] && 2 !== o[0]))
                                    ) {
                                      a = 0;
                                      continue;
                                    }
                                    if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                      a.label = o[1];
                                      break;
                                    }
                                    if (6 === o[0] && a.label < i[1]) {
                                      (a.label = i[1]), (i = o);
                                      break;
                                    }
                                    if (i && a.label < i[2]) {
                                      (a.label = i[2]), a.ops.push(o);
                                      break;
                                    }
                                    i[2] && a.ops.pop(), a.trys.pop();
                                    continue;
                                }
                                o = t.call(e, a);
                              } catch (e) {
                                (o = [6, e]), (r = 0);
                              } finally {
                                n = i = 0;
                              }
                            if (5 & o[0]) throw o[1];
                            return { value: o[0] ? o[1] : void 0, done: !0 };
                          })([o, s]);
                        };
                      }
                    })(this, function (w) {
                      switch (w.label) {
                        case 0:
                          return (
                            w.trys.push([0, 4, , 5]),
                            null ===
                              (b = y =
                                null == (a = null == n ? void 0 : n.condition)
                                  ? void 0
                                  : a.call(n, e, { getState: l, extra: c })) ||
                            "object" != typeof b ||
                            "function" != typeof b.then
                              ? [3, 2]
                              : [4, y]
                          );
                        case 1:
                          (y = w.sent()), (w.label = 2);
                        case 2:
                          if (!1 === y || f.signal.aborted)
                            throw {
                              name: "ConditionError",
                              message: "Aborted due to condition callback returning false.",
                            };
                          return (
                            (g = new Promise(function (e, t) {
                              return f.signal.addEventListener("abort", function () {
                                return t({ name: "AbortError", message: u || "Aborted" });
                              });
                            })),
                            s(
                              i(
                                d,
                                e,
                                null == (p = null == n ? void 0 : n.getPendingMeta)
                                  ? void 0
                                  : p.call(n, { requestId: d, arg: e }, { getState: l, extra: c })
                              )
                            ),
                            [
                              4,
                              Promise.race([
                                g,
                                Promise.resolve(
                                  t(e, {
                                    dispatch: s,
                                    getState: l,
                                    extra: c,
                                    requestId: d,
                                    signal: f.signal,
                                    abort: h,
                                    rejectWithValue: function (e, t) {
                                      return new zs(e, t);
                                    },
                                    fulfillWithValue: function (e, t) {
                                      return new Hs(e, t);
                                    },
                                  })
                                ).then(function (t) {
                                  if (t instanceof zs) throw t;
                                  return t instanceof Hs ? r(t.payload, d, e, t.meta) : r(t, d, e);
                                }),
                              ]),
                            ]
                          );
                        case 3:
                          return (m = w.sent()), [3, 5];
                        case 4:
                          return (
                            (v = w.sent()),
                            (m = v instanceof zs ? o(null, d, e, v.payload, v.meta) : o(v, d, e)),
                            [3, 5]
                          );
                        case 5:
                          return (n && !n.dispatchConditionRejection && o.match(m) && m.meta.condition) || s(m), [2, m];
                      }
                      var b;
                    });
                  }),
                  new Promise(function (e, t) {
                    var n = function (e) {
                        try {
                          i(m.next(e));
                        } catch (e) {
                          t(e);
                        }
                      },
                      r = function (e) {
                        try {
                          i(m.throw(e));
                        } catch (e) {
                          t(e);
                        }
                      },
                      i = function (t) {
                        return t.done ? e(t.value) : Promise.resolve(t.value).then(n, r);
                      };
                    i((m = m.apply(a, p)).next());
                  })
                );
                var a, p, m;
              })();
              return Object.assign(p, {
                abort: h,
                requestId: d,
                arg: e,
                unwrap: function () {
                  return p.then(Ws);
                },
              });
            };
          },
          { pending: i, rejected: o, fulfilled: r, typePrefix: e }
        );
      }
      e.withTypes = function () {
        return e;
      };
    })(),
      Object.assign;
    var qs = "listenerMiddleware";
    Is(qs + "/add"),
      Is(qs + "/removeAll"),
      Is(qs + "/remove"),
      "function" == typeof queueMicrotask &&
        queueMicrotask.bind("undefined" != typeof window ? window : void 0 !== a.g ? a.g : globalThis);
    "undefined" != typeof window && window.requestAnimationFrame && window.requestAnimationFrame,
      (function () {
        function e(e, t) {
          var n = i[e];
          return (
            n
              ? (n.enumerable = t)
              : (i[e] = n =
                  {
                    configurable: !0,
                    enumerable: t,
                    get: function () {
                      var t = this[Qa];
                      return rs.get(t, e);
                    },
                    set: function (t) {
                      var n = this[Qa];
                      rs.set(n, e, t);
                    },
                  }),
            n
          );
        }
        function t(e) {
          for (var t = e.length - 1; t >= 0; t--) {
            var i = e[t][Qa];
            if (!i.P)
              switch (i.i) {
                case 5:
                  r(i) && Da(i);
                  break;
                case 4:
                  n(i) && Da(i);
              }
          }
        }
        function n(e) {
          for (var t = e.t, n = e.k, r = es(n), i = r.length - 1; i >= 0; i--) {
            var o = r[i];
            if (o !== Qa) {
              var a = t[o];
              if (void 0 === a && !ya(t, o)) return !0;
              var s = n[o],
                l = s && s[Qa];
              if (l ? l.t !== a : !va(s, a)) return !0;
            }
          }
          var c = !!t[Qa];
          return r.length !== es(t).length + (c ? 0 : 1);
        }
        function r(e) {
          var t = e.k;
          if (t.length !== e.t.length) return !0;
          var n = Object.getOwnPropertyDescriptor(t, t.length - 1);
          if (n && !n.get) return !0;
          for (var r = 0; r < t.length; r++) if (!t.hasOwnProperty(r)) return !0;
          return !1;
        }
        var i = {};
        !(function (e, t) {
          ns[e] || (ns[e] = t);
        })("ES5", {
          J: function (t, n) {
            var r = Array.isArray(t),
              i = (function (t, n) {
                if (t) {
                  for (var r = Array(n.length), i = 0; i < n.length; i++) Object.defineProperty(r, "" + i, e(i, !0));
                  return r;
                }
                var o = ts(n);
                delete o[Qa];
                for (var a = es(o), s = 0; s < a.length; s++) {
                  var l = a[s];
                  o[l] = e(l, t || !!o[l].enumerable);
                }
                return Object.create(Object.getPrototypeOf(n), o);
              })(r, t),
              o = { i: r ? 5 : 4, A: n ? n.A : Ca(), P: !1, I: !1, R: {}, l: n, t, k: i, o: null, g: !1, C: !1 };
            return Object.defineProperty(i, Qa, { value: o, writable: !0 }), i;
          },
          S: function (e, n, i) {
            i
              ? fa(n) && n[Qa].A === e && t(e.p)
              : (e.u &&
                  (function e(t) {
                    if (t && "object" == typeof t) {
                      var n = t[Qa];
                      if (n) {
                        var i = n.t,
                          o = n.k,
                          a = n.R,
                          s = n.i;
                        if (4 === s)
                          pa(o, function (t) {
                            t !== Qa && (void 0 !== i[t] || ya(i, t) ? a[t] || e(o[t]) : ((a[t] = !0), Da(n)));
                          }),
                            pa(i, function (e) {
                              void 0 !== o[e] || ya(o, e) || ((a[e] = !1), Da(n));
                            });
                        else if (5 === s) {
                          if ((r(n) && (Da(n), (a.length = !0)), o.length < i.length))
                            for (var l = o.length; l < i.length; l++) a[l] = !1;
                          else for (var c = i.length; c < o.length; c++) a[c] = !0;
                          for (var u = Math.min(o.length, i.length), d = 0; d < u; d++)
                            o.hasOwnProperty(d) || (a[d] = !0), void 0 === a[d] && e(o[d]);
                        }
                      }
                    }
                  })(e.p[0]),
                t(e.p));
          },
          K: function (e) {
            return 4 === e.i ? n(e) : r(e);
          },
        });
      })();
    const Vs = {
        show: !1,
        note: "",
        error: "",
        active: !1,
        showAdvanced: !1,
        selectedCustomRelays: !1,
        zapForward: "",
        sensitive: "",
        otherEvents: [],
      },
      $s = Ds({
        name: "NoteCreator",
        initialState: Vs,
        reducers: {
          setShow: (e, t) => {
            e.show = t.payload;
          },
          setNote: (e, t) => {
            e.note = t.payload;
          },
          setError: (e, t) => {
            e.error = t.payload;
          },
          setActive: (e, t) => {
            e.active = t.payload;
          },
          setPreview: (e, t) => {
            e.preview = t.payload;
          },
          setReplyTo: (e, t) => {
            e.replyTo = t.payload;
          },
          setShowAdvanced: (e, t) => {
            e.showAdvanced = t.payload;
          },
          setSelectedCustomRelays: (e, t) => {
            e.selectedCustomRelays = t.payload;
          },
          setZapForward: (e, t) => {
            e.zapForward = t.payload;
          },
          setSensitive: (e, t) => {
            e.sensitive = t.payload;
          },
          setPollOptions: (e, t) => {
            e.pollOptions = t.payload;
          },
          setOtherEvents: (e, t) => {
            e.otherEvents = t.payload;
          },
          reset: () => Vs,
        },
      }),
      {
        setShow: Gs,
        setNote: Zs,
        setError: Ys,
        setActive: Xs,
        setPreview: Qs,
        setReplyTo: Js,
        setShowAdvanced: el,
        setSelectedCustomRelays: tl,
        setZapForward: nl,
        setSensitive: rl,
        setPollOptions: il,
        setOtherEvents: ol,
        reset: al,
      } = $s.actions,
      sl = $s.reducer,
      ll = { show: !1, selectedCustomRelays: !1 },
      cl = Ds({
        name: "ReBroadcast",
        initialState: ll,
        reducers: {
          setShow: (e, t) => {
            e.show = t.payload;
          },
          setNote: (e, t) => {
            e.note = t.payload;
          },
          setSelectedCustomRelays: (e, t) => {
            e.selectedCustomRelays = t.payload;
          },
          reset: () => ll,
        },
      }),
      { setShow: ul, setNote: dl, setSelectedCustomRelays: fl, reset: hl } = cl.actions,
      pl = (function (e) {
        var t,
          n = function (e) {
            return (function (e) {
              void 0 === e && (e = {});
              var t = e.thunk,
                n = void 0 === t || t,
                r = (e.immutableCheck, e.serializableCheck, new Os());
              return (
                n &&
                  ((function (e) {
                    return "boolean" == typeof e;
                  })(n)
                    ? r.push(Es)
                    : r.push(Es.withExtraArgument(n.extraArgument))),
                r
              );
            })(e);
          },
          r = e || {},
          i = r.reducer,
          o = void 0 === i ? void 0 : i,
          a = r.middleware,
          s = void 0 === a ? n() : a,
          l = r.devTools,
          c = void 0 === l || l,
          u = r.preloadedState,
          d = void 0 === u ? void 0 : u,
          f = r.enhancers,
          h = void 0 === f ? void 0 : f;
        if ("function" == typeof o) t = o;
        else {
          if (
            !(function (e) {
              if ("object" != typeof e || null === e) return !1;
              var t = Object.getPrototypeOf(e);
              if (null === t) return !0;
              for (var n = t; null !== Object.getPrototypeOf(n); ) n = Object.getPrototypeOf(n);
              return t === n;
            })(o)
          )
            throw new Error(
              '"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers'
            );
          t = (function (e) {
            for (var t = Object.keys(e), n = {}, r = 0; r < t.length; r++) {
              var i = t[r];
              "function" == typeof e[i] && (n[i] = e[i]);
            }
            var o,
              a = Object.keys(n);
            try {
              !(function (e) {
                Object.keys(e).forEach(function (t) {
                  var n = e[t];
                  if (void 0 === n(void 0, { type: ys.INIT })) throw new Error(hs(12));
                  if (void 0 === n(void 0, { type: ys.PROBE_UNKNOWN_ACTION() })) throw new Error(hs(13));
                });
              })(n);
            } catch (e) {
              o = e;
            }
            return function (e, t) {
              if ((void 0 === e && (e = {}), o)) throw o;
              for (var r = !1, i = {}, s = 0; s < a.length; s++) {
                var l = a[s],
                  c = n[l],
                  u = e[l],
                  d = c(u, t);
                if (void 0 === d) throw (t && t.type, new Error(hs(14)));
                (i[l] = d), (r = r || d !== u);
              }
              return (r = r || a.length !== Object.keys(e).length) ? i : e;
            };
          })(o);
        }
        var p = s;
        "function" == typeof p && (p = p(n));
        var m = ws.apply(void 0, p),
          y = vs;
        c && (y = Bs(Ms({ trace: !1 }, "object" == typeof c && c)));
        var g = [m];
        return Array.isArray(h) ? (g = js([m], h)) : "function" == typeof h && (g = h(g)), gs(t, d, y.apply(void 0, g));
      })({ reducer: { noteCreator: sl, reBroadcast: cl.reducer } }),
      ml = pl;
    function yl() {
      var t = e.useContext(Kt);
      return kr(t), t;
    }
    function gl(t) {
      var n = yl(),
        r = n.formatMessage,
        i = n.textComponent,
        o = void 0 === i ? e.Fragment : i,
        a = t.id,
        s = t.description,
        l = t.defaultMessage,
        c = t.values,
        u = t.children,
        d = t.tagName,
        f = void 0 === d ? o : d,
        h = r({ id: a, description: s, defaultMessage: l }, c, { ignoreTag: t.ignoreTag });
      return "function" == typeof u
        ? u(Array.isArray(h) ? h : [h])
        : f
        ? e.createElement(f, null, e.Children.toArray(h))
        : e.createElement(e.Fragment, null, h);
    }
    gl.displayName = "FormattedMessage";
    var vl = e.memo(gl, function (e, t) {
      var n = e.values,
        r = Lt(e, ["values"]),
        i = t.values,
        o = Lt(t, ["values"]);
      return Sr(i, n) && Sr(r, o);
    });
    vl.displayName = "MemoizedFormattedMessage";
    const wl = vl;
    var bl,
      xl,
      El = a(5712);
    !(function (e) {
      (e.formatDate = "FormattedDate"),
        (e.formatTime = "FormattedTime"),
        (e.formatNumber = "FormattedNumber"),
        (e.formatList = "FormattedList"),
        (e.formatDisplayName = "FormattedDisplayName");
    })(bl || (bl = {})),
      (function (e) {
        (e.formatDate = "FormattedDateParts"),
          (e.formatTime = "FormattedTimeParts"),
          (e.formatNumber = "FormattedNumberParts"),
          (e.formatList = "FormattedListParts");
      })(xl || (xl = {}));
    var kl = function (e) {
      var t = yl(),
        n = e.value,
        r = e.children,
        i = Lt(e, ["value", "children"]);
      return r(t.formatNumberToParts(n, i));
    };
    function jl(e) {
      var t = function (t) {
        var n = yl(),
          r = t.value,
          i = t.children,
          o = Lt(t, ["value", "children"]),
          a = "string" == typeof r ? new Date(r || 0) : r;
        return i("formatDate" === e ? n.formatDateToParts(a, o) : n.formatTimeToParts(a, o));
      };
      return (t.displayName = xl[e]), t;
    }
    function Sl(t) {
      var n = function (n) {
        var r = yl(),
          i = n.value,
          o = n.children,
          a = Lt(n, ["value", "children"]),
          s = r[t](i, a);
        if ("function" == typeof o) return o(s);
        var l = r.textComponent || e.Fragment;
        return e.createElement(l, null, s);
      };
      return (n.displayName = bl[t]), n;
    }
    (kl.displayName = "FormattedNumberParts"), (kl.displayName = "FormattedNumberParts");
    var Al = Sl("formatDate"),
      Cl = (Sl("formatTime"), Sl("formatNumber"));
    Sl("formatList"), Sl("formatDisplayName"), jl("formatDate"), jl("formatTime");
    const Nl = {
        Login: { id: "AyGauy", defaultMessage: [{ type: 0, value: "Login" }] },
        Global: { id: "EWyQH5", defaultMessage: [{ type: 0, value: "Global" }] },
        NewUsers: { id: "NndBJE", defaultMessage: [{ type: 0, value: "New users page" }] },
        NoFollows: {
          id: "NdOYJJ",
          defaultMessage: [
            { type: 0, value: "Hmm nothing here.. Checkout " },
            { type: 1, value: "newUsersPage" },
            { type: 0, value: " to follow some recommended nostrich's!" },
          ],
        },
        Reactions: { id: "XgWvGA", defaultMessage: [{ type: 0, value: "Reactions" }] },
        Followers: { id: "pzTOmv", defaultMessage: [{ type: 0, value: "Followers" }] },
        FollowersCount: {
          id: "3tVy+Z",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Followers" },
          ],
        },
        Follows: { id: "cPIKU2", defaultMessage: [{ type: 0, value: "Following" }] },
        FollowsCount: {
          id: "1nYUGC",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Following" },
          ],
        },
        Zaps: { id: "OEW7yJ", defaultMessage: [{ type: 0, value: "Zaps" }] },
        ZapsCount: {
          id: "FDguSC",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Zaps" },
          ],
        },
        Muted: { id: "HOzFdo", defaultMessage: [{ type: 0, value: "Muted" }] },
        MutedCount: {
          id: "CmZ9ls",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Muted" },
          ],
        },
        Blocked: { id: "qUJTsT", defaultMessage: [{ type: 0, value: "Blocked" }] },
        BlockedCount: {
          id: "W2PiAr",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Blocked" },
          ],
        },
        Sats: {
          id: "jA3OE/",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " " },
            {
              type: 6,
              value: "n",
              options: { "=1": { value: [{ type: 0, value: "sat" }] }, other: { value: [{ type: 0, value: "sats" }] } },
              offset: 0,
              pluralType: "cardinal",
            },
          ],
        },
        Following: {
          id: "lnaT9F",
          defaultMessage: [
            { type: 0, value: "Following " },
            { type: 1, value: "n" },
          ],
        },
        Settings: { id: "D3idYv", defaultMessage: [{ type: 0, value: "Settings" }] },
        Messages: { id: "hMzcSq", defaultMessage: [{ type: 0, value: "Messages" }] },
        MarkAllRead: { id: "e7qqly", defaultMessage: [{ type: 0, value: "Mark All Read" }] },
        GetVerified: { id: "eJj8HD", defaultMessage: [{ type: 0, value: "Get Verified" }] },
        Nip05: {
          id: "vZ4quW",
          defaultMessage: [
            { type: 0, value: "NIP-05 is a DNS based verification spec which helps to validate you as a real user." },
          ],
        },
        Nip05Pros: { id: "thnRpU", defaultMessage: [{ type: 0, value: "Getting NIP-05 verified can help:" }] },
        AvoidImpersonators: {
          id: "iGT1eE",
          defaultMessage: [{ type: 0, value: "Prevent fake accounts from imitating you" }],
        },
        EasierToFind: {
          id: "/d6vEc",
          defaultMessage: [{ type: 0, value: "Make your profile easier to find and share" }],
        },
        Funding: {
          id: "a5UPxh",
          defaultMessage: [{ type: 0, value: "Fund developers and platforms providing NIP-05 verification services" }],
        },
        SnortSocialNip: {
          id: "k7sKNy",
          defaultMessage: [
            {
              type: 0,
              value:
                "Our very own NIP-05 verification service, help support the development of this site and get a shiny special badge on our site!",
            },
          ],
        },
        NostrPlebsNip: {
          id: "4Vmpt4",
          defaultMessage: [
            {
              type: 0,
              value:
                "Nostr Plebs is one of the first NIP-05 providers in the space and offers a good collection of domains at reasonable prices",
            },
          ],
        },
        Relays: { id: "RoOyAh", defaultMessage: [{ type: 0, value: "Relays" }] },
        RelaysCount: {
          id: "QDFTjG",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Relays" },
          ],
        },
        Bookmarks: { id: "nGBrvw", defaultMessage: [{ type: 0, value: "Bookmarks" }] },
        BookmarksCount: {
          id: "2a2YiP",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Bookmarks" },
          ],
        },
        KeyPlaceholder: { id: "B6H7eJ", defaultMessage: [{ type: 0, value: "nsec, npub, nip-05, hex" }] },
      },
      Pl = a.p + "1041fe76ab47400d0920.svg",
      _l = e => {
        var t;
        const n = e.size || 20,
          r = `${Pl}#` + e.name;
        return (0, sa.jsx)("svg", {
          width: n,
          height: null !== (t = e.height) && void 0 !== t ? t : n,
          className: e.className,
          onClick: e.onClick,
          children: (0, sa.jsx)("use", { href: r }),
        });
      };
    function Tl() {
      const e = aa().preferences.imgProxyConfig,
        t = new TextEncoder();
      function n(e) {
        return e.replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_");
      }
      return {
        proxy: (r, i) => {
          if (!e) return r;
          if (r.startsWith("data:") || r.startsWith("blob:")) return r;
          const o = i ? `rs:fit:${i}:${i}/dpr:${window.devicePixelRatio}` : "",
            a = t.encode(r),
            s = `/${o}/${n(Do.US.encode(a))}`,
            l = (function (r) {
              const i = (0, Xo.SA)(ai.hexToBytes((0, Xo.Wg)(e).key), ai.hexToBytes((0, Xo.Wg)(e).salt), t.encode(r));
              return n(Do.US.encode(i));
            })(s);
          return `${new URL(e.url).toString()}${l}${s}`;
        },
      };
    }
    const Ml = t => {
        let { pubkey: n, user: r, size: i, onClick: o, image: a } = t;
        const [s, l] = (0, e.useState)(""),
          { proxy: c } = Tl();
        (0, e.useEffect)(() => {
          const e = null != a ? a : null == r ? void 0 : r.picture;
          if (e) {
            const t = c(e, null != i ? i : 120);
            l(t);
          } else l((0, Xo.c1)(n));
        }, [r, a]);
        const u = { "--img-url": `url(${s})` },
          d = (null == r ? void 0 : r.nip05) && r.nip05.split("@")[1];
        return (0, sa.jsx)("div", {
          onClick: o,
          style: u,
          className: "avatar",
          "data-domain": null == d ? void 0 : d.toLowerCase(),
          title: Ol(r, ""),
        });
      },
      Rl = e => {
        let { nip05: t, pubkey: n, verifyNip: r = !0 } = e;
        const [i, o] = t ? t.split("@") : [],
          a = "_" === i,
          { isVerified: s } = (function (e, t) {
            const n = (0, El.useUserProfile)(e);
            return { isVerified: t || (null == n ? void 0 : n.isNostrAddressValid) };
          })(n, !r);
        return (0, sa.jsxs)("div", {
          className: "flex nip05" + (s ? "" : " failed"),
          children: [
            !a && s && (0, sa.jsx)("span", { className: "nick", children: `${i}@` }),
            s &&
              (0, sa.jsx)(sa.Fragment, {
                children: (0, sa.jsx)("span", {
                  className: "domain",
                  "data-domain": null == o ? void 0 : o.toLowerCase(),
                  children: o,
                }),
              }),
          ],
        });
      };
    function Bl(t) {
      var n;
      let {
        pubkey: r,
        subHeader: i,
        showUsername: o = !0,
        className: a,
        link: s,
        defaultNip: l,
        verifyNip: c,
        overrideUsername: u,
        profile: d,
        size: f,
        onClick: h,
      } = t;
      const p = null !== (n = (0, El.useUserProfile)(d ? "" : r)) && void 0 !== n ? n : d,
        m = l || (null == p ? void 0 : p.nip05),
        y = (0, e.useMemo)(() => (null != u ? u : Ol(p, r)), [p, r, u]);
      function g(e) {
        "" === s && (e.preventDefault(), null == h || h(e));
      }
      function v() {
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("div", {
              className: "avatar-wrapper",
              children: (0, sa.jsx)(Ml, { pubkey: r, user: p, size: f }),
            }),
            o &&
              (0, sa.jsxs)("div", {
                className: "f-ellipsis",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex g4 username",
                    children: [
                      (0, sa.jsx)("div", { children: y.trim() }),
                      m && (0, sa.jsx)(Rl, { nip05: m, pubkey: r, verifyNip: c }),
                    ],
                  }),
                  (0, sa.jsx)("div", { className: "subheader", children: i }),
                ],
              }),
          ],
        });
      }
      return "" === s
        ? (0, sa.jsx)("div", { className: "pfp" + (a ? ` ${a}` : ""), onClick: g, children: v() })
        : (0, sa.jsx)(Pt, {
            className: "pfp" + (a ? ` ${a}` : ""),
            to: void 0 === s ? (0, Xo._v)(r) : s,
            onClick: g,
            children: v(),
          });
    }
    function Ol(e, t) {
      let n = (0, Xo.jm)(Mt.NostrPrefix.PublicKey, t).substring(0, 12);
      return (
        "string" == typeof (null == e ? void 0 : e.display_name) && e.display_name.length > 0
          ? (n = e.display_name)
          : "string" == typeof (null == e ? void 0 : e.name) && e.name.length > 0 && (n = e.name),
        n
      );
    }
    var Ll = a(2467);
    const Il = { chats: "++id", eventInteraction: "++id", payments: "++url", gifts: "++id", notifications: "++id" };
    class Fl extends Ll.default {
      constructor() {
        var e, t, n;
        super("snortDB"),
          (e = this),
          (n = !1),
          (t = (function (e) {
            var t = (function (e, t) {
              if ("object" != typeof e || null === e) return e;
              var n = e[Symbol.toPrimitive];
              if (void 0 !== n) {
                var r = n.call(e, "string");
                if ("object" != typeof r) return r;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(e);
            })(e);
            return "symbol" == typeof t ? t : String(t);
          })((t = "ready"))) in e
            ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 })
            : (e[t] = n),
          this.version(13).stores(Il);
      }
      isAvailable() {
        return "indexedDB" in window
          ? new Promise(e => {
              const t = window.indexedDB.open("dummy", 1);
              (t.onsuccess = () => {
                e(!0);
              }),
                (t.onerror = () => {
                  e(!1);
                });
            })
          : Promise.resolve(!1);
      }
    }
    const Dl = new Fl();
    class Ul extends si.FeedCache {
      constructor() {
        super("EventInteraction", Dl.eventInteraction);
      }
      key(e) {
        return (0, Xo.JQ)(e.event + e.by);
      }
      async preload() {
        await super.preload();
        const e = window.localStorage.getItem("zap-cache");
        if (e) {
          const t = [...new Set(JSON.parse(e))].map(e => {
            const t = { event: e, by: oa.takeSnapshot().publicKey, zapped: !0, reacted: !1, reposted: !1 };
            return (t.id = this.key(t)), t;
          });
          await this.bulkSet(t),
            console.debug("Imported dumb-zap-cache events: ", t.length),
            window.localStorage.removeItem("zap-cache");
        }
        await this.buffer([...this.onTable]);
      }
      takeSnapshot() {
        return [...this.cache.values()];
      }
    }
    class zl extends si.FeedCache {
      constructor() {
        super("ChatCache", Dl.chats);
      }
      key(e) {
        return e.id;
      }
      async preload() {
        await super.preload(), await this.buffer([...this.onTable]);
      }
      newest() {
        let e = 0;
        return this.cache.forEach(t => (e = t.created_at > e ? t.created_at : e)), e;
      }
      takeSnapshot() {
        return [...this.cache.values()];
      }
    }
    class Hl extends si.FeedCache {
      constructor() {
        super("PaymentsCache", Dl.payments);
      }
      key(e) {
        return e.url;
      }
      takeSnapshot() {
        return [...this.cache.values()];
      }
    }
    class Kl extends si.FeedCache {
      constructor() {
        super("GiftWrapCache", Dl.gifts);
      }
      key(e) {
        return e.id;
      }
      async preload() {
        await super.preload(), await this.buffer([...this.onTable]);
      }
      newest() {
        let e = 0;
        return this.cache.forEach(t => (e = t.created_at > e ? t.created_at : e)), e;
      }
      takeSnapshot() {
        return [...this.cache.values()];
      }
      async onEvent(e, t) {
        const n = (
          await Promise.all(
            e.map(async e => {
              try {
                return { id: e.id, to: (0, Xo.MV)(e, "p"), created_at: e.created_at, inner: await t.unwrapGift(e) };
              } catch (t) {
                console.debug(t, e);
              }
            })
          )
        )
          .filter(e => void 0 !== e)
          .map(Xo.Wg);
        for (const e of n)
          if (e.inner.kind === Mt.EventKind.SealedRumor) {
            const n = await t.unsealRumor(e.inner);
            e.tags = n.tags;
          }
        await this.bulkSet(n);
      }
    }
    class Wl extends si.FeedCache {
      newest() {
        let e = 0;
        return this.cache.forEach(t => (e = t.created_at > e ? t.created_at : e)), e;
      }
      async preload() {
        await super.preload(), await this.buffer([...this.onTable]);
      }
    }
    function ql(e, t) {
      var n = (function (e, t, n) {
        if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
        return t.get(e);
      })(e, t);
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, n);
    }
    var Vl = new WeakMap();
    const $l = new Mt.UserProfileCache(),
      Gl = new Mt.UserRelaysCache(),
      Zl = new Mt.RelayMetricCache(),
      Yl = new zl(),
      Xl = (new Hl(), new Ul()),
      Ql = new Kl(),
      Jl = new (class extends Wl {
        constructor() {
          var e, t, n;
          super("notifications", Dl.notifications),
            (e = this),
            (t = Vl),
            (n = {
              writable: !0,
              value: [Mt.EventKind.TextNote, Mt.EventKind.Reaction, Mt.EventKind.Repost, Mt.EventKind.ZapReceipt],
            }),
            (function (e, t) {
              if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
            })(e, t),
            t.set(e, n);
        }
        buildSub(e, t) {
          if (e.publicKey) {
            const n = this.newest();
            t.withFilter()
              .kinds(ql(this, Vl))
              .tag("p", [e.publicKey])
              .since(0 === n ? (0, Xo.oK)() - 2592e3 : n);
          }
        }
        async onEvent(e) {
          const t = e.filter(e => ql(this, Vl).includes(e.kind) && e.tags.some(e => "p" === e[0]));
          t.length > 0 && (await this.bulkSet(t), this.notifyChange(t.map(e => this.key(e))));
        }
        key(e) {
          return e.id;
        }
        takeSnapshot() {
          return [...this.cache.values()];
        }
      })();
    function ec(e, t) {
      return e.content
        .split(xi)
        .map(n => {
          const r = n.match(/#\[(\d+)\]/);
          if (r && 2 === r.length) {
            const n = parseInt(r[1]),
              i = e.tags[n];
            if (i && "p" === i[0] && i.length > 1) {
              const e = t.find(e => e.pubkey === i[1]);
              return `@${Ol(e, i[1])}`;
            }
          }
          return n;
        })
        .join();
    }
    function tc() {
      const { publisher: e, preferences: t } = aa();
      return t.pow && (null == e || e.pow(t.pow, tw)), e;
    }
    function nc(e) {
      const t = (0, Xo.zb)(e);
      if (t) {
        const { created_at: e, tags: n } = t,
          r = n.filter(e => "p" === e[0]).map(e => e[1]);
        return { raw: t, keys: r, createdAt: e };
      }
      return { createdAt: 0, keys: [] };
    }
    function rc() {
      const e = aa(),
        { muted: t, blocked: n } = e,
        r = tc();
      async function i(e, t) {
        if (r) {
          const n = await r.muted(e, t);
          return ew.BroadcastEvent(n), 1e3 * n.created_at;
        }
        return 0;
      }
      return {
        muted: t.item,
        mute: async function (r) {
          const o = t.item.includes(r) ? t.item : t.item.concat([r]),
            a = await i(o, n.item);
          ta(e, o, a);
        },
        muteAll: async function (r) {
          const o = (0, Xo.NP)(t.item, r),
            a = await i(o, n.item);
          ta(e, o, a);
        },
        unmute: async function (r) {
          const o = t.item.filter(e => e !== r),
            a = await i(o, n.item);
          ta(e, o, a);
        },
        isMuted: function (e) {
          return t.item.includes(e) || n.item.includes(e);
        },
        blocked: n.item,
        block: async function (r) {
          const o = n.item.includes(r) ? n.item : n.item.concat([r]),
            a = await i(t.item, o);
          na(e, o, a);
        },
        unblock: async function (r) {
          const o = n.item.filter(e => e !== r),
            a = await i(t.item, o);
          na(e, o, a);
        },
        isBlocked: function (e) {
          return n.item.includes(e);
        },
      };
    }
    var ic = a(6530),
      oc = a.n(ic);
    function ac(e, t, n) {
      sc(e, t), t.set(e, n);
    }
    function sc(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function lc(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, cc(e, t, "get"));
    }
    function cc(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    var uc = new WeakMap(),
      dc = new WeakMap(),
      fc = new WeakSet();
    class hc extends si.ExternalStore {
      constructor(e) {
        var t, n, r;
        super(),
          sc(this, (t = fc)),
          t.add(this),
          ac(this, uc, { writable: !0, value: void 0 }),
          ac(this, dc, { writable: !0, value: (0, ic.debug)("NIP-04") }),
          (r = e),
          (function (e, t, n) {
            if (t.set) t.set.call(e, n);
            else {
              if (!t.writable) throw new TypeError("attempted to set read only private field");
              t.value = n;
            }
          })((n = this), cc(n, uc, "set"), r);
      }
      async onEvent(e) {
        const t = e.filter(e => e.kind === Mt.EventKind.DirectMessage && e.tags.some(e => "p" === e[0]));
        t.length > 0 && (await lc(this, uc).bulkSet(t), this.notifyChange());
      }
      subscription(e) {
        const t = new Mt.RequestBuilder(`nip4:${e.slice(0, 12)}`),
          n = lc(this, uc)
            .snapshot()
            .reduce((e, t) => (t.created_at > e && t.kind === Mt.EventKind.DirectMessage ? (e = t.created_at) : e), 0);
        return (
          lc(this, dc).call(this, "Loading DMS since %s", new Date(1e3 * n)),
          t.withFilter().authors([e]).kinds([Mt.EventKind.DirectMessage]).since(n),
          t.withFilter().kinds([Mt.EventKind.DirectMessage]).tag("p", [e]).since(n),
          t
        );
      }
      takeSnapshot(e) {
        return this.listChats(e);
      }
      listChats(e) {
        const t = (function (e, t, n) {
            if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
            return n;
          })(this, fc, pc).call(this),
          n = t => {
            return (0, Mt.encodeTLVEntries)("chat4", {
              type: Mt.TLVEntryType.Author,
              value: ((n = t), (r = e), n.pubkey === r ? Rc(n) : n.pubkey),
              length: 0,
            });
            var n, r;
          };
        return (0, si.dedupe)(t.map(n)).map(e => {
          const r = t.filter(t => n(t) === e);
          return hc.createChatObj(e, r);
        });
      }
      static createChatObj(e, t) {
        var n;
        const r = Bc(e),
          i =
            null === (n = (0, Mt.decodeTLV)(e).find(e => e.type === Mt.TLVEntryType.Author)) || void 0 === n
              ? void 0
              : n.value;
        return {
          type: Pc.DirectMessage,
          id: e,
          unread: t.reduce((e, t) => (t.created_at > r ? e++ : e), 0),
          lastMessage: t.reduce((e, t) => (t.created_at > e ? t.created_at : e), 0),
          participants: [{ type: "pubkey", id: i }],
          messages: t.map(e => ({
            id: e.id,
            created_at: e.created_at,
            from: e.pubkey,
            tags: e.tags,
            content: "",
            needsDecryption: !0,
            decrypt: async t => await t.decryptDm(e),
          })),
          createMessage: async (e, t) => [await t.sendDm(e, i)],
          sendMessage: (e, t) => {
            e.forEach(e => t.BroadcastEvent(e));
          },
        };
      }
    }
    function pc() {
      return lc(this, uc)
        .snapshot()
        .filter(e => e.kind === Mt.EventKind.DirectMessage);
    }
    function mc(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function yc(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, gc(e, t, "get"));
    }
    function gc(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    var vc = new WeakMap(),
      wc = new WeakSet();
    class bc extends si.ExternalStore {
      constructor(e) {
        var t, n, r;
        super(),
          mc(this, (t = wc)),
          t.add(this),
          (function (e, t, n) {
            mc(e, t), t.set(e, { writable: !0, value: void 0 });
          })(this, vc),
          (r = e),
          (function (e, t, n) {
            if (t.set) t.set.call(e, n);
            else {
              if (!t.writable) throw new TypeError("attempted to set read only private field");
              t.value = n;
            }
          })((n = this), gc(n, vc, "set"), r);
      }
      takeSnapshot() {
        return this.listChats();
      }
      subscription(e) {
        var t;
        const n = e.split("/", 2),
          r = new Mt.RequestBuilder(`nip29:${e}`),
          i = null === (t = this.listChats().find(t => t.id === e)) || void 0 === t ? void 0 : t.lastMessage;
        return (
          r
            .withFilter()
            .relay(`wss://${n[0]}`)
            .kinds([Mt.EventKind.SimpleChatMessage])
            .tag("g", [`/${n[1]}`])
            .since(i),
          r
            .withFilter()
            .relay(`wss://${n[0]}`)
            .kinds([Mt.EventKind.SimpleChatMetadata])
            .tag("d", [`/${n[1]}`]),
          r
        );
      }
      async onEvent(e) {
        const t = e.filter(e => e.kind === Mt.EventKind.SimpleChatMessage && e.tags.some(e => "g" === e[0]));
        t.length > 0 && (await yc(this, vc).bulkSet(t), this.notifyChange());
      }
      listChats() {
        const e = (function (e, t, n) {
            if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
            return n;
          })(this, wc, xc).call(this),
          t = (0, si.dedupe)(
            e
              .map(e => e.tags.find(e => "g" === e[0]))
              .filter(e => void 0 !== e)
              .map(e => (0, Xo.Wg)(e))
              .map(e => `${e[2]}${e[1]}`)
          );
        return t.map(t => {
          const [n, r] = t.split("/", 2),
            i = e.filter(e => {
              var n, r;
              return (
                `${null === (n = e.tags.find(e => "g" === e[0])) || void 0 === n ? void 0 : n[2]}${
                  null === (r = e.tags.find(e => "g" === e[0])) || void 0 === r ? void 0 : r[1]
                }` === t
              );
            }),
            o = Bc(t);
          return {
            type: Pc.PublicGroupChat,
            id: t,
            title: `${n}/${r}`,
            unread: i.reduce((e, t) => (t.created_at > o ? e++ : e), 0),
            lastMessage: i.reduce((e, t) => (t.created_at > e ? t.created_at : e), 0),
            messages: i.map(e => ({
              id: e.id,
              created_at: e.created_at,
              from: e.pubkey,
              tags: e.tags,
              needsDecryption: !1,
              content: e.content,
              decrypt: async () => e.content,
            })),
            participants: [{ type: "generic", id: "", profile: { name: `${n}/${r}` } }],
            createMessage: async (e, t) => [
              await t.generic(t =>
                t
                  .kind(Mt.EventKind.SimpleChatMessage)
                  .tag(["g", `/${r}`, n])
                  .content(e)
              ),
            ],
            sendMessage: async (e, t) => {
              e.forEach(async e => await t.WriteOnceToRelay(`wss://${n}`, e));
            },
          };
        });
      }
    }
    function xc() {
      return yc(this, vc)
        .snapshot()
        .filter(e => e.kind === Mt.EventKind.SimpleChatMessage);
    }
    function Ec(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function kc(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, jc(e, t, "get"));
    }
    function jc(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    var Sc = new WeakMap(),
      Ac = new WeakSet();
    class Cc extends si.ExternalStore {
      constructor(e) {
        var t, n, r;
        super(),
          Ec(this, (t = Ac)),
          t.add(this),
          (function (e, t, n) {
            Ec(e, t), t.set(e, { writable: !0, value: void 0 });
          })(this, Sc),
          (r = e),
          (function (e, t, n) {
            if (t.set) t.set.call(e, n);
            else {
              if (!t.writable) throw new TypeError("attempted to set read only private field");
              t.value = n;
            }
          })((n = this), jc(n, Sc, "set"), r),
          kc(this, Sc).hook(() => this.notifyChange(), "*");
      }
      subscription() {}
      onEvent() {}
      listChats(e) {
        const t = (function (e, t, n) {
            if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
            return n;
          })(this, Ac, Nc).call(this),
          n = t.filter(t => t.to === e),
          r = t => {
            var n;
            const r = (0, si.dedupe)([
              ...(null !== (n = t.tags) && void 0 !== n ? n : []).filter(e => "p" === e[0]).map(e => e[1]),
              t.inner.pubkey,
            ])
              .sort()
              .filter(t => t !== e);
            return (0, Mt.encodeTLVEntries)(
              "chat24",
              ...r.map(e => ({ value: e, type: Mt.TLVEntryType.Author, length: e.length }))
            );
          };
        return (0, si.dedupe)(n.map(e => r(e))).map(e => {
          const t = n.filter(t => r(t) === e);
          return Cc.createChatObj(e, t);
        });
      }
      static createChatObj(e, t) {
        const n = Bc(e),
          r = (0, Mt.decodeTLV)(e)
            .filter(e => e.type === Mt.TLVEntryType.Author)
            .map(e => ({ type: "pubkey", id: e.value })),
          i = t.reduce(
            (e, t) => {
              var n, r;
              const i =
                null === (n = t.tags) || void 0 === n || null === (r = n.find(e => "subject" === e[0])) || void 0 === r
                  ? void 0
                  : r[1];
              return t.created_at > e.t && i && ((e.title = i), (e.t = t.created_at)), e;
            },
            { t: 0, title: void 0 }
          );
        return {
          type: Pc.PrivateDirectMessage,
          id: e,
          title: i.title,
          unread: t.reduce((e, t) => (t.created_at > n ? e++ : e), 0),
          lastMessage: t.reduce((e, t) => (t.created_at > e ? t.created_at : e), 0),
          participants: r,
          messages: t.map(e => ({
            id: e.id,
            created_at: e.created_at,
            from: e.inner.pubkey,
            tags: e.tags,
            content: "",
            needsDecryption: !0,
            decrypt: async t => await t.decryptDm(e.inner),
          })),
          createMessage: async (e, t) => {
            const n = t.createUnsigned(Mt.EventKind.ChatRumor, e, e => {
                for (const t of r) e.tag(["p", t.id]);
                return e;
              }),
              i = [];
            for (const e of r) {
              const r = t.giftWrap(await t.sealRumor(n, e.id), e.id, 16);
              i.push(r);
            }
            return i.push(t.giftWrap(await t.sealRumor(n, t.pubKey), t.pubKey, 16, tw)), await Promise.all(i);
          },
          sendMessage: (e, t) => {
            e.forEach(e => t.BroadcastEvent(e));
          },
        };
      }
      takeSnapshot(e) {
        return this.listChats(e);
      }
    }
    function Nc() {
      return kc(this, Sc)
        .takeSnapshot()
        .filter(e => e.inner.kind === Mt.EventKind.SealedRumor);
    }
    let Pc = (function (e) {
      return (
        (e[(e.DirectMessage = 1)] = "DirectMessage"),
        (e[(e.PublicGroupChat = 2)] = "PublicGroupChat"),
        (e[(e.PrivateGroupChat = 3)] = "PrivateGroupChat"),
        (e[(e.PrivateDirectMessage = 4)] = "PrivateDirectMessage"),
        e
      );
    })({});
    const _c = new hc(Yl),
      Tc = new bc(Yl),
      Mc = new Cc(Ql);
    function Rc(e) {
      if (e.kind === Mt.EventKind.DirectMessage) return (0, si.unwrap)((0, Xo.MV)(e, "p"));
      if (e.kind === Mt.EventKind.SimpleChatMessage) {
        const t = (0, si.unwrap)(e.tags.find(e => "g" === e[0]));
        return `${t[2]}${t[1]}`;
      }
      throw new Error("Not a chat message");
    }
    function Bc(e) {
      var t;
      const n = `dm:seen:${e}`;
      return parseInt(null !== (t = window.localStorage.getItem(n)) && void 0 !== t ? t : "0");
    }
    function Oc(e) {
      for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
      switch (e) {
        case Pc.DirectMessage:
          if (n.length > 1) throw new Error("Must only contain one pubkey");
          return `/messages/${(0, Mt.encodeTLVEntries)("chat4", {
            type: Mt.TLVEntryType.Author,
            length: n[0].length,
            value: n[0],
          })}`;
        case Pc.PrivateDirectMessage:
          if (n.length > 1) throw new Error("Must only contain one pubkey");
          return `/messages/${(0, Mt.encodeTLVEntries)("chat24", {
            type: Mt.TLVEntryType.Author,
            length: n[0].length,
            value: n[0],
          })}`;
        case Pc.PrivateGroupChat:
          return `/messages/${(0, Mt.encodeTLVEntries)(
            "chat24",
            ...n.map(e => ({ type: Mt.TLVEntryType.Author, length: e.length, value: e }))
          )}`;
      }
      throw new Error("Unknown chat type");
    }
    function Lc() {
      const t = (function () {
          const { publicKey: t } = aa();
          return (0, e.useSyncExternalStore)(
            e => _c.hook(e),
            () => _c.snapshot(t)
          );
        })(),
        n = (function () {
          const { publicKey: t } = aa();
          return (0, e.useSyncExternalStore)(
            e => Mc.hook(e),
            () => Mc.snapshot(t)
          );
        })(),
        { muted: r, blocked: i } = rc();
      return [...t, ...n].filter(e => !(r.includes(e.id) || i.includes(e.id)));
    }
    var Ic = a(43),
      Fc = a.n(Ic),
      Dc = a(160),
      Uc = a.n(Dc);
    function zc(e, t, n) {
      return (
        t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
        e
      );
    }
    function Hc(e, t) {
      if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function Kc(e, t) {
      for (var n = 0; n < t.length; n++) {
        var r = t[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(e, r.key, r);
      }
    }
    function Wc(e, t, n) {
      return t && Kc(e.prototype, t), n && Kc(e, n), e;
    }
    function qc(e) {
      return (
        (qc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (e) {
                return typeof e;
              }
            : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype
                  ? "symbol"
                  : typeof e;
              }),
        qc(e)
      );
    }
    function Vc(e) {
      return (
        (Vc =
          "function" == typeof Symbol && "symbol" === qc(Symbol.iterator)
            ? function (e) {
                return qc(e);
              }
            : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype
                  ? "symbol"
                  : qc(e);
              }),
        Vc(e)
      );
    }
    function $c(e, t) {
      return !t || ("object" !== Vc(t) && "function" != typeof t)
        ? (function (e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e;
          })(e)
        : t;
    }
    function Gc(e) {
      return (
        (Gc = Object.setPrototypeOf
          ? Object.getPrototypeOf
          : function (e) {
              return e.__proto__ || Object.getPrototypeOf(e);
            }),
        Gc(e)
      );
    }
    function Zc(e, t) {
      return (
        (Zc =
          Object.setPrototypeOf ||
          function (e, t) {
            return (e.__proto__ = t), e;
          }),
        Zc(e, t)
      );
    }
    function Yc(e, t) {
      if ("function" != typeof t && null !== t)
        throw new TypeError("Super expression must either be null or a function");
      (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
        t && Zc(e, t);
    }
    var Xc = { ESC: 27, UP: 38, DOWN: 40, LEFT: 37, RIGHT: 39, ENTER: 13, TAB: 9 },
      Qc = new (function e() {
        var t = this;
        Hc(this, e),
          (this.startListen = function (e) {
            e && e.addEventListener("keydown", t.f);
          }),
          (this.stopListen = function (e) {
            e && e.removeEventListener("keydown", t.f);
          }),
          (this.add = function (e, n) {
            var r = e;
            return "object" != typeof r && (r = [r]), (t.listeners[t.index] = { keyCode: r, fn: n }), t.index++;
          }),
          (this.remove = function (e) {
            delete t.listeners[e];
          }),
          (this.removeAll = function () {
            (t.listeners = {}), (t.index = 1);
          }),
          (this.index = 1),
          (this.listeners = {}),
          (this.f = function (e) {
            if (e) {
              var n = e.keyCode || e.which;
              Object.values(t.listeners).forEach(function (t) {
                var r = t.keyCode,
                  i = t.fn;
                r.includes(n) && (e.stopPropagation(), e.preventDefault(), i(e));
              });
            }
          });
      })(),
      Jc = (function (t) {
        function n() {
          var e, t;
          Hc(this, n);
          for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];
          return (
            ((t = $c(this, (e = Gc(n)).call.apply(e, [this].concat(i)))).selectItem = function () {
              var e = t.props,
                n = e.item;
              (0, e.onSelectHandler)(n);
            }),
            t
          );
        }
        return (
          Yc(n, t),
          Wc(n, [
            {
              key: "shouldComponentUpdate",
              value: function (e) {
                return (
                  this.props.item !== e.item ||
                  this.props.selected !== e.selected ||
                  this.props.style !== e.style ||
                  this.props.className !== e.className
                );
              },
            },
            {
              key: "render",
              value: function () {
                var t = this,
                  n = this.props,
                  r = n.component,
                  i = n.style,
                  o = n.onClickHandler,
                  a = n.item,
                  s = n.selected,
                  l = n.className,
                  c = n.innerRef;
                return e.createElement(
                  "li",
                  {
                    className: "rta__item  ".concat(!0 === s ? "rta__item--selected" : "", " ").concat(l || ""),
                    style: i,
                  },
                  e.createElement(
                    "div",
                    {
                      className: "rta__entity ".concat(!0 === s ? "rta__entity--selected" : ""),
                      role: "button",
                      tabIndex: 0,
                      onClick: o,
                      onFocus: this.selectItem,
                      onMouseEnter: this.selectItem,
                      onTouchStart: function () {
                        (t.clicked = !0), t.selectItem();
                      },
                      onTouchEnd: function (e) {
                        e.preventDefault(), t.clicked && o(e);
                      },
                      onTouchMove: function () {
                        t.clicked = !1;
                      },
                      onTouchCancel: function () {
                        t.clicked = !1;
                      },
                      ref: c,
                    },
                    e.createElement(r, { selected: s, entity: a })
                  )
                );
              },
            },
          ]),
          n
        );
      })(e.Component),
      eu = (function (t) {
        function n() {
          var e, t;
          Hc(this, n);
          for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];
          return (
            ((t = $c(this, (e = Gc(n)).call.apply(e, [this].concat(i)))).state = { selectedItem: null }),
            (t.cachedIdOfItems = new Map()),
            (t.onPressEnter = function (e) {
              void 0 !== e && e.preventDefault();
              var n = t.props.values;
              t.modifyText(n[t.getPositionInList()]);
            }),
            (t.getPositionInList = function () {
              var e = t.props.values,
                n = t.state.selectedItem;
              return n
                ? e.findIndex(function (e) {
                    return t.getId(e) === t.getId(n);
                  })
                : 0;
            }),
            (t.getId = function (e) {
              if (t.cachedIdOfItems.has(e)) return t.cachedIdOfItems.get(e);
              var n = t.props.getTextToReplace(e),
                r = (function () {
                  if (n) {
                    if (n.key) return n.key;
                    if ("string" == typeof e || !e.key) return n.text;
                  }
                  if (!e.key) throw new Error("Item ".concat(JSON.stringify(e), ' has to have defined "key" property'));
                  return e.key;
                })();
              return t.cachedIdOfItems.set(e, r), r;
            }),
            (t.listeners = []),
            (t.itemsRef = {}),
            (t.modifyText = function (e) {
              e && (0, t.props.onSelect)(e);
            }),
            (t.selectItem = function (e) {
              var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                r = t.props.onItemHighlighted;
              t.state.selectedItem !== e &&
                t.setState({ selectedItem: e }, function () {
                  r(e), n && t.props.dropdownScroll(t.itemsRef[t.getId(e)]);
                });
            }),
            (t.scroll = function (e) {
              e.preventDefault();
              var n,
                r = t.props.values,
                i = e.keyCode || e.which,
                o = t.getPositionInList();
              switch (i) {
                case Xc.DOWN:
                  n = o + 1;
                  break;
                case Xc.UP:
                  n = o - 1;
                  break;
                default:
                  n = o;
              }
              (n = ((n % r.length) + r.length) % r.length), t.selectItem(r[n], [Xc.DOWN, Xc.UP].includes(i));
            }),
            (t.isSelected = function (e) {
              var n = t.state.selectedItem;
              return !!n && t.getId(n) === t.getId(e);
            }),
            t
          );
        }
        return (
          Yc(n, t),
          Wc(n, [
            {
              key: "componentDidMount",
              value: function () {
                this.listeners.push(
                  Qc.add([Xc.DOWN, Xc.UP], this.scroll),
                  Qc.add([Xc.ENTER, Xc.TAB], this.onPressEnter)
                );
                var e = this.props.values;
                e && e[0] && this.selectItem(e[0]);
              },
            },
            {
              key: "componentDidUpdate",
              value: function (e) {
                var t = this,
                  n = e.values,
                  r = this.props.values;
                n
                  .map(function (e) {
                    return t.getId(e);
                  })
                  .join("") !==
                  r
                    .map(function (e) {
                      return t.getId(e);
                    })
                    .join("") &&
                  r &&
                  r[0] &&
                  this.selectItem(r[0]);
              },
            },
            {
              key: "componentWillUnmount",
              value: function () {
                for (var e; this.listeners.length; ) (e = this.listeners.pop()), Qc.remove(e);
              },
            },
            {
              key: "render",
              value: function () {
                var t = this,
                  n = this.props,
                  r = n.values,
                  i = n.component,
                  o = n.style,
                  a = n.itemClassName,
                  s = n.className,
                  l = n.itemStyle;
                return e.createElement(
                  "ul",
                  { className: "rta__list ".concat(s || ""), style: o },
                  r.map(function (n) {
                    return e.createElement(Jc, {
                      key: t.getId(n),
                      innerRef: function (e) {
                        t.itemsRef[t.getId(n)] = e;
                      },
                      selected: t.isSelected(n),
                      item: n,
                      className: a,
                      style: l,
                      onClickHandler: t.onPressEnter,
                      onSelectHandler: t.selectItem,
                      component: i,
                    });
                  })
                );
              },
            },
          ]),
          n
        );
      })(e.Component),
      tu = "next",
      nu = "rta__autocomplete--left",
      ru = "rta__autocomplete--right",
      iu = "rta__autocomplete--top",
      ou = "rta__autocomplete--bottom",
      au = function (e) {
        return console.error(
          "RTA: dataProvider fails: ".concat(
            e,
            "\n    \nCheck the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues"
          )
        );
      },
      su = [".", "^", "$", "*", "+", "-", "?", "(", ")", "[", "]", "{", "}", "\\", "|"],
      lu = function (e) {
        return ((t = e),
        (function (e) {
          if (Array.isArray(e)) {
            for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
            return n;
          }
        })(t) ||
          (function (e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
              return Array.from(e);
          })(t) ||
          (function () {
            throw new TypeError("Invalid attempt to spread non-iterable instance");
          })())
          .map(function (e) {
            return su.includes(e) ? "\\".concat(e) : e;
          })
          .join("");
        var t;
      },
      cu = (function (t) {
        function n() {
          return Hc(this, n), $c(this, Gc(n).apply(this, arguments));
        }
        return (
          Yc(n, t),
          Wc(n, [
            {
              key: "componentDidMount",
              value: function () {
                var e = this.props.boundariesElement;
                if ("string" == typeof e) {
                  var t = document.querySelector(e);
                  if (!t) throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");
                  this.containerElem = t;
                } else {
                  if (!(e instanceof HTMLElement))
                    throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");
                  this.containerElem = e;
                }
                if (!this.containerElem || !this.containerElem.contains(this.ref))
                  throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.");
              },
            },
            {
              key: "componentDidUpdate",
              value: function () {
                var e,
                  t,
                  n = this.props.top || 0,
                  r = this.props.left || 0,
                  i = [],
                  o = [],
                  a = 0,
                  s = 0,
                  l = this.containerElem.getBoundingClientRect(),
                  c = this.ref.getBoundingClientRect(),
                  u = this.props.textareaRef.getBoundingClientRect(),
                  d = window.getComputedStyle(this.ref),
                  f = parseInt(d.getPropertyValue("margin-top"), 10),
                  h = parseInt(d.getPropertyValue("margin-bottom"), 10),
                  p = parseInt(d.getPropertyValue("margin-left"), 10),
                  m = parseInt(d.getPropertyValue("margin-right"), 10),
                  y = f + h + u.top + n + c.height;
                p + m + u.left + r + c.width > l.right && u.left + r > c.width
                  ? ((s = r - c.width), i.push(nu), o.push(ru))
                  : ((s = r), i.push(ru), o.push(nu)),
                  y > l.bottom && u.top + n > c.height
                    ? ((a = n - c.height), i.push(iu), o.push(ou))
                    : ((a = n), i.push(ou), o.push(iu)),
                  this.props.renderToBody && ((a += u.top), (s += u.left)),
                  (this.ref.style.top = "".concat(a, "px")),
                  (this.ref.style.left = "".concat(s, "px")),
                  (e = this.ref.classList).remove.apply(e, o),
                  (t = this.ref.classList).add.apply(t, i);
              },
            },
            {
              key: "render",
              value: function () {
                var t = this,
                  n = this.props,
                  r = n.style,
                  i = n.className,
                  a = n.innerRef,
                  s = n.children,
                  l = n.renderToBody,
                  c = document.body,
                  u = e.createElement(
                    "div",
                    {
                      ref: function (e) {
                        (t.ref = e), a(e);
                      },
                      className: "rta__autocomplete ".concat(i || ""),
                      style: r,
                    },
                    s
                  );
                return l && null !== c ? o.createPortal(u, c) : u;
              },
            },
          ]),
          n
        );
      })(e.Component),
      uu = (function (t) {
        function n(e) {
          var t;
          Hc(this, n),
            ((t = $c(this, Gc(n).call(this, e))).state = {
              top: null,
              left: null,
              currentTrigger: null,
              actualToken: "",
              data: null,
              value: "",
              dataLoading: !1,
              selectionEnd: 0,
              component: null,
              textToReplace: null,
            }),
            (t.escListenerInit = function () {
              t.escListener || (t.escListener = Qc.add(Xc.ESC, t._closeAutocomplete));
            }),
            (t.escListenerDestroy = function () {
              t.escListener && (Qc.remove(t.escListener), (t.escListener = null));
            }),
            (t.getSelectionPosition = function () {
              return t.textareaRef
                ? { selectionStart: t.textareaRef.selectionStart, selectionEnd: t.textareaRef.selectionEnd }
                : null;
            }),
            (t.getSelectedText = function () {
              if (!t.textareaRef) return null;
              var e = t.textareaRef,
                n = e.selectionStart,
                r = e.selectionEnd;
              return n === r ? null : t.state.value.substr(n, r - n);
            }),
            (t.setCaretPosition = function () {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
              t.textareaRef && (t.textareaRef.focus(), t.textareaRef.setSelectionRange(e, e));
            }),
            (t.getCaretPosition = function () {
              return t.textareaRef ? t.textareaRef.selectionEnd : 0;
            }),
            (t._handleCaretChange = function (e) {
              var n = function () {
                var e = t.getCaretPosition() - 1;
                t.lastTrigger = t.lastTrigger ? e : 0;
              };
              if ("keydown" !== e.type) n();
              else
                switch (e.keyCode || e.which) {
                  case Xc.UP:
                  case Xc.DOWN:
                    t._isAutocompleteOpen() || n();
                    break;
                  case Xc.LEFT:
                  case Xc.RIGHT:
                    n();
                }
            }),
            (t._onSelect = function (e) {
              var n = t.state,
                r = n.selectionEnd,
                i = n.currentTrigger,
                o = n.value,
                a = t.props.onItemSelected;
              if (i) {
                var s = t._getTextToReplace(i);
                if (s) {
                  var l = s(e);
                  if (l) {
                    a && a({ currentTrigger: i, item: e });
                    var c = o.slice(0, r),
                      u = lu(i),
                      d = c.length - c.lastIndexOf(i),
                      f = c.search(new RegExp("(?!".concat(u, ")$"))) - d,
                      h = "next" === l.caretPosition ? "".concat(l.text, " ") : l.text,
                      p = (function (e, t, n) {
                        switch (e) {
                          case "start":
                            return n;
                          case "next":
                          case "end":
                            return n + t.length;
                          default:
                            if (!Number.isInteger(e))
                              throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');
                            return e;
                        }
                      })(l.caretPosition, h, f),
                      m = c.substring(0, f) + h,
                      y = o.replace(c, m);
                    t.setState({ value: y, dataLoading: !1 }, function () {
                      var e = t.tokenRegExpEnding.exec(h),
                        n = e ? e[0].length : 1;
                      (t.lastTrigger = p ? p - n : p),
                        (t.textareaRef.value = y),
                        (t.textareaRef.selectionEnd = p),
                        t._changeHandler();
                      var r = t.textareaRef.scrollTop;
                      t.setCaretPosition(p), window.chrome && (t.textareaRef.scrollTop = r);
                    });
                  } else t._closeAutocomplete();
                } else t._closeAutocomplete();
              }
            }),
            (t._getTextToReplace = function (e) {
              var n = t.props.trigger[e];
              if (!e || !n) return null;
              var r = n.output;
              return function (t) {
                if ("object" == typeof t && (!r || "function" != typeof r))
                  throw new Error(
                    'Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type'
                  );
                if (r) {
                  var n = r(t, e);
                  if (void 0 === n || "number" == typeof n)
                    throw new Error(
                      'Output functor should return string or object in shape {text: string, caretPosition: string | number}.\nGot "'
                        .concat(String(n), '". Check the implementation for trigger "')
                        .concat(
                          e,
                          '"\n\nSee https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.\n'
                        )
                    );
                  if (null === n) return null;
                  if ("string" == typeof n) return { text: n, caretPosition: tu };
                  if (!n.text && "string" != typeof n.text)
                    throw new Error(
                      'Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(
                        e,
                        '"\n'
                      )
                    );
                  if (!n.caretPosition)
                    throw new Error(
                      'Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(
                        e,
                        '"\n'
                      )
                    );
                  return n;
                }
                if ("string" != typeof t) throw new Error("Output item should be string\n");
                return { text: "".concat(e).concat(t).concat(e), caretPosition: tu };
              };
            }),
            (t._getCurrentTriggerSettings = function () {
              var e = t.state.currentTrigger;
              return e ? t.props.trigger[e] : null;
            }),
            (t._getValuesFromProvider = function () {
              var e = t.state,
                n = e.currentTrigger,
                r = e.actualToken,
                i = t._getCurrentTriggerSettings();
              if (n && i) {
                var o = i.dataProvider,
                  a = i.component;
                if ("function" != typeof o) throw new Error("Trigger provider has to be a function!");
                t.setState({ dataLoading: !0 });
                var s = o(r);
                s instanceof Promise || (s = Promise.resolve(s)),
                  s
                    .then(function (e) {
                      if (!Array.isArray(e)) throw new Error("Trigger provider has to provide an array!");
                      if ("function" != typeof a) throw new Error("Component should be defined!");
                      n === t.state.currentTrigger &&
                        (e.length ? t.setState({ dataLoading: !1, data: e, component: a }) : t._closeAutocomplete());
                    })
                    .catch(function (e) {
                      return au(e.message);
                    });
              }
            }),
            (t._getSuggestions = function () {
              var e = t.state,
                n = e.currentTrigger,
                r = e.data;
              return !n || !r || (r && !r.length) ? null : r;
            }),
            (t._createRegExp = function () {
              var e = t.props.trigger;
              (t.tokenRegExp = new RegExp(
                "(".concat(
                  Object.keys(e)
                    .sort(function (e, t) {
                      return e < t ? 1 : e > t ? -1 : 0;
                    })
                    .map(function (e) {
                      return lu(e);
                    })
                    .join("|"),
                  ")((?:(?!\\1)[^\\s])*$)"
                )
              )),
                (t.tokenRegExpEnding = new RegExp(
                  "(".concat(
                    Object.keys(e)
                      .sort(function (e, t) {
                        return e < t ? 1 : e > t ? -1 : 0;
                      })
                      .map(function (e) {
                        return lu(e);
                      })
                      .join("|"),
                    ")$"
                  )
                ));
            }),
            (t._closeAutocomplete = function () {
              var e = t.state.currentTrigger;
              t.escListenerDestroy(),
                t.setState({ data: null, dataLoading: !1, currentTrigger: null }, function () {
                  e && t._onItemHighlightedHandler(null);
                });
            }),
            (t._cleanUpProps = function () {
              var e = (function (e) {
                  for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {},
                      r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols &&
                      (r = r.concat(
                        Object.getOwnPropertySymbols(n).filter(function (e) {
                          return Object.getOwnPropertyDescriptor(n, e).enumerable;
                        })
                      )),
                      r.forEach(function (t) {
                        zc(e, t, n[t]);
                      });
                  }
                  return e;
                })({}, t.props),
                n = [
                  "loadingComponent",
                  "boundariesElement",
                  "containerStyle",
                  "minChar",
                  "scrollToItem",
                  "ref",
                  "innerRef",
                  "onChange",
                  "onCaretPositionChange",
                  "className",
                  "value",
                  "trigger",
                  "listStyle",
                  "itemStyle",
                  "containerStyle",
                  "loaderStyle",
                  "className",
                  "containerClassName",
                  "listClassName",
                  "itemClassName",
                  "loaderClassName",
                  "dropdownStyle",
                  "dropdownClassName",
                  "movePopupAsYouType",
                  "textAreaComponent",
                  "renderToBody",
                  "onItemSelected",
                  "onItemHighlighted",
                ];
              for (var r in e) n.includes(r) && delete e[r];
              return e;
            }),
            (t._changeHandler = function (e) {
              var n = t.props,
                r = n.trigger,
                i = n.onChange,
                o = n.minChar,
                a = n.onCaretPositionChange,
                s = n.movePopupAsYouType,
                l = t.state,
                c = l.top,
                u = l.left,
                d = e;
              d || ((d = new (Uc())("change", { bubbles: !0 })), t.textareaRef.dispatchEvent(d));
              var f = d.target || t.textareaRef,
                h = f.selectionEnd,
                p = f.value;
              (t.lastValueBubbledEvent = p),
                i &&
                  d &&
                  (d.persist && d.persist(),
                  i(
                    new Proxy(d, {
                      get: function (e, t, n) {
                        return "target" === t ? f : Reflect.get(e, t, n);
                      },
                    })
                  )),
                a && a(t.getCaretPosition()),
                t.setState({ value: p });
              var m = function () {
                  var e = Fc()(f, h),
                    n = e.top,
                    r = e.left;
                  t.setState({ top: n - t.textareaRef.scrollTop || 0, left: r });
                },
                y = function (e) {
                  (t.lastTrigger = h - e), t._closeAutocomplete(), m();
                };
              if (h <= t.lastTrigger) {
                var g = p.slice(0, h),
                  v = t.tokenRegExp.exec(g);
                y(v ? v[0].length : 0);
              }
              var w = p.slice(t.lastTrigger, h),
                b = t.tokenRegExp.exec(w),
                x = b && b[0],
                E = (b && b[1]) || null,
                k = E ? E.length - 1 : 0,
                j = t.tokenRegExpEnding.exec(w);
              if (
                (j ? y(j[0].length) : t._isAutocompleteOpen() || t._closeAutocomplete(),
                (x && !(x.length <= o + k)) ||
                  ((!t.state.currentTrigger || r[t.state.currentTrigger].allowWhitespace) && t.state.currentTrigger))
              )
                if (E && r[E].afterWhitespace && !/\s/.test(p[h - x.length - 1]) && void 0 !== p[h - x.length - 1])
                  t._closeAutocomplete();
                else {
                  if (t.state.currentTrigger && r[t.state.currentTrigger].allowWhitespace) {
                    if (
                      ((b = new RegExp("".concat(lu(t.state.currentTrigger), ".*$")).exec(p.slice(0, h))),
                      !(x = b && b[0]))
                    )
                      return void t._closeAutocomplete();
                    E =
                      Object.keys(r).find(function (e) {
                        return e.slice(0, k + 1) === x.slice(0, k + 1);
                      }) || null;
                  }
                  var S = x.slice(1);
                  if (E) {
                    (s || (null === c && null === u) || t.state.currentTrigger !== E) && m(), t.escListenerInit();
                    var A = t._getTextToReplace(E);
                    t.setState({ selectionEnd: h, currentTrigger: E, textToReplace: A, actualToken: S }, function () {
                      try {
                        t._getValuesFromProvider();
                      } catch (e) {
                        au(e.message);
                      }
                    });
                  }
                }
              else t._closeAutocomplete();
            }),
            (t._selectHandler = function (e) {
              var n = t.props,
                r = n.onCaretPositionChange,
                i = n.onSelect;
              r && r(t.getCaretPosition()), i && (e.persist(), i(e));
            }),
            (t._shouldStayOpen = function (e) {
              var n = e.relatedTarget;
              return (
                null === n && (n = document.activeElement),
                !!(t.dropdownRef && n instanceof Node && t.dropdownRef.contains(n))
              );
            }),
            (t._onClick = function (e) {
              var n = t.props.onClick;
              n && (e.persist(), n(e)), t._shouldStayOpen(e) || t._closeAutocomplete();
            }),
            (t._onBlur = function (e) {
              var n = t.props.onBlur;
              n && (e.persist(), n(e)), t._shouldStayOpen(e) || t._closeAutocomplete();
            }),
            (t._onScrollHandler = function () {
              t._closeAutocomplete();
            }),
            (t._onItemHighlightedHandler = function (e) {
              var n = t.props.onItemHighlighted,
                r = t.state.currentTrigger;
              if (n) {
                if ("function" != typeof n) throw new Error("`onItemHighlighted` has to be a function");
                n({ currentTrigger: r, item: e });
              }
            }),
            (t._dropdownScroll = function (e) {
              var n = t.props.scrollToItem;
              if (n)
                if (!0 !== n) {
                  if ("function" != typeof n || 2 !== n.length)
                    throw new Error(
                      "`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item."
                    );
                  n(t.dropdownRef, e);
                } else
                  !(function (e, t) {
                    var n = parseInt(getComputedStyle(t).getPropertyValue("height"), 10),
                      r = parseInt(getComputedStyle(e).getPropertyValue("height"), 10) - n,
                      i = t.offsetTop,
                      o = e.scrollTop;
                    (i < o + r && o < i) || (e.scrollTop = i);
                  })(t.dropdownRef, e);
            }),
            (t._isAutocompleteOpen = function () {
              var e = t.state,
                n = e.dataLoading,
                r = e.currentTrigger,
                i = t._getSuggestions();
              return !((!n && !i) || !r);
            }),
            (t._textareaRef = function (e) {
              t.props.innerRef && t.props.innerRef(e), (t.textareaRef = e);
            }),
            (t.lastTrigger = 0),
            (t.escListener = null);
          var r = t.props,
            i = r.loadingComponent,
            o = r.trigger,
            a = r.value;
          if ((a && (t.state.value = a), t._createRegExp(), !i))
            throw new Error("RTA: loadingComponent is not defined");
          if (!o) throw new Error("RTA: trigger is not defined");
          return t;
        }
        return (
          Yc(n, t),
          Wc(
            n,
            [
              {
                key: "componentDidMount",
                value: function () {
                  Qc.startListen(this.textareaRef),
                    this.textareaRef && this.textareaRef.addEventListener("focus", this._handleCaretChange),
                    this.textareaRef && this.textareaRef.addEventListener("click", this._handleCaretChange),
                    this.textareaRef && this.textareaRef.addEventListener("keydown", this._handleCaretChange);
                },
              },
              {
                key: "componentDidUpdate",
                value: function (e) {
                  var t = e.trigger,
                    n = e.value,
                    r = this.props,
                    i = r.trigger,
                    o = r.value;
                  Object.keys(i).join("") !== Object.keys(t).join("") && this._createRegExp(),
                    n !== o && this.lastValueBubbledEvent !== o && ((this.lastTrigger = 0), this._changeHandler());
                },
              },
              {
                key: "componentWillUnmount",
                value: function () {
                  this.escListenerDestroy(),
                    Qc.stopListen(this.textareaRef),
                    this.textareaRef && this.textareaRef.removeEventListener("focus", this._handleCaretChange),
                    this.textareaRef && this.textareaRef.removeEventListener("click", this._handleCaretChange),
                    this.textareaRef && this.textareaRef.removeEventListener("keydown", this._handleCaretChange);
                },
              },
              {
                key: "render",
                value: function () {
                  var t,
                    n = this,
                    r = this.props,
                    i = r.loadingComponent,
                    o = r.style,
                    a = r.className,
                    s = r.listStyle,
                    l = r.itemStyle,
                    c = r.boundariesElement,
                    u = r.movePopupAsYouType,
                    d = r.listClassName,
                    f = r.itemClassName,
                    h = r.dropdownClassName,
                    p = r.dropdownStyle,
                    m = r.containerStyle,
                    y = r.containerClassName,
                    g = r.loaderStyle,
                    v = r.loaderClassName,
                    w = r.textAreaComponent,
                    b = r.renderToBody,
                    x = this.state,
                    E = x.left,
                    k = x.top,
                    j = x.dataLoading,
                    S = x.component,
                    A = x.value,
                    C = x.textToReplace,
                    N = this._isAutocompleteOpen(),
                    P = this._getSuggestions(),
                    _ = {};
                  return (
                    w.component
                      ? ((t = w.component), (_[w.ref] = this._textareaRef))
                      : ((t = w), (_.ref = this._textareaRef)),
                    e.createElement(
                      "div",
                      { className: "rta ".concat(!0 === j ? "rta--loading" : "", " ").concat(y || ""), style: m },
                      e.createElement(
                        t,
                        Object.assign(
                          {},
                          this._cleanUpProps(),
                          {
                            className: "rta__textarea ".concat(a || ""),
                            onChange: this._changeHandler,
                            onSelect: this._selectHandler,
                            onScroll: this._onScrollHandler,
                            onClick: this._onClick,
                            onBlur: this._onBlur,
                            value: A,
                            style: o,
                          },
                          _
                        )
                      ),
                      N &&
                        e.createElement(
                          cu,
                          {
                            innerRef: function (e) {
                              n.dropdownRef = e;
                            },
                            top: k,
                            left: E,
                            style: p,
                            className: h,
                            movePopupAsYouType: u,
                            boundariesElement: c,
                            textareaRef: this.textareaRef,
                            renderToBody: b,
                          },
                          P &&
                            S &&
                            C &&
                            e.createElement(eu, {
                              values: P,
                              component: S,
                              style: s,
                              className: d,
                              itemClassName: f,
                              itemStyle: l,
                              getTextToReplace: C,
                              onItemHighlighted: this._onItemHighlightedHandler,
                              onSelect: this._onSelect,
                              dropdownScroll: this._dropdownScroll,
                            }),
                          j &&
                            e.createElement(
                              "div",
                              {
                                className: "rta__loader "
                                  .concat(
                                    null !== P ? "rta__loader--suggestion-data" : "rta__loader--empty-suggestion-data",
                                    " "
                                  )
                                  .concat(v || ""),
                                style: g,
                              },
                              e.createElement(i, { data: P })
                            )
                        )
                    )
                  );
                },
              },
            ],
            [
              {
                key: "getDerivedStateFromProps",
                value: function (e) {
                  var t = e.value;
                  return null == t ? null : { value: t };
                },
              },
            ]
          ),
          n
        );
      })(e.Component);
    uu.defaultProps = {
      movePopupAsYouType: !1,
      value: null,
      minChar: 1,
      boundariesElement: "body",
      scrollToItem: !0,
      textAreaComponent: "textarea",
      renderToBody: !1,
    };
    const du = uu;
    function fu() {
      return (
        (fu = Object.assign
          ? Object.assign.bind()
          : function (e) {
              for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            }),
        fu.apply(this, arguments)
      );
    }
    const hu = e.useLayoutEffect;
    var pu = function (e, t) {
      "function" != typeof e ? (e.current = t) : e(t);
    };
    var mu = {
        "min-height": "0",
        "max-height": "none",
        height: "0",
        visibility: "hidden",
        overflow: "hidden",
        position: "absolute",
        "z-index": "-1000",
        top: "0",
        right: "0",
      },
      yu = function (e) {
        Object.keys(mu).forEach(function (t) {
          e.style.setProperty(t, mu[t], "important");
        });
      },
      gu = null,
      vu = function (e, t) {
        var n = e.scrollHeight;
        return "border-box" === t.sizingStyle.boxSizing ? n + t.borderSize : n - t.paddingSize;
      },
      wu = function () {},
      bu = [
        "borderBottomWidth",
        "borderLeftWidth",
        "borderRightWidth",
        "borderTopWidth",
        "boxSizing",
        "fontFamily",
        "fontSize",
        "fontStyle",
        "fontWeight",
        "letterSpacing",
        "lineHeight",
        "paddingBottom",
        "paddingLeft",
        "paddingRight",
        "paddingTop",
        "tabSize",
        "textIndent",
        "textRendering",
        "textTransform",
        "width",
        "wordBreak",
      ],
      xu = !!document.documentElement.currentStyle;
    function Eu(t, n, r) {
      var i,
        o,
        a =
          ((i = r),
          (o = e.useRef(i)),
          hu(function () {
            o.current = i;
          }),
          o);
      (0, e.useLayoutEffect)(function () {
        var e = function (e) {
          return a.current(e);
        };
        return (
          t.addEventListener(n, e),
          function () {
            return t.removeEventListener(n, e);
          }
        );
      }, []);
    }
    var ku = ["cacheMeasurements", "maxRows", "minRows", "onChange", "onHeightChange"],
      ju = function (t, n) {
        var r = t.cacheMeasurements,
          i = t.maxRows,
          o = t.minRows,
          a = t.onChange,
          s = void 0 === a ? wu : a,
          l = t.onHeightChange,
          c = void 0 === l ? wu : l,
          u = (function (e, t) {
            if (null == e) return {};
            var n,
              r,
              i = {},
              o = Object.keys(e);
            for (r = 0; r < o.length; r++) (n = o[r]), t.indexOf(n) >= 0 || (i[n] = e[n]);
            return i;
          })(t, ku),
          d = void 0 !== u.value,
          f = (0, e.useRef)(null),
          h = (function (t, n) {
            var r = (0, e.useRef)();
            return (0, e.useCallback)(
              function (e) {
                (t.current = e), r.current && pu(r.current, null), (r.current = n), n && pu(n, e);
              },
              [n]
            );
          })(f, n),
          p = (0, e.useRef)(0),
          m = (0, e.useRef)(),
          y = function () {
            var e = f.current,
              t =
                r && m.current
                  ? m.current
                  : (function (e) {
                      var t = window.getComputedStyle(e);
                      if (null === t) return null;
                      var n,
                        r =
                          ((n = t),
                          bu.reduce(function (e, t) {
                            return (e[t] = n[t]), e;
                          }, {})),
                        i = r.boxSizing;
                      return "" === i
                        ? null
                        : (xu &&
                            "border-box" === i &&
                            (r.width =
                              parseFloat(r.width) +
                              parseFloat(r.borderRightWidth) +
                              parseFloat(r.borderLeftWidth) +
                              parseFloat(r.paddingRight) +
                              parseFloat(r.paddingLeft) +
                              "px"),
                          {
                            sizingStyle: r,
                            paddingSize: parseFloat(r.paddingBottom) + parseFloat(r.paddingTop),
                            borderSize: parseFloat(r.borderBottomWidth) + parseFloat(r.borderTopWidth),
                          });
                    })(e);
            if (t) {
              m.current = t;
              var n = (function (e, t, n, r) {
                  void 0 === n && (n = 1),
                    void 0 === r && (r = 1 / 0),
                    gu ||
                      ((gu = document.createElement("textarea")).setAttribute("tabindex", "-1"),
                      gu.setAttribute("aria-hidden", "true"),
                      yu(gu)),
                    null === gu.parentNode && document.body.appendChild(gu);
                  var i = e.paddingSize,
                    o = e.borderSize,
                    a = e.sizingStyle,
                    s = a.boxSizing;
                  Object.keys(a).forEach(function (e) {
                    var t = e;
                    gu.style[t] = a[t];
                  }),
                    yu(gu),
                    (gu.value = t);
                  var l = vu(gu, e);
                  (gu.value = t), (l = vu(gu, e)), (gu.value = "x");
                  var c = gu.scrollHeight - i,
                    u = c * n;
                  "border-box" === s && (u = u + i + o), (l = Math.max(u, l));
                  var d = c * r;
                  return "border-box" === s && (d = d + i + o), [(l = Math.min(d, l)), c];
                })(t, e.value || e.placeholder || "x", o, i),
                a = n[0],
                s = n[1];
              p.current !== a &&
                ((p.current = a), e.style.setProperty("height", a + "px", "important"), c(a, { rowHeight: s }));
            }
          };
        return (
          (0, e.useLayoutEffect)(y),
          Eu(window, "resize", y),
          (function (e) {
            Eu(document.fonts, "loadingdone", e);
          })(y),
          (0, e.createElement)(
            "textarea",
            fu({}, u, {
              onChange: function (e) {
                d || y(), s(e);
              },
              ref: h,
            })
          )
        );
      };
    const Su = (0, e.forwardRef)(ju);
    function Au() {
      return (
        (Au = Object.assign
          ? Object.assign.bind()
          : function (e) {
              for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            }),
        Au.apply(this, arguments)
      );
    }
    var Cu = a(6322),
      Nu = a.n(Cu),
      Pu = {
        CASE_SENSITIVE_EQUAL: 7,
        EQUAL: 6,
        STARTS_WITH: 5,
        WORD_STARTS_WITH: 4,
        CONTAINS: 3,
        ACRONYM: 2,
        MATCHES: 1,
        NO_MATCH: 0,
      };
    Tu.rankings = Pu;
    var _u = function (e, t) {
      return String(e.rankedValue).localeCompare(String(t.rankedValue));
    };
    function Tu(e, t, n) {
      void 0 === n && (n = {});
      var r = n,
        i = r.keys,
        o = r.threshold,
        a = void 0 === o ? Pu.MATCHES : o,
        s = r.baseSort,
        l = void 0 === s ? _u : s,
        c = r.sorter,
        u =
          void 0 === c
            ? function (e) {
                return e.sort(function (e, t) {
                  return (function (e, t, n) {
                    var r = e.rank,
                      i = e.keyIndex,
                      o = t.rank,
                      a = t.keyIndex;
                    return r === o ? (i === a ? n(e, t) : i < a ? -1 : 1) : r > o ? -1 : 1;
                  })(e, t, l);
                });
              }
            : c,
        d = e.reduce(function (e, r, o) {
          var s = (function (e, t, n, r) {
              if (!t) return { rankedValue: e, rank: Mu(e, n, r), keyIndex: -1, keyThreshold: r.threshold };
              var i = (function (e, t) {
                for (var n = [], r = 0, i = t.length; r < i; r++)
                  for (var o = t[r], a = Lu(o), s = Bu(e, o), l = 0, c = s.length; l < c; l++)
                    n.push({ itemValue: s[l], attributes: a });
                return n;
              })(e, t);
              return i.reduce(
                function (e, t, i) {
                  var o = e.rank,
                    a = e.rankedValue,
                    s = e.keyIndex,
                    l = e.keyThreshold,
                    c = t.itemValue,
                    u = t.attributes,
                    d = Mu(c, n, r),
                    f = a,
                    h = u.minRanking,
                    p = u.maxRanking,
                    m = u.threshold;
                  return (
                    d < h && d >= Pu.MATCHES ? (d = h) : d > p && (d = p),
                    d > o && ((o = d), (s = i), (l = m), (f = c)),
                    { rankedValue: f, rank: o, keyIndex: s, keyThreshold: l }
                  );
                },
                { rankedValue: e, rank: Pu.NO_MATCH, keyIndex: -1, keyThreshold: r.threshold }
              );
            })(r, i, t, n),
            l = s.rank,
            c = s.keyThreshold;
          return l >= (void 0 === c ? a : c) && e.push(Au({}, s, { item: r, index: o })), e;
        }, []);
      return u(d).map(function (e) {
        return e.item;
      });
    }
    function Mu(e, t, n) {
      return (
        (e = Ru(e, n)),
        (t = Ru(t, n)).length > e.length
          ? Pu.NO_MATCH
          : e === t
          ? Pu.CASE_SENSITIVE_EQUAL
          : (e = e.toLowerCase()) === (t = t.toLowerCase())
          ? Pu.EQUAL
          : e.startsWith(t)
          ? Pu.STARTS_WITH
          : e.includes(" " + t)
          ? Pu.WORD_STARTS_WITH
          : e.includes(t)
          ? Pu.CONTAINS
          : 1 === t.length
          ? Pu.NO_MATCH
          : ((r = e),
            (i = ""),
            r.split(" ").forEach(function (e) {
              e.split("-").forEach(function (e) {
                i += e.substr(0, 1);
              });
            }),
            i).includes(t)
          ? Pu.ACRONYM
          : (function (e, t) {
              var n = 0,
                r = 0;
              function i(e, t, r) {
                for (var i = r, o = t.length; i < o; i++) if (t[i] === e) return (n += 1), i + 1;
                return -1;
              }
              var o,
                a,
                s = i(t[0], e, 0);
              if (s < 0) return Pu.NO_MATCH;
              r = s;
              for (var l = 1, c = t.length; l < c; l++) if (!((r = i(t[l], e, r)) > -1)) return Pu.NO_MATCH;
              return (o = 1 / (r - s)), (a = n / t.length), Pu.MATCHES + a * o;
            })(e, t)
      );
      var r, i;
    }
    function Ru(e, t) {
      return (e = "" + e), t.keepDiacritics || (e = Nu()(e)), e;
    }
    function Bu(e, t) {
      var n;
      if (("object" == typeof t && (t = t.key), "function" == typeof t)) n = t(e);
      else if (null == e) n = null;
      else if (Object.hasOwnProperty.call(e, t)) n = e[t];
      else {
        if (t.includes("."))
          return (function (e, t) {
            for (var n = e.split("."), r = [t], i = 0, o = n.length; i < o; i++) {
              for (var a = n[i], s = [], l = 0, c = r.length; l < c; l++) {
                var u = r[l];
                if (null != u)
                  if (Object.hasOwnProperty.call(u, a)) {
                    var d = u[a];
                    null != d && s.push(d);
                  } else "*" === a && (s = s.concat(u));
              }
              r = s;
            }
            if (Array.isArray(r[0])) {
              var f = [];
              return f.concat.apply(f, r);
            }
            return r;
          })(t, e);
        n = null;
      }
      return null == n ? [] : Array.isArray(n) ? n : [String(n)];
    }
    var Ou = { maxRanking: 1 / 0, minRanking: -1 / 0 };
    function Lu(e) {
      return "string" == typeof e ? Ou : Au({}, Ou, e);
    }
    async function Iu(e) {
      const t = await a.e(137).then(a.t.bind(a, 2137, 19));
      return Tu(
        Object.entries(t).map(e => {
          let [t, n] = e;
          return { name: n[0], keywords: n, char: t };
        }),
        e,
        { keys: ["keywords"] }
      );
    }
    const Fu = {
        Cancel: { id: "47FYwb", defaultMessage: [{ type: 0, value: "Cancel" }] },
        Reply: { id: "9HU8vw", defaultMessage: [{ type: 0, value: "Reply" }] },
        Send: { id: "9WRlF4", defaultMessage: [{ type: 0, value: "Send" }] },
        NotePlaceholder: { id: "flnGvv", defaultMessage: [{ type: 0, value: "What's on your mind?" }] },
        Back: { id: "cyR7Kh", defaultMessage: [{ type: 0, value: "Back" }] },
        Block: { id: "Up5U7K", defaultMessage: [{ type: 0, value: "Block" }] },
        Unblock: { id: "nDejmx", defaultMessage: [{ type: 0, value: "Unblock" }] },
        MuteCount: {
          id: "VlJkSk",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " muted" },
          ],
        },
        Mute: { id: "x82IOl", defaultMessage: [{ type: 0, value: "Mute" }] },
        MutedAuthor: { id: "ASRK0S", defaultMessage: [{ type: 0, value: "This author has been muted" }] },
        Others: {
          id: "vOKedj",
          defaultMessage: [
            { type: 0, value: "& " },
            { type: 1, value: "n" },
            { type: 0, value: " " },
            {
              type: 6,
              value: "n",
              options: {
                "=1": { value: [{ type: 0, value: "other" }] },
                other: { value: [{ type: 0, value: "others" }] },
              },
              offset: 0,
              pluralType: "cardinal",
            },
          ],
        },
        Show: { id: "K7AkdL", defaultMessage: [{ type: 0, value: "Show" }] },
        Delete: { id: "K3r6DQ", defaultMessage: [{ type: 0, value: "Delete" }] },
        Deleted: { id: "KQvWvD", defaultMessage: [{ type: 0, value: "Deleted" }] },
        Unmute: { id: "W9355R", defaultMessage: [{ type: 0, value: "Unmute" }] },
        MuteAll: { id: "cWx9t8", defaultMessage: [{ type: 0, value: "Mute all" }] },
        BlockCount: {
          id: "nwZXeh",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " blocked" },
          ],
        },
        JustNow: { id: "bxv59V", defaultMessage: [{ type: 0, value: "Just now" }] },
        Follow: { id: "ieGrWo", defaultMessage: [{ type: 0, value: "Follow" }] },
        FollowAll: { id: "mKAr6h", defaultMessage: [{ type: 0, value: "Follow all" }] },
        Unfollow: { id: "izWS4J", defaultMessage: [{ type: 0, value: "Unfollow" }] },
        FollowerCount: {
          id: "o7e+nJ",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " followers" },
          ],
        },
        FollowingCount: {
          id: "9SvQep",
          defaultMessage: [
            { type: 0, value: "Follows " },
            { type: 1, value: "n" },
          ],
        },
        FollowsYou: { id: "FmXUJg", defaultMessage: [{ type: 0, value: "follows you" }] },
        Invoice: { id: "9wO4wJ", defaultMessage: [{ type: 0, value: "Lightning Invoice" }] },
        PayInvoice: { id: "lvlPhZ", defaultMessage: [{ type: 0, value: "Pay Invoice" }] },
        Expired: { id: "RahCRH", defaultMessage: [{ type: 0, value: "Expired" }] },
        Pay: { id: "lD3+8a", defaultMessage: [{ type: 0, value: "Pay" }] },
        Paid: { id: "u/vOPu", defaultMessage: [{ type: 0, value: "Paid" }] },
        Loading: { id: "gjBiyj", defaultMessage: [{ type: 0, value: "Loading..." }] },
        Logout: { id: "C81/uG", defaultMessage: [{ type: 0, value: "Logout" }] },
        ShowMore: { id: "aWpBzj", defaultMessage: [{ type: 0, value: "Show more" }] },
        TranslateTo: {
          id: "Ebl/B2",
          defaultMessage: [
            { type: 0, value: "Translate to " },
            { type: 1, value: "lang" },
          ],
        },
        TranslatedFrom: {
          id: "Cu/K85",
          defaultMessage: [
            { type: 0, value: "Translated from " },
            { type: 1, value: "lang" },
          ],
        },
        TranslationFailed: { id: "qmJ8kD", defaultMessage: [{ type: 0, value: "Translation failed" }] },
        UnknownEventKind: {
          id: "KahimY",
          defaultMessage: [
            { type: 0, value: "Unknown event kind: " },
            { type: 1, value: "kind" },
          ],
        },
        ConfirmDeletion: {
          id: "RhDAoS",
          defaultMessage: [
            { type: 0, value: "Are you sure you want to delete " },
            { type: 1, value: "id" },
          ],
        },
        ConfirmRepost: {
          id: "+D82kt",
          defaultMessage: [
            { type: 0, value: "Are you sure you want to repost: " },
            { type: 1, value: "id" },
          ],
        },
        Reactions: { id: "XgWvGA", defaultMessage: [{ type: 0, value: "Reactions" }] },
        ReactionsCount: {
          id: "iCqGww",
          defaultMessage: [
            { type: 0, value: "Reactions (" },
            { type: 1, value: "n" },
            { type: 0, value: ")" },
          ],
        },
        Share: { id: "OKhRC6", defaultMessage: [{ type: 0, value: "Share" }] },
        CopyID: { id: "wtLjP6", defaultMessage: [{ type: 0, value: "Copy ID" }] },
        CopyJSON: { id: "P61BTu", defaultMessage: [{ type: 0, value: "Copy Event JSON" }] },
        Dislike: {
          id: "GspYR7",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Dislike" },
          ],
        },
        DislikeAction: { id: "4OB335", defaultMessage: [{ type: 0, value: "Dislike" }] },
        Sats: {
          id: "jA3OE/",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " " },
            {
              type: 6,
              value: "n",
              options: { "=1": { value: [{ type: 0, value: "sat" }] }, other: { value: [{ type: 0, value: "sats" }] } },
              offset: 0,
              pluralType: "cardinal",
            },
          ],
        },
        Zapped: { id: "B6+XJy", defaultMessage: [{ type: 0, value: "zapped" }] },
        OthersZapped: {
          id: "mKhgP9",
          defaultMessage: [
            {
              type: 6,
              value: "n",
              options: {
                "=0": { value: [] },
                "=1": { value: [{ type: 0, value: "zapped" }] },
                other: { value: [{ type: 0, value: "zapped" }] },
              },
              offset: 0,
              pluralType: "cardinal",
            },
          ],
        },
        Likes: {
          id: "6ewQqw",
          defaultMessage: [
            { type: 0, value: "Likes (" },
            { type: 1, value: "n" },
            { type: 0, value: ")" },
          ],
        },
        Zaps: {
          id: "JHEHCk",
          defaultMessage: [
            { type: 0, value: "Zaps (" },
            { type: 1, value: "n" },
            { type: 0, value: ")" },
          ],
        },
        Dislikes: {
          id: "2k0Cv+",
          defaultMessage: [
            { type: 0, value: "Dislikes (" },
            { type: 1, value: "n" },
            { type: 0, value: ")" },
          ],
        },
        Reposts: {
          id: "8/vBbP",
          defaultMessage: [
            { type: 0, value: "Reposts (" },
            { type: 1, value: "n" },
            { type: 0, value: ")" },
          ],
        },
        NoteToSelf: { id: "4rYCjn", defaultMessage: [{ type: 0, value: "Note to Self" }] },
        Read: { id: "filwqD", defaultMessage: [{ type: 0, value: "Read" }] },
        Write: { id: "k2veDA", defaultMessage: [{ type: 0, value: "Write" }] },
        Seconds: {
          id: "0yO7wF",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " secs" },
          ],
        },
        Milliseconds: {
          id: "/n5KSF",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " ms" },
          ],
        },
        ShowLatest: {
          id: "DZzCem",
          defaultMessage: [
            { type: 0, value: "Show latest " },
            { type: 1, value: "n" },
            { type: 0, value: " notes" },
          ],
        },
        LNURLFail: { id: "zonsdq", defaultMessage: [{ type: 0, value: "Failed to load LNURL service" }] },
        InvalidLNURL: { id: "0jOEtS", defaultMessage: [{ type: 0, value: "Invalid LNURL" }] },
        InvoiceFail: { id: "CHTbO3", defaultMessage: [{ type: 0, value: "Failed to load invoice" }] },
        Custom: { id: "Sjo1P4", defaultMessage: [{ type: 0, value: "Custom" }] },
        Confirm: { id: "N2IrpM", defaultMessage: [{ type: 0, value: "Confirm" }] },
        ZapAmount: { id: "zcaOTs", defaultMessage: [{ type: 0, value: "Zap amount in sats" }] },
        Comment: { id: "LgbKvU", defaultMessage: [{ type: 0, value: "Comment" }] },
        ZapTarget: {
          id: "uD/N6c",
          defaultMessage: [
            { type: 0, value: "Zap " },
            { type: 1, value: "target" },
            { type: 0, value: " " },
            { type: 1, value: "n" },
            { type: 0, value: " sats" },
          ],
        },
        ZapSats: {
          id: "8QDesP",
          defaultMessage: [
            { type: 0, value: "Zap " },
            { type: 1, value: "n" },
            { type: 0, value: " sats" },
          ],
        },
        OpenWallet: { id: "HbefNb", defaultMessage: [{ type: 0, value: "Open Wallet" }] },
        SendZap: { id: "5ykRmX", defaultMessage: [{ type: 0, value: "Send zap" }] },
        SendSats: { id: "DKnriN", defaultMessage: [{ type: 0, value: "Send sats" }] },
        ToTarget: {
          id: "7xzTiH",
          defaultMessage: [
            { type: 1, value: "action" },
            { type: 0, value: " to " },
            { type: 1, value: "target" },
          ],
        },
        ShowReplies: { id: "hicxcO", defaultMessage: [{ type: 0, value: "Show replies" }] },
        TooShort: { id: "B4C47Y", defaultMessage: [{ type: 0, value: "name too short" }] },
        TooLong: { id: "8g2vyB", defaultMessage: [{ type: 0, value: "name too long" }] },
        Regex: { id: "0mch2Y", defaultMessage: [{ type: 0, value: "name has disallowed characters" }] },
        Registered: { id: "cuV2gK", defaultMessage: [{ type: 0, value: "name is registered" }] },
        Disallowed: { id: "wih7iJ", defaultMessage: [{ type: 0, value: "name is blocked" }] },
        DisalledLater: { id: "HFls6j", defaultMessage: [{ type: 0, value: "name will be available later" }] },
        BuyNow: { id: "lCILNz", defaultMessage: [{ type: 0, value: "Buy Now" }] },
        NotAvailable: { id: "MI2jkA", defaultMessage: [{ type: 0, value: "Not available:" }] },
        Buying: {
          id: "MzRYWH",
          defaultMessage: [
            { type: 0, value: "Buying " },
            { type: 1, value: "item" },
          ],
        },
        OrderPaid: { id: "H6/kLh", defaultMessage: [{ type: 0, value: "Order Paid!" }] },
        NewNip: { id: "4L2vUY", defaultMessage: [{ type: 0, value: "Your new NIP-05 handle is:" }] },
        ActivateNow: { id: "ZKORll", defaultMessage: [{ type: 0, value: "Activate Now" }] },
        AddToProfile: { id: "qkvYUb", defaultMessage: [{ type: 0, value: "Add to Profile" }] },
        AccountPage: { id: "lgg1KN", defaultMessage: [{ type: 0, value: "account page" }] },
        AccountSupport: { id: "/JE/X+", defaultMessage: [{ type: 0, value: "Account Support" }] },
        GoTo: { id: "xIoGG9", defaultMessage: [{ type: 0, value: "Go to" }] },
        FindMore: {
          id: "wqyN/i",
          defaultMessage: [
            { type: 0, value: "Find out more info about " },
            { type: 1, value: "service" },
            { type: 0, value: " at " },
            { type: 1, value: "link" },
          ],
        },
        SavePassword: {
          id: "+vIQlC",
          defaultMessage: [
            {
              type: 0,
              value: "Please make sure to save the following password in order to manage your handle in the future",
            },
          ],
        },
        Handle: { id: "iNWbVV", defaultMessage: [{ type: 0, value: "Handle" }] },
        Pin: { id: "puLNUJ", defaultMessage: [{ type: 0, value: "Pin" }] },
        Pinned: { id: "fWZYP5", defaultMessage: [{ type: 0, value: "Pinned" }] },
        Bookmark: { id: "Rs4kCE", defaultMessage: [{ type: 0, value: "Bookmark" }] },
        Bookmarks: { id: "nGBrvw", defaultMessage: [{ type: 0, value: "Bookmarks" }] },
        BookmarksCount: {
          id: "GL8aXW",
          defaultMessage: [
            { type: 0, value: "Bookmarks (" },
            { type: 1, value: "n" },
            { type: 0, value: ")" },
          ],
        },
        Bookmarked: { id: "fsB/4p", defaultMessage: [{ type: 0, value: "Saved" }] },
        All: { id: "zQvVDJ", defaultMessage: [{ type: 0, value: "All" }] },
        ConfirmUnbookmark: {
          id: "1Mo59U",
          defaultMessage: [{ type: 0, value: "Are you sure you want to remove this note from bookmarks?" }],
        },
        ConfirmUnpin: {
          id: "IEwZvs",
          defaultMessage: [{ type: 0, value: "Are you sure you want to unpin this note?" }],
        },
        ReactionsLink: {
          id: "jzgQ2z",
          defaultMessage: [
            { type: 1, value: "n" },
            { type: 0, value: " Reactions" },
          ],
        },
        ReBroadcast: { id: "c3g2hL", defaultMessage: [{ type: 0, value: "Broadcast Again" }] },
      },
      Du = e => {
        let {
          entity: { name: t, char: n },
        } = e;
        return (0, sa.jsxs)("div", {
          className: "emoji-item",
          children: [
            (0, sa.jsx)("div", { className: "emoji", children: n }),
            (0, sa.jsx)("div", { className: "emoji-name", children: t }),
          ],
        });
      },
      Uu = e => {
        const { pubkey: t, display_name: n, nip05: r, ...i } = e;
        return (0, sa.jsxs)(
          "div",
          {
            className: "user-item",
            children: [
              (0, sa.jsx)("div", { className: "user-picture", children: (0, sa.jsx)(Ml, { user: e }) }),
              (0, sa.jsxs)("div", {
                className: "user-details",
                children: [(0, sa.jsx)("strong", { children: n || i.name }), (0, sa.jsx)(Rl, { nip05: r, pubkey: t })],
              }),
            ],
          },
          t
        );
      },
      zu = e => {
        var t;
        const { formatMessage: n } = yl();
        return (0, sa.jsx)(du, {
          dir: "auto",
          ...e,
          loadingComponent: () => (0, sa.jsx)("span", { children: "Loading..." }),
          placeholder: null !== (t = e.placeholder) && void 0 !== t ? t : n(Fu.NotePlaceholder),
          textAreaComponent: Su,
          trigger: {
            ":": {
              dataProvider: async e =>
                (await Iu(e)).slice(0, 5).map(e => {
                  let { name: t, char: n } = e;
                  return { name: t, char: n };
                }),
              component: Du,
              output: e => e.char,
            },
            "@": {
              afterWhitespace: !0,
              dataProvider: async e => await $l.search(e),
              component: e => (0, sa.jsx)(Uu, { ...e.entity }),
              output: e => `@${(0, Xo.jm)(Mt.NostrPrefix.PublicKey, e.pubkey)}`,
            },
          },
        });
      };
    function Hu(t) {
      const n = t.onClose || (() => {}),
        r = t.className || "";
      return (
        (0, e.useEffect)(
          () => (document.body.classList.add("scroll-lock"), () => document.body.classList.remove("scroll-lock")),
          []
        ),
        (0, sa.jsx)("div", {
          className: `modal ${r}`,
          onClick: n,
          children: (0, sa.jsx)("div", {
            className: "modal-body",
            onClick: e => e.stopPropagation(),
            children: t.children,
          }),
        })
      );
    }
    async function Ku(e) {
      const t = new FormData();
      t.append("fileToUpload", e), t.append("submit", "Upload Image");
      const n = await fetch("https://nostr.build/api/upload/snort.php", {
        body: t,
        method: "POST",
        headers: { accept: "application/json" },
      });
      if (n.ok) {
        const e = await n.json();
        return { url: new URL(e).toString() };
      }
      return { error: "Upload failed" };
    }
    var Wu = a(5616);
    async function qu(e) {
      const t = new FormData();
      t.append("image", e);
      const n = await fetch("https://nostrimg.com/api/upload", {
        body: t,
        method: "POST",
        headers: { accept: "application/json" },
      });
      if (n.ok) {
        const e = await n.json();
        if ("string" == typeof (null == e ? void 0 : e.imageUrl) && e.success)
          return { url: new URL(e.imageUrl).toString() };
      }
      return { error: "Upload failed" };
    }
    const Vu = [
      { name: "void.cat", owner: (0, Xo.FX)(di) },
      { name: "nostr.build", owner: (0, Xo.FX)("npub1nxy4qpqnld6kmpphjykvx2lqwvxmuxluddwjamm4nc29ds3elyzsm5avr7") },
      { name: "nostrimg.com", owner: (0, Xo.FX)("npub1xv6axulxcx6mce5mfvfzpsy89r4gee3zuknulm45cqqpmyw7680q5pxea6") },
    ];
    function $u() {
      switch (aa().preferences.fileUploader) {
        case "nostr.build":
          return { upload: Ku };
        case "nostrimg.com":
          return { upload: qu };
        default:
          return {
            upload: (e, t) =>
              (async function (e, t, n) {
                const r = new Wu.VoidApi(ui).getUploader(e),
                  i = await r.upload({ "V-Strip-Metadata": "true" });
                if (i.ok) {
                  var o, a, s, l, c, u;
                  let e = t.match(bi);
                  "image/webp" ===
                    (null === (o = i.file) || void 0 === o || null === (a = o.metadata) || void 0 === a
                      ? void 0
                      : a.mimeType) && (e = ["", "webp"]);
                  const n =
                      null !==
                        (s =
                          null === (l = i.file) || void 0 === l || null === (c = l.metadata) || void 0 === c
                            ? void 0
                            : c.url) && void 0 !== s
                        ? s
                        : `${ui}/d/${null === (u = i.file) || void 0 === u ? void 0 : u.id}${e ? `.${e[1]}` : ""}`,
                    r = { url: n };
                  return r;
                }
                return { error: i.errorMessage };
              })(e, t),
          };
      }
    }
    const Gu = new Map(),
      Zu = new WeakMap();
    let Yu,
      Xu = 0;
    function Qu(e, t, n = {}, r = Yu) {
      if (void 0 === window.IntersectionObserver && void 0 !== r) {
        const i = e.getBoundingClientRect();
        return (
          t(r, {
            isIntersecting: r,
            target: e,
            intersectionRatio: "number" == typeof n.threshold ? n.threshold : 0,
            time: 0,
            boundingClientRect: i,
            intersectionRect: i,
            rootBounds: i,
          }),
          () => {}
        );
      }
      const {
        id: i,
        observer: o,
        elements: a,
      } = (function (e) {
        let t = (function (e) {
            return Object.keys(e)
              .sort()
              .filter(t => void 0 !== e[t])
              .map(t => {
                return `${t}_${
                  "root" === t
                    ? ((n = e.root), n ? (Zu.has(n) || ((Xu += 1), Zu.set(n, Xu.toString())), Zu.get(n)) : "0")
                    : e[t]
                }`;
                var n;
              })
              .toString();
          })(e),
          n = Gu.get(t);
        if (!n) {
          const r = new Map();
          let i;
          const o = new IntersectionObserver(t => {
            t.forEach(t => {
              var n;
              const o = t.isIntersecting && i.some(e => t.intersectionRatio >= e);
              e.trackVisibility && void 0 === t.isVisible && (t.isVisible = o),
                null == (n = r.get(t.target)) ||
                  n.forEach(e => {
                    e(o, t);
                  });
            });
          }, e);
          (i = o.thresholds || (Array.isArray(e.threshold) ? e.threshold : [e.threshold || 0])),
            (n = { id: t, observer: o, elements: r }),
            Gu.set(t, n);
        }
        return n;
      })(n);
      let s = a.get(e) || [];
      return (
        a.has(e) || a.set(e, s),
        s.push(t),
        o.observe(e),
        function () {
          s.splice(s.indexOf(t), 1),
            0 === s.length && (a.delete(e), o.unobserve(e)),
            0 === a.size && (o.disconnect(), Gu.delete(i));
        }
      );
    }
    class Ju extends e.Component {
      constructor(e) {
        super(e),
          (this.node = null),
          (this._unobserveCb = null),
          (this.handleNode = e => {
            this.node &&
              (this.unobserve(),
              e ||
                this.props.triggerOnce ||
                this.props.skip ||
                this.setState({ inView: !!this.props.initialInView, entry: void 0 })),
              (this.node = e || null),
              this.observeNode();
          }),
          (this.handleChange = (e, t) => {
            e && this.props.triggerOnce && this.unobserve(),
              isPlainChildren(this.props) || this.setState({ inView: e, entry: t }),
              this.props.onChange && this.props.onChange(e, t);
          }),
          (this.state = { inView: !!e.initialInView, entry: void 0 });
      }
      componentDidUpdate(e) {
        (e.rootMargin === this.props.rootMargin &&
          e.root === this.props.root &&
          e.threshold === this.props.threshold &&
          e.skip === this.props.skip &&
          e.trackVisibility === this.props.trackVisibility &&
          e.delay === this.props.delay) ||
          (this.unobserve(), this.observeNode());
      }
      componentWillUnmount() {
        this.unobserve(), (this.node = null);
      }
      observeNode() {
        if (!this.node || this.props.skip) return;
        const { threshold: e, root: t, rootMargin: n, trackVisibility: r, delay: i, fallbackInView: o } = this.props;
        this._unobserveCb = Qu(
          this.node,
          this.handleChange,
          { threshold: e, root: t, rootMargin: n, trackVisibility: r, delay: i },
          o
        );
      }
      unobserve() {
        this._unobserveCb && (this._unobserveCb(), (this._unobserveCb = null));
      }
      render() {
        if (!isPlainChildren(this.props)) {
          const { inView: e, entry: t } = this.state;
          return this.props.children({ inView: e, entry: t, ref: this.handleNode });
        }
        const e = this.props,
          { children: t, as: n } = e,
          r = (function (e, t) {
            if (null == e) return {};
            for (var n, r, i = {}, o = Object.keys(e); r < o.length; r++) o[r], null.indexOf(n) >= 0 || (i[n] = e[n]);
            return i;
          })(e);
        return React.createElement(
          n || "div",
          react_intersection_observer_modern_extends({ ref: this.handleNode }, r),
          t
        );
      }
    }
    function ed({
      threshold: t,
      delay: n,
      trackVisibility: r,
      rootMargin: i,
      root: o,
      triggerOnce: a,
      skip: s,
      initialInView: l,
      fallbackInView: c,
      onChange: u,
    } = {}) {
      var d;
      const [f, h] = e.useState(null),
        p = e.useRef(),
        [m, y] = e.useState({ inView: !!l, entry: void 0 });
      (p.current = u),
        e.useEffect(() => {
          if (s || !f) return;
          let e;
          return (
            (e = Qu(
              f,
              (t, n) => {
                y({ inView: t, entry: n }),
                  p.current && p.current(t, n),
                  n.isIntersecting && a && e && (e(), (e = void 0));
              },
              { root: o, rootMargin: i, threshold: t, trackVisibility: r, delay: n },
              c
            )),
            () => {
              e && e();
            }
          );
        }, [Array.isArray(t) ? t.toString() : t, f, o, i, a, s, r, c, n]);
      const g = null == (d = m.entry) ? void 0 : d.target,
        v = e.useRef();
      f || !g || a || s || v.current === g || ((v.current = g), y({ inView: !!l, entry: void 0 }));
      const w = [h, m.inView, m.entry];
      return (w.ref = w[0]), (w.inView = w[1]), (w.entry = w[2]), w;
    }
    const td = new Intl.NumberFormat("en", { minimumFractionDigits: 0, maximumFractionDigits: 2 });
    function nd(e) {
      return e < 2e3
        ? e
        : e < 1e6
        ? `${td.format(e / 1e3)}K`
        : e < 1e9
        ? `${td.format(e / 1e6)}M`
        : `${td.format(e / 1e9)}G`;
    }
    var rd = a(2828),
      id = a.n(rd);
    function od(t) {
      var n;
      const r = (0, e.useRef)(null);
      return (
        (0, e.useEffect)(() => {
          var e, n;
          if (
            (null !== (e = null === (n = t.data) || void 0 === n ? void 0 : n.length) && void 0 !== e ? e : 0) > 0 &&
            r.current
          ) {
            const e = new (id())({
              width: t.width || 256,
              height: t.height || 256,
              data: t.data,
              margin: 5,
              type: "canvas",
              image: t.avatar,
              dotsOptions: { type: "rounded" },
              cornersSquareOptions: { type: "extra-rounded" },
              imageOptions: { crossOrigin: "anonymous" },
            });
            (r.current.innerHTML = ""),
              e.append(r.current),
              t.link &&
                (r.current.onclick = function () {
                  var e;
                  const n = document.createElement("a");
                  (n.href = null !== (e = t.link) && void 0 !== e ? e : ""), n.click();
                });
          } else r.current && (r.current.innerHTML = "");
        }, [t.data, t.link]),
        (0, sa.jsx)("div", { className: `qr${null !== (n = t.className) && void 0 !== n ? n : ""}`, ref: r })
      );
    }
    const ad = function () {
      let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 2e3;
      const [n, r] = (0, e.useState)(!1),
        [i, o] = (0, e.useState)(!1);
      return {
        error: n,
        copied: i,
        copy: async e => {
          try {
            await navigator.clipboard.writeText(e), o(!0), r(!1);
          } catch (e) {
            r(!0);
          }
          setTimeout(() => o(!1), t);
        },
      };
    };
    function sd(e) {
      let { text: t, maxSize: n = 32, className: r } = e;
      const { copy: i, copied: o } = ad(),
        a = n / 2,
        s = t.length > n ? `${t.slice(0, a)}...${t.slice(-a)}` : t;
      return (0, sa.jsxs)("div", {
        className: `flex flex-row copy ${r}`,
        onClick: () => i(t),
        children: [
          (0, sa.jsx)("span", { className: "body", children: s }),
          (0, sa.jsx)("span", {
            className: "icon",
            style: { color: o ? "var(--success)" : "var(--highlight)" },
            children: o
              ? (0, sa.jsx)(_l, { name: "check", size: 14 })
              : (0, sa.jsx)(_l, { name: "copy-solid", size: 14 }),
          }),
        ],
      });
    }
    var ld = a(3088);
    const cd = { randomUUID: "undefined" != typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto) };
    let ud;
    const dd = new Uint8Array(16);
    function fd() {
      if (
        !ud &&
        ((ud = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)), !ud)
      )
        throw new Error(
          "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
        );
      return ud(dd);
    }
    const hd = [];
    for (let e = 0; e < 256; ++e) hd.push((e + 256).toString(16).slice(1));
    const pd = function (e, t, n) {
      if (cd.randomUUID && !t && !e) return cd.randomUUID();
      const r = (e = e || {}).random || (e.rng || fd)();
      if (((r[6] = (15 & r[6]) | 64), (r[8] = (63 & r[8]) | 128), t)) {
        n = n || 0;
        for (let e = 0; e < 16; ++e) t[n + e] = r[e];
        return t;
      }
      return (function (e, t = 0) {
        return (
          hd[e[t + 0]] +
          hd[e[t + 1]] +
          hd[e[t + 2]] +
          hd[e[t + 3]] +
          "-" +
          hd[e[t + 4]] +
          hd[e[t + 5]] +
          "-" +
          hd[e[t + 6]] +
          hd[e[t + 7]] +
          "-" +
          hd[e[t + 8]] +
          hd[e[t + 9]] +
          "-" +
          hd[e[t + 10]] +
          hd[e[t + 11]] +
          hd[e[t + 12]] +
          hd[e[t + 13]] +
          hd[e[t + 14]] +
          hd[e[t + 15]]
        ).toLowerCase();
      })(r);
    };
    function md(e, t, n) {
      yd(e, t), t.set(e, n);
    }
    function yd(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function gd(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, vd(e, t, "get"));
    }
    function vd(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    var wd = new WeakMap(),
      bd = new WeakMap(),
      xd = new WeakSet();
    class Ed extends si.ExternalStore {
      constructor() {
        var e;
        super(...arguments),
          yd(this, (e = xd)),
          e.add(this),
          md(this, wd, { writable: !0, value: [] }),
          md(this, bd, {
            writable: !0,
            value: setInterval(
              () =>
                (function (e, t, n) {
                  if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
                  return n;
                })(this, xd, kd).call(this),
              1e3
            ),
          });
      }
      push(e) {
        var t, n;
        (null !== (t = e.expire) && void 0 !== t) || (e.expire = (0, si.unixNow)() + 3),
          (null !== (n = e.id) && void 0 !== n) || (e.id = pd()),
          gd(this, wd).push(e),
          this.notifyChange();
      }
      takeSnapshot() {
        return [...gd(this, wd)];
      }
    }
    function kd() {
      const e = (0, si.unixNow)();
      var t, n, r;
      (t = this),
        (n = wd),
        (r = gd(this, wd).filter(t => {
          var n;
          return (null !== (n = t.expire) && void 0 !== n ? n : 0) > e;
        })),
        (function (e, t, n) {
          if (t.set) t.set.call(e, n);
          else {
            if (!t.writable) throw new TypeError("attempted to set read only private field");
            t.value = n;
          }
        })(t, vd(t, n, "set"), r),
        this.notifyChange();
    }
    const jd = new Ed();
    function Sd() {
      const t = (0, e.useSyncExternalStore)(
        e => jd.hook(e),
        () => jd.snapshot()
      );
      return (0, sa.jsx)("div", {
        className: "toaster",
        children: t.map(e => {
          var t;
          return (0, sa.jsxs)(
            "div",
            {
              className: "card flex",
              children: [
                (0, sa.jsx)(_l, { name: null !== (t = e.icon) && void 0 !== t ? t : "bell", className: "mr5" }),
                e.element,
              ],
            },
            e.id
          );
        }),
      });
    }
    function Ad(e, t) {
      Nd(e, t), t.add(e);
    }
    function Cd(e, t, n) {
      Nd(e, t), t.set(e, n);
    }
    function Nd(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function Pd(e, t, n) {
      return (
        (function (e, t, n) {
          if (t.set) t.set.call(e, n);
          else {
            if (!t.writable) throw new TypeError("attempted to set read only private field");
            t.value = n;
          }
        })(e, Td(e, t, "set"), n),
        n
      );
    }
    function _d(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, Td(e, t, "get"));
    }
    function Td(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    function Md(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
      return n;
    }
    let Rd = (function (e) {
      return (
        (e[(e.Generic = 0)] = "Generic"),
        (e[(e.Relay = 1)] = "Relay"),
        (e[(e.FileHost = 2)] = "FileHost"),
        (e[(e.DataProvider = 3)] = "DataProvider"),
        e
      );
    })({});
    var Bd = new WeakMap(),
      Od = new WeakMap(),
      Ld = new WeakMap(),
      Id = new WeakSet(),
      Fd = new WeakSet(),
      Dd = new WeakSet(),
      Ud = new WeakSet();
    class zd extends si.ExternalStore {
      constructor() {
        super(),
          Ad(this, Ud),
          Ad(this, Dd),
          Ad(this, Fd),
          Ad(this, Id),
          Cd(this, Bd, { writable: !0, value: new Map() }),
          Cd(this, Od, { writable: !0, value: !1 }),
          Cd(this, Ld, { writable: !0, value: 0 }),
          Md(this, Dd, Wd).call(this),
          setTimeout(() => Md(this, Ud, qd).call(this).catch(console.error), 5e3);
      }
      async payout(e) {
        if (_d(this, Od)) throw new Error("Payout already in progress");
        Pd(this, Od, !0), Pd(this, Ld, (0, si.unixNow)());
        for (const n of _d(this, Bd).values())
          if (0 !== n.sum)
            try {
              const r = await $l.get(n.pubkey);
              if (!r) throw new Error(`Failed to get profile for ${n.pubkey}`);
              const i = new si.LNURL(r.lud16 || r.lud06 || "");
              await i.load();
              const o = n.sum,
                a = await i.getInvoice(o, `SnortZapPool: ${n.split}%`);
              var t;
              if (!a.pr) throw new Error(null !== (t = a.reason) && void 0 !== t ? t : "Failed to get invoice");
              {
                const t = await e.payInvoice(a.pr);
                if ((console.debug("ZPC", a, t), t.state !== ld.kd.Paid))
                  throw new Error("Failed to pay invoice, unknown reason");
                (n.sum -= o),
                  jd.push({
                    element: `Sent ${o.toLocaleString()} sats to ${Ol(r, n.pubkey)} from your zap pool`,
                    expire: (0, si.unixNow)() + 10,
                    icon: "zap",
                  });
              }
            } catch (e) {
              if ((console.error(e), e instanceof Error)) {
                const t = $l.getFromCache(n.pubkey);
                jd.push({
                  element: `Failed to send sats to ${Ol(t, n.pubkey)} (${e.message}), please try again later`,
                  expire: (0, si.unixNow)() + 10,
                  icon: "close",
                });
              }
            }
        Md(this, Fd, Kd).call(this), this.notifyChange(), Pd(this, Od, !1);
      }
      calcAllocation(e) {
        let t = 0;
        for (const n of _d(this, Bd).values()) t += Math.ceil(e * (n.split / 100));
        return t;
      }
      allocate(e) {
        if (_d(this, Od)) throw new Error("Payout is in progress, cannot allocate to pool");
        for (const t of _d(this, Bd).values()) t.sum += Math.ceil(e * (t.split / 100));
        Md(this, Fd, Kd).call(this), this.notifyChange();
      }
      getOrDefault(e) {
        const t = Md(this, Id, Hd).call(this, e);
        return _d(this, Bd).has(t) ? { ..._d(this, Bd).get(t) } : e;
      }
      set(e) {
        const t = Md(this, Id, Hd).call(this, e);
        0 === e.split && 0 === e.sum && _d(this, Bd).has(t) ? _d(this, Bd).delete(t) : _d(this, Bd).set(t, e),
          Md(this, Fd, Kd).call(this),
          this.notifyChange();
      }
      takeSnapshot() {
        return [..._d(this, Bd).values()];
      }
    }
    function Hd(e) {
      return `${e.pubkey}-${e.type}`;
    }
    function Kd() {
      self.localStorage.setItem("zap-pool", JSON.stringify(this.takeSnapshot())),
        self.localStorage.setItem("zap-pool-last-payout", _d(this, Ld).toString());
    }
    function Wd() {
      const e = self.localStorage.getItem("zap-pool");
      if (e) {
        const t = JSON.parse(e);
        Pd(this, Bd, new Map(t.map(e => [`${e.pubkey}-${e.type}`, e])));
      }
      const t = self.localStorage.getItem("zap-pool-last-payout");
      t && Pd(this, Ld, Number(t));
    }
    async function qd() {
      try {
        if (_d(this, Ld) < (0, si.unixNow)() - 3600) {
          const e = ld.uo.get();
          e && (e.canAutoLogin() && (await e.login()), await this.payout(e));
        }
      } catch (e) {
        console.error(e);
      }
      setTimeout(() => Md(this, Ud, qd).call(this).catch(console.error), 6e4);
    }
    const Vd = new zd(),
      $d = e =>
        (0, sa.jsx)("svg", {
          width: "20",
          height: "20",
          stroke: "currentColor",
          viewBox: "0 0 20 20",
          xmlns: "http://www.w3.org/2000/svg",
          ...e,
          children: (0, sa.jsx)("g", {
            className: "spinner_V8m1",
            children: (0, sa.jsx)("circle", { cx: "10", cy: "10", r: "7.5", fill: "none", strokeWidth: "3" }),
          }),
        });
    function Gd(t) {
      const [n, r] = (0, e.useState)(!1);
      return (0, sa.jsxs)("button", {
        className: "spinner-button",
        type: "button",
        disabled: n || t.disabled,
        ...t,
        onClick: async function (e) {
          if ((e.stopPropagation(), !n && !t.disabled)) {
            r(!0);
            try {
              if ("function" == typeof t.onClick) {
                const n = t.onClick(e);
                n instanceof Promise && (await n);
              }
            } finally {
              r(!1);
            }
          }
        },
        children: [
          (0, sa.jsx)("span", { style: { visibility: n ? "hidden" : "visible" }, children: t.children }),
          n && (0, sa.jsx)("span", { className: "spinner-wrapper", children: (0, sa.jsx)($d, {}) }),
        ],
      });
    }
    var Zd = (function (e) {
      return (
        (e[(e.PublicZap = 1)] = "PublicZap"),
        (e[(e.AnonZap = 2)] = "AnonZap"),
        (e[(e.PrivateZap = 3)] = "PrivateZap"),
        (e[(e.NonZap = 4)] = "NonZap"),
        e
      );
    })(Zd || {});
    function Yd(t) {
      var n;
      const r = t.onClose || (() => {}),
        { note: i, author: o, target: a } = t,
        s = aa(),
        l = s.preferences.defaultZapAmount,
        c = [l, 1e3, 5e3, 1e4, 2e4, 5e4, 1e5, 1e6],
        u = { 1e3: "👍", 5e3: "💜", 1e4: "😍", 2e4: "🤩", 5e4: "🔥", 1e5: "🚀", 1e6: "🤯" },
        [d, f] = (0, e.useState)(),
        [h, p] = (0, e.useState)(),
        [m, y] = (0, e.useState)(l),
        [g, v] = (0, e.useState)(),
        [w, b] = (0, e.useState)(),
        [x, E] = (0, e.useState)(),
        [k, j] = (0, e.useState)(),
        [S, A] = (0, e.useState)(Zd.PublicZap),
        [C, N] = (0, e.useState)(!1),
        { formatMessage: P } = yl(),
        _ = tc(),
        T = !!d && ((d.canZap && S !== Zd.NonZap) || d.maxCommentLength > 0),
        M = (0, ld.Os)(),
        R = M.wallet;
      (0, e.useEffect)(() => {
        t.show && (j(void 0), y(l), b(void 0), A(Zd.PublicZap), p(t.invoice), E(void 0));
      }, [t.show]),
        (0, e.useEffect)(() => {
          if (x && !x.url)
            return (0, Xo.Ds)(1e3, () => {
              r();
            });
        }, [x]),
        (0, e.useEffect)(() => {
          if (t.lnurl && t.show)
            try {
              const e = new si.LNURL(t.lnurl);
              f(e), e.load().catch(e => I(e, P(Fu.InvoiceFail)));
            } catch (e) {
              e instanceof Error && j(e.message);
            }
        }, [t.lnurl, t.show]);
      const B = (0, e.useMemo)(() => {
          if (d) {
            const e = d.min / 1e3,
              t = d.max / 1e3;
            return c.filter(n => n >= e && n <= t);
          }
          return [];
        }, [d]),
        O = (0, e.useMemo)(() => (0, Xo.OZ)(B, 3), [B]),
        L = e => {
          j(void 0), y(e);
        };
      function I(e, t) {
        if (e instanceof si.LNURLError)
          switch (e.code) {
            case si.LNURLErrorCode.ServiceUnavailable:
              return void j(P(Fu.LNURLFail));
            case si.LNURLErrorCode.InvalidLNURL:
              return void j(P(Fu.InvalidLNURL));
          }
        j(t);
      }
      const F = null != d && d.canZap ? P(Fu.SendZap) : P(Fu.SendSats),
        D = a ? P(Fu.ToTarget, { action: F, target: a }) : F;
      return null !== (n = t.show) && void 0 !== n && n
        ? (0, sa.jsx)(Hu, {
            className: "lnurl-modal",
            onClose: r,
            children: (0, sa.jsxs)("div", {
              className: "lnurl-tip",
              onClick: e => e.stopPropagation(),
              children: [
                (0, sa.jsx)("div", { className: "close", onClick: r, children: (0, sa.jsx)(_l, { name: "close" }) }),
                (0, sa.jsxs)("div", {
                  className: "lnurl-header",
                  children: [
                    o && (0, sa.jsx)(Bl, { pubkey: o, showUsername: !1 }),
                    (0, sa.jsx)("h2", { children: t.title || D }),
                  ],
                }),
                !d || h
                  ? null
                  : (0, sa.jsxs)(sa.Fragment, {
                      children: [
                        (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Fu.ZapAmount }) }),
                        O.map(e =>
                          (function (e, t) {
                            return (0, sa.jsx)("div", {
                              className: "amounts",
                              children: t.map(t =>
                                (0, sa.jsxs)(
                                  "span",
                                  {
                                    className: "sat-amount " + (e === t ? "active" : ""),
                                    onClick: () => L(t),
                                    children: [
                                      u[t] && (0, sa.jsxs)(sa.Fragment, { children: [u[t], " "] }),
                                      1e3 === t ? "1K" : nd(t),
                                    ],
                                  },
                                  t
                                )
                              ),
                            });
                          })(m, e)
                        ),
                        (function () {
                          if (!d) return null;
                          const e = d.min / 1e3,
                            t = d.max / 1e3;
                          return (0, sa.jsxs)("div", {
                            className: "custom-amount flex",
                            children: [
                              (0, sa.jsx)("input", {
                                type: "number",
                                min: e,
                                max: t,
                                className: "f-grow mr10",
                                placeholder: P(Fu.Custom),
                                value: g,
                                onChange: e => v(parseInt(e.target.value)),
                              }),
                              (0, sa.jsx)("button", {
                                className: "secondary",
                                type: "button",
                                disabled: !g,
                                onClick: () => L(null != g ? g : 0),
                                children: (0, sa.jsx)(wl, { ...Fu.Confirm }),
                              }),
                            ],
                          });
                        })(),
                        (0, sa.jsx)("div", {
                          className: "flex",
                          children:
                            T &&
                            (0, sa.jsx)("input", {
                              type: "text",
                              placeholder: P(Fu.Comment),
                              className: "f-grow",
                              maxLength: d.canZap && S !== Zd.NonZap ? 250 : d.maxCommentLength,
                              onChange: e => b(e.target.value),
                            }),
                        }),
                        (function () {
                          if (!d || !d.canZap) return;
                          const e = (e, t) =>
                            (0, sa.jsx)("div", {
                              className: "tab" + (S === e ? " active" : ""),
                              onClick: () => A(e),
                              children: t,
                            });
                          return (0, sa.jsxs)(sa.Fragment, {
                            children: [
                              (0, sa.jsx)("h3", {
                                children: (0, sa.jsx)(wl, {
                                  id: "+aZY2h",
                                  defaultMessage: [{ type: 0, value: "Zap Type" }],
                                }),
                              }),
                              (0, sa.jsxs)("div", {
                                className: "tabs mt10",
                                children: [
                                  e(
                                    Zd.PublicZap,
                                    (0, sa.jsx)(wl, { id: "/PCavi", defaultMessage: [{ type: 0, value: "Public" }] })
                                  ),
                                  e(
                                    Zd.AnonZap,
                                    (0, sa.jsx)(wl, { id: "wWLwvh", defaultMessage: [{ type: 0, value: "Anon" }] })
                                  ),
                                  e(
                                    Zd.NonZap,
                                    (0, sa.jsx)(wl, { id: "AnLrRC", defaultMessage: [{ type: 0, value: "Non-Zap" }] })
                                  ),
                                ],
                              }),
                            ],
                          });
                        })(),
                        (null != m ? m : 0) > 0 &&
                          (0, sa.jsx)(Gd, {
                            className: "zap-action",
                            onClick: () =>
                              (async function () {
                                if (!m || !d || !_) return;
                                let e;
                                if (o && S !== Zd.NonZap) {
                                  const t = Object.keys(s.relays.item);
                                  if (S === Zd.AnonZap) {
                                    const n = (function () {
                                      const e = ai.ci(oi.xW.utils.randomPrivateKey());
                                      return { privateKey: e, publicKey: ai.ci(oi.xW.getPublicKey(e)) };
                                    })();
                                    console.debug("Generated new key for zap: ", n);
                                    const r = Mt.EventPublisher.privateKey(n.privateKey);
                                    e = await r.zap(1e3 * m, o, t, i, w, e => e.tag(["anon", ""]));
                                  } else e = await _.zap(1e3 * m, o, t, i, w);
                                }
                                try {
                                  const n = await d.getInvoice(m, w, e);
                                  n.pr &&
                                    (p(n.pr),
                                    await (async function (e) {
                                      try {
                                        if (null != R && R.isReady()) {
                                          var n, r;
                                          N(!0);
                                          const i = await R.payInvoice(
                                            null !== (n = null == e ? void 0 : e.pr) && void 0 !== n ? n : ""
                                          );
                                          t.allocatePool && Vd.allocate(m),
                                            console.log(i),
                                            E(
                                              null !== (r = null == e ? void 0 : e.successAction) && void 0 !== r
                                                ? r
                                                : {}
                                            );
                                        }
                                      } catch (e) {
                                        console.warn(e), e instanceof Error && j(e.toString());
                                      } finally {
                                        N(!1);
                                      }
                                    })(n));
                                } catch (e) {
                                  I(e, P(Fu.InvoiceFail));
                                }
                              })(),
                            children: (0, sa.jsxs)("div", {
                              className: "zap-action-container",
                              children: [
                                (0, sa.jsx)(_l, { name: "zap" }),
                                a
                                  ? (0, sa.jsx)(wl, { ...Fu.ZapTarget, values: { target: a, n: nd(m) } })
                                  : (0, sa.jsx)(wl, { ...Fu.ZapSats, values: { n: nd(m) } }),
                              ],
                            }),
                          }),
                      ],
                    }),
                k && (0, sa.jsx)("p", { className: "error", children: k }),
                x || !h
                  ? null
                  : (0, sa.jsx)(sa.Fragment, {
                      children: (0, sa.jsxs)("div", {
                        className: "invoice",
                        children: [
                          t.notice && (0, sa.jsx)("b", { className: "error", children: t.notice }),
                          C
                            ? (0, sa.jsxs)("h4", {
                                children: [
                                  (0, sa.jsx)(wl, {
                                    id: "vU71Ez",
                                    defaultMessage: [
                                      { type: 0, value: "Paying with " },
                                      { type: 1, value: "wallet" },
                                    ],
                                    values: { wallet: null === (z = M.config) || void 0 === z ? void 0 : z.info.alias },
                                  }),
                                  "...",
                                ],
                              })
                            : (0, sa.jsx)(od, { data: h, link: `lightning:${h}` }),
                          (0, sa.jsx)("div", {
                            className: "actions",
                            children:
                              h &&
                              (0, sa.jsxs)(sa.Fragment, {
                                children: [
                                  (0, sa.jsx)("div", {
                                    className: "copy-action",
                                    children: (0, sa.jsx)(sd, { text: h, maxSize: 26 }),
                                  }),
                                  (0, sa.jsx)("button", {
                                    className: "wallet-action",
                                    type: "button",
                                    onClick: () => window.open(`lightning:${h}`),
                                    children: (0, sa.jsx)(wl, { ...Fu.OpenWallet }),
                                  }),
                                ],
                              }),
                          }),
                        ],
                      }),
                    }),
                x
                  ? (0, sa.jsxs)("div", {
                      className: "success-action",
                      children: [
                        (0, sa.jsxs)("p", {
                          className: "paid",
                          children: [
                            (0, sa.jsx)(_l, { name: "check", className: "success mr10" }),
                            null !== (U = null == x ? void 0 : x.description) && void 0 !== U
                              ? U
                              : (0, sa.jsx)(wl, { ...Fu.Paid }),
                          ],
                        }),
                        x.url &&
                          (0, sa.jsx)("p", {
                            children: (0, sa.jsx)("a", {
                              href: x.url,
                              rel: "noreferrer",
                              target: "_blank",
                              children: x.url,
                            }),
                          }),
                      ],
                    })
                  : null,
              ],
            }),
          })
        : null;
      var U, z;
    }
    function Xd(t) {
      var n;
      const r = t.invoice,
        { formatMessage: i } = yl(),
        [o, a] = (0, e.useState)(!1),
        s = (0, ld.Os)().wallet,
        l = (0, e.useMemo)(() => (0, si.decodeInvoice)(r), [r]),
        [c, u] = (0, e.useState)(!1),
        d = null == l ? void 0 : l.expired,
        f = null !== (n = null == l ? void 0 : l.amount) && void 0 !== n ? n : 0,
        h = null == l ? void 0 : l.description;
      return (0, sa.jsx)(sa.Fragment, {
        children: (0, sa.jsxs)("div", {
          className: `note-invoice flex ${d ? "expired" : ""} ${c ? "paid" : ""}`,
          children: [
            (0, sa.jsx)("div", {
              className: "invoice-header",
              children: (0, sa.jsxs)(sa.Fragment, {
                children: [
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Fu.Invoice }) }),
                  (0, sa.jsx)(_l, { name: "zapCircle", className: "zap-circle" }),
                  (0, sa.jsx)(Yd, { title: i(Fu.PayInvoice), invoice: r, show: o, onClose: () => a(!1) }),
                ],
              }),
            }),
            (0, sa.jsx)("p", {
              className: "invoice-amount",
              children:
                f > 0 &&
                (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (f / 1e3).toLocaleString(),
                    " ",
                    (0, sa.jsxs)("span", { className: "sats", children: ["sat", 1e3 === f ? "" : "s"] }),
                  ],
                }),
            }),
            (0, sa.jsxs)("div", {
              className: "invoice-body",
              children: [
                h && (0, sa.jsx)("p", { children: h }),
                c
                  ? (0, sa.jsx)("div", { className: "paid", children: (0, sa.jsx)(wl, { ...Fu.Paid }) })
                  : (0, sa.jsx)("button", {
                      disabled: d,
                      type: "button",
                      onClick: async function (e) {
                        if ((e.stopPropagation(), null != s && s.isReady))
                          try {
                            await s.payInvoice(r), u(!0);
                          } catch (e) {
                            a(!0);
                          }
                        else a(!0);
                      },
                      children: d ? (0, sa.jsx)(wl, { ...Fu.Expired }) : (0, sa.jsx)(wl, { ...Fu.Pay }),
                    }),
              ],
            }),
          ],
        }),
      });
    }
    const Qd = e => {
      let { tag: t } = e;
      return (0, sa.jsx)("span", {
        className: "hashtag",
        children: (0, sa.jsxs)(Pt, { to: `/t/${t}`, onClick: e => e.stopPropagation(), children: ["#", t] }),
      });
    };
    var Jd = "createTweet",
      ef = function (t) {
        var n = e.useRef(null),
          r = e.useState(!0),
          i = r[0],
          o = r[1];
        return (
          e.useEffect(function () {
            var e = !0;
            return (
              a(4351)("https://platform.twitter.com/widgets.js", "twitter-embed", function () {
                if (window.twttr) {
                  if (e) {
                    if (!window.twttr.widgets[Jd])
                      return void console.error("Method " + Jd + " is not present anymore in twttr.widget api");
                    window.twttr.widgets[Jd](t.tweetId, null == n ? void 0 : n.current, t.options).then(function (e) {
                      o(!1), t.onLoad && t.onLoad(e);
                    });
                  }
                } else console.error("Failure to load window.twttr, aborting load");
              }),
              function () {
                e = !1;
              }
            );
          }, []),
          e.createElement(
            e.Fragment,
            null,
            i && e.createElement(e.Fragment, null, t.placeholder),
            e.createElement("div", { ref: n })
          )
        );
      };
    const tf = e => {
        let { link: t } = e;
        return (0, sa.jsx)("iframe", {
          width: "100%",
          height: "166",
          scrolling: "no",
          allow: "autoplay",
          src: `https://w.soundcloud.com/player/?url=${t}`,
        });
      },
      nf = e => {
        let { link: t } = e;
        const n = (Ai.test(t) && RegExp.$1) + "%2F" + (Ai.test(t) && RegExp.$2),
          r = "light" === aa().preferences.theme ? "light=1" : "light=0";
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("br", {}),
            (0, sa.jsx)("iframe", {
              title: "SoundCloud player",
              width: "100%",
              height: "120",
              frameBorder: "0",
              src: `https://www.mixcloud.com/widget/iframe/?hide_cover=1&${r}&feed=%2F${n}%2F`,
            }),
          ],
        });
      },
      rf = e => {
        let { link: t } = e;
        const n = t.replace(/\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/, "/embed/$1/$2");
        return (0, sa.jsx)("iframe", {
          style: { borderRadius: 12 },
          src: n,
          width: "100%",
          height: "352",
          frameBorder: "0",
          allow: "autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",
          loading: "lazy",
        });
      },
      of = new DOMParser(),
      af = t => {
        let { link: n } = t;
        const [r, i] = (0, e.useState)(),
          [o, a] = (0, e.useState)(),
          s = n.includes("video") ? { aspectRatio: "16 / 9" } : { height: o };
        return (
          (0, e.useEffect)(() => {
            (async function (e) {
              const t = ji.exec(e);
              if (!t) return Promise.reject("Not a TIDAL link.");
              const [, n, r] = t,
                i = `https://oembed.tidal.com/?url=https://tidal.com/browse/${n}/${r}`,
                o = await fetch(i),
                a = await o.json(),
                s = of.parseFromString(a.html, "text/html").querySelector("iframe");
              return s ? { source: s.getAttribute("src"), height: a.height } : Promise.reject("No iframe delivered.");
            })(n)
              .then(e => {
                i(e.source || void 0), a(e.height);
              })
              .catch(console.error);
          }, [n]),
          r
            ? (0, sa.jsx)("iframe", { src: r, style: s, width: "100%", title: "TIDAL Embed", frameBorder: 0 })
            : (0, sa.jsx)("a", {
                href: n,
                target: "_blank",
                rel: "noreferrer",
                onClick: e => e.stopPropagation(),
                className: "ext",
                children: n,
              })
        );
      },
      sf = e => {
        let { link: t } = e;
        const n = `?channel=${t.split("/").slice(-1)}&parent=${window.location.hostname}&muted=true`;
        return (0, sa.jsx)("iframe", { src: `https://player.twitch.tv/${n}`, className: "w-max", allowFullScreen: !0 });
      },
      lf = e => {
        let { link: t } = e;
        const n = t.replace("music.apple.com", "embed.music.apple.com"),
          r = /\?i=\d+$/.test(n);
        return (0, sa.jsx)("iframe", {
          allow: "autoplay *; encrypted-media *; fullscreen *; clipboard-write",
          frameBorder: "0",
          height: r ? 175 : 450,
          style: { width: "100%", maxWidth: 660, overflow: "hidden", background: "transparent" },
          sandbox:
            "allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",
          src: n,
        });
      },
      cf = e => {
        let { link: t } = e;
        const n = t.replace(/(?:player\.|www\.)?wavlake\.com/, "embed.wavlake.com");
        return (0, sa.jsx)("iframe", {
          style: { borderRadius: 12 },
          src: n,
          width: "100%",
          height: "380",
          frameBorder: "0",
          loading: "lazy",
        });
      };
    function uf(e, t) {
      ff(e, t), t.add(e);
    }
    function df(e, t, n) {
      ff(e, t), t.set(e, n);
    }
    function ff(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function hf(e, t) {
      return (function (e, t) {
        return t.get ? t.get.call(e) : t.value;
      })(e, yf(e, t, "get"));
    }
    function pf(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
      return n;
    }
    function mf(e, t, n) {
      return (
        (function (e, t, n) {
          if (t.set) t.set.call(e, n);
          else {
            if (!t.writable) throw new TypeError("attempted to set read only private field");
            t.value = n;
          }
        })(e, yf(e, t, "set"), n),
        n
      );
    }
    function yf(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    let gf = (function (e) {
      return (
        (e[(e.InternalError = 1)] = "InternalError"),
        (e[(e.SubscriptionActive = 2)] = "SubscriptionActive"),
        (e[(e.Duplicate = 3)] = "Duplicate"),
        e
      );
    })({});
    class vf extends Error {
      constructor(e, t) {
        super(e), (this.code = t);
      }
    }
    var wf = new WeakMap(),
      bf = new WeakMap(),
      xf = new WeakSet(),
      Ef = new WeakSet();
    class kf {
      constructor(e, t) {
        uf(this, Ef),
          uf(this, xf),
          df(this, wf, { writable: !0, value: void 0 }),
          df(this, bf, { writable: !0, value: void 0 }),
          mf(this, wf, new URL(null != e ? e : li).toString()),
          mf(this, bf, t);
      }
      revenueSplits() {
        return pf(this, Ef, Sf).call(this, "api/v1/revenue/splits");
      }
      revenueToday() {
        return pf(this, Ef, Sf).call(this, "api/v1/revenue/today");
      }
      twitterImport(e) {
        return pf(this, Ef, Sf).call(this, `api/v1/twitter/follows-for-nostr?username=${encodeURIComponent(e)}`);
      }
      createSubscription(e) {
        return pf(this, xf, jf).call(this, `api/v1/subscription?type=${e}`, "PUT");
      }
      renewSubscription(e) {
        return pf(this, xf, jf).call(this, `api/v1/subscription/${e}/renew`, "GET");
      }
      listSubscriptions() {
        return pf(this, xf, jf).call(this, "api/v1/subscription");
      }
      linkPreview(e) {
        return pf(this, Ef, Sf).call(this, `api/v1/preview?url=${encodeURIComponent(e)}`);
      }
    }
    async function jf(e, t, n, r) {
      if (!hf(this, bf)) throw new Error("Publisher not set");
      const i = await hf(this, bf).generic(n =>
        n
          .kind(Mt.EventKind.HttpAuthentication)
          .tag(["url", `${hf(this, wf)}${e}`])
          .tag(["method", null != t ? t : "GET"])
      );
      return pf(this, Ef, Sf).call(this, e, t, n, { ...r, authorization: `Nostr ${window.btoa(JSON.stringify(i))}` });
    }
    async function Sf(e, t, n, r) {
      const i = await fetch(`${hf(this, wf)}${e}`, {
          method: t,
          body: n ? JSON.stringify(n) : void 0,
          headers: { accept: "application/json", ...(n ? { "content-type": "application/json" } : {}), ...r },
        }),
        o = await i.json();
      if ("error" in o) throw new vf(o.error, o.code);
      return o;
    }
    const Af = t => {
      const { proxy: n } = Tl(),
        [r, i] = (0, e.useState)(!1),
        [o, a] = (0, e.useState)(!1);
      return r
        ? o
          ? (0, sa.jsx)("img", { ...t, width: t.size, height: t.size })
          : (0, sa.jsx)("div", {
              className: "note-invoice error",
              onClick: e => {
                e.stopPropagation(), a(!0);
              },
              children: (0, sa.jsx)(wl, {
                id: "65BmHb",
                defaultMessage: [
                  { type: 0, value: "Failed to proxy image from " },
                  { type: 1, value: "host" },
                  { type: 0, value: ", click here to load directly" },
                ],
                values: { host: (0, Xo.Uq)(t.src) },
              }),
            })
        : (0, sa.jsx)("img", {
            ...t,
            src: t.src ? n(t.src, t.size) : "",
            onError: e => {
              t.onError ? t.onError(e) : i(!0);
            },
          });
    };
    function Cf(e) {
      return e.mime.startsWith("image/")
        ? (0, sa.jsx)(Af, { src: e.url, onClick: e.onMediaClick }, e.url)
        : e.mime.startsWith("audio/")
        ? (0, sa.jsx)("audio", { src: e.url, controls: !0 }, e.url)
        : e.mime.startsWith("video/")
        ? (0, sa.jsx)("video", { src: e.url, controls: !0 }, e.url)
        : (0, sa.jsx)(
            "a",
            {
              href: e.url,
              onClick: e => e.stopPropagation(),
              target: "_blank",
              rel: "noreferrer",
              className: "ext",
              children: e.url,
            },
            e.url
          );
    }
    const Nf = t => {
      let { url: n } = t;
      const [r, i] = (0, e.useState)(),
        { proxy: o } = Tl();
      return (
        (0, e.useEffect)(() => {
          (async () => {
            const e = await (async function (e) {
              const t = new kf();
              try {
                return await t.linkPreview(e.endsWith(")") ? e.slice(0, -1) : e);
              } catch (t) {
                console.warn("Failed to load link preview", e);
              }
            })(n);
            if (e) {
              var t;
              const n =
                null === (t = e.og_tags) || void 0 === t ? void 0 : t.find(e => "og:type" === e[0].toLowerCase());
              if (
                (null == n ? void 0 : n[1].startsWith("image")) ||
                (null == n ? void 0 : n[1].startsWith("video")) ||
                e.image
              )
                return void i(e);
            }
            i(null);
          })();
        }, [n]),
        null === r
          ? (0, sa.jsx)("a", {
              href: n,
              onClick: e => e.stopPropagation(),
              target: "_blank",
              rel: "noreferrer",
              className: "ext",
              children: n,
            })
          : (0, sa.jsxs)("div", {
              className: "link-preview-container",
              children: [
                r &&
                  (0, sa.jsxs)("a", {
                    href: n,
                    onClick: e => e.stopPropagation(),
                    target: "_blank",
                    rel: "noreferrer",
                    className: "ext",
                    children: [
                      (function () {
                        var e, t;
                        const n =
                          null == r ||
                          null === (e = r.og_tags) ||
                          void 0 === e ||
                          null === (t = e.find(e => "og:type" === e[0].toLowerCase())) ||
                          void 0 === t
                            ? void 0
                            : t[1];
                        if (null != n && n.startsWith("video")) {
                          var i, a, s, l, c;
                          const e = ["og:video:secure_url", "og:video:url", "og:video"],
                            t =
                              null == r ||
                              null === (i = r.og_tags) ||
                              void 0 === i ||
                              null === (a = i.find(t => e.includes(t[0].toLowerCase()))) ||
                              void 0 === a
                                ? void 0
                                : a[1],
                            n =
                              null !==
                                (s =
                                  null == r ||
                                  null === (l = r.og_tags) ||
                                  void 0 === l ||
                                  null === (c = l.find(e => "og:video:type" === e[0].toLowerCase())) ||
                                  void 0 === c
                                    ? void 0
                                    : c[1]) && void 0 !== s
                                ? s
                                : "video/mp4";
                          if (t) return (0, sa.jsx)(Cf, { url: t, mime: n });
                        }
                        if (null != n && n.startsWith("image")) {
                          var u, d, f, h, p;
                          const e = ["og:image:secure_url", "og:image:url", "og:image"],
                            t =
                              null == r ||
                              null === (u = r.og_tags) ||
                              void 0 === u ||
                              null === (d = u.find(t => e.includes(t[0].toLowerCase()))) ||
                              void 0 === d
                                ? void 0
                                : d[1],
                            n =
                              null !==
                                (f =
                                  null == r ||
                                  null === (h = r.og_tags) ||
                                  void 0 === h ||
                                  null === (p = h.find(e => "og:image:type" === e[0].toLowerCase())) ||
                                  void 0 === p
                                    ? void 0
                                    : p[1]) && void 0 !== f
                                ? f
                                : "image/png";
                          if (t) return (0, sa.jsx)(Cf, { url: t, mime: n });
                        }
                        if (null != r && r.image) {
                          const e = {
                            "--img-url": null != r && r.image ? `url(${o(null == r ? void 0 : r.image)})` : "",
                          };
                          return (0, sa.jsx)("div", { className: "link-preview-image", style: e });
                        }
                        return null;
                      })(),
                      (0, sa.jsxs)("div", {
                        className: "link-preview-title",
                        children: [
                          (0, sa.jsx)("h1", { children: null == r ? void 0 : r.title }),
                          (null == r ? void 0 : r.description) &&
                            (0, sa.jsx)("small", { children: r.description.slice(0, 160) }),
                          (0, sa.jsx)("br", {}),
                          (0, sa.jsx)("small", { className: "host", children: new URL(n).host }),
                        ],
                      }),
                    ],
                  }),
                !r && (0, sa.jsx)($d, { className: "f-center" }),
              ],
            })
      );
    };
    function Pf(t) {
      let { pubkey: n, relays: r } = t;
      const i = (0, El.useUserProfile)(n),
        o = (0, e.useMemo)(() => Ol(i, n), [i, n]);
      return (0, sa.jsxs)(Pt, { to: (0, Xo._v)(n, r), onClick: e => e.stopPropagation(), children: ["@", o] });
    }
    function _f(t) {
      const n = (0, e.useMemo)(() => {
        const e = new Mt.RequestBuilder(`event:${t.id.slice(0, 12)}`);
        if (t.type === Mt.NostrPrefix.Address) {
          const n = e.withFilter().tag("d", [t.id]);
          t.author && n.authors([(0, Xo.Wg)(t.author)]), t.kind && n.kinds([(0, Xo.Wg)(t.kind)]);
        } else {
          const n = e.withFilter().ids([t.id]);
          t.relays && t.relays.slice(0, 2).forEach(e => n.relay(e)), t.author && n.authors([t.author]);
        }
        return e;
      }, [t]);
      return (0, El.useRequestBuilder)(Mt.ReplaceableNoteStore, n);
    }
    function Tf() {
      return (0, sa.jsx)("div", { className: "flex f-center", children: (0, sa.jsx)($d, { width: 50, height: 50 }) });
    }
    function Mf(e) {
      let { link: t, depth: n } = e;
      const r = _f(t);
      return r.data
        ? (0, sa.jsx)(hp, {
            data: r.data,
            related: [],
            className: "note-quote",
            depth: (null != n ? n : 0) + 1,
            options: { showFooter: !1 },
          })
        : (0, sa.jsx)(Tf, {});
    }
    function Rf(e) {
      let { link: t, depth: n } = e;
      const r = (0, Mt.tryParseNostrLink)(t);
      if (
        (null == r ? void 0 : r.type) === Mt.NostrPrefix.PublicKey ||
        (null == r ? void 0 : r.type) === Mt.NostrPrefix.Profile
      )
        return (0, sa.jsx)(Pf, { pubkey: r.id, relays: r.relays });
      if (
        (null == r ? void 0 : r.type) === Mt.NostrPrefix.Note ||
        (null == r ? void 0 : r.type) === Mt.NostrPrefix.Event ||
        (null == r ? void 0 : r.type) === Mt.NostrPrefix.Address
      ) {
        if ((null != n ? n : 0) > 0) {
          const e = r.encode();
          return (0, sa.jsxs)(Pt, {
            to: `/e/${e}`,
            onClick: e => e.stopPropagation(),
            state: { from: location.pathname },
            children: ["#", e.substring(0, 12)],
          });
        }
        return (0, sa.jsx)(Mf, { link: r, depth: n });
      }
      return (0, sa.jsx)("a", {
        href: t,
        onClick: e => e.stopPropagation(),
        target: "_blank",
        rel: "noreferrer",
        className: "ext",
        children: t,
      });
    }
    const Bf = e => {
      var t;
      let { magnet: n } = e;
      return (0, sa.jsxs)("div", {
        className: "note-invoice",
        children: [
          (0, sa.jsx)("h4", {
            children: (0, sa.jsx)(wl, { id: "Gcn9NQ", defaultMessage: [{ type: 0, value: "Magnet Link" }] }),
          }),
          (0, sa.jsx)("a", {
            href: n.raw,
            rel: "noreferrer",
            children: null !== (t = n.dn) && void 0 !== t ? t : n.infoHash,
          }),
        ],
      });
    };
    function Of(e) {
      let { link: t, depth: n } = e;
      const r = t;
      try {
        const e = new URL(r),
          t = Ei.test(r) && RegExp.$1,
          i = ki.test(r) && RegExp.$2,
          o = ji.test(r) && RegExp.$1,
          a = Si.test(r) && RegExp.$1,
          s = Ai.test(r) && RegExp.$1,
          l = Ci.test(r),
          c = Ni.test(r),
          u = Pi.test(r),
          d = _i.test(r),
          f = Ti.test(r);
        if (i) return (0, sa.jsx)("div", { className: "tweet", children: (0, sa.jsx)(ef, { tweetId: i }) }, i);
        if (t)
          return (0, sa.jsx)(
            "iframe",
            {
              className: "w-max",
              src: `https://www.youtube.com/embed/${t}`,
              title: "YouTube video player",
              frameBorder: "0",
              allow:
                "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",
              allowFullScreen: !0,
            },
            t
          );
        if (o) return (0, sa.jsx)(af, { link: r });
        if (a) return (0, sa.jsx)(tf, { link: r });
        if (s) return (0, sa.jsx)(nf, { link: r });
        if (l) return (0, sa.jsx)(rf, { link: r });
        if (c) return (0, sa.jsx)(sf, { link: r });
        if (u) return (0, sa.jsx)(lf, { link: r });
        if (d)
          return (0, sa.jsx)(sa.Fragment, {
            children: (0, sa.jsx)("a", {
              href: r,
              onClick: e => e.stopPropagation(),
              target: "_blank",
              rel: "noreferrer",
              className: "ext",
              children: r,
            }),
          });
        if (f) return (0, sa.jsx)(cf, { link: r });
        if ("nostr:" === e.protocol || "web+nostr:" === e.protocol) return (0, sa.jsx)(Rf, { link: r, depth: n });
        if ("magnet:" !== e.protocol) return (0, sa.jsx)(Nf, { url: r });
        {
          const e = (0, Xo.jC)(r);
          if (e) return (0, sa.jsx)(Bf, { magnet: e });
        }
      } catch {}
      return (0, sa.jsx)("a", {
        href: r,
        onClick: e => e.stopPropagation(),
        target: "_blank",
        rel: "noreferrer",
        className: "ext",
        children: r,
      });
    }
    function Lf(t) {
      let { token: n } = t;
      const r = aa(),
        i = (0, El.useUserProfile)(r.publicKey),
        [o, s] = (0, e.useState)();
      return (
        (0, e.useEffect)(() => {
          try {
            if (!n.startsWith("cashuA") || n.length < 10) return;
            Promise.all([a.e(363), a.e(47)])
              .then(a.bind(a, 5363))
              .then(e => {
                let { getDecodedToken: t } = e;
                const r = t(n);
                s(r);
              });
          } catch {}
        }, [n]),
        o
          ? (0, sa.jsx)("div", {
              className: "note-invoice",
              children: (0, sa.jsxs)("div", {
                className: "flex f-between",
                children: [
                  (0, sa.jsxs)("div", {
                    children: [
                      (0, sa.jsx)("h4", {
                        children: (0, sa.jsx)(wl, {
                          id: "TMfYfY",
                          defaultMessage: [{ type: 0, value: "Cashu token" }],
                        }),
                      }),
                      (0, sa.jsx)("p", {
                        children: (0, sa.jsx)(wl, {
                          id: "ULotH9",
                          defaultMessage: [
                            { type: 0, value: "Amount: " },
                            { type: 1, value: "amount" },
                            { type: 0, value: " sats" },
                          ],
                          values: { amount: o.token[0].proofs.reduce((e, t) => e + t.amount, 0) },
                        }),
                      }),
                      (0, sa.jsx)("small", {
                        className: "xs",
                        children: (0, sa.jsx)(wl, {
                          id: "iUsU2x",
                          defaultMessage: [
                            { type: 0, value: "Mint: " },
                            { type: 1, value: "url" },
                          ],
                          values: { url: o.token[0].mint },
                        }),
                      }),
                    ],
                  }),
                  (0, sa.jsxs)("div", {
                    children: [
                      (0, sa.jsx)("button", {
                        onClick: e =>
                          (async function (e, t) {
                            e.stopPropagation(), await navigator.clipboard.writeText(t);
                          })(e, n),
                        className: "mr5",
                        children: (0, sa.jsx)(wl, { id: "SX58hM", defaultMessage: [{ type: 0, value: "Copy" }] }),
                      }),
                      (0, sa.jsx)("button", {
                        onClick: e =>
                          (async function (e, t) {
                            var n;
                            e.stopPropagation();
                            const r = null !== (n = null == i ? void 0 : i.lud16) && void 0 !== n ? n : "",
                              o = `https://redeem.cashu.me?token=${encodeURIComponent(
                                t
                              )}&lightning=${encodeURIComponent(r)}&autopay=yes`;
                            window.open(o, "_blank");
                          })(e, n),
                        children: (0, sa.jsx)(wl, { id: "XrSk2j", defaultMessage: [{ type: 0, value: "Redeem" }] }),
                      }),
                    ],
                  }),
                ],
              }),
            })
          : (0, sa.jsx)(sa.Fragment, { children: n })
      );
    }
    function If(t) {
      const [n, r] = (0, e.useState)(!1);
      return n
        ? (0, sa.jsx)(sa.Fragment, { children: t.children })
        : (0, sa.jsx)("div", {
            onClick: e => {
              e.stopPropagation(), r(!0);
            },
            className: "note-invoice",
            children: t.message,
          });
    }
    function Ff(e) {
      const t = aa(),
        { preferences: n, follows: r, publicKey: i } = t,
        o = "follows-only" === n.autoLoadMedia && !r.item.includes(e.creator),
        a = e.creator === i,
        s = "none" === n.autoLoadMedia || (!a && o),
        l = new URL(e.link).hostname,
        c = new URL(e.link),
        u = bi.test(c.pathname.toLowerCase()) && RegExp.$1,
        d = (() => {
          switch (u) {
            case "gif":
            case "jpg":
            case "jpeg":
            case "jfif":
            case "png":
            case "bmp":
            case "webp":
              return "image";
            case "wav":
            case "mp3":
            case "ogg":
              return "audio";
            case "mp4":
            case "mov":
            case "mkv":
            case "avi":
            case "m4v":
            case "webm":
              return "video";
            default:
              return "unknown";
          }
        })();
      return s
        ? (0, sa.jsx)(If, {
            message: (0, sa.jsx)(wl, {
              id: "lsNFM1",
              defaultMessage: [
                { type: 0, value: "Click to load content from " },
                { type: 1, value: "link" },
              ],
              values: { link: l },
            }),
            children: (0, sa.jsx)(Cf, { mime: `${d}/${u}`, url: c.toString(), onMediaClick: e.onMediaClick }),
          })
        : (0, sa.jsx)(Cf, { mime: `${d}/${u}`, url: c.toString(), onMediaClick: e.onMediaClick });
    }
    function Df(t) {
      const [n, r] = (0, e.useState)(t.idx),
        i = (0, e.useMemo)(() => t.images.at(n % t.images.length), [n, t]);
      return (0, sa.jsxs)(Hu, {
        onClose: t.onClose,
        className: "spotlight",
        children: [
          (0, sa.jsx)(Af, { src: i }),
          (0, sa.jsxs)("div", {
            className: "details",
            children: [n + 1, "/", t.images.length, (0, sa.jsx)(_l, { name: "x-close", size: 24, onClick: t.onClose })],
          }),
          t.images.length > 1 &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, {
                  className: "left",
                  name: "arrowFront",
                  size: 24,
                  onClick: () => {
                    r(e => (e - 1 == -1 ? t.images.length - 1 : e - 1));
                  },
                }),
                (0, sa.jsx)(_l, {
                  className: "right",
                  name: "arrowFront",
                  size: 24,
                  onClick: () => {
                    r(e => (e + 1 === t.images.length ? 0 : e + 1));
                  },
                }),
              ],
            }),
        ],
      });
    }
    function Uf(t) {
      let { content: n, tags: r, creator: i, disableMedia: o, depth: a, disableMediaSpotlight: s } = t;
      const [l, c] = (0, e.useState)(!1),
        [u, d] = (0, e.useState)(0),
        f = (0, e.useMemo)(() => (0, Mt.transformText)(n, r), [n]),
        h = f
          .filter(e => {
            var t;
            return "media" === e.type && (null === (t = e.mimeType) || void 0 === t ? void 0 : t.startsWith("image"));
          })
          .map(e => e.content);
      return (0, sa.jsxs)("div", {
        dir: "auto",
        className: "text",
        children: [
          f.map(e =>
            (function (e) {
              var t;
              if (!("media" !== e.type || (null !== (t = e.mimeType) && void 0 !== t && t.startsWith("unknown"))))
                return null != o && o
                  ? (0, sa.jsx)("a", {
                      href: e.content,
                      onClick: e => e.stopPropagation(),
                      target: "_blank",
                      rel: "noreferrer",
                      className: "ext",
                      children: e.content,
                    })
                  : (0, sa.jsx)(Ff, {
                      link: e.content,
                      creator: i,
                      onMediaClick: t => {
                        if (!s) {
                          t.stopPropagation(), t.preventDefault(), c(!0);
                          const n = h.findIndex(t => t === e.content);
                          d(-1 === n ? 0 : n);
                        }
                      },
                    });
              switch (e.type) {
                case "invoice":
                  return (0, sa.jsx)(Xd, { invoice: e.content });
                case "hashtag":
                  return (0, sa.jsx)(Qd, { tag: e.content });
                case "cashu":
                  return (0, sa.jsx)(Lf, { token: e.content });
                case "media":
                case "link":
                  return (0, sa.jsx)(Of, { link: e.content, depth: a });
                case "custom_emoji":
                  return (0, sa.jsx)(Af, { src: e.content, size: 15, className: "custom-emoji" });
                default:
                  return (0, sa.jsx)("div", { className: "text-frag", children: e.content });
              }
            })(e)
          ),
          l && (0, sa.jsx)(Df, { images: h, onClose: () => c(!1), idx: u }),
        ],
      });
    }
    function zf() {
      return (zf =
        Object.assign ||
        function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
          }
          return e;
        }).apply(this, arguments);
    }
    var Hf, Kf;
    function Wf(e) {
      var t = e.nativeEvent;
      return window.TouchEvent ? t instanceof TouchEvent : "touches" in t;
    }
    function qf(e) {
      return e.nativeEvent instanceof MouseEvent;
    }
    function Vf(e) {
      return Wf(e) ? { x: e.touches[0].pageX, y: e.touches[0].pageY } : qf(e) ? { x: e.pageX, y: e.pageY } : null;
    }
    !(function (e) {
      (e.CANCELED_BY_MOVEMENT = "canceled-by-movement"), (e.CANCELED_BY_TIMEOUT = "canceled-by-timeout");
    })(Hf || (Hf = {})),
      (function (e) {
        (e.BOTH = "both"), (e.MOUSE = "mouse"), (e.TOUCH = "touch");
      })(Kf || (Kf = {}));
    const $f = t => {
        let { zaps: n } = t;
        const { formatMessage: r } = yl(),
          i = (0, e.useMemo)(() => {
            const e = [...n.filter(e => e.sender && e.valid)],
              t = [...n.filter(e => !e.sender && e.valid)];
            return e.sort((e, t) => t.amount - e.amount), e.concat(t);
          }, [n]);
        if (0 === n.length) return null;
        const [o, ...a] = i,
          { sender: s, amount: l, anonZap: c } = o;
        return (0, sa.jsx)("div", {
          className: "zaps-summary",
          children:
            l &&
            (0, sa.jsx)("div", {
              className: "top-zap",
              children: (0, sa.jsxs)("div", {
                className: "summary",
                children: [
                  s &&
                    (0, sa.jsx)(Bl, {
                      pubkey: c ? "" : s,
                      overrideUsername: c
                        ? r({ id: "LXxsbk", defaultMessage: [{ type: 0, value: "Anonymous" }] })
                        : void 0,
                    }),
                  a.length > 0
                    ? (0, sa.jsx)(wl, { ...Fu.Others, values: { n: a.length } })
                    : (0, sa.jsx)(wl, { ...Fu.Zapped }),
                  " ",
                  (0, sa.jsx)(wl, { ...Fu.OthersZapped, values: { n: a.length } }),
                ],
              }),
            }),
        });
      },
      Gf = e => {
        var t;
        let { zap: n, showZapped: r = !0 } = e;
        const { amount: i, content: o, sender: a, valid: s, receiver: l } = n,
          c = aa().publicKey;
        return s && a
          ? (0, sa.jsxs)("div", {
              className: "zap note card",
              children: [
                (0, sa.jsxs)("div", {
                  className: "header",
                  children: [
                    (0, sa.jsx)(Bl, { pubkey: a }),
                    l !== c && r && (0, sa.jsx)(Bl, { pubkey: (0, Xo.Wg)(l) }),
                    (0, sa.jsx)("div", {
                      className: "amount",
                      children: (0, sa.jsx)("span", {
                        className: "amount-number",
                        children: (0, sa.jsx)(wl, { ...Fu.Sats, values: { n: nd(null != i ? i : 0) } }),
                      }),
                    }),
                  ],
                }),
                (null !== (t = null == o ? void 0 : o.length) && void 0 !== t ? t : 0) > 0 &&
                  a &&
                  (0, sa.jsx)("div", {
                    className: "body",
                    children: (0, sa.jsx)(Uf, { creator: a, content: (0, Xo.Wg)(o), tags: [] }),
                  }),
              ],
            })
          : null;
      };
    function Zf(t) {
      var n;
      const [r, i] = (0, e.useState)(null !== (n = t.loading) && void 0 !== n && n),
        o = { ...t };
      return (
        delete o.iconName,
        delete o.iconSize,
        delete o.loading,
        (0, sa.jsxs)("div", {
          ...o,
          onClick: e =>
            (async function (e) {
              i(!0);
              try {
                t.onClick && (await t.onClick(e));
              } catch (e) {
                console.error(e);
              }
              i(!1);
            })(e),
          children: [r ? (0, sa.jsx)($d, {}) : (0, sa.jsx)(_l, { name: t.iconName, size: t.iconSize }), t.children],
        })
      );
    }
    let Yf = !1;
    const Xf = async e => {
      for (; Yf; ) await (0, Xo.gw)(100);
      Yf = !0;
      try {
        return await e();
      } finally {
        Yf = !1;
      }
    };
    function Qf(t) {
      const { ev: n, positive: r, reposts: i, zaps: o } = t,
        a = k(),
        { formatMessage: s } = yl(),
        l = aa(),
        { publicKey: c, preferences: u, relays: d } = l,
        f = (0, El.useUserProfile)(n.pubkey),
        h = (function (t, n) {
          const r = n && t ? (0, Xo.JQ)(n + t) : void 0,
            i = { id: r, event: n, by: t },
            o =
              (0, e.useSyncExternalStore)(
                e => Xl.hook(e, r),
                () => Xl.snapshot().find(e => e.id === r)
              ) || i;
          return {
            data: o,
            react: () => Xl.set({ ...o, event: (0, Xo.Wg)(n), by: (0, Xo.Wg)(t), reacted: !0 }),
            zap: () => Xl.set({ ...o, event: (0, Xo.Wg)(n), by: (0, Xo.Wg)(t), zapped: !0 }),
            repost: () => Xl.set({ ...o, event: (0, Xo.Wg)(n), by: (0, Xo.Wg)(t), reposted: !0 }),
          };
        })(c, n.id),
        p = tc(),
        y = m(e => e.noteCreator.show),
        g = m(e => e.noteCreator.replyTo),
        v = y && (null == g ? void 0 : g.id) === n.id,
        [w, b] = (0, e.useState)(!1),
        [x, E] = (0, e.useState)(!1),
        j = (0, ld.Os)().wallet,
        S = n.pubkey === c,
        A = o.reduce((e, t) => e + t.amount, 0),
        C = h.data.zapped || o.some(e => e.sender === c),
        N = (function (t, n) {
          var r = void 0 === n ? {} : n,
            i = r.threshold,
            o = void 0 === i ? 400 : i,
            a = r.captureEvent,
            s = void 0 !== a && a,
            l = r.detect,
            c = void 0 === l ? Kf.BOTH : l,
            u = r.cancelOnMovement,
            d = void 0 !== u && u,
            f = r.filterEvents,
            h = r.onStart,
            p = r.onMove,
            m = r.onFinish,
            y = r.onCancel,
            g = (0, e.useRef)(!1),
            v = (0, e.useRef)(!1),
            w = (0, e.useRef)(),
            b = (0, e.useRef)(t),
            x = (0, e.useRef)(null),
            E = (0, e.useCallback)(
              function (e) {
                return function (t) {
                  if (!v.current && (qf(t) || Wf(t)) && (void 0 === f || f(t))) {
                    (x.current = Vf(t)), s && t.persist();
                    var n = void 0 === e ? {} : { context: e };
                    null == h || h(t, n),
                      (v.current = !0),
                      (w.current = setTimeout(function () {
                        b.current && (b.current(t, n), (g.current = !0));
                      }, o));
                  }
                };
              },
              [s, f, h, o]
            ),
            k = (0, e.useCallback)(
              function (e, t) {
                return function (n) {
                  if (qf(n) || Wf(n)) {
                    (x.current = null), s && n.persist();
                    var r = void 0 === e ? {} : { context: e };
                    g.current
                      ? null == m || m(n, r)
                      : v.current && (null == y || y(n, zf({}, r, { reason: null != t ? t : Hf.CANCELED_BY_TIMEOUT }))),
                      (g.current = !1),
                      (v.current = !1),
                      void 0 !== w.current && clearTimeout(w.current);
                  }
                };
              },
              [s, m, y]
            ),
            j = (0, e.useCallback)(
              function (e) {
                return function (t) {
                  if ((null == p || p(t, { context: e }), d && x.current)) {
                    var n = Vf(t);
                    if (n) {
                      var r = !0 === d ? 25 : d,
                        i = { x: Math.abs(n.x - x.current.x), y: Math.abs(n.y - x.current.y) };
                      (i.x > r || i.y > r) && k(e, Hf.CANCELED_BY_MOVEMENT)(t);
                    }
                  }
                };
              },
              [k, d, p]
            );
          return (
            (0, e.useEffect)(function () {
              return function () {
                void 0 !== w.current && clearTimeout(w.current);
              };
            }, []),
            (0, e.useEffect)(
              function () {
                b.current = t;
              },
              [t]
            ),
            (0, e.useMemo)(
              function () {
                return function (e) {
                  var n = { onMouseDown: E(e), onMouseMove: j(e), onMouseUp: k(e), onMouseLeave: k(e) },
                    r = { onTouchStart: E(e), onTouchMove: j(e), onTouchEnd: k(e) };
                  return null === t ? {} : c === Kf.MOUSE ? n : c === Kf.TOUCH ? r : zf({}, n, r);
                };
              },
              [t, k, c, j, E]
            )
          );
        })(
          e => {
            e.stopPropagation(), b(!0);
          },
          { captureEvent: !0 }
        );
      function P(e) {
        return (
          h.data.reacted ||
          (null == r
            ? void 0
            : r.some(t => {
                let { pubkey: n, content: r } = t;
                return (0, Xo.N2)(r) === e && n === c;
              }))
        );
      }
      function _() {
        return h.data.reposted || i.some(e => e.pubkey === c);
      }
      function T() {
        var e;
        return (
          (null === (e = n.tags.find(e => "zap" === e[0])) || void 0 === e ? void 0 : e[1]) ||
          (null == f ? void 0 : f.lud16) ||
          (null == f ? void 0 : f.lud06)
        );
      }
      async function M(e, t, n, r) {
        await Xf(async () => {
          const i = new si.LNURL(e);
          await i.load();
          const o = Object.keys(d.item),
            a = i.canZap && p ? await p.zap(1e3 * t, n, o, r) : void 0,
            s = await i.getInvoice(t, void 0, a);
          await (null == j ? void 0 : j.payInvoice((0, Xo.Wg)(s.pr))), Vd.allocate(t), await h.zap();
        });
      }
      (0, e.useEffect)(() => {
        if (u.autoZap && !C && !S && !x) {
          const e = T();
          null != j &&
            j.isReady() &&
            e &&
            (E(!0),
            queueMicrotask(async () => {
              try {
                await M(e, u.defaultZapAmount, n.pubkey, n.id);
              } catch {
              } finally {
                E(!1);
              }
            }));
        }
      }, [u.autoZap, f, x]);
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsxs)("div", {
            className: "footer",
            children: [
              (0, sa.jsxs)("div", {
                className: "footer-reactions",
                children: [
                  T()
                    ? (0, sa.jsx)(Jf, {
                        className: C ? "reacted" : "",
                        ...N(),
                        title: s({ id: "fBI91o", defaultMessage: [{ type: 0, value: "Zap" }] }),
                        iconName: null != j && j.isReady() ? "zapFast" : "zap",
                        value: A,
                        onClick: e =>
                          (async function (e) {
                            if (x || (null != e && e.isPropagationStopped())) return;
                            const t = T();
                            if (null != j && j.isReady() && t) {
                              E(!0);
                              try {
                                await M(t, u.defaultZapAmount, n.pubkey, n.id);
                              } catch (e) {
                                console.warn("Fast zap failed", e),
                                  (e instanceof Error && "User rejected" === e.message) || b(!0);
                              } finally {
                                E(!1);
                              }
                            } else b(!0);
                          })(e),
                      })
                    : null,
                  (function () {
                    if (!u.enableReactions) return null;
                    const e = P("+");
                    return (0, sa.jsx)(Jf, {
                      className: e ? "reacted" : "",
                      iconName: e ? "heart-solid" : "heart",
                      title: s({ id: "qtWLmt", defaultMessage: [{ type: 0, value: "Like" }] }),
                      value: r.length,
                      onClick: () =>
                        (async function (e) {
                          if (!P(e) && p) {
                            const t = await p.react(n, e);
                            ew.BroadcastEvent(t), await h.react();
                          }
                        })(u.reactionEmoji),
                    });
                  })(),
                  (0, sa.jsx)(Jf, {
                    className: _() ? "reacted" : "",
                    iconName: "repeat",
                    title: s({ id: "JeoS4y", defaultMessage: [{ type: 0, value: "Repost" }] }),
                    value: i.length,
                    onClick: () =>
                      (async function () {
                        if (!_() && p && (!u.confirmReposts || window.confirm(s(Fu.ConfirmRepost, { id: n.id })))) {
                          const e = await p.repost(n);
                          ew.BroadcastEvent(e), await h.repost();
                        }
                      })(),
                  }),
                  (0, sa.jsx)(Jf, {
                    className: y ? "reacted" : "",
                    iconName: "reply",
                    title: s({ id: "9HU8vw", defaultMessage: [{ type: 0, value: "Reply" }] }),
                    value: 0,
                    onClick: async () => ((null == g ? void 0 : g.id) !== n.id && a(al()), a(Js(n)), void a(Gs(!y))),
                  }),
                  (function () {
                    const e = (0, Xo.MV)(n, "nonce") ? (0, Mt.countLeadingZeros)(n.id) : void 0;
                    if (e)
                      return (0, sa.jsx)(Jf, {
                        title: s({ id: "grQ+mI", defaultMessage: [{ type: 0, value: "Proof of Work" }] }),
                        iconName: "diamond",
                        value: e,
                      });
                  })(),
                ],
              }),
              v && (0, sa.jsx)(wp, {}),
              (0, sa.jsx)(Yd, {
                lnurl: T(),
                onClose: () => b(!1),
                show: w,
                author: null == f ? void 0 : f.pubkey,
                target: (function () {
                  var e;
                  const t = null === (e = n.tags.find(e => "zap" === e[0])) || void 0 === e ? void 0 : e[1];
                  return t
                    ? new si.LNURL(t).name
                    : (null == f ? void 0 : f.display_name) || (null == f ? void 0 : f.name);
                })(),
                note: n.id,
                allocatePool: !0,
              }),
            ],
          }),
          (0, sa.jsx)($f, { zaps: o }),
        ],
      });
    }
    function Jf(e) {
      const t = { ...e, iconSize: 18, className: "reaction-pill" + (e.className ? ` ${e.className}` : "") };
      return (0, sa.jsx)(Zf, {
        ...t,
        children: e.value > 0 && (0, sa.jsx)("div", { className: "reaction-pill-number", children: nd(e.value) }),
      });
    }
    const eh = 6e4,
      th = 60 * eh,
      nh = 24 * th;
    function rh(t) {
      const [n, r] = (0, e.useState)(),
        { from: i, fallback: o } = t,
        a = new Intl.DateTimeFormat(void 0, { dateStyle: "medium", timeStyle: "long" }).format(i),
        s = new Date(i).toISOString();
      function l() {
        const e = new Date(i),
          t = new Date().getTime() - i,
          n = Math.abs(t);
        if (n > nh) return e.toLocaleDateString(void 0, { year: "2-digit", month: "short", day: "2-digit" });
        if (n > th) return `${e.getHours().toString().padStart(2, "0")}:${e.getMinutes().toString().padStart(2, "0")}`;
        if (n < eh) return o;
        {
          const e = Math.floor(n / eh);
          return t < 0 ? `in ${e}m` : `${e}m`;
        }
      }
      return (
        (0, e.useEffect)(() => {
          r(l());
          const e = setInterval(() => {
            r(e => {
              const t = l();
              return t !== e ? t : e;
            });
          }, eh);
          return () => clearInterval(e);
        }, [i]),
        (0, sa.jsx)("time", { dateTime: s, title: a, children: n })
      );
    }
    function ih(t) {
      const { formatMessage: n } = yl(),
        r = tc(),
        { wallet: i } = (0, ld.Os)(),
        { preferences: o, publicKey: a, relays: s } = aa(),
        l = (0, El.useUserProfile)(t.ev.pubkey),
        [c, u] = (0, e.useState)(""),
        [d, f] = (0, e.useState)(""),
        [h, p] = (0, e.useState)(),
        m = t.zaps.some(e => e.sender === a),
        y = t.ev.pubkey === a,
        g = m || y,
        v = t.ev.tags.filter(e => "poll_option" === e[0]).sort((e, t) => Number(e[1]) - Number(t[1])),
        w = t.zaps.filter(e => void 0 !== e.pollOption).reduce((e, t) => e + t.amount, 0);
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("small", {
            children: (0, sa.jsx)(wl, {
              id: "3qnJlS",
              defaultMessage: [
                { type: 0, value: "You are voting with " },
                { type: 1, value: "amount" },
                { type: 0, value: " sats" },
              ],
              values: { amount: nd(o.defaultZapAmount) },
            }),
          }),
          (0, sa.jsxs)("div", {
            className: "poll-body",
            children: [
              v.map(e => {
                const a = Number(e[1]),
                  c = e[2],
                  d = t.zaps.filter(e => e.pollOption === a),
                  m = d.reduce((e, t) => e + t.amount, 0),
                  y = 0 === w ? 0 : m / w;
                return (0, sa.jsxs)(
                  "div",
                  {
                    className: "flex",
                    onClick: e =>
                      (async function (e, a) {
                        if ((e.stopPropagation(), h || !r)) return;
                        const c = o.defaultZapAmount;
                        try {
                          var d;
                          if (c <= 0)
                            throw new Error(
                              n(
                                {
                                  id: "NepkXH",
                                  defaultMessage: [
                                    { type: 0, value: "Can't vote with " },
                                    { type: 1, value: "amount" },
                                    { type: 0, value: " sats, please set a different default zap amount" },
                                  ],
                                },
                                { amount: c }
                              )
                            );
                          p(a);
                          const e = Object.keys(s.item),
                            o = await r.zap(1e3 * c, t.ev.pubkey, e, t.ev.id, void 0, e =>
                              e.tag(["poll_option", a.toString()])
                            ),
                            u =
                              (null === (d = t.ev.tags.find(e => "zap" === e[0])) || void 0 === d ? void 0 : d[1]) ||
                              (null == l ? void 0 : l.lud16) ||
                              (null == l ? void 0 : l.lud06);
                          if (!u) return;
                          const h = new si.LNURL(u);
                          if ((await h.load(), !h.canZap))
                            throw new Error(
                              n({
                                id: "fOksnD",
                                defaultMessage: [
                                  { type: 0, value: "Can't vote because LNURL service does not support zaps" },
                                ],
                              })
                            );
                          const m = await h.getInvoice(c, void 0, o);
                          null != i && i.isReady()
                            ? await (null == i ? void 0 : i.payInvoice((0, Xo.Wg)(m.pr)))
                            : f((0, Xo.Wg)(m.pr));
                        } catch (e) {
                          e instanceof Error
                            ? u(e.message)
                            : u(n({ id: "g985Wp", defaultMessage: [{ type: 0, value: "Failed to send vote" }] }));
                        } finally {
                          p(void 0);
                        }
                      })(e, a),
                    children: [
                      (0, sa.jsx)("div", {
                        className: "f-grow",
                        children:
                          a === h
                            ? (0, sa.jsx)($d, {})
                            : (0, sa.jsx)(Uf, {
                                content: c,
                                tags: t.ev.tags,
                                creator: t.ev.pubkey,
                                disableMediaSpotlight: !0,
                              }),
                      }),
                      g &&
                        (0, sa.jsxs)(sa.Fragment, {
                          children: [
                            (0, sa.jsxs)("div", {
                              className: "flex",
                              children: [
                                (0, sa.jsx)(Cl, { value: 100 * y, maximumFractionDigits: 0 }),
                                "%  ",
                                (0, sa.jsxs)("small", { children: ["(", nd(m), ")"] }),
                              ],
                            }),
                            (0, sa.jsx)("div", { style: { width: 100 * y + "%" }, className: "progress" }),
                          ],
                        }),
                    ],
                  },
                  e[1]
                );
              }),
              c && (0, sa.jsx)("b", { className: "error", children: c }),
            ],
          }),
          (0, sa.jsx)(Yd, { show: "" !== d, onClose: () => f(""), invoice: d }),
        ],
      });
    }
    function oh(e) {
      let { ev: t } = e;
      const n = (0, Xo.MV)(t, "url"),
        r = (0, Xo.MV)(t, "x"),
        i = (0, Xo.MV)(t, "m"),
        o = (0, Xo.MV)(t, "blurhash"),
        a = (0, Xo.MV)(t, "magnet");
      return n && i
        ? (0, sa.jsx)(If, {
            message: (0, sa.jsx)(wl, {
              id: "lsNFM1",
              defaultMessage: [
                { type: 0, value: "Click to load content from " },
                { type: 1, value: "link" },
              ],
              values: { link: n },
            }),
            children: (0, sa.jsx)(Cf, { mime: i, url: n, sha256: r, magnet: a, blurHash: o }),
          })
        : (0, sa.jsx)("b", {
            className: "error",
            children: (0, sa.jsx)(wl, {
              id: "PamNxw",
              defaultMessage: [
                { type: 0, value: "Unknown file header: " },
                { type: 1, value: "name" },
              ],
              values: { name: t.content },
            }),
          });
    }
    function ah(e) {
      var t, n, r, i, o;
      let { ev: a } = e;
      const s = a.tags.find(e => "media" === e[0]),
        l = a.tags.find(e => "cover" === e[0]),
        c = a.tags.find(e => "subject" === e[0]),
        u = a.tags.filter(e => "p" === e[0]),
        d = (0, Mt.encodeTLV)(
          Mt.NostrPrefix.Address,
          null !== (t = null === (n = a.tags.find(e => "d" === e[0])) || void 0 === n ? void 0 : n[1]) && void 0 !== t
            ? t
            : "",
          void 0,
          a.kind,
          a.pubkey
        );
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsxs)("div", {
            className: "flex zapstr mb10 card",
            children: [
              (0, sa.jsx)(Af, { src: null !== (r = null == l ? void 0 : l[1]) && void 0 !== r ? r : "", size: 100 }),
              (0, sa.jsxs)("div", {
                className: "flex f-col",
                children: [
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("h3", {
                      children: null !== (i = null == c ? void 0 : c[1]) && void 0 !== i ? i : "",
                    }),
                  }),
                  (0, sa.jsx)("audio", {
                    src: null !== (o = null == s ? void 0 : s[1]) && void 0 !== o ? o : "",
                    controls: !0,
                  }),
                  (0, sa.jsx)("div", {
                    children: u.map(e => {
                      var t;
                      return (0, sa.jsx)(Bl, {
                        pubkey: e[1],
                        subHeader: (0, sa.jsx)(sa.Fragment, { children: null !== (t = e[2]) && void 0 !== t ? t : "" }),
                        className: "",
                        defaultNip: " ",
                      });
                    }),
                  }),
                ],
              }),
            ],
          }),
          (0, sa.jsx)(Pt, {
            to: `https://zapstr.live/?track=${d}`,
            target: "_blank",
            children: (0, sa.jsx)("button", {
              children: (0, sa.jsx)(wl, { id: "Lu5/Bj", defaultMessage: [{ type: 0, value: "Open on Zapstr" }] }),
            }),
          }),
        ],
      });
    }
    function sh(e) {
      const t = (0, Xo.nm)(e.pubkey),
        n = tc(),
        { follows: r, relays: i } = aa(),
        o = r.item.includes(t),
        a = `${e.className} follow-button`;
      return (0, sa.jsx)(Gd, {
        className: o ? `${a} secondary` : a,
        onClick: () =>
          o
            ? (async function (e) {
                if (n) {
                  const t = await n.contactList(
                    r.item.filter(t => t !== e),
                    i.item
                  );
                  ew.BroadcastEvent(t);
                }
              })(t)
            : (async function (e) {
                if (n) {
                  const t = await n.contactList([e, ...r.item], i.item);
                  ew.BroadcastEvent(t);
                }
              })(t),
        children: o ? (0, sa.jsx)(wl, { ...Fu.Unfollow }) : (0, sa.jsx)(wl, { ...Fu.Follow }),
      });
    }
    function lh(e) {
      var t, n;
      const r = e.pubkey,
        { ref: i, inView: o } = ed({ triggerOnce: !0 }),
        a = (0, El.useUserProfile)(o ? r : void 0),
        s = { about: !0, ...e.options };
      return (0, sa.jsx)(sa.Fragment, {
        children: (0, sa.jsx)("div", {
          className: "profile-preview" + (e.className ? ` ${e.className}` : ""),
          ref: i,
          onClick: function (t) {
            e.onClick && (t.stopPropagation(), t.preventDefault(), e.onClick(t));
          },
          children:
            o &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(Bl, {
                  pubkey: r,
                  link: null === (t = s.linkToProfile) || void 0 === t || t ? void 0 : "",
                  subHeader: s.about
                    ? (0, sa.jsx)("div", { className: "about", children: null == a ? void 0 : a.about })
                    : void 0,
                }),
                null !== (n = e.actions) && void 0 !== n
                  ? n
                  : (0, sa.jsx)("div", {
                      className: "follow-button-container",
                      children: (0, sa.jsx)(sh, { pubkey: r }),
                    }),
              ],
            }),
        }),
      });
    }
    function ch(e) {
      let { pubkeys: t, title: n, showFollowAll: r, showAbout: i, className: o, actions: a, profileActions: s } = e;
      const l = tc(),
        { follows: c, relays: u } = aa();
      return (0, sa.jsxs)("div", {
        className: o,
        children: [
          (null == r || r) &&
            (0, sa.jsxs)("div", {
              className: "flex mt10 mb10",
              children: [
                (0, sa.jsx)("div", { className: "f-grow bold", children: n }),
                a,
                (0, sa.jsx)("button", {
                  className: "transparent",
                  type: "button",
                  onClick: () =>
                    (async function () {
                      if (l) {
                        const e = await l.contactList([...t, ...c.item], u.item);
                        ew.BroadcastEvent(e);
                      }
                    })(),
                  children: (0, sa.jsx)(wl, { ...Fu.FollowAll }),
                }),
              ],
            }),
          null == t
            ? void 0
            : t.map(e => (0, sa.jsx)(lh, { pubkey: e, options: { about: i }, actions: null == s ? void 0 : s(e) }, e)),
        ],
      });
    }
    function uh(e) {
      var t;
      let { ev: n, className: r } = e;
      const i = (0, ld.Os)(),
        o = aa(),
        a = tc(),
        s = (0, Xo.D8)(n.tags.filter(e => "p" === e[0]).map(e => e[1]));
      return (0, sa.jsx)(ch, {
        pubkeys: s,
        showAbout: !0,
        className: r,
        title: null === (t = n.tags.find(e => "d" === e[0])) || void 0 === t ? void 0 : t[1],
        actions: (0, sa.jsx)(sa.Fragment, {
          children: (0, sa.jsx)(Gd, {
            className: "mr5 transparent",
            onClick: () =>
              (async function () {
                for (const t of s)
                  try {
                    const r = await $l.get(t),
                      s = o.preferences.defaultZapAmount,
                      l = (null == r ? void 0 : r.lud16) || (null == r ? void 0 : r.lud06);
                    if (l) {
                      const c = new si.LNURL(l);
                      await c.load();
                      const u = await (null == a
                          ? void 0
                          : a.zap(
                              1e3 * s,
                              t,
                              Object.keys(o.relays.item),
                              void 0,
                              `Zap from ${(0, Xo.jm)("note", n.id)}`
                            )),
                        d = await c.getInvoice(s, void 0, u);
                      if (d.pr) {
                        var e;
                        const n = await (null === (e = i.wallet) || void 0 === e ? void 0 : e.payInvoice(d.pr));
                        (null == n ? void 0 : n.state) === ld.kd.Paid &&
                          jd.push({
                            element: (0, sa.jsx)(wl, {
                              id: "Ig9/a1",
                              defaultMessage: [
                                { type: 0, value: "Sent " },
                                { type: 1, value: "n" },
                                { type: 0, value: " sats to " },
                                { type: 1, value: "name" },
                              ],
                              values: { n: s, name: Ol(r, t) },
                            }),
                            icon: "zap",
                          });
                      }
                    }
                  } catch (e) {
                    console.debug("Failed to zap", t, e);
                  }
              })(),
            children: (0, sa.jsx)(wl, {
              id: "AGNz71",
              defaultMessage: [
                { type: 0, value: "Zap All " },
                { type: 1, value: "n" },
                { type: 0, value: " sats" },
              ],
              values: { n: (0, sa.jsx)(Cl, { value: o.preferences.defaultZapAmount * s.length }) },
            }),
          }),
        }),
      });
    }
    function dh(e) {
      let { ev: t } = e;
      const n = (0, Xo.MV)(t, "title"),
        r = (0, Xo.Wg)((0, Xo.MV)(t, "d"));
      return (0, sa.jsx)("div", {
        className: "text",
        children: (0, sa.jsxs)("div", {
          className: "flex card",
          children: [
            (0, sa.jsx)("div", { className: "f-grow", children: (0, sa.jsx)("h3", { children: n }) }),
            (0, sa.jsx)("div", {
              children: (0, sa.jsx)(Pt, {
                to: `https://zap.stream/${(0, Mt.encodeTLV)(Mt.NostrPrefix.Address, r, void 0, t.kind, t.pubkey)}`,
                children: (0, sa.jsx)("button", {
                  className: "primary",
                  type: "button",
                  children: (0, sa.jsx)(wl, { id: "HF4YnO", defaultMessage: [{ type: 0, value: "Watch Live!" }] }),
                }),
              }),
            }),
          ],
        }),
      });
    }
    function fh() {
      return (
        (fh = Object.assign
          ? Object.assign.bind()
          : function (e) {
              for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            }),
        fh.apply(this, arguments)
      );
    }
    function hh(e, t) {
      if (null == e) return {};
      var n,
        r,
        i = {},
        o = Object.keys(e);
      for (r = 0; r < o.length; r++) (n = o[r]), t.indexOf(n) >= 0 || (i[n] = e[n]);
      return i;
    }
    var ph = "szh-menu",
      mh = (0, e.createContext)(),
      yh = (0, e.createContext)({}),
      gh = (0, e.createContext)({}),
      vh = (0, e.createContext)({}),
      wh = (0, e.createContext)({}),
      bh = (0, e.createContext)({}),
      xh = (0, e.createContext)({}),
      Eh = Object.freeze({
        ENTER: "Enter",
        ESC: "Escape",
        SPACE: " ",
        HOME: "Home",
        END: "End",
        LEFT: "ArrowLeft",
        RIGHT: "ArrowRight",
        UP: "ArrowUp",
        DOWN: "ArrowDown",
      }),
      kh = Object.freeze({ RESET: 0, SET: 1, UNSET: 2, INCREASE: 3, DECREASE: 4, FIRST: 5, LAST: 6, SET_INDEX: 7 }),
      jh = Object.freeze({ CLICK: "click", CANCEL: "cancel", BLUR: "blur", SCROLL: "scroll" }),
      Sh = Object.freeze({ FIRST: "first", LAST: "last" }),
      Ah = Object.freeze({ entering: "opening", entered: "open", exiting: "closing", exited: "closed" }),
      Ch = "absolute",
      Nh = "menuitem",
      Ph = { "aria-hidden": !0, role: Nh },
      _h = function (t, n) {
        var r = (0, e.memo)(n),
          i = (0, e.forwardRef)(function (t, n) {
            var i = (0, e.useRef)(null);
            return (0,
            sa.jsx)(r, fh({}, t, { itemRef: i, externalRef: n, isHovering: (0, e.useContext)(mh) === i.current }));
          });
        return (i.displayName = "WithHovering(" + t + ")"), i;
      },
      Th =
        "undefined" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement
          ? e.useLayoutEffect
          : e.useEffect;
    function Mh(e, t) {
      "function" == typeof e ? e(t) : (e.current = t);
    }
    var Rh = function (t, n) {
        return (0, e.useMemo)(
          function () {
            return t
              ? n
                ? function (e) {
                    Mh(t, e), Mh(n, e);
                  }
                : t
              : n;
          },
          [t, n]
        );
      },
      Bh = function (t) {
        var n = t.block,
          r = t.element,
          i = t.modifiers,
          o = t.className;
        return (0, e.useMemo)(
          function () {
            var e = r ? n + "__" + r : n,
              t = e;
            i &&
              Object.keys(i).forEach(function (n) {
                var r = i[n];
                r && (t += " " + e + "--" + (!0 === r ? n : n + "-" + r));
              });
            var a = "function" == typeof o ? o(i) : o;
            return "string" == typeof a && (a = a.trim()) && (t += " " + a), t;
          },
          [n, r, i, o]
        );
      },
      Oh = function (e) {
        return !!e && "o" === e[0];
      },
      Lh =
        o.unstable_batchedUpdates ||
        function (e) {
          return e();
        },
      Ih =
        (Object.values,
        function (e, t, n) {
          return void 0 === n && (n = 1e-4), Math.abs(e - t) < n;
        }),
      Fh = function (e, t) {
        return !0 === e || !(!e || !e[t]);
      },
      Dh = function (e, t) {
        return "function" == typeof e ? e(t) : e;
      },
      Uh = function (e, t) {
        return (
          t &&
            Object.keys(t).forEach(function (n) {
              var r = e[n],
                i = t[n];
              e[n] =
                "function" == typeof i && r
                  ? function () {
                      i.apply(void 0, arguments), r.apply(void 0, arguments);
                    }
                  : i;
            }),
          e
        );
      },
      zh = function (e) {
        for (; e; ) {
          if (!(e = e.parentNode) || e === document.body) return;
          var t = getComputedStyle(e),
            n = t.overflow,
            r = t.overflowX,
            i = t.overflowY;
          if (/auto|scroll|overlay|hidden/.test(n + i + r)) return e;
        }
      };
    function Hh(e, t) {
      return { "aria-disabled": e || void 0, tabIndex: t ? 0 : -1 };
    }
    function Kh(e, t) {
      for (var n = 0; n < e.length; n++) if (e[n] === t) return n;
      return -1;
    }
    var Wh = [
        "className",
        "value",
        "href",
        "type",
        "checked",
        "disabled",
        "children",
        "onClick",
        "isHovering",
        "itemRef",
        "externalRef",
      ],
      qh = ["setHover"],
      Vh = _h("MenuItem", function (t) {
        var n = t.className,
          r = t.value,
          i = t.href,
          o = t.type,
          a = t.checked,
          s = t.disabled,
          l = t.children,
          c = t.onClick,
          u = t.isHovering,
          d = t.itemRef,
          f = t.externalRef,
          h = hh(t, Wh),
          p = !!s,
          m = (function (t, n, r, i) {
            var o = (0, e.useContext)(xh).submenuCloseDelay,
              a = (0, e.useContext)(yh),
              s = a.isParentOpen,
              l = a.isSubmenuOpen,
              c = a.dispatch,
              u = a.updateItems,
              d = (0, e.useRef)(0),
              f = function () {
                !r && !i && c(kh.SET, t.current);
              },
              h = function () {
                !i && c(kh.UNSET, t.current);
              };
            return (
              (function (e, t, n) {
                Th(
                  function () {
                    if (!e) {
                      var r = t.current;
                      return (
                        n(r, !0),
                        function () {
                          n(r);
                        }
                      );
                    }
                  },
                  [e, t, n]
                );
              })(i, t, u),
              (0, e.useEffect)(function () {
                return function () {
                  return clearTimeout(d.current);
                };
              }, []),
              (0, e.useEffect)(
                function () {
                  r && s && n.current && n.current.focus();
                },
                [n, r, s]
              ),
              {
                setHover: f,
                onBlur: function (e) {
                  r && !e.currentTarget.contains(e.relatedTarget) && h();
                },
                onPointerMove: function () {
                  l
                    ? d.current ||
                      (d.current = setTimeout(function () {
                        (d.current = 0), f();
                      }, o))
                    : f();
                },
                onPointerLeave: function (e, t) {
                  d.current && (clearTimeout(d.current), (d.current = 0)), !t && h();
                },
              }
            );
          })(d, d, u, p),
          y = m.setHover,
          g = hh(m, qh),
          v = (0, e.useContext)(vh),
          w = (0, e.useContext)(wh),
          b = "radio" === o,
          x = "checkbox" === o,
          E = !(!i || p || b || x),
          k = b ? w.value === r : !!x && !!a,
          j = function (e) {
            if (p) return e.stopPropagation(), void e.preventDefault();
            var t = { value: r, syntheticEvent: e };
            void 0 !== e.key && (t.key = e.key),
              x && (t.checked = !k),
              b && (t.name = w.name),
              Dh(c, t),
              b && Dh(w.onRadioChange, t),
              v.handleClick(t, x || b);
          },
          S = (0, e.useMemo)(
            function () {
              return { type: o, disabled: p, hover: u, checked: k, anchor: E };
            },
            [o, p, u, k, E]
          ),
          A = Uh(
            fh({}, g, {
              onPointerDown: y,
              onKeyDown: function (e) {
                if (u)
                  switch (e.key) {
                    case Eh.ENTER:
                    case Eh.SPACE:
                      E ? e.key === Eh.SPACE && d.current.click() : j(e);
                  }
              },
              onClick: j,
            }),
            h
          ),
          C = fh(
            { role: b ? "menuitemradio" : x ? "menuitemcheckbox" : Nh, "aria-checked": b || x ? k : void 0 },
            Hh(p, u),
            A,
            {
              ref: Rh(f, d),
              className: Bh({ block: ph, element: "item", modifiers: S, className: n }),
              children: (0, e.useMemo)(
                function () {
                  return Dh(l, S);
                },
                [l, S]
              ),
            }
          );
        return E
          ? (0, sa.jsx)("li", { role: "presentation", children: (0, sa.jsx)("a", fh({ href: i }, C)) })
          : (0, sa.jsx)("li", fh({}, C));
      }),
      $h = function (t) {
        var n = t.className,
          r = t.containerRef,
          i = t.containerProps,
          o = t.children,
          a = t.isOpen,
          s = t.skipOpen,
          l = t.theming,
          c = t.transition,
          u = t.onClose,
          d = Fh(c, "item");
        return (0, sa.jsx)(
          "div",
          fh(
            {},
            Uh(
              {
                onKeyDown: function (e) {
                  var t = e.key;
                  t === Eh.ESC && Dh(u, { key: t, reason: jh.CANCEL });
                },
                onBlur: function (e) {
                  a &&
                    !e.currentTarget.contains(e.relatedTarget || document.activeElement) &&
                    (Dh(u, { reason: jh.BLUR }),
                    s &&
                      ((s.current = !0),
                      setTimeout(function () {
                        return (s.current = !1);
                      }, 300)));
                },
              },
              i
            ),
            {
              className: Bh({
                block: "szh-menu-container",
                modifiers: (0, e.useMemo)(
                  function () {
                    return { theme: l, itemTransition: d };
                  },
                  [l, d]
                ),
                className: n,
              }),
              style: fh({ position: "absolute" }, null == i ? void 0 : i.style),
              ref: r,
              children: o,
            }
          )
        );
      },
      Gh = [
        "ariaLabel",
        "menuClassName",
        "menuStyle",
        "arrowClassName",
        "arrowStyle",
        "anchorPoint",
        "anchorRef",
        "containerRef",
        "containerProps",
        "focusProps",
        "externalRef",
        "parentScrollingRef",
        "arrow",
        "align",
        "direction",
        "position",
        "overflow",
        "setDownOverflow",
        "repositionFlag",
        "captureFocus",
        "state",
        "endTransition",
        "isDisabled",
        "menuItemFocus",
        "offsetX",
        "offsetY",
        "children",
        "onClose",
      ],
      Zh = function (t) {
        var n = t.ariaLabel,
          r = t.menuClassName,
          i = t.menuStyle,
          a = t.arrowClassName,
          s = t.arrowStyle,
          l = t.anchorPoint,
          c = t.anchorRef,
          u = t.containerRef,
          d = t.containerProps,
          f = t.focusProps,
          h = t.externalRef,
          p = t.parentScrollingRef,
          m = t.arrow,
          y = t.align,
          g = void 0 === y ? "start" : y,
          v = t.direction,
          w = void 0 === v ? "bottom" : v,
          b = t.position,
          x = void 0 === b ? "auto" : b,
          E = t.overflow,
          k = void 0 === E ? "visible" : E,
          j = t.setDownOverflow,
          S = t.repositionFlag,
          A = t.captureFocus,
          C = void 0 === A || A,
          N = t.state,
          P = t.endTransition,
          _ = t.isDisabled,
          T = t.menuItemFocus,
          M = t.offsetX,
          R = void 0 === M ? 0 : M,
          B = t.offsetY,
          O = void 0 === B ? 0 : B,
          L = t.children,
          I = t.onClose,
          F = hh(t, Gh),
          D = (0, e.useState)({ x: 0, y: 0 }),
          U = D[0],
          z = D[1],
          H = (0, e.useState)({}),
          K = H[0],
          W = H[1],
          q = (0, e.useState)(),
          V = q[0],
          $ = q[1],
          G = (0, e.useState)(w),
          Z = G[0],
          Y = G[1],
          X = (0, e.useState)(0),
          Q = X[0],
          J = X[1],
          ee = (0, e.useReducer)(function (e) {
            return e + 1;
          }, 1),
          te = ee[0],
          ne = ee[1],
          re = (0, e.useContext)(bh),
          ie = re.transition,
          oe = re.boundingBoxRef,
          ae = re.boundingBoxPadding,
          se = re.rootMenuRef,
          le = re.rootAnchorRef,
          ce = re.scrollNodesRef,
          ue = re.reposition,
          de = re.viewScroll,
          fe = (0, e.useContext)(gh).reposSubmenu || S,
          he = (0, e.useRef)(null),
          pe = (0, e.useRef)(),
          me = (0, e.useRef)(),
          ye = (0, e.useRef)(!1),
          ge = (0, e.useRef)({ width: 0, height: 0 }),
          ve = (0, e.useRef)(function () {}),
          we = (function (t, n) {
            var r = (0, e.useState)(),
              i = r[0],
              o = r[1],
              a = (0, e.useRef)({ items: [], hoverIndex: -1, sorted: !1 }).current,
              s = (0, e.useCallback)(
                function (e, t) {
                  var r = a.items;
                  if (e)
                    if (t) r.push(e);
                    else {
                      var i = r.indexOf(e);
                      i > -1 && (r.splice(i, 1), e.contains(document.activeElement) && (n.current.focus(), o()));
                    }
                  else a.items = [];
                  (a.hoverIndex = -1), (a.sorted = !1);
                },
                [a, n]
              ),
              l = (0, e.useCallback)(
                function (e, n, r) {
                  var i = a.items,
                    s = a.hoverIndex,
                    l = function () {
                      if (!a.sorted) {
                        var e = t.current.querySelectorAll(".szh-menu__item");
                        i.sort(function (t, n) {
                          return Kh(e, t) - Kh(e, n);
                        }),
                          (a.sorted = !0);
                      }
                    },
                    c = -1,
                    u = void 0;
                  switch (e) {
                    case kh.RESET:
                      break;
                    case kh.SET:
                      u = n;
                      break;
                    case kh.UNSET:
                      u = function (e) {
                        return e === n ? void 0 : e;
                      };
                      break;
                    case kh.FIRST:
                      l(), (u = i[(c = 0)]);
                      break;
                    case kh.LAST:
                      l(), (c = i.length - 1), (u = i[c]);
                      break;
                    case kh.SET_INDEX:
                      l(), (u = i[(c = r)]);
                      break;
                    case kh.INCREASE:
                      l(), (c = s) < 0 && (c = i.indexOf(n)), ++c >= i.length && (c = 0), (u = i[c]);
                      break;
                    case kh.DECREASE:
                      l(), (c = s) < 0 && (c = i.indexOf(n)), --c < 0 && (c = i.length - 1), (u = i[c]);
                  }
                  u || (c = -1), o(u), (a.hoverIndex = c);
                },
                [t, a]
              );
            return { hoverItem: i, dispatch: l, updateItems: s };
          })(he, pe),
          be = we.hoverItem,
          xe = we.dispatch,
          Ee = we.updateItems,
          ke = Oh(N),
          je = Fh(ie, "open"),
          Se = Fh(ie, "close"),
          Ae = ce.current,
          Ce = (0, e.useCallback)(
            function (e) {
              var t,
                n = c
                  ? null == (t = c.current)
                    ? void 0
                    : t.getBoundingClientRect()
                  : l
                  ? { left: l.x, right: l.x, top: l.y, bottom: l.y, width: 0, height: 0 }
                  : null;
              if (n) {
                Ae.menu || (Ae.menu = (oe ? oe.current : zh(se.current)) || window);
                var r = (function (e, t, n, r) {
                    var i = t.current.getBoundingClientRect(),
                      o = e.current.getBoundingClientRect(),
                      a =
                        n === window
                          ? { left: 0, top: 0, right: document.documentElement.clientWidth, bottom: window.innerHeight }
                          : n.getBoundingClientRect(),
                      s = (function (e) {
                        if ("string" != typeof e) return { top: 0, right: 0, bottom: 0, left: 0 };
                        var t = e.trim().split(/\s+/, 4).map(parseFloat),
                          n = isNaN(t[0]) ? 0 : t[0],
                          r = isNaN(t[1]) ? n : t[1];
                        return { top: n, right: r, bottom: isNaN(t[2]) ? n : t[2], left: isNaN(t[3]) ? r : t[3] };
                      })(r),
                      l = function (e) {
                        return e + o.left - a.left - s.left;
                      },
                      c = function (e) {
                        return e + o.left + i.width - a.right + s.right;
                      },
                      u = function (e) {
                        return e + o.top - a.top - s.top;
                      },
                      d = function (e) {
                        return e + o.top + i.height - a.bottom + s.bottom;
                      };
                    return {
                      menuRect: i,
                      containerRect: o,
                      getLeftOverflow: l,
                      getRightOverflow: c,
                      getTopOverflow: u,
                      getBottomOverflow: d,
                      confineHorizontally: function (e) {
                        var t = l(e);
                        if (t < 0) e -= t;
                        else {
                          var n = c(e);
                          n > 0 && (t = l((e -= n))) < 0 && (e -= t);
                        }
                        return e;
                      },
                      confineVertically: function (e) {
                        var t = u(e);
                        if (t < 0) e -= t;
                        else {
                          var n = d(e);
                          n > 0 && (t = u((e -= n))) < 0 && (e -= t);
                        }
                        return e;
                      },
                    };
                  })(u, he, Ae.menu, ae),
                  i = (function (e) {
                    var t = e.arrow,
                      n = e.align,
                      r = e.direction,
                      i = e.offsetX,
                      o = e.offsetY,
                      a = e.position,
                      s = e.anchorRect,
                      l = e.arrowRef,
                      c = e.positionHelpers,
                      u = c.menuRect,
                      d = c.containerRect,
                      f = i,
                      h = o;
                    t && ("left" === r || "right" === r ? (f += l.current.offsetWidth) : (h += l.current.offsetHeight));
                    var p,
                      m,
                      y = s.left - d.left - u.width - f,
                      g = s.right - d.left + f,
                      v = s.top - d.top - u.height - h,
                      w = s.bottom - d.top + h;
                    "end" === n
                      ? ((p = s.right - d.left - u.width), (m = s.bottom - d.top - u.height))
                      : "center" === n
                      ? ((p = s.left - d.left - (u.width - s.width) / 2),
                        (m = s.top - d.top - (u.height - s.height) / 2))
                      : ((p = s.left - d.left), (m = s.top - d.top));
                    var b = fh({}, c, {
                      anchorRect: s,
                      placeLeftX: y,
                      placeRightX: g,
                      placeLeftorRightY: (m += h),
                      placeTopY: v,
                      placeBottomY: w,
                      placeToporBottomX: (p += f),
                      arrowRef: l,
                      arrow: t,
                      direction: r,
                      position: a,
                    });
                    switch (r) {
                      case "left":
                      case "right":
                        return (function (e) {
                          var t,
                            n,
                            r,
                            i = e.anchorRect,
                            o = e.containerRect,
                            a = e.menuRect,
                            s = e.placeLeftorRightY,
                            l = e.placeLeftX,
                            c = e.placeRightX,
                            u = e.getLeftOverflow,
                            d = e.getRightOverflow,
                            f = e.confineHorizontally,
                            h = e.confineVertically,
                            p = e.arrowRef,
                            m = e.arrow,
                            y = e.direction,
                            g = e.position,
                            v = y,
                            w = s;
                          "initial" !== g &&
                            ((w = h(w)),
                            "anchor" === g &&
                              ((w = Math.min(w, i.bottom - o.top)), (w = Math.max(w, i.top - o.top - a.height)))),
                            "left" === v
                              ? ((t = l),
                                "initial" !== g &&
                                  (n = u(t)) < 0 &&
                                  ((r = d(c)) <= 0 || -n > r) &&
                                  ((t = c), (v = "right")))
                              : ((t = c),
                                "initial" !== g &&
                                  (r = d(t)) > 0 &&
                                  ((n = u(l)) >= 0 || -n < r) &&
                                  ((t = l), (v = "left"))),
                            "auto" === g && (t = f(t));
                          var b = m
                            ? (function (e) {
                                var t = e.arrowRef,
                                  n = e.menuY,
                                  r = e.anchorRect,
                                  i = e.containerRect,
                                  o = e.menuRect,
                                  a = r.top - i.top - n + r.height / 2,
                                  s = 1.25 * t.current.offsetHeight;
                                return (a = Math.max(s, a)), Math.min(a, o.height - s);
                              })({ menuY: w, arrowRef: p, anchorRect: i, containerRect: o, menuRect: a })
                            : void 0;
                          return { arrowY: b, x: t, y: w, computedDirection: v };
                        })(b);
                      default:
                        return (function (e) {
                          var t,
                            n,
                            r,
                            i = e.anchorRect,
                            o = e.containerRect,
                            a = e.menuRect,
                            s = e.placeToporBottomX,
                            l = e.placeTopY,
                            c = e.placeBottomY,
                            u = e.getTopOverflow,
                            d = e.getBottomOverflow,
                            f = e.confineHorizontally,
                            h = e.confineVertically,
                            p = e.arrowRef,
                            m = e.arrow,
                            y = e.direction,
                            g = e.position,
                            v = "top" === y ? "top" : "bottom",
                            w = s;
                          "initial" !== g &&
                            ((w = f(w)),
                            "anchor" === g &&
                              ((w = Math.min(w, i.right - o.left)), (w = Math.max(w, i.left - o.left - a.width)))),
                            "top" === v
                              ? ((t = l),
                                "initial" !== g &&
                                  (n = u(t)) < 0 &&
                                  ((r = d(c)) <= 0 || -n > r) &&
                                  ((t = c), (v = "bottom")))
                              : ((t = c),
                                "initial" !== g &&
                                  (r = d(t)) > 0 &&
                                  ((n = u(l)) >= 0 || -n < r) &&
                                  ((t = l), (v = "top"))),
                            "auto" === g && (t = h(t));
                          var b = m
                            ? (function (e) {
                                var t = e.arrowRef,
                                  n = e.menuX,
                                  r = e.anchorRect,
                                  i = e.containerRect,
                                  o = e.menuRect,
                                  a = r.left - i.left - n + r.width / 2,
                                  s = 1.25 * t.current.offsetWidth;
                                return (a = Math.max(s, a)), Math.min(a, o.width - s);
                              })({ menuX: w, arrowRef: p, anchorRect: i, containerRect: o, menuRect: a })
                            : void 0;
                          return { arrowX: b, x: w, y: t, computedDirection: v };
                        })(b);
                    }
                  })({
                    arrow: m,
                    align: g,
                    direction: w,
                    offsetX: R,
                    offsetY: O,
                    position: x,
                    anchorRect: n,
                    arrowRef: me,
                    positionHelpers: r,
                  }),
                  o = i.arrowX,
                  a = i.arrowY,
                  s = i.x,
                  d = i.y,
                  f = i.computedDirection,
                  h = r.menuRect,
                  p = h.height;
                if (!e && "visible" !== k) {
                  var y,
                    v,
                    b = r.getTopOverflow,
                    E = r.getBottomOverflow,
                    j = ge.current.height,
                    S = E(d);
                  if (S > 0 || (Ih(S, 0) && Ih(p, j))) (y = p - S), (v = S);
                  else {
                    var A = b(d);
                    (A < 0 || (Ih(A, 0) && Ih(p, j))) && ((v = 0 - A), (y = p + A) >= 0 && (d -= A));
                  }
                  y >= 0 ? ((p = y), $({ height: y, overflowAmt: v })) : $();
                }
                m && W({ x: o, y: a }), z({ x: s, y: d }), Y(f), (ge.current = { width: h.width, height: p });
              }
            },
            [m, g, ae, w, R, O, x, k, l, c, u, oe, se, Ae]
          );
        Th(
          function () {
            ke && (Ce(), ye.current && ne()), (ye.current = ke), (ve.current = Ce);
          },
          [ke, Ce, fe]
        ),
          Th(
            function () {
              V && !j && (he.current.scrollTop = 0);
            },
            [V, j]
          ),
          Th(
            function () {
              return Ee;
            },
            [Ee]
          ),
          (0, e.useEffect)(
            function () {
              var e = Ae.menu;
              if (ke && e) {
                if (((e = e.addEventListener ? e : window), !Ae.anchors)) {
                  Ae.anchors = [];
                  for (var t = zh(le && le.current); t && t !== e; ) Ae.anchors.push(t), (t = zh(t));
                }
                var n = de;
                if ((Ae.anchors.length && "initial" === n && (n = "auto"), "initial" !== n)) {
                  var r = function () {
                      "auto" === n
                        ? Lh(function () {
                            return Ce(!0);
                          })
                        : Dh(I, { reason: jh.SCROLL });
                    },
                    i = Ae.anchors.concat("initial" !== de ? e : []);
                  return (
                    i.forEach(function (e) {
                      return e.addEventListener("scroll", r);
                    }),
                    function () {
                      return i.forEach(function (e) {
                        return e.removeEventListener("scroll", r);
                      });
                    }
                  );
                }
              }
            },
            [le, Ae, ke, I, de, Ce]
          );
        var Ne = !!V && V.overflowAmt > 0;
        (0, e.useEffect)(
          function () {
            if (!Ne && ke && p) {
              var e = function () {
                  return Lh(Ce);
                },
                t = p.current;
              return (
                t.addEventListener("scroll", e),
                function () {
                  return t.removeEventListener("scroll", e);
                }
              );
            }
          },
          [ke, Ne, p, Ce]
        ),
          (0, e.useEffect)(
            function () {
              if ("function" == typeof ResizeObserver && "initial" !== ue) {
                var e = new ResizeObserver(function (e) {
                    var t,
                      n,
                      r = e[0],
                      i = r.borderBoxSize,
                      a = r.target;
                    if (i) {
                      var s = i[0] || i;
                      (t = s.inlineSize), (n = s.blockSize);
                    } else {
                      var l = a.getBoundingClientRect();
                      (t = l.width), (n = l.height);
                    }
                    0 !== t &&
                      0 !== n &&
                      ((Ih(t, ge.current.width, 1) && Ih(n, ge.current.height, 1)) ||
                        (0, o.flushSync)(function () {
                          ve.current(), ne();
                        }));
                  }),
                  t = he.current;
                return (
                  e.observe(t, { box: "border-box" }),
                  function () {
                    return e.unobserve(t);
                  }
                );
              }
            },
            [ue]
          ),
          (0, e.useEffect)(
            function () {
              if (!ke) return xe(kh.RESET), void (Se || $());
              var e = T || {},
                t = e.position,
                n = e.alwaysUpdate,
                r = function () {
                  t === Sh.FIRST ? xe(kh.FIRST) : t === Sh.LAST ? xe(kh.LAST) : t >= -1 && xe(kh.SET_INDEX, void 0, t);
                };
              if (n) r();
              else if (C) {
                var i = setTimeout(
                  function () {
                    he.current.contains(document.activeElement) || (pe.current.focus(), r());
                  },
                  je ? 170 : 100
                );
                return function () {
                  return clearTimeout(i);
                };
              }
            },
            [ke, je, Se, C, T, xe]
          );
        var Pe,
          _e,
          Te = Q > 0,
          Me = (0, e.useMemo)(
            function () {
              return { isParentOpen: ke, isSubmenuOpen: Te, setOpenSubmenuCount: J, dispatch: xe, updateItems: Ee };
            },
            [ke, Te, xe, Ee]
          );
        V && (j ? (_e = V.overflowAmt) : (Pe = V.height));
        var Re = (0, e.useMemo)(
            function () {
              return { reposSubmenu: te, overflow: k, overflowAmt: _e, parentMenuRef: he, parentDir: Z };
            },
            [te, k, _e, Z]
          ),
          Be = Pe >= 0 ? { maxHeight: Pe, overflow: k } : void 0,
          Oe = (0, e.useMemo)(
            function () {
              return { state: N, dir: Z };
            },
            [N, Z]
          ),
          Le = (0, e.useMemo)(
            function () {
              return { dir: Z };
            },
            [Z]
          ),
          Ie = Bh({ block: ph, element: "arrow", modifiers: Le, className: a }),
          Fe = (0, sa.jsxs)(
            "ul",
            fh(
              { role: "menu", "aria-label": n },
              Hh(_),
              Uh(
                {
                  onKeyDown: function (e) {
                    switch (e.key) {
                      case Eh.HOME:
                        xe(kh.FIRST);
                        break;
                      case Eh.END:
                        xe(kh.LAST);
                        break;
                      case Eh.UP:
                        xe(kh.DECREASE, be);
                        break;
                      case Eh.DOWN:
                        xe(kh.INCREASE, be);
                        break;
                      case Eh.SPACE:
                        return void (e.target && -1 !== e.target.className.indexOf(ph) && e.preventDefault());
                      default:
                        return;
                    }
                    e.preventDefault(), e.stopPropagation();
                  },
                  onAnimationEnd: function () {
                    "closing" === N && $(), Dh(P);
                  },
                },
                F
              ),
              {
                ref: Rh(h, he),
                className: Bh({ block: ph, modifiers: Oe, className: r }),
                style: fh({}, i, Be, {
                  margin: 0,
                  display: "closed" === N ? "none" : void 0,
                  position: Ch,
                  left: U.x,
                  top: U.y,
                }),
                children: [
                  (0, sa.jsx)(
                    "li",
                    fh(
                      {
                        tabIndex: -1,
                        style: { position: Ch, left: 0, top: 0, display: "block", outline: "none" },
                        ref: pe,
                      },
                      Ph,
                      f
                    )
                  ),
                  m &&
                    (0, sa.jsx)(
                      "li",
                      fh(
                        {
                          className: Ie,
                          style: fh({ display: "block", position: Ch, left: K.x, top: K.y }, s),
                          ref: me,
                        },
                        Ph
                      )
                    ),
                  (0, sa.jsx)(gh.Provider, {
                    value: Re,
                    children: (0, sa.jsx)(yh.Provider, {
                      value: Me,
                      children: (0, sa.jsx)(mh.Provider, { value: be, children: Dh(L, Oe) }),
                    }),
                  }),
                ],
              }
            )
          );
        return d ? (0, sa.jsx)($h, fh({}, d, { isOpen: ke, children: Fe })) : Fe;
      },
      Yh = [
        "aria-label",
        "className",
        "containerProps",
        "initialMounted",
        "unmountOnClose",
        "transition",
        "transitionTimeout",
        "boundingBoxRef",
        "boundingBoxPadding",
        "reposition",
        "submenuOpenDelay",
        "submenuCloseDelay",
        "skipOpen",
        "viewScroll",
        "portal",
        "theming",
        "onItemClick",
      ],
      Xh = (0, e.forwardRef)(function (t, n) {
        var r = t["aria-label"],
          i = t.className,
          a = t.containerProps,
          s = t.initialMounted,
          l = t.unmountOnClose,
          c = t.transition,
          u = t.transitionTimeout,
          d = t.boundingBoxRef,
          f = t.boundingBoxPadding,
          h = t.reposition,
          p = void 0 === h ? "auto" : h,
          m = t.submenuOpenDelay,
          y = void 0 === m ? 300 : m,
          g = t.submenuCloseDelay,
          v = void 0 === g ? 150 : g,
          w = t.skipOpen,
          b = t.viewScroll,
          x = void 0 === b ? "initial" : b,
          E = t.portal,
          k = t.theming,
          j = t.onItemClick,
          S = hh(t, Yh),
          A = (0, e.useRef)(null),
          C = (0, e.useRef)({}),
          N = S.anchorRef,
          P = S.state,
          _ = S.onClose,
          T = (0, e.useMemo)(
            function () {
              return {
                initialMounted: s,
                unmountOnClose: l,
                transition: c,
                transitionTimeout: u,
                boundingBoxRef: d,
                boundingBoxPadding: f,
                rootMenuRef: A,
                rootAnchorRef: N,
                scrollNodesRef: C,
                reposition: p,
                viewScroll: x,
              };
            },
            [s, l, c, u, N, d, f, p, x]
          ),
          M = (0, e.useMemo)(
            function () {
              return { submenuOpenDelay: y, submenuCloseDelay: v };
            },
            [y, v]
          ),
          R = (0, e.useMemo)(
            function () {
              return {
                handleClick: function (e, t) {
                  e.stopPropagation || Dh(j, e);
                  var n = e.keepOpen;
                  void 0 === n && (n = t && e.key === Eh.SPACE),
                    n || Dh(_, { value: e.value, key: e.key, reason: jh.CLICK });
                },
                handleClose: function (e) {
                  Dh(_, { key: e, reason: jh.CLICK });
                },
              };
            },
            [j, _]
          );
        if (!P) return null;
        var B = (0, sa.jsx)(bh.Provider, {
          value: T,
          children: (0, sa.jsx)(xh.Provider, {
            value: M,
            children: (0, sa.jsx)(vh.Provider, {
              value: R,
              children: (0, sa.jsx)(
                Zh,
                fh({}, S, {
                  ariaLabel: r || "Menu",
                  externalRef: n,
                  containerRef: A,
                  containerProps: {
                    className: i,
                    containerRef: A,
                    containerProps: a,
                    skipOpen: w,
                    theming: k,
                    transition: c,
                    onClose: _,
                  },
                })
              ),
            }),
          }),
        });
        return !0 === E && "undefined" != typeof document
          ? (0, o.createPortal)(B, document.body)
          : E
          ? E.target
            ? (0, o.createPortal)(B, E.target)
            : E.stablePosition
            ? null
            : B
          : B;
      }),
      Qh = ["preEnter", "entering", "entered", "preExit", "exiting", "exited", "unmounted"],
      Jh = function (e) {
        return e ? 6 : 5;
      },
      ep = function (e, t, n, r, i) {
        clearTimeout(r.current), t(e), (n.current = e), i && i({ state: Qh[e] });
      },
      tp = ["aria-label", "captureFocus", "initialOpen", "menuButton", "instanceRef", "onMenuChange"],
      np = (0, e.forwardRef)(function (t, n) {
        var r = t["aria-label"],
          i = t.menuButton,
          o = t.instanceRef,
          a = t.onMenuChange,
          s = hh(t, tp),
          l = (function (t) {
            var n = (function (t) {
                var n = void 0 === t ? {} : t,
                  r = n.initialOpen,
                  i = n.initialMounted,
                  o = n.unmountOnClose,
                  a = n.transition,
                  s = n.transitionTimeout,
                  l = (function (t) {
                    var n,
                      r,
                      i = void 0 === t ? {} : t,
                      o = i.enter,
                      a = void 0 === o || o,
                      s = i.exit,
                      l = void 0 === s || s,
                      c = i.preEnter,
                      u = i.preExit,
                      d = i.timeout,
                      f = i.initialEntered,
                      h = i.mountOnEnter,
                      p = i.unmountOnExit,
                      m = i.onChange,
                      y = (0, e.useState)(f ? 2 : Jh(h)),
                      g = y[0],
                      v = y[1],
                      w = (0, e.useRef)(g),
                      b = (0, e.useRef)();
                    "object" == typeof d ? ((n = d.enter), (r = d.exit)) : (n = r = d);
                    var x = (0, e.useCallback)(
                        function () {
                          var e;
                          switch (w.current) {
                            case 1:
                            case 0:
                              e = 2;
                              break;
                            case 4:
                            case 3:
                              e = Jh(p);
                          }
                          void 0 !== e && ep(e, v, w, b, m);
                        },
                        [m, p]
                      ),
                      E = (0, e.useCallback)(
                        function (e) {
                          var t = function e(t) {
                              switch ((ep(t, v, w, b, m), t)) {
                                case 1:
                                  n >= 0 && (b.current = setTimeout(x, n));
                                  break;
                                case 4:
                                  r >= 0 && (b.current = setTimeout(x, r));
                                  break;
                                case 0:
                                case 3:
                                  b.current = setTimeout(function () {
                                    return e(t + 1);
                                  }, 0);
                              }
                            },
                            i = w.current <= 2;
                          "boolean" != typeof e && (e = !i),
                            e ? i || t(a ? (c ? 0 : 1) : 2) : i && t(l ? (u ? 3 : 4) : Jh(p));
                        },
                        [x, m, a, l, c, u, n, r, p]
                      );
                    return (
                      (0, e.useEffect)(function () {
                        return function () {
                          return clearTimeout(b.current);
                        };
                      }, []),
                      [Qh[g], E, x]
                    );
                  })({
                    initialEntered: r,
                    mountOnEnter: !i,
                    unmountOnExit: o,
                    timeout: void 0 === s ? 500 : s,
                    enter: Fh(a, "open"),
                    exit: Fh(a, "close"),
                  }),
                  c = l[0],
                  u = l[1],
                  d = l[2];
                return [{ state: Ah[c], endTransition: d }, u];
              })(t),
              r = n[0],
              i = n[1],
              o = (0, e.useState)(),
              a = o[0],
              s = o[1];
            return [
              fh({ menuItemFocus: a }, r),
              i,
              function (e, t) {
                s({ position: e, alwaysUpdate: t }), i(!0);
              },
            ];
          })(s),
          c = l[0],
          u = l[1],
          d = l[2],
          f = c.state,
          h = Oh(f),
          p = (0, e.useRef)(null),
          m = (function (t, n) {
            var r = (0, e.useState)({})[0];
            return {
              onMouseDown: function () {
                r.v = t && "closed" !== t;
              },
              onClick: function (e) {
                return r.v
                  ? (r.v = !1)
                  : (function (e, t) {
                      return d(t.detail ? void 0 : Sh.FIRST);
                    })(0, e);
              },
            };
          })(f),
          y = (0, e.useCallback)(
            function (e) {
              u(!1),
                e.key &&
                  setTimeout(function () {
                    var e;
                    return null == (e = p.current) ? void 0 : e.focus();
                  }, 0);
            },
            [u]
          ),
          g = Dh(i, { open: h });
        if (!g || !g.type) throw new Error("Menu requires a menuButton prop.");
        var v = fh(
          { ref: Rh(g.ref, p) },
          Uh(
            fh(
              {
                onKeyDown: function (e) {
                  switch (e.key) {
                    case Eh.UP:
                      d(Sh.LAST);
                      break;
                    case Eh.DOWN:
                      d(Sh.FIRST);
                      break;
                    default:
                      return;
                  }
                  e.preventDefault();
                },
              },
              m
            ),
            g.props
          )
        );
        "MenuButton" === g.type._szhsinMenu && (v.isOpen = h);
        var w = (0, e.cloneElement)(g, v);
        return (
          (function (t, n) {
            var r = (0, e.useRef)(n);
            (0, e.useEffect)(
              function () {
                r.current !== n && Dh(t, { open: n }), (r.current = n);
              },
              [t, n]
            );
          })(a, h),
          (0, e.useImperativeHandle)(o, function () {
            return {
              openMenu: d,
              closeMenu: function () {
                return u(!1);
              },
            };
          }),
          (0, sa.jsxs)(e.Fragment, {
            children: [
              w,
              (0, sa.jsx)(
                Xh,
                fh({}, s, c, {
                  "aria-label": r || ("string" == typeof g.props.children ? g.props.children : "Menu"),
                  anchorRef: p,
                  ref: n,
                  onClose: y,
                })
              ),
            ],
          })
        );
      });
    function rp() {
      const e = tc(),
        { note: t, show: n, selectedCustomRelays: r } = m(e => e.reBroadcast),
        i = k(),
        o = aa().relays;
      return (0, sa.jsx)(sa.Fragment, {
        children:
          n &&
          (0, sa.jsxs)(Hu, {
            className: "note-creator-modal",
            onClose: () => i(ul(!1)),
            children: [
              (0, sa.jsx)("div", {
                children: Object.keys(o.item || {})
                  .filter(e => o.item[e].write)
                  .map((e, t, n) =>
                    (0, sa.jsxs)("div", {
                      className: "card flex",
                      children: [
                        (0, sa.jsx)("div", {
                          className: "flex f-col f-grow",
                          children: (0, sa.jsx)("div", { children: e }),
                        }),
                        (0, sa.jsx)("div", {
                          children: (0, sa.jsx)("input", {
                            type: "checkbox",
                            checked: !r || r.includes(e),
                            onChange: t =>
                              i(
                                fl(
                                  (!t.target.checked || !r || r.length != n.length - 1) &&
                                    n.filter(n => (n === e ? t.target.checked : !r || r.includes(n)))
                                )
                              ),
                          }),
                        }),
                      ],
                    })
                  ),
              }),
              (0, sa.jsxs)("div", {
                className: "note-creator-actions",
                children: [
                  (0, sa.jsx)("button", {
                    className: "secondary",
                    onClick: function () {
                      i(hl());
                    },
                    children: (0, sa.jsx)(wl, { ...Fu.Cancel }),
                  }),
                  (0, sa.jsx)("button", {
                    onClick: function (n) {
                      n.stopPropagation(),
                        (async function () {
                          t && e && (r ? r.forEach(e => ew.WriteOnceToRelay(e, t)) : ew.BroadcastEvent(t), i(hl()));
                        })().catch(console.warn);
                    },
                    children: (0, sa.jsx)(wl, { ...Fu.ReBroadcast }),
                  }),
                ],
              }),
            ],
          }),
      });
    }
    function ip(e) {
      let { ev: t, ...n } = e;
      const r = k(),
        { formatMessage: i } = yl(),
        o = aa(),
        { pinned: a, bookmarked: s, publicKey: l, preferences: c } = o,
        { mute: u, block: d } = rc(),
        f = tc(),
        h = m(e => e.reBroadcast.show),
        p = m(e => e.reBroadcast.note),
        y = h && p && (null == p ? void 0 : p.id) === t.id,
        g = window.navigator.language,
        v = new Intl.DisplayNames([...window.navigator.languages], { type: "language" }),
        w = t.pubkey === l;
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)(np, {
            menuButton: (0, sa.jsx)("div", {
              className: "reaction-pill",
              children: (0, sa.jsx)(_l, { name: "dots", size: 15 }),
            }),
            menuClassName: "ctx-menu",
            children: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("div", {
                  className: "close-menu-container",
                  children: (0, sa.jsx)(Vh, { children: (0, sa.jsx)("div", { className: "close-menu" }) }),
                }),
                (0, sa.jsxs)(Vh, {
                  onClick: () => n.setShowReactions(!0),
                  children: [(0, sa.jsx)(_l, { name: "heart" }), (0, sa.jsx)(wl, { ...Fu.Reactions })],
                }),
                (0, sa.jsxs)(Vh, {
                  onClick: () =>
                    (async function () {
                      const e = (0, Mt.encodeTLV)(Mt.NostrPrefix.Event, t.id, t.relays),
                        n = `${window.location.protocol}//${window.location.host}/e/${e}`;
                      "share" in window.navigator
                        ? await window.navigator.share({ title: "Snort", url: n })
                        : await navigator.clipboard.writeText(n);
                    })(),
                  children: [(0, sa.jsx)(_l, { name: "share" }), (0, sa.jsx)(wl, { ...Fu.Share })],
                }),
                !a.item.includes(t.id) &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () =>
                      (async function (e) {
                        if (f) {
                          const t = [...a.item, e],
                            n = await f.noteList(t, Mt.Lists.Pinned);
                          ew.BroadcastEvent(n), ra(o, t, 1e3 * n.created_at);
                        }
                      })(t.id),
                    children: [(0, sa.jsx)(_l, { name: "pin" }), (0, sa.jsx)(wl, { ...Fu.Pin })],
                  }),
                !s.item.includes(t.id) &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () =>
                      (async function (e) {
                        if (f) {
                          const t = [...s.item, e],
                            n = await f.noteList(t, Mt.Lists.Bookmarked);
                          ew.BroadcastEvent(n), ia(o, t, 1e3 * n.created_at);
                        }
                      })(t.id),
                    children: [(0, sa.jsx)(_l, { name: "bookmark" }), (0, sa.jsx)(wl, { ...Fu.Bookmark })],
                  }),
                (0, sa.jsxs)(Vh, {
                  onClick: () =>
                    (async function () {
                      const e = (0, Mt.encodeTLV)(Mt.NostrPrefix.Event, t.id, t.relays);
                      await navigator.clipboard.writeText(e);
                    })(),
                  children: [(0, sa.jsx)(_l, { name: "copy" }), (0, sa.jsx)(wl, { ...Fu.CopyID })],
                }),
                (0, sa.jsxs)(Vh, {
                  onClick: () => u(t.pubkey),
                  children: [(0, sa.jsx)(_l, { name: "mute" }), (0, sa.jsx)(wl, { ...Fu.Mute })],
                }),
                c.enableReactions &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () => n.react("-"),
                    children: [(0, sa.jsx)(_l, { name: "dislike" }), (0, sa.jsx)(wl, { ...Fu.DislikeAction })],
                  }),
                t.pubkey === l &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () => {
                      (null == p ? void 0 : p.id) !== t.id && r(hl()), r(dl(t)), r(ul(!h));
                    },
                    children: [(0, sa.jsx)(_l, { name: "relay" }), (0, sa.jsx)(wl, { ...Fu.ReBroadcast })],
                  }),
                t.pubkey !== l &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () => d(t.pubkey),
                    children: [(0, sa.jsx)(_l, { name: "block" }), (0, sa.jsx)(wl, { ...Fu.Block })],
                  }),
                (0, sa.jsxs)(Vh, {
                  onClick: () =>
                    (async function () {
                      const e = await fetch(`${ci}/translate`, {
                        method: "POST",
                        body: JSON.stringify({ q: t.content, source: "auto", target: g.split("-")[0] }),
                        headers: { "Content-Type": "application/json" },
                      });
                      if (e.ok) {
                        const t = await e.json();
                        "function" == typeof n.onTranslated &&
                          t &&
                          n.onTranslated({
                            text: t.translatedText,
                            fromLanguage: v.of(t.detectedLanguage.language),
                            confidence: t.detectedLanguage.confidence,
                          });
                      }
                    })(),
                  children: [
                    (0, sa.jsx)(_l, { name: "translate" }),
                    (0, sa.jsx)(wl, { ...Fu.TranslateTo, values: { lang: v.of(g.split("-")[0]) } }),
                  ],
                }),
                c.showDebugMenus &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () =>
                      (async function () {
                        await navigator.clipboard.writeText(JSON.stringify(t, void 0, "  "));
                      })(),
                    children: [(0, sa.jsx)(_l, { name: "json" }), (0, sa.jsx)(wl, { ...Fu.CopyJSON })],
                  }),
                w &&
                  (0, sa.jsxs)(Vh, {
                    onClick: () =>
                      (async function () {
                        if (window.confirm(i(Fu.ConfirmDeletion, { id: t.id.substring(0, 8) })) && f) {
                          const e = await f.delete(t.id);
                          ew.BroadcastEvent(e);
                        }
                      })(),
                    children: [(0, sa.jsx)(_l, { name: "trash", className: "red" }), (0, sa.jsx)(wl, { ...Fu.Delete })],
                  }),
              ],
            }),
          }),
          y && (0, sa.jsx)(rp, {}),
        ],
      });
    }
    const op = function () {
        const t = (0, e.useRef)();
        return (
          (0, e.useEffect)(() => {
            const e = t.current;
            if (e) {
              const t = t => {
                0 != t.deltaY &&
                  (t.preventDefault(), e.scrollTo({ left: e.scrollLeft + t.deltaY, behavior: "smooth" }));
              };
              return e.addEventListener("wheel", t), () => e.removeEventListener("wheel", t);
            }
          }, []),
          t
        );
      },
      ap = e => {
        let { t, tab: n, setTab: r } = e;
        return (0, sa.jsx)("div", {
          className: `tab${n.value === t.value ? " active" : ""}${t.disabled ? " disabled" : ""}`,
          onClick: () => !t.disabled && r(t),
          children: t.text,
        });
      },
      sp = e => {
        let { tabs: t, tab: n, setTab: r } = e;
        const i = op();
        return (0, sa.jsx)("div", {
          className: "tabs",
          ref: i,
          children: t.map(e => (0, sa.jsx)(ap, { tab: n, setTab: r, t: e })),
        });
      },
      lp = t => {
        let { show: n, setShow: r, positive: i, negative: o, reposts: a, zaps: s } = t;
        const { formatMessage: l } = yl(),
          c = () => r(!1),
          u = (0, e.useMemo)(() => {
            const e = [...i];
            return e.sort((e, t) => t.created_at - e.created_at), e;
          }, [i]),
          d = (0, e.useMemo)(() => {
            const e = [...o];
            return e.sort((e, t) => t.created_at - e.created_at), e;
          }, [o]),
          f = i.length + o.length + s.length + a.length,
          h = [
            { text: l(Fu.Likes, { n: u.length }), value: 0 },
            { text: l(Fu.Zaps, { n: s.length }), value: 1, disabled: 0 === s.length },
            { text: l(Fu.Reposts, { n: a.length }), value: 2, disabled: 0 === a.length },
          ].concat(0 !== d.length ? [{ text: l(Fu.Dislikes, { n: d.length }), value: 3 }] : []),
          [p, m] = (0, e.useState)(h[0]);
        return (
          (0, e.useEffect)(() => {
            n || m(h[0]);
          }, [n]),
          n
            ? (0, sa.jsxs)(Hu, {
                className: "reactions-modal",
                onClose: c,
                children: [
                  (0, sa.jsx)("div", { className: "close", onClick: c, children: (0, sa.jsx)(_l, { name: "close" }) }),
                  (0, sa.jsx)("div", {
                    className: "reactions-header",
                    children: (0, sa.jsx)("h2", {
                      children: (0, sa.jsx)(wl, { ...Fu.ReactionsCount, values: { n: f } }),
                    }),
                  }),
                  (0, sa.jsx)(sp, { tabs: h, tab: p, setTab: m }),
                  (0, sa.jsxs)(
                    "div",
                    {
                      className: "reactions-body",
                      children: [
                        0 === p.value &&
                          u.map(e =>
                            (0, sa.jsxs)(
                              "div",
                              {
                                className: "reactions-item",
                                children: [
                                  (0, sa.jsx)("div", {
                                    className: "reaction-icon",
                                    children: "+" === e.content ? (0, sa.jsx)(_l, { name: "heart" }) : e.content,
                                  }),
                                  (0, sa.jsx)(Bl, { pubkey: e.pubkey }),
                                ],
                              },
                              e.id
                            )
                          ),
                        1 === p.value &&
                          s.map(
                            e =>
                              e.sender &&
                              (0, sa.jsxs)(
                                "div",
                                {
                                  className: "reactions-item",
                                  children: [
                                    (0, sa.jsxs)("div", {
                                      className: "zap-reaction-icon",
                                      children: [
                                        (0, sa.jsx)(_l, { name: "zap", size: 20 }),
                                        (0, sa.jsx)("span", { className: "zap-amount", children: nd(e.amount) }),
                                      ],
                                    }),
                                    (0, sa.jsx)(Bl, {
                                      pubkey: e.anonZap ? "" : e.sender,
                                      subHeader: (0, sa.jsx)("div", { title: e.content, children: e.content }),
                                      link: e.anonZap ? "" : void 0,
                                      overrideUsername: e.anonZap
                                        ? l({ id: "LXxsbk", defaultMessage: [{ type: 0, value: "Anonymous" }] })
                                        : void 0,
                                    }),
                                  ],
                                },
                                e.id
                              )
                          ),
                        2 === p.value &&
                          a.map(e =>
                            (0, sa.jsxs)(
                              "div",
                              {
                                className: "reactions-item",
                                children: [
                                  (0, sa.jsx)("div", {
                                    className: "reaction-icon",
                                    children: (0, sa.jsx)(_l, { name: "repost", size: 16 }),
                                  }),
                                  (0, sa.jsx)(Bl, { pubkey: e.pubkey }),
                                ],
                              },
                              e.id
                            )
                          ),
                        3 === p.value &&
                          d.map(e =>
                            (0, sa.jsxs)(
                              "div",
                              {
                                className: "reactions-item f-ellipsis",
                                children: [
                                  (0, sa.jsx)("div", {
                                    className: "reaction-icon",
                                    children: (0, sa.jsx)(_l, { name: "dislike" }),
                                  }),
                                  (0, sa.jsx)(Bl, { pubkey: e.pubkey }),
                                ],
                              },
                              e.id
                            )
                          ),
                      ],
                    },
                    p.value
                  ),
                ],
              })
            : null
        );
      };
    function cp(t) {
      const n = (0, e.useMemo)(() => {
          if (!t) return null;
          const e = new Mt.RequestBuilder(`zaps:${t.encode()}`);
          return (
            t.type === Mt.NostrPrefix.PublicKey
              ? e.withFilter().tag("p", [t.id]).kinds([Mt.EventKind.ZapReceipt])
              : (t.type !== Mt.NostrPrefix.Event && t.type !== Mt.NostrPrefix.Note) ||
                e.withFilter().tag("e", [t.id]).kinds([Mt.EventKind.ZapReceipt]),
            e
          );
        }, [t]),
        r = (0, El.useRequestBuilder)(Mt.NoteCollection, n),
        i = (0, e.useMemo)(() => {
          if (r.data) {
            const e = r.data.map(e => (0, Mt.parseZap)(e, $l)).filter(e => e.valid);
            return e.sort((e, t) => t.amount - e.amount), e;
          }
          return [];
        }, [r]);
      return i;
    }
    const up = t => {
      let { pubkey: n, lnurl: r, children: i, event: o } = t;
      const a = (0, El.useUserProfile)(n),
        [s, l] = (0, e.useState)(!1),
        c = null != r ? r : (null == a ? void 0 : a.lud16) || (null == a ? void 0 : a.lud06);
      return c
        ? (0, sa.jsxs)(sa.Fragment, {
            children: [
              (0, sa.jsxs)("div", {
                className: "zap-button flex",
                onClick: () => l(!0),
                children: [(0, sa.jsx)(_l, { name: "zap", className: i ? "mr5" : "", size: 15 }), i],
              }),
              (0, sa.jsx)(Yd, {
                target: (null == a ? void 0 : a.display_name) || (null == a ? void 0 : a.name),
                lnurl: c,
                show: s,
                onClose: () => l(!1),
                author: n,
                note: o,
              }),
            ],
          })
        : null;
    };
    function dp(e) {
      let { ev: t } = e;
      const n = cp((0, Mt.createNostrLink)(Mt.NostrPrefix.Note, t.id)),
        r = Number((0, Xo.MV)(t, "amount")),
        i = n.reduce((e, t) => e + 1e3 * t.amount, 0),
        o = (i / r) * 100;
      return (0, sa.jsxs)("div", {
        className: "zap-goal card",
        children: [
          (0, sa.jsxs)("div", {
            className: "flex f-space",
            children: [(0, sa.jsx)("h2", { children: t.content }), (0, sa.jsx)(up, { pubkey: t.pubkey, event: t.id })],
          }),
          (0, sa.jsxs)("div", {
            className: "flex f-space",
            children: [
              (0, sa.jsxs)("div", { children: [o.toFixed(1), "%"] }),
              (0, sa.jsxs)("div", { children: [nd(i / 1e3), "/", nd(r / 1e3)] }),
            ],
          }),
          (0, sa.jsx)("div", {
            className: "progress",
            children: (0, sa.jsx)("div", { style: { "--progress": `${Math.min(100, o)}%` } }),
          }),
        ],
      });
    }
    const fp = t => {
      let { children: n } = t;
      const [r, i] = (0, e.useState)(!1);
      return r
        ? (0, sa.jsx)(sa.Fragment, { children: n })
        : (0, sa.jsx)("div", {
            className: "card note hidden-note",
            children: (0, sa.jsxs)("div", {
              className: "header",
              children: [
                (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Fu.MutedAuthor }) }),
                (0, sa.jsx)("button", { onClick: () => i(!0), children: (0, sa.jsx)(wl, { ...Fu.Show }) }),
              ],
            }),
          });
    };
    function hp(t) {
      const { data: n, related: r, highlight: i, options: o, ignoreModeration: a = !1, className: s } = t;
      if (n.kind === Mt.EventKind.FileHeader) return (0, sa.jsx)(oh, { ev: n });
      if (n.kind === Mt.EventKind.ZapstrTrack) return (0, sa.jsx)(ah, { ev: n });
      if (n.kind === Mt.EventKind.PubkeyLists) return (0, sa.jsx)(uh, { ev: n, className: s });
      if (n.kind === Mt.EventKind.LiveEvent) return (0, sa.jsx)(dh, { ev: n });
      if (9041 === n.kind) return (0, sa.jsx)(dp, { ev: n });
      const l = "note card" + (s ? ` ${s}` : ""),
        c = ot(),
        [u, d] = (0, e.useState)(!1),
        f = (0, e.useMemo)(() => (0, Xo.Ym)(r, n.id, Mt.EventKind.Deletion), [r]),
        { isMuted: h } = rc(),
        p = h(null == n ? void 0 : n.pubkey),
        { ref: m, inView: y } = ed({ triggerOnce: !0 }),
        g = aa(),
        { pinned: v, bookmarked: w } = g,
        b = tc(),
        [x, E] = (0, e.useState)(),
        { formatMessage: k } = yl(),
        j = (0, e.useMemo)(() => (0, Xo.Ym)(r, n.id, Mt.EventKind.Reaction), [r, n]),
        S = (0, e.useMemo)(() => {
          const e =
            null == j
              ? void 0
              : j.reduce(
                  (e, t) => {
                    const n = (0, Xo.N2)(t.content),
                      r = e[n] || [];
                    return { ...e, [n]: [...r, t] };
                  },
                  { [Xo.le.Positive]: [], [Xo.le.Negative]: [] }
                );
          return { [Xo.le.Positive]: (0, Xo.iT)(e[Xo.le.Positive]), [Xo.le.Negative]: (0, Xo.iT)(e[Xo.le.Negative]) };
        }, [j]),
        A = S[Xo.le.Positive],
        C = S[Xo.le.Negative],
        N = (0, e.useMemo)(
          () =>
            (0, Xo.iT)([
              ...(0, Xo.Ym)(r, n.id, Mt.EventKind.TextNote).filter(e => e.tags.some((0, Xo.JS)(e, n.id))),
              ...(0, Xo.Ym)(r, n.id, Mt.EventKind.Repost),
            ]),
          [r, n]
        ),
        P = (0, e.useMemo)(() => {
          const e = (0, Xo.Ym)(r, n.id, Mt.EventKind.ZapReceipt)
            .map(e => (0, Mt.parseZap)(e, $l, n))
            .filter(e => e.valid);
          return e.sort((e, t) => t.amount - e.amount), e;
        }, [r]),
        _ = A.length + C.length + N.length + P.length,
        T = {
          showHeader: !0,
          showTime: !0,
          showFooter: !0,
          canUnpin: !1,
          canUnbookmark: !1,
          showContextMenu: !0,
          ...o,
        },
        M = () => {
          var e, r;
          const i = null !== (e = null == n ? void 0 : n.content) && void 0 !== e ? e : "";
          if ((null == f ? void 0 : f.length) > 0)
            return (0, sa.jsx)("b", { className: "error", children: (0, sa.jsx)(wl, { ...Fu.Deleted }) });
          const o = n.tags.find(e => "content-warning" === e[0]);
          return o
            ? (0, sa.jsx)(If, {
                message: (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (0, sa.jsx)(wl, {
                      id: "x/q8d5",
                      defaultMessage: [
                        { type: 0, value: "This note has been marked as sensitive, click here to reveal" },
                      ],
                    }),
                    o[1] &&
                      (0, sa.jsxs)(sa.Fragment, {
                        children: [
                          (0, sa.jsx)("br", {}),
                          (0, sa.jsx)(wl, {
                            id: "KLo3SP",
                            defaultMessage: [
                              { type: 0, value: "Reason: " },
                              { type: 1, value: "reason" },
                            ],
                            values: { reason: o[1] },
                          }),
                        ],
                      }),
                  ],
                }),
                children: (0, sa.jsx)(Uf, { content: i, tags: n.tags, creator: n.pubkey }),
              })
            : (0, sa.jsx)(Uf, {
                content: i,
                tags: n.tags,
                creator: n.pubkey,
                depth: t.depth,
                disableMedia: !(null === (r = T.showMedia) || void 0 === r || r),
              });
        };
      function R(e, r) {
        if (
          !(arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e.target === e.currentTarget) ||
          !1 === (null == o ? void 0 : o.canClick)
        )
          return;
        if ((e.stopPropagation(), t.onClick)) return void t.onClick(r);
        const i = (0, Xo.sC)(r.id, r.relays);
        e.metaKey ? window.open(i, "_blank") : c(i, { state: n });
      }
      function B() {
        var t, r, i, o, a, s, l, c;
        const u = Mt.EventExt.extractThread(n);
        if (void 0 === u) return;
        const d =
            null !== (t = null == u || null === (r = u.replyTo) || void 0 === r ? void 0 : r.value) && void 0 !== t
              ? t
              : null == u || null === (i = u.root) || void 0 === i
              ? void 0
              : i.value,
          f =
            null !== (o = null == u || null === (a = u.replyTo) || void 0 === a ? void 0 : a.relay) && void 0 !== o
              ? o
              : null === (s = u.root) || void 0 === s
              ? void 0
              : s.relay,
          h = [];
        for (const e of null !== (p = null == u ? void 0 : u.pubKeys) && void 0 !== p ? p : []) {
          var p, m;
          const t = $l.getFromCache(e),
            n = (0, Xo.jm)(Mt.NostrPrefix.PublicKey, e).substring(0, 12);
          h.push({
            pk: e,
            name: null !== (m = null == t ? void 0 : t.name) && void 0 !== m ? m : n,
            link: (0, sa.jsx)(Pt, { to: (0, Xo._v)(e), children: null != t && t.name ? `@${t.name}` : n }),
          });
        }
        h.sort(e => (e.name.startsWith(Mt.NostrPrefix.PublicKey) ? 1 : -1));
        const y = h.length - 2,
          g = (t, n) => (0, sa.jsxs)(e.Fragment, { children: [n > 0 && ", ", t.link] }, t.pk),
          v = h.length > 2 ? (null == h ? void 0 : h.slice(0, 2).map(g)) : null == h ? void 0 : h.map(g),
          w = h.length > 2 ? k(Fu.Others, { n: y }) : "";
        return (0, sa.jsxs)("div", {
          className: "reply",
          children: [
            "re: ",
            (null !== (l = null == h ? void 0 : h.length) && void 0 !== l ? l : 0) > 0
              ? (0, sa.jsxs)(sa.Fragment, { children: [v, " ", w] })
              : d &&
                (0, sa.jsx)(Pt, {
                  to: (0, Xo.sC)(d, f),
                  children:
                    null === (c = (0, Xo.jm)(Mt.NostrPrefix.Event, d)) || void 0 === c ? void 0 : c.substring(0, 12),
                }),
          ],
        });
      }
      if (![Mt.EventKind.TextNote, Mt.EventKind.Polls].includes(n.kind))
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Fu.UnknownEventKind, values: { kind: n.kind } }) }),
            (0, sa.jsx)("pre", { children: JSON.stringify(n, void 0, "  ") }),
          ],
        });
      function O() {
        if (n.kind === Mt.EventKind.Polls) return (0, sa.jsx)(ih, { ev: n, zaps: P });
      }
      const L = (0, sa.jsx)("div", {
        className: `${l}${i ? " active " : " "}`,
        onClick: e => R(e, n),
        ref: m,
        children: (function () {
          var e;
          if (y)
            return (0, sa.jsxs)(sa.Fragment, {
              children: [
                T.showHeader &&
                  (0, sa.jsxs)("div", {
                    className: "header flex",
                    children: [
                      (0, sa.jsx)(Bl, {
                        pubkey: n.pubkey,
                        subHeader: null !== (e = B()) && void 0 !== e ? e : void 0,
                        link: void 0 === (null == o ? void 0 : o.canClick) ? void 0 : "",
                      }),
                      (0, sa.jsxs)("div", {
                        className: "info",
                        children: [
                          (T.showTime || T.showBookmarked) &&
                            (0, sa.jsxs)(sa.Fragment, {
                              children: [
                                T.showBookmarked &&
                                  (0, sa.jsxs)("div", {
                                    className: "saved " + (T.canUnbookmark ? "pointer" : ""),
                                    onClick: () =>
                                      (async function (e) {
                                        if (T.canUnbookmark && b && window.confirm(k(Fu.ConfirmUnbookmark))) {
                                          const t = w.item.filter(t => t !== e),
                                            n = await b.noteList(t, Mt.Lists.Bookmarked);
                                          ew.BroadcastEvent(n), ia(g, t, 1e3 * n.created_at);
                                        }
                                      })(n.id),
                                    children: [
                                      (0, sa.jsx)(_l, { name: "bookmark" }),
                                      " ",
                                      (0, sa.jsx)(wl, { ...Fu.Bookmarked }),
                                    ],
                                  }),
                                !T.showBookmarked && (0, sa.jsx)(rh, { from: 1e3 * n.created_at }),
                              ],
                            }),
                          T.showPinned &&
                            (0, sa.jsxs)("div", {
                              className: "pinned " + (T.canUnpin ? "pointer" : ""),
                              onClick: () =>
                                (async function (e) {
                                  if (T.canUnpin && b && window.confirm(k(Fu.ConfirmUnpin))) {
                                    const t = v.item.filter(t => t !== e),
                                      n = await b.noteList(t, Mt.Lists.Pinned);
                                    ew.BroadcastEvent(n), ra(g, t, 1e3 * n.created_at);
                                  }
                                })(n.id),
                              children: [(0, sa.jsx)(_l, { name: "pin" }), " ", (0, sa.jsx)(wl, { ...Fu.Pinned })],
                            }),
                          T.showContextMenu &&
                            (0, sa.jsx)(ip, {
                              ev: n,
                              react: async () => {},
                              onTranslated: e => E(e),
                              setShowReactions: d,
                            }),
                        ],
                      }),
                    ],
                  }),
                (0, sa.jsxs)("div", {
                  className: "body",
                  onClick: e => R(e, n, !0),
                  children: [
                    M(),
                    x && x.confidence > 0.5
                      ? (0, sa.jsxs)(sa.Fragment, {
                          children: [
                            (0, sa.jsx)("p", {
                              className: "highlight",
                              children: (0, sa.jsx)(wl, { ...Fu.TranslatedFrom, values: { lang: x.fromLanguage } }),
                            }),
                            x.text,
                          ],
                        })
                      : x
                      ? (0, sa.jsx)("p", {
                          className: "highlight",
                          children: (0, sa.jsx)(wl, { ...Fu.TranslationFailed }),
                        })
                      : void 0,
                    O(),
                    T.showReactionsLink &&
                      (0, sa.jsx)("div", {
                        className: "reactions-link",
                        onClick: () => d(!0),
                        children: (0, sa.jsx)(wl, { ...Fu.ReactionsLink, values: { n: _ } }),
                      }),
                  ],
                }),
                T.showFooter && (0, sa.jsx)(Qf, { ev: n, positive: A, reposts: N, zaps: P }),
                (0, sa.jsx)(lp, { show: u, setShow: d, positive: A, negative: C, reposts: N, zaps: P }),
              ],
            });
        })(),
      });
      return !a && p ? (0, sa.jsx)(fp, { children: L }) : L;
    }
    let pp = (function (e) {
        return (e[(e.Supporter = 0)] = "Supporter"), (e[(e.Premium = 1)] = "Premium"), e;
      })({}),
      mp = (function (e) {
        return (
          (e[(e.MultiAccount = 1)] = "MultiAccount"),
          (e[(e.NostrAddress = 2)] = "NostrAddress"),
          (e[(e.Badge = 3)] = "Badge"),
          (e[(e.DeepL = 4)] = "DeepL"),
          (e[(e.RelayRetention = 5)] = "RelayRetention"),
          (e[(e.RelayBackup = 6)] = "RelayBackup"),
          (e[(e.RelayAccess = 7)] = "RelayAccess"),
          (e[(e.LNProxy = 8)] = "LNProxy"),
          (e[(e.EmailBridge = 9)] = "EmailBridge"),
          e
        );
      })({});
    const yp = [
      {
        id: pp.Supporter,
        price: 5e3,
        disabled: !1,
        unlocks: [mp.MultiAccount, mp.NostrAddress, mp.Badge, mp.RelayAccess],
      },
      {
        id: pp.Premium,
        price: 2e4,
        disabled: !1,
        unlocks: [mp.DeepL, mp.RelayBackup, mp.RelayRetention, mp.LNProxy, mp.EmailBridge],
      },
    ];
    function gp(e) {
      const t = (0, Xo.oK)();
      return [...e].sort((e, t) => t.type - e.type).filter(e => e.start <= t && e.end > t);
    }
    function vp(e) {
      return gp(e)[0];
    }
    function wp() {
      var e;
      const { formatMessage: t } = yl(),
        n = tc(),
        r = $u(),
        {
          note: i,
          zapForward: o,
          sensitive: a,
          pollOptions: s,
          replyTo: l,
          otherEvents: c,
          preview: u,
          active: d,
          show: f,
          showAdvanced: h,
          selectedCustomRelays: p,
          error: y,
        } = m(e => e.noteCreator),
        g = k(),
        v = (vp(oa.allSubscriptions()), aa()),
        w = v.relays;
      async function b() {
        if (i && n) {
          let u;
          if (o)
            try {
              const e = new si.LNURL(o);
              await e.load(), (u = [e.getZapTag()]);
            } catch {
              return void g(Ys(t({ id: "0jOEtS", defaultMessage: [{ type: 0, value: "Invalid LNURL" }] })));
            }
          var e;
          a && ((null !== (e = u) && void 0 !== e) || (u = []), u.push(["content-warning", a]));
          const d = s ? Mt.EventKind.Polls : Mt.EventKind.TextNote;
          var r;
          s &&
            ((null !== (r = u) && void 0 !== r) || (u = []),
            u.push(...s.map((e, t) => ["poll_option", t.toString(), e])));
          const f = e => {
              var t;
              return null === (t = u) || void 0 === t || t.forEach(t => e.tag(t)), e.kind(d), e;
            },
            h = l ? await n.reply(l, i, f) : await n.note(i, f);
          p ? p.forEach(e => ew.WriteOnceToRelay(e, h)) : ew.BroadcastEvent(h), g(al());
          for (const e of c) p ? p.forEach(t => ew.WriteOnceToRelay(t, e)) : ew.BroadcastEvent(e);
          g(al());
        }
      }
      async function x(e) {
        try {
          if (e) {
            const t = await r.upload(e, e.name);
            if (t.header) {
              const e = `nostr:${(0, Mt.encodeTLV)(Mt.NostrPrefix.Event, t.header.id, void 0, t.header.kind)}`;
              g(Zs(`${i ? `${i}\n` : ""}${e}`)), g(ol([...c, t.header]));
            } else t.url ? g(Zs(`${i ? `${i}\n` : ""}${t.url}`)) : null != t && t.error && g(Ys(t.error));
          }
        } catch (e) {
          e instanceof Error && g(Ys(null == e ? void 0 : e.message));
        }
      }
      return (0, sa.jsx)(sa.Fragment, {
        children:
          f &&
          (0, sa.jsxs)(Hu, {
            className: "note-creator-modal",
            onClose: () => g(Gs(!1)),
            children: [
              l &&
                (0, sa.jsx)(hp, {
                  data: l,
                  related: [],
                  options: { showFooter: !1, showContextMenu: !1, showTime: !1, canClick: !1, showMedia: !1 },
                }),
              u &&
                (function () {
                  if (u)
                    return (0, sa.jsx)(hp, {
                      data: u,
                      related: [],
                      options: { showContextMenu: !1, showFooter: !1, canClick: !1, showTime: !1 },
                    });
                })(),
              !u &&
                (0, sa.jsxs)("div", {
                  onPaste: e => {
                    if (e.clipboardData) {
                      const t = e.clipboardData.items,
                        n = Array.from(t).filter(function (e) {
                          return /^image\//.test(e.type);
                        });
                      if (0 === n.length) return;
                      const r = n[0].getAsFile();
                      r && x(r);
                    }
                  },
                  className: "note-creator" + (s ? " poll" : ""),
                  children: [
                    (0, sa.jsx)(zu, {
                      autoFocus: !0,
                      className: "textarea " + (d ? "textarea--focused" : ""),
                      onChange: function (e) {
                        const { value: t } = e.target;
                        g(Zs(t)), g(Xs(!!t));
                      },
                      value: i,
                      onFocus: () => g(Xs(!0)),
                      onKeyDown: e => {
                        "Enter" === e.key && e.metaKey && b().catch(console.warn);
                      },
                    }),
                    (function () {
                      if (s)
                        return (0, sa.jsxs)(sa.Fragment, {
                          children: [
                            (0, sa.jsx)("h4", {
                              children: (0, sa.jsx)(wl, {
                                id: "vhlWFg",
                                defaultMessage: [{ type: 0, value: "Poll Options" }],
                              }),
                            }),
                            null == s
                              ? void 0
                              : s.map((e, t) =>
                                  (0, sa.jsxs)(
                                    "div",
                                    {
                                      className: "form-group w-max",
                                      children: [
                                        (0, sa.jsx)("div", {
                                          children: (0, sa.jsx)(wl, {
                                            id: "mfe8RW",
                                            defaultMessage: [
                                              { type: 0, value: "Option: " },
                                              { type: 1, value: "n" },
                                            ],
                                            values: { n: t + 1 },
                                          }),
                                        }),
                                        (0, sa.jsxs)("div", {
                                          children: [
                                            (0, sa.jsx)("input", {
                                              type: "text",
                                              value: e,
                                              onChange: e =>
                                                (function (e, t) {
                                                  if (s) {
                                                    const n = [...s];
                                                    (n[e] = t), g(il(n));
                                                  }
                                                })(t, e.target.value),
                                            }),
                                            t > 1 &&
                                              (0, sa.jsx)("button", {
                                                onClick: () =>
                                                  (function (e) {
                                                    if (s) {
                                                      const t = [...s];
                                                      t.splice(e, 1), g(il(t));
                                                    }
                                                  })(t),
                                                className: "ml5",
                                                children: (0, sa.jsx)(_l, { name: "close", size: 14 }),
                                              }),
                                          ],
                                        }),
                                      ],
                                    },
                                    `po-${t}`
                                  )
                                ),
                            (0, sa.jsx)("button", {
                              onClick: () => g(il([...s, ""])),
                              children: (0, sa.jsx)(_l, { name: "plus", size: 14 }),
                            }),
                          ],
                        });
                    })(),
                  ],
                }),
              (0, sa.jsxs)("div", {
                className: "flex f-space",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex g8",
                    children: [
                      (0, sa.jsx)(Bl, {
                        pubkey: null !== (e = v.publicKey) && void 0 !== e ? e : "",
                        className: "note-creator-icon",
                        link: "",
                        showUsername: !1,
                      }),
                      void 0 === s &&
                        !l &&
                        (0, sa.jsx)("div", {
                          className: "note-creator-icon",
                          children: (0, sa.jsx)(_l, { name: "pie-chart", onClick: () => g(il(["A", "B"])), size: 24 }),
                        }),
                      (0, sa.jsx)(Zf, {
                        iconName: "image-plus",
                        iconSize: 24,
                        onClick: async function () {
                          try {
                            const e = await (0, Xo.ZB)();
                            e && x(e);
                          } catch (e) {
                            e instanceof Error && g(Ys(null == e ? void 0 : e.message));
                          }
                        },
                        className: "note-creator-icon",
                      }),
                      (0, sa.jsx)("button", {
                        className: "secondary",
                        onClick: () => g(el(!h)),
                        children: (0, sa.jsx)(wl, { id: "3Rx6Qo", defaultMessage: [{ type: 0, value: "Advanced" }] }),
                      }),
                    ],
                  }),
                  (0, sa.jsxs)("div", {
                    className: "flex g8",
                    children: [
                      (0, sa.jsx)("button", {
                        className: "secondary",
                        onClick: function () {
                          g(al());
                        },
                        children: (0, sa.jsx)(wl, { id: "47FYwb", defaultMessage: [{ type: 0, value: "Cancel" }] }),
                      }),
                      (0, sa.jsx)(Gd, {
                        onClick: async function (e) {
                          e.stopPropagation(), await b();
                        },
                        children: l
                          ? (0, sa.jsx)(wl, { id: "9HU8vw", defaultMessage: [{ type: 0, value: "Reply" }] })
                          : (0, sa.jsx)(wl, { id: "9WRlF4", defaultMessage: [{ type: 0, value: "Send" }] }),
                      }),
                    ],
                  }),
                ],
              }),
              y && (0, sa.jsx)("span", { className: "error", children: y }),
              h &&
                (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (0, sa.jsx)("button", {
                      className: "secondary",
                      onClick: async function () {
                        if (u) g(Qs(void 0));
                        else if (n) {
                          const e = await n.note(i);
                          e && g(Qs(e));
                        }
                      },
                      children: (0, sa.jsx)(wl, {
                        id: "1iQ8GN",
                        defaultMessage: [{ type: 0, value: "Toggle Preview" }],
                      }),
                    }),
                    (0, sa.jsxs)("div", {
                      children: [
                        (0, sa.jsx)("h4", {
                          children: (0, sa.jsx)(wl, {
                            id: "EcZF24",
                            defaultMessage: [{ type: 0, value: "Custom Relays" }],
                          }),
                        }),
                        (0, sa.jsx)("p", {
                          children: (0, sa.jsx)(wl, {
                            id: "th5lxp",
                            defaultMessage: [{ type: 0, value: "Send note to a subset of your write relays" }],
                          }),
                        }),
                        (0, sa.jsx)("div", {
                          className: "flex-column g8",
                          children: Object.keys(w.item || {})
                            .filter(e => w.item[e].write)
                            .map((e, t, n) =>
                              (0, sa.jsxs)("div", {
                                className: "p flex f-space note-creator-relay",
                                children: [
                                  (0, sa.jsx)("div", { children: e }),
                                  (0, sa.jsx)("div", {
                                    children: (0, sa.jsx)("input", {
                                      type: "checkbox",
                                      checked: !p || p.includes(e),
                                      onChange: t =>
                                        g(
                                          tl(
                                            (!t.target.checked || !p || p.length != n.length - 1) &&
                                              n.filter(n => (n === e ? t.target.checked : !p || p.includes(n)))
                                          )
                                        ),
                                    }),
                                  }),
                                ],
                              })
                            ),
                        }),
                      ],
                    }),
                    (0, sa.jsxs)("div", {
                      className: "flex-column g8",
                      children: [
                        (0, sa.jsx)("h4", {
                          children: (0, sa.jsx)(wl, {
                            id: "R1fEdZ",
                            defaultMessage: [{ type: 0, value: "Forward Zaps" }],
                          }),
                        }),
                        (0, sa.jsx)(wl, {
                          id: "P04gQm",
                          defaultMessage: [
                            { type: 0, value: "All zaps sent to this note will be received by the following LNURL" },
                          ],
                        }),
                        (0, sa.jsx)("input", {
                          type: "text",
                          className: "w-max",
                          placeholder: t({
                            id: "FP+D3H",
                            defaultMessage: [{ type: 0, value: "LNURL to forward zaps to" }],
                          }),
                          value: o,
                          onChange: e => g(nl(e.target.value)),
                        }),
                        (0, sa.jsx)("span", {
                          className: "warning",
                          children: (0, sa.jsx)(wl, {
                            id: "gXgY3+",
                            defaultMessage: [{ type: 0, value: "Not all clients support this yet" }],
                          }),
                        }),
                      ],
                    }),
                    (0, sa.jsxs)("div", {
                      className: "flex-column g8",
                      children: [
                        (0, sa.jsx)("h4", {
                          children: (0, sa.jsx)(wl, {
                            id: "bQdA2k",
                            defaultMessage: [{ type: 0, value: "Sensitive Content" }],
                          }),
                        }),
                        (0, sa.jsx)(wl, {
                          id: "UUPFlt",
                          defaultMessage: [
                            {
                              type: 0,
                              value: "Users must accept the content warning to show the content of your note.",
                            },
                          ],
                        }),
                        (0, sa.jsx)("input", {
                          className: "w-max",
                          type: "text",
                          value: a,
                          onChange: e => g(rl(e.target.value)),
                          maxLength: 50,
                          minLength: 1,
                          placeholder: t({ id: "AkCxS/", defaultMessage: [{ type: 0, value: "Reason" }] }),
                        }),
                        (0, sa.jsx)("span", {
                          className: "warning",
                          children: (0, sa.jsx)(wl, {
                            id: "gXgY3+",
                            defaultMessage: [{ type: 0, value: "Not all clients support this yet" }],
                          }),
                        }),
                      ],
                    }),
                  ],
                }),
            ],
          }),
      });
    }
    class bp {
      constructor(e) {
        this.url = e;
      }
      async GetConfig() {
        return await this.getJson("/config.json");
      }
      async CheckAvailable(e, t) {
        return await this.getJson("/registration/availability", "POST", { name: e, domain: t });
      }
      async RegisterHandle(e, t, n) {
        return await this.getJson("/registration/register", "PUT", { name: e, domain: t, pk: n, ref: "snort" });
      }
      async CheckRegistration(e) {
        return await this.getJson("/registration/register/check", "POST", void 0, { authorization: e });
      }
      async getJson(e, t, n, r) {
        try {
          const i = await fetch(`${this.url}${e}`, {
            method: t,
            body: n ? JSON.stringify(n) : void 0,
            headers: { accept: "application/json", ...(n ? { "content-type": "application/json" } : {}), ...r },
          });
          return await i.json();
        } catch (e) {
          console.warn(e);
        }
        return { error: "UNKNOWN_ERROR", errors: [] };
      }
    }
    function xp(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to " + n + " private field on non-instance");
      return t.get(e);
    }
    var Ep = new WeakMap();
    class kp extends bp {
      constructor(e, t) {
        var n, r, i;
        super(t),
          (i = { writable: !0, value: void 0 }),
          (function (e, t) {
            if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
          })((n = this), (r = Ep)),
          r.set(n, i),
          (function (e, t, n) {
            (function (e, t, n) {
              if (t.set) t.set.call(e, n);
              else {
                if (!t.writable) throw new TypeError("attempted to set read only private field");
                t.value = n;
              }
            })(e, xp(e, t, "set"), n);
          })(this, Ep, e);
      }
      async list() {
        return this.getJsonAuthd("/list", "GET");
      }
      async transfer(e, t) {
        return this.getJsonAuthd(`/${e}/transfer?to=${t}`, "PATCH");
      }
      async patch(e, t) {
        return this.getJsonAuthd(`/${e}`, "PATCH", t);
      }
      async registerForSubscription(e, t, n) {
        return this.getJsonAuthd(`/registration/register/${n}`, "PUT", { name: e, domain: t, pk: "", ref: "snort" });
      }
      async getJsonAuthd(e, t, n, r) {
        const i = await (this,
        (o = Ep),
        (function (e, t) {
          return t.get ? t.get.call(e) : t.value;
        })(this, xp(this, o, "get"))).generic(
          n => (
            n.kind(Mt.EventKind.HttpAuthentication),
            n.tag(["url", `${this.url}${e}`]),
            n.tag(["method", null != t ? t : "GET"]),
            n
          )
        );
        var o;
        return i
          ? this.getJson(e, t, n, { ...r, authorization: `Nostr ${window.btoa(JSON.stringify(i))}` })
          : { error: "INVALID_TOKEN" };
      }
    }
    function jp(t) {
      var n, r;
      const i = ot(),
        { helpText: o = !0 } = t,
        { formatMessage: a } = yl(),
        s = aa().publicKey,
        l = (0, El.useUserProfile)(s),
        c = tc(),
        u = (0, e.useMemo)(() => new bp(t.service), [t.service]),
        [d, f] = (0, e.useState)(),
        [h, p] = (0, e.useState)(),
        [m, y] = (0, e.useState)(""),
        [g, v] = (0, e.useState)(""),
        [w, b] = (0, e.useState)(!1),
        [x, E] = (0, e.useState)(),
        [k, j] = (0, e.useState)(),
        [S, A] = (0, e.useState)(!1),
        [C, N] = (0, e.useState)(),
        P = (0, e.useMemo)(() => (null == d ? void 0 : d.domains.find(e => e.name === g)), [g, d]);
      return (
        (0, e.useEffect)(() => {
          u.GetConfig()
            .then(e => {
              if ("error" in e) p(e);
              else {
                var t;
                const n = e;
                f(n);
                const r =
                  (null === (t = n.domains.find(e => e.default)) || void 0 === t ? void 0 : t.name) ||
                  n.domains[0].name;
                v(r);
              }
            })
            .catch(console.error);
        }, [t, u]),
        (0, e.useEffect)(() => {
          var e, t, n, r;
          if ((p(void 0), E(void 0), m && g))
            return m.length < (null !== (e = null == P ? void 0 : P.length[0]) && void 0 !== e ? e : 2)
              ? void E({ available: !1, why: "TOO_SHORT" })
              : m.length > (null !== (t = null == P ? void 0 : P.length[1]) && void 0 !== t ? t : 20)
              ? void E({ available: !1, why: "TOO_LONG" })
              : new RegExp(
                  null !== (n = null == P ? void 0 : P.regex[0]) && void 0 !== n ? n : "",
                  null !== (r = null == P ? void 0 : P.regex[1]) && void 0 !== r ? r : ""
                ).test(m)
              ? (0, Xo.Ds)(500, () => {
                  u.CheckAvailable(m, g)
                    .then(e => {
                      "error" in e ? p(e) : E(e);
                    })
                    .catch(console.error);
                })
              : void E({ available: !1, why: "REGEX" });
        }, [m, g, P, u]),
        (0, e.useEffect)(() => {
          if (k && S && !w) {
            const e = setInterval(() => {
              w ||
                (b(!0),
                (async function (e) {
                  const t = await u.CheckRegistration(e.token);
                  if ("error" in t) p(t), j(void 0), A(!1);
                  else {
                    const e = t;
                    e.paid && (e.available ? p(void 0) : p({ error: "REGISTERED" }), A(!1), N(t), j(void 0));
                  }
                })(k)
                  .then(() => b(!1))
                  .catch(e => {
                    console.error(e), b(!1);
                  }));
            }, 2e3);
            return () => clearInterval(e);
          }
        }, [k, S, u, w]),
        (0, sa.jsxs)(sa.Fragment, {
          children: [
            o && (0, sa.jsx)("h3", { children: t.name }),
            o && t.about,
            o &&
              (0, sa.jsx)("p", {
                children: (0, sa.jsx)(wl, {
                  ...Fu.FindMore,
                  values: {
                    service: t.name,
                    link: (0, sa.jsx)("a", { href: t.link, target: "_blank", rel: "noreferrer", children: t.link }),
                  },
                }),
              }),
            h && (0, sa.jsx)("b", { className: "error", children: h.error }),
            !C &&
              (0, sa.jsxs)("div", {
                className: "flex mb10",
                children: [
                  (0, sa.jsx)("input", {
                    type: "text",
                    className: "nip-handle",
                    placeholder: a(Fu.Handle),
                    value: m,
                    onChange: e => {
                      const n = e.target.value.toLowerCase();
                      y(n), t.onChange && t.onChange(`${n}@${g}`);
                    },
                  }),
                  " @ ",
                  (0, sa.jsx)("select", {
                    value: g,
                    onChange: e => {
                      const n = e.target.value;
                      v(n), t.onChange && t.onChange(`${m}@${n}`);
                    },
                    children:
                      null == d ? void 0 : d.domains.map(e => (0, sa.jsx)("option", { children: e.name }, e.name)),
                  }),
                ],
              }),
            (null == x ? void 0 : x.available) &&
              !C &&
              (0, sa.jsxs)("div", {
                className: "flex",
                children: [
                  !t.forSubscription &&
                    (0, sa.jsxs)("div", {
                      className: "mr10",
                      children: [
                        (0, sa.jsx)(wl, {
                          ...Fu.Sats,
                          values: { n: nd((0, Xo.Wg)(null === (n = x.quote) || void 0 === n ? void 0 : n.price)) },
                        }),
                        (0, sa.jsx)("br", {}),
                        (0, sa.jsx)("small", {
                          children: null === (r = x.quote) || void 0 === r ? void 0 : r.data.type,
                        }),
                      ],
                    }),
                  (0, sa.jsx)(Gd, {
                    onClick: () =>
                      t.forSubscription
                        ? (async function (e, n, r) {
                            if (!s || !c) return;
                            const i = new kp(c, t.service),
                              o = await i.registerForSubscription(e, n, r);
                            if ("error" in o) p(o);
                            else if (t.onSuccess) {
                              const r = `${e}@${n}`;
                              t.onSuccess(r);
                            }
                          })(m, g, t.forSubscription)
                        : (async function (e, t) {
                            if (!s) return;
                            const n = await u.RegisterHandle(e, t, s);
                            "error" in n ? p(n) : (j(n), A(!0));
                          })(m, g),
                    children: t.forSubscription
                      ? (0, sa.jsx)(wl, { id: "FdhSU2", defaultMessage: [{ type: 0, value: "Claim Now" }] })
                      : (0, sa.jsx)(wl, { ...Fu.BuyNow }),
                  }),
                ],
              }),
            !1 === (null == x ? void 0 : x.available) &&
              !C &&
              (0, sa.jsx)("div", {
                className: "flex",
                children: (0, sa.jsxs)("b", {
                  className: "error",
                  children: [
                    (0, sa.jsx)(wl, { ...Fu.NotAvailable }),
                    " ",
                    (function (e, t) {
                      if (void 0 !== e)
                        return new Map([
                          ["TOO_SHORT", a(Fu.TooShort)],
                          ["TOO_LONG", a(Fu.TooLong)],
                          ["REGEX", a(Fu.Regex)],
                          ["REGISTERED", a(Fu.Registered)],
                          ["DISALLOWED_null", a(Fu.Disallowed)],
                          ["DISALLOWED_later", a(Fu.DisalledLater)],
                        ]).get("DISALLOWED" === e ? `${e}_${t}` : e);
                    })(x.why, x.reasonTag || null),
                  ],
                }),
              }),
            (0, sa.jsx)(Yd, {
              invoice: null == k ? void 0 : k.invoice,
              show: S,
              onClose: () => A(!1),
              title: a(Fu.Buying, { item: `${m}@${g}` }),
            }),
            (null == C ? void 0 : C.paid) &&
              (0, sa.jsxs)("div", {
                className: "flex f-col",
                children: [
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Fu.OrderPaid }) }),
                  (0, sa.jsxs)("p", {
                    children: [(0, sa.jsx)(wl, { ...Fu.NewNip }), " ", (0, sa.jsxs)("code", { children: [m, "@", g] })],
                  }),
                  (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Fu.AccountSupport }) }),
                  (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Fu.SavePassword }) }),
                  (0, sa.jsx)(sd, { text: C.password }),
                  (0, sa.jsxs)("p", {
                    children: [
                      (0, sa.jsx)(wl, { ...Fu.GoTo }),
                      " ",
                      (0, sa.jsx)("a", {
                        href: t.supportLink,
                        target: "_blank",
                        rel: "noreferrer",
                        children: (0, sa.jsx)(wl, { ...Fu.AccountPage }),
                      }),
                    ],
                  }),
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Fu.ActivateNow }) }),
                  (0, sa.jsx)(Gd, {
                    onClick: () =>
                      (async function (e, n) {
                        if (l && c) {
                          const r = `${e}@${n}`,
                            a = { ...l, nip05: r },
                            s = await c.metadata(a);
                          ew.BroadcastEvent(s), t.onSuccess && t.onSuccess(r);
                          const u = (0, Mt.mapEventToProfile)(s);
                          u && $l.set(u), o && i("/settings/profile");
                        }
                      })(m, g),
                    children: (0, sa.jsx)(wl, { ...Fu.AddToProfile }),
                  }),
                ],
              }),
          ],
        })
      );
    }
    const Sp = {
        name: "Snort",
        service: `${li}/api/v1/n5sp`,
        link: "https://snort.social/",
        supportLink: "https://snort.social/help",
        about: (0, sa.jsx)(wl, { ...Nl.SnortSocialNip }),
      },
      Ap = [
        Sp,
        {
          name: "Nostr Plebs",
          service: "https://nostrplebs.com/api/v1",
          link: "https://nostrplebs.com/",
          supportLink: "https://nostrplebs.com/manage",
          about: (0, sa.jsx)(wl, { ...Nl.NostrPlebsNip }),
        },
      ];
    function Cp() {
      return (0, sa.jsxs)("div", {
        className: "main-content p",
        children: [
          (0, sa.jsx)("h2", {
            children: (0, sa.jsx)(wl, { id: "MuVeKe", defaultMessage: [{ type: 0, value: "Buy nostr address" }] }),
          }),
          (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Nl.Nip05 }) }),
          (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Nl.Nip05Pros }) }),
          (0, sa.jsxs)("ul", {
            children: [
              (0, sa.jsx)("li", { children: (0, sa.jsx)(wl, { ...Nl.AvoidImpersonators }) }),
              (0, sa.jsx)("li", { children: (0, sa.jsx)(wl, { ...Nl.EasierToFind }) }),
              (0, sa.jsx)("li", { children: (0, sa.jsx)(wl, { ...Nl.Funding }) }),
            ],
          }),
          Ap.map(e => (0, sa.jsx)(jp, { ...e }, e.name)),
        ],
      });
    }
    function Np(t) {
      let { sub: n } = t;
      const r = tc(),
        { formatMessage: i } = yl(),
        o = new Date(1e3 * n.created),
        a = new Date(1e3 * n.expires),
        s = new Date(),
        l = Math.floor((a.getTime() - s.getTime()) / 864e5),
        c = Math.floor((a.getTime() - s.getTime()) / 36e5),
        u = "expired" === n.state,
        d = "new" === n.state,
        f = "paid" === n.state,
        [h, p] = (0, e.useState)(""),
        [m, y] = (0, e.useState)();
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsxs)("div", {
            className: "p",
            children: [
              (0, sa.jsxs)("div", {
                className: "flex card-title",
                children: [(0, sa.jsx)(_l, { name: "badge", className: "mr5", size: 25 }), _p(n.type)],
              }),
              (0, sa.jsxs)("div", {
                className: "flex",
                children: [
                  (0, sa.jsxs)("p", {
                    className: "f-1",
                    children: [
                      (0, sa.jsx)(wl, { id: "ORGv1Q", defaultMessage: [{ type: 0, value: "Created" }] }),
                      ": ",
                      (0, sa.jsx)("time", {
                        dateTime: o.toISOString(),
                        children: (0, sa.jsx)(Al, { value: o, dateStyle: "full" }),
                      }),
                    ],
                  }),
                  l >= 1 &&
                    (0, sa.jsxs)("p", {
                      className: "f-1",
                      children: [
                        (0, sa.jsx)(wl, { id: "xhQMeQ", defaultMessage: [{ type: 0, value: "Expires" }] }),
                        ": ",
                        (0, sa.jsx)("time", {
                          dateTime: a.toISOString(),
                          children: (0, sa.jsx)(wl, {
                            id: "rmdsT4",
                            defaultMessage: [
                              { type: 1, value: "n" },
                              { type: 0, value: " days" },
                            ],
                            values: { n: (0, sa.jsx)(Cl, { value: l, maximumFractionDigits: 0 }) },
                          }),
                        }),
                      ],
                    }),
                  l >= 0 &&
                    l < 1 &&
                    (0, sa.jsxs)("p", {
                      className: "f-1",
                      children: [
                        (0, sa.jsx)(wl, { id: "xhQMeQ", defaultMessage: [{ type: 0, value: "Expires" }] }),
                        ": ",
                        (0, sa.jsx)("time", {
                          dateTime: a.toISOString(),
                          children: (0, sa.jsx)(wl, {
                            id: "2ukA4d",
                            defaultMessage: [
                              { type: 1, value: "n" },
                              { type: 0, value: " hours" },
                            ],
                            values: { n: (0, sa.jsx)(Cl, { value: c, maximumFractionDigits: 0 }) },
                          }),
                        }),
                      ],
                    }),
                  u &&
                    (0, sa.jsx)("p", {
                      className: "f-1 error",
                      children: (0, sa.jsx)(wl, { id: "RahCRH", defaultMessage: [{ type: 0, value: "Expired" }] }),
                    }),
                  d &&
                    (0, sa.jsx)("p", {
                      className: "f-1",
                      children: (0, sa.jsx)(wl, { id: "6uMqL1", defaultMessage: [{ type: 0, value: "Unpaid" }] }),
                    }),
                ],
              }),
              (u || d) &&
                (0, sa.jsx)("div", {
                  className: "flex",
                  children: (0, sa.jsx)(Gd, {
                    onClick: () =>
                      (async function (e) {
                        const t = new kf(void 0, r);
                        try {
                          const n = await t.renewSubscription(e);
                          p(n.pr);
                        } catch (e) {
                          e instanceof vf && y(e);
                        }
                      })(n.id),
                    children: u
                      ? (0, sa.jsx)(wl, { id: "nWQFic", defaultMessage: [{ type: 0, value: "Renew" }] })
                      : (0, sa.jsx)(wl, { id: "Ss0sWu", defaultMessage: [{ type: 0, value: "Pay Now" }] }),
                  }),
                }),
              f &&
                (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    !n.handle &&
                      (0, sa.jsxs)(sa.Fragment, {
                        children: [
                          (0, sa.jsx)("h3", {
                            children: (0, sa.jsx)(wl, {
                              id: "GUlSVG",
                              defaultMessage: [{ type: 0, value: "Claim your included Snort nostr address" }],
                            }),
                          }),
                          (0, sa.jsx)(jp, {
                            ...Sp,
                            helpText: !1,
                            forSubscription: n.id,
                            onSuccess: e => (n.handle = e),
                          }),
                        ],
                      }),
                    n.handle && (0, sa.jsx)(Rl, { nip05: n.handle, pubkey: "", verifyNip: !1 }),
                  ],
                }),
            ],
          }),
          (0, sa.jsx)(Yd, {
            invoice: h,
            show: "" !== h,
            onClose: () => p(""),
            title: i({ id: "Mrpkot", defaultMessage: [{ type: 0, value: "Pay for subscription" }] }),
          }),
          m && (0, sa.jsx)("b", { className: "error", children: Mp(m) }),
        ],
      });
    }
    function Pp() {
      const t = tc(),
        n = new kf(void 0, t),
        r = ot(),
        [i, o] = (0, e.useState)(),
        [a, s] = (0, e.useState)();
      return (
        (0, e.useEffect)(() => {
          (async () => {
            try {
              const e = await n.listSubscriptions();
              o(e);
            } catch (e) {
              e instanceof vf && s(e);
            }
          })();
        }, []),
        void 0 === i
          ? (0, sa.jsx)(Tf, {})
          : (0, sa.jsxs)("div", {
              className: "main-content p flex-column g24",
              children: [
                (0, sa.jsx)("h2", {
                  children: (0, sa.jsx)(wl, { id: "J+dIsA", defaultMessage: [{ type: 0, value: "Subscriptions" }] }),
                }),
                i.map(e => (0, sa.jsx)(Np, { sub: e }, e.id)),
                0 !== i.length &&
                  (0, sa.jsx)("button", {
                    onClick: () => r("/subscribe"),
                    children: (0, sa.jsx)(wl, {
                      id: "SP0+yi",
                      defaultMessage: [{ type: 0, value: "Buy Subscription" }],
                    }),
                  }),
                0 === i.length &&
                  (0, sa.jsx)("p", {
                    children: (0, sa.jsx)(wl, {
                      id: "W1yoZY",
                      defaultMessage: [
                        { type: 0, value: "It looks like you dont have any subscriptions, you can get one " },
                        { type: 1, value: "link" },
                      ],
                      values: {
                        link: (0, sa.jsx)(Pt, {
                          to: "/subscribe",
                          children: (0, sa.jsx)(wl, { id: "hniz8Z", defaultMessage: [{ type: 0, value: "here" }] }),
                        }),
                      },
                    }),
                  }),
                a && (0, sa.jsx)("b", { className: "error", children: Mp(a) }),
              ],
            })
      );
    }
    function _p(e) {
      switch (e) {
        case pp.Supporter:
          return (0, sa.jsx)(wl, { id: "DcL8P+", defaultMessage: [{ type: 0, value: "Supporter" }] });
        case pp.Premium:
          return (0, sa.jsx)(wl, { id: "C5xzTC", defaultMessage: [{ type: 0, value: "Premium" }] });
      }
    }
    function Tp(e) {
      switch (e) {
        case mp.MultiAccount:
          return (0, sa.jsx)(wl, { id: "cuP16y", defaultMessage: [{ type: 0, value: "Multi account support" }] });
        case mp.NostrAddress:
          return (0, sa.jsx)(wl, { id: "lPWASz", defaultMessage: [{ type: 0, value: "Snort nostr address" }] });
        case mp.Badge:
          return (0, sa.jsx)(wl, { id: "ttxS0b", defaultMessage: [{ type: 0, value: "Supporter Badge" }] });
        case mp.DeepL:
          return (0, sa.jsx)(wl, { id: "iEoXYx", defaultMessage: [{ type: 0, value: "DeepL translations" }] });
        case mp.RelayRetention:
          return (0, sa.jsx)(wl, {
            id: "Ai8VHU",
            defaultMessage: [{ type: 0, value: "Unlimited note retention on Snort relay" }],
          });
        case mp.RelayBackup:
          return (0, sa.jsx)(wl, {
            id: "pI+77w",
            defaultMessage: [{ type: 0, value: "Downloadable backups from Snort relay" }],
          });
        case mp.RelayAccess:
          return (0, sa.jsx)(wl, {
            id: "BGCM48",
            defaultMessage: [{ type: 0, value: "Write access to Snort relay, with 1 year of event retention" }],
          });
        case mp.LNProxy:
          return (0, sa.jsx)(wl, { id: "SYQtZ7", defaultMessage: [{ type: 0, value: "LN Address Proxy" }] });
        case mp.EmailBridge:
          return (0, sa.jsx)(wl, {
            id: "qD9EUF",
            defaultMessage: [{ type: 0, value: "Email <> DM bridge for your Snort nostr address" }],
          });
      }
    }
    function Mp(e) {
      switch (e.code) {
        case gf.InternalError:
          return (0, sa.jsx)(wl, {
            id: "jMzO1S",
            defaultMessage: [
              { type: 0, value: "Internal error: " },
              { type: 1, value: "msg" },
            ],
            values: { msg: e.message },
          });
        case gf.SubscriptionActive:
          return (0, sa.jsx)(wl, {
            id: "OQXnew",
            defaultMessage: [{ type: 0, value: "You subscription is still active, you can't renew yet" }],
          });
        case gf.Duplicate:
          return (0, sa.jsx)(wl, {
            id: "NAuFNH",
            defaultMessage: [{ type: 0, value: "You already have a subscription of this type, please renew or pay" }],
          });
        default:
          return e.message;
      }
    }
    function Rp() {
      const t = tc(),
        n = new kf(void 0, t),
        [r, i] = (0, e.useState)(""),
        [o, a] = (0, e.useState)();
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "flex subscribe-page main-content",
            children: yp.map(e => {
              const t = yp.filter(t => t.id < e.id);
              return (0, sa.jsxs)("div", {
                className: "p flex-column" + (e.disabled ? " disabled" : ""),
                children: [
                  (0, sa.jsxs)("div", {
                    className: "f-grow",
                    children: [
                      (0, sa.jsx)("h2", { children: _p(e.id) }),
                      (0, sa.jsxs)("p", {
                        children: [
                          (0, sa.jsx)(wl, {
                            id: "Z0FDj+",
                            defaultMessage: [
                              { type: 0, value: "Subscribe to Snort " },
                              { type: 1, value: "plan" },
                              { type: 0, value: " for " },
                              { type: 1, value: "price" },
                              { type: 0, value: " and receive the following rewards" },
                            ],
                            values: {
                              plan: _p(e.id),
                              price: (0, sa.jsxs)("b", { children: [nd(e.price), " sats/mo"] }),
                            },
                          }),
                          ":",
                        ],
                      }),
                      (0, sa.jsxs)("ul", {
                        children: [
                          e.unlocks.map(e => (0, sa.jsxs)("li", { children: [Tp(e), " "] })),
                          t.map(e =>
                            (0, sa.jsx)("li", {
                              children: (0, sa.jsx)(wl, {
                                id: "l+ikU1",
                                defaultMessage: [
                                  { type: 0, value: "Everything in " },
                                  { type: 1, value: "plan" },
                                ],
                                values: { plan: _p(e.id) },
                              }),
                            })
                          ),
                        ],
                      }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    className: "flex f-center w-max mb10",
                    children: (0, sa.jsx)(Gd, {
                      className: "button",
                      disabled: e.disabled,
                      onClick: () =>
                        (async function (e) {
                          a(void 0);
                          try {
                            const t = await n.createSubscription(e);
                            i(t.pr);
                          } catch (e) {
                            e instanceof vf && a(e);
                          }
                        })(e.id),
                      children: e.disabled
                        ? (0, sa.jsx)(wl, { id: "e61Jf3", defaultMessage: [{ type: 0, value: "Coming soon" }] })
                        : (0, sa.jsx)(wl, { id: "gczcC5", defaultMessage: [{ type: 0, value: "Subscribe" }] }),
                    }),
                  }),
                ],
              });
            }),
          }),
          o && (0, sa.jsx)("b", { className: "error", children: Mp(o) }),
          (0, sa.jsx)(Yd, { invoice: r, show: "" !== r, onClose: () => i("") }),
        ],
      });
    }
    const Bp = [
      { path: "/subscribe", element: (0, sa.jsx)(Rp, {}) },
      { path: "/subscribe/manage", element: (0, sa.jsx)(Pp, {}) },
    ];
    function Op() {
      const t = it(),
        n = m(e => e.noteCreator.replyTo),
        r = m(e => e.noteCreator.show),
        i = n && r,
        o = k(),
        a = ot(),
        { publicKey: s, relays: l, preferences: c, subscriptions: u } = aa(),
        d = vp(u),
        [f, h] = (0, e.useState)("page");
      !(function () {
        const t = aa(),
          { publicKey: n, readNotifications: r, follows: i } = t,
          { isMuted: o } = rc(),
          a = tc(),
          s = (0, e.useMemo)(() => {
            if (!n) return null;
            const e = new Mt.RequestBuilder(`login:${n.slice(0, 12)}`);
            return (
              e.withOptions({ leaveOpen: !0 }),
              e.withFilter().authors([n]).kinds([Mt.EventKind.ContactList]),
              e
                .withFilter()
                .kinds([Mt.EventKind.SnortSubscriptions])
                .authors([(0, Xo.FX)(fi)])
                .tag("p", [n])
                .limit(1),
              e.withFilter().kinds([Mt.EventKind.GiftWrap]).tag("p", [n]).since(Ql.newest()),
              e.add(_c.subscription(n)),
              Jl.buildSub(t, e),
              e
            );
          }, [n]),
          l = (0, e.useMemo)(() => {
            if (!n) return null;
            const e = new Mt.RequestBuilder(`login:${n.slice(0, 12)}:lists`);
            return (
              e.withOptions({ leaveOpen: !0 }),
              e
                .withFilter()
                .authors([n])
                .kinds([Mt.EventKind.PubkeyLists])
                .tag("d", [Mt.Lists.Muted, Mt.Lists.Followed, Mt.Lists.Pinned, Mt.Lists.Bookmarked]),
              e
            );
          }, [n]),
          c = (0, El.useRequestBuilder)(Mt.NoteCollection, s);
        (0, e.useEffect)(() => {
          if (c.data && a) {
            const e = (0, Xo.zb)(c.data.filter(e => e.kind === Mt.EventKind.ContactList));
            if (e) {
              if ("" !== e.content && "{}" !== e.content) {
                const n = JSON.parse(e.content);
                Qo(t, n, 1e3 * e.created_at);
              }
              const n = e.tags.filter(e => "p" === e[0]).map(e => e[1]);
              !(function (e, t, n) {
                e.follows.timestamp >= n || ((e.follows.item = t), (e.follows.timestamp = n), oa.updateSession(e));
              })(t, n, 1e3 * e.created_at);
            }
            _c.onEvent(c.data), Tc.onEvent(c.data), Jl.onEvent(c.data);
            const n = c.data.filter(e => e.kind === Mt.EventKind.GiftWrap);
            Ql.onEvent(n, a);
            const r = c.data.filter(e => e.kind === Mt.EventKind.SnortSubscriptions && e.pubkey === (0, Xo.FX)(fi));
            Promise.all(
              r.map(async e => {
                const t = await a.decryptDm(e);
                if (t) {
                  const n = JSON.parse(t);
                  return { id: e.id, ...n };
                }
              })
            ).then(e =>
              (function (e) {
                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                  n[r - 1] = arguments[r];
                const i = (0, Xo.TR)([...(e.subscriptions || []), ...n]);
                i.length !== e.subscriptions.length && ((e.subscriptions = i), oa.updateSession(e));
              })(t, ...e.filter(e => void 0 !== e).map(Xo.Wg))
            );
          }
        }, [c, a]),
          (0, e.useEffect)(() => {
            if (c.data) {
              const e = c.data.filter(e => e.kind === Mt.EventKind.TextNote && !o(e.pubkey) && e.created_at > r);
              e.forEach(async e => {
                const n = await (async function (e) {
                  if (e.kind === Mt.EventKind.TextNote) {
                    if (e.tags.some((0, Xo.JS)(e))) return null;
                    const t = new Set([e.pubkey, ...e.tags.filter(e => "p" === e[0]).map(e => e[1])]);
                    await $l.buffer([...t]);
                    const n = [...t]
                        .map(e => $l.getFromCache(e))
                        .filter(e => e)
                        .map(e => (0, Xo.Wg)(e)),
                      r = $l.getFromCache(e.pubkey),
                      i = Ol(r, e.pubkey),
                      o = (null == r ? void 0 : r.picture) || (0, Xo.c1)(e.pubkey);
                    return {
                      title: `Reply from ${i}`,
                      body: ec(e, n).substring(0, 50),
                      icon: o,
                      timestamp: 1e3 * e.created_at,
                    };
                  }
                  return null;
                })(e);
                n &&
                  (async function (e, t) {
                    if (
                      "Notification" in window &&
                      "granted" === Notification.permission &&
                      t.timestamp > e.readNotifications
                    )
                      try {
                        (await navigator.serviceWorker.ready).showNotification(t.title, {
                          tag: "notification",
                          vibrate: [500],
                          ...t,
                        });
                      } catch (e) {
                        console.warn(e);
                      }
                  })(t, n);
              });
            }
          }, [c, r]);
        const u = (0, El.useRequestBuilder)(Mt.FlatNoteStore, l);
        (0, e.useEffect)(() => {
          if (u.data) {
            const e = (e, t) => e.filter(e => (0, Xo.Wg)(e.tags.find(e => "d" === e[0]))[1] === t);
            !(function (e) {
              var r, i, o;
              const s = nc(e);
              ta(t, s.keys, 1e3 * s.createdAt),
                s.raw &&
                  (null !==
                    (r =
                      null === (i = s.raw) || void 0 === i || null === (o = i.content) || void 0 === o
                        ? void 0
                        : o.length) && void 0 !== r
                    ? r
                    : 0) > 0 &&
                  n &&
                  (null == a ||
                    a
                      .nip4Decrypt(s.raw.content, n)
                      .then(e => {
                        try {
                          const n = JSON.parse(e)
                            .filter(e => e && 2 === e.length && "p" === e[0])
                            .map(e => e[1]);
                          na(t, n, 1e3 * (0, Xo.Wg)(s.raw).created_at);
                        } catch (e) {
                          console.debug("Couldn't parse JSON");
                        }
                      })
                      .catch(e => console.warn(e)));
            })(e(u.data, Mt.Lists.Muted)),
              (function (e) {
                const n = (0, Xo.uB)(e, "e");
                n && ra(t, n.keys, 1e3 * n.createdAt);
              })(e(u.data, Mt.Lists.Pinned)),
              (function (e) {
                const n = (0, Xo.uB)(e, "t");
                n && ea(t, n.keys, 1e3 * n.createdAt);
              })(e(u.data, Mt.Lists.Followed)),
              (function (e) {
                const n = (0, Xo.uB)(e, "e");
                n && ia(t, n.keys, 1e3 * n.createdAt);
              })(e(u.data, Mt.Lists.Bookmarked));
          }
        }, [u]),
          (0, e.useEffect)(() => {
            Gl.buffer(i.item).catch(console.error), ew.ProfileLoader.TrackMetadata(i.item);
          }, [i.item]);
        const d = (function (t) {
          var n, r, i, o;
          const a = (0, e.useMemo)(() => {
            const e = new Mt.RequestBuilder("relays:follows"),
              n = Gl.newest();
            return (
              oc()("LoginFeed")("Loading relay lists since %s", new Date(1e3 * n).toISOString()),
              e.withFilter().authors(t).kinds([Mt.EventKind.Relays, Mt.EventKind.ContactList]).since(n),
              e
            );
          }, [t]);
          function s(e) {
            return e.map(e => ({
              pubkey: e.pubkey,
              created_at: e.created_at,
              relays: e.tags
                .map(e => ({
                  url: (0, Xo.mY)(e[1]),
                  settings: { read: "read" === e[2] || void 0 === e[2], write: "write" === e[2] || void 0 === e[2] },
                }))
                .filter(e => void 0 !== e.url),
            }));
          }
          const l = (0, El.useRequestBuilder)(Mt.NoteCollection, a),
            c =
              null !==
                (n = null === (r = l.data) || void 0 === r ? void 0 : r.filter(e => e.kind === Mt.EventKind.Relays)) &&
              void 0 !== n
                ? n
                : [],
            u =
              null !==
                (i =
                  null === (o = l.data) || void 0 === o
                    ? void 0
                    : o.filter(e => e.kind === Mt.EventKind.ContactList)) && void 0 !== i
                ? i
                : [];
          return (0, e.useMemo)(() => {
            return [
              ...((e = u),
              e.map(e => {
                if ("" !== e.content && "{}" !== e.content && e.content.startsWith("{") && e.content.endsWith("}"))
                  try {
                    const t = JSON.parse(e.content);
                    return {
                      pubkey: e.pubkey,
                      created_at: e.created_at,
                      relays: Object.entries(t)
                        .map(e => {
                          let [t, n] = e;
                          return { url: (0, Xo.mY)(t), settings: n };
                        })
                        .filter(e => void 0 !== e.url),
                    };
                  } catch {}
                return { pubkey: e.pubkey, created_at: 0, relays: [] };
              })),
              ...s(c),
            ];
            var e;
          }, [l]);
        })(i.item);
        (0, e.useEffect)(() => {
          Gl.bulkSet(d).catch(console.error);
        }, [d]);
      })();
      const p = (0, e.useMemo)(
          () =>
            i ||
            ["/settings", "/messages", "/new", "/login", "/donate", "/p/", "/e", "/subscribe"].some(e =>
              t.pathname.startsWith(e)
            ),
          [t, i]
        ),
        y = (0, e.useMemo)(() => ["/login", "/new"].some(e => t.pathname.startsWith(e)), [t]);
      function g(e) {
        const t = document.documentElement;
        "light" !== e || t.classList.contains("light")
          ? "dark" === e && t.classList.contains("light") && t.classList.remove("light")
          : t.classList.add("light");
      }
      return (
        (0, e.useEffect)(() => {
          ["/login", "/messages"].some(e => t.pathname.startsWith(e))
            ? h(["/messages"].some(e => t.pathname.startsWith(e)) ? "scroll-lock" : "")
            : h("page");
        }, [t]),
        (0, e.useEffect)(() => {
          l &&
            (async () => {
              for (const [e, t] of Object.entries(l.item)) await ew.ConnectToRelay(e, t);
              for (const e of ew.Sockets) l.item[e.address] || e.ephemeral || ew.DisconnectRelay(e.address);
            })();
        }, [l]),
        (0, e.useEffect)(() => {
          const e = window.matchMedia("(prefers-color-scheme: light)");
          return (
            g("dark"),
            (e.onchange = e => {
              "system" === c.theme && g(e.matches ? "light" : "dark");
            }),
            () => {
              e.onchange = null;
            }
          );
        }, [c.theme]),
        (0, sa.jsxs)("div", {
          className: f,
          children: [
            !y &&
              (0, sa.jsxs)("header", {
                className: "main-content",
                children: [
                  (0, sa.jsxs)(Pt, {
                    to: "/",
                    className: "logo",
                    children: [
                      (0, sa.jsx)("h1", { children: "Snort" }),
                      d &&
                        (0, sa.jsxs)("small", {
                          className: "flex",
                          children: [(0, sa.jsx)(_l, { name: "diamond", size: 10, className: "mr5" }), _p(d.type)],
                        }),
                    ],
                  }),
                  s
                    ? (0, sa.jsx)(Lp, {})
                    : (0, sa.jsx)("button", {
                        type: "button",
                        onClick: () => a("/login"),
                        children: (0, sa.jsx)(wl, { ...Nl.Login }),
                      }),
                ],
              }),
            (0, sa.jsx)(vt, {}),
            !p &&
              (0, sa.jsxs)(sa.Fragment, {
                children: [
                  (0, sa.jsx)("button", {
                    className: "note-create-button",
                    onClick: () => {
                      n && o(al()), o(Gs(!0));
                    },
                    children: (0, sa.jsx)(_l, { name: "plus", size: 16 }),
                  }),
                  (0, sa.jsx)(wp, {}),
                ],
              }),
            (0, sa.jsx)(Sd, {}),
          ],
        })
      );
    }
    const Lp = () => {
      const t = ot(),
        { formatMessage: n } = yl(),
        { publicKey: r, latestNotification: i, readNotifications: o } = aa(),
        a = (0, El.useUserProfile)(r),
        s = (0, e.useMemo)(() => i > o, [i, o]),
        l = (0, e.useMemo)(() => 0, [r]);
      return (0, sa.jsxs)("div", {
        className: "header-actions",
        children: [
          (0, sa.jsxs)("div", {
            className: "search",
            children: [
              (0, sa.jsx)("input", {
                type: "text",
                placeholder: n({ id: "xmcVZ0", defaultMessage: [{ type: 0, value: "Search" }] }),
                className: "w-max",
              }),
              (0, sa.jsx)(_l, { name: "search", size: 24 }),
            ],
          }),
          (0, sa.jsxs)(Pt, {
            className: "btn",
            to: "/messages",
            children: [
              (0, sa.jsx)(_l, { name: "mail", size: 24 }),
              l > 0 && (0, sa.jsx)("span", { className: "has-unread" }),
            ],
          }),
          (0, sa.jsxs)(Pt, {
            className: "btn",
            to: "/notifications",
            onClick: async function () {
              if ("Notification" in window)
                try {
                  if ("granted" !== Notification.permission) {
                    const e = await Notification.requestPermission();
                    console.debug(e);
                  }
                } catch (e) {
                  console.error(e);
                }
            },
            children: [
              (0, sa.jsx)(_l, { name: "bell-v2", size: 24 }),
              s && (0, sa.jsx)("span", { className: "has-unread" }),
            ],
          }),
          (0, sa.jsx)(Ml, {
            pubkey: null != r ? r : "",
            user: a,
            onClick: () => {
              a && t((0, Xo._v)(a.pubkey));
            },
          }),
        ],
      });
    };
    function Ip() {
      const { formatMessage: e } = yl(),
        t = void 0 !== window.crypto.subtle;
      return {
        doLogin: async function (n) {
          var r;
          const i = e({
            id: "iXPL0Z",
            defaultMessage: [
              {
                type: 0,
                value:
                  "Can't login with private key on an insecure connection, please use a Nostr key manager extension instead",
              },
            ],
          });
          if (n.startsWith("nsec")) {
            if (!t) throw new Error(i);
            const e = (0, Xo.FX)(n);
            if (64 !== e.length) throw new Error("INVALID PRIVATE KEY");
            oa.loginWithPrivateKey(e);
          } else if (n.startsWith("npub")) {
            const e = (0, Xo.FX)(n);
            oa.loginWithPubkey(e, eo.PublicKey);
          } else if (n.match(vi)) {
            const e = await Up(n);
            oa.loginWithPubkey(e, eo.PublicKey);
          } else if (24 === (null === (r = n.match(wi)) || void 0 === r ? void 0 : r.length)) {
            if (!t) throw new Error(i);
            const e = Yo(Go(n));
            oa.loginWithPrivateKey(e);
          } else if (64 === n.length) {
            if (!t) throw new Error(i);
            oa.loginWithPrivateKey(n);
          } else {
            if (!n.startsWith("bunker://")) throw new Error("INVALID PRIVATE KEY");
            {
              const e = new Mt.Nip46Signer(n);
              await e.init();
              const t = await e.getPubKey();
              oa.loginWithPubkey(t, eo.Nip46, void 0, e.relays, e.privateKey), e.close();
            }
          }
        },
      };
    }
    const Fp = (0, Xo.FX)("npub1r0rs5q2gk0e3dk3nlc7gnu378ec6cnlenqp8a3cjhyzu6f8k5sgs4sq9ac"),
      Dp = [
        { name: "", pubkey: Fp, link: "https://void.cat/d/VKhPayp9ekeXYZGzAL9CxP" },
        { name: "", pubkey: Fp, link: "https://void.cat/d/3H2h8xxc3aEN6EVeobd8tw" },
        { name: "", pubkey: Fp, link: "https://void.cat/d/7i9W9PXn3TV86C4RUefNC9" },
        { name: "", pubkey: Fp, link: "https://void.cat/d/KtoX4ei6RYHY7HESg3Ve3k" },
      ];
    async function Up(e) {
      const [t, n] = e.split("@"),
        r = await fetch(`https://${n}/.well-known/nostr.json?name=${encodeURIComponent(t.toLocaleLowerCase())}`);
      if (r.ok) {
        const e = (await r.json()).names[t.toLowerCase()];
        if (e) return e;
      }
      throw new Error("User key not found");
    }
    function zp() {
      var t;
      const n = ot(),
        r = aa(),
        [i, o] = (0, e.useState)(""),
        [a, s] = (0, e.useState)(""),
        [l, c] = (0, e.useState)(),
        [u, d] = (0, e.useState)(!0),
        { formatMessage: f } = yl(),
        { proxy: h } = Tl(),
        p = Ip(),
        m = "nostr" in window,
        y = void 0 !== window.crypto.subtle,
        [g, v] = (0, e.useState)("");
      async function w() {
        var e;
        const t =
            "getRelays" in (0, Xo.Wg)(window.nostr)
              ? await (0, Xo.Wg)(null === (e = window.nostr) || void 0 === e ? void 0 : e.getRelays).call(window.nostr)
              : void 0,
          n = await (0, Xo.Wg)(window.nostr).getPublicKey();
        oa.loginWithPubkey(n, eo.Nip7, t);
      }
      return (
        (0, e.useEffect)(() => {
          r.publicKey && n("/");
        }, [r, n]),
        (0, e.useEffect)(() => {
          const e = (0, Xo.Wg)(Dp.at(Dp.length * Math.random())),
            t = h(e.link);
          c({ ...e, link: t });
        }, []),
        (0, sa.jsxs)("div", {
          className: "login",
          children: [
            (0, sa.jsx)("div", {
              children: (0, sa.jsxs)("div", {
                className: "login-container",
                children: [
                  (0, sa.jsx)("h1", { className: "logo", onClick: () => n("/"), children: "Snort" }),
                  (0, sa.jsx)("h1", {
                    dir: "auto",
                    children: (0, sa.jsx)(wl, { id: "odhABf", defaultMessage: [{ type: 0, value: "Login" }] }),
                  }),
                  (0, sa.jsx)("p", {
                    dir: "auto",
                    children: (0, sa.jsx)(wl, { id: "wLtRCF", defaultMessage: [{ type: 0, value: "Your key" }] }),
                  }),
                  (0, sa.jsxs)("div", {
                    className: "flex",
                    children: [
                      (0, sa.jsx)("input", {
                        dir: "auto",
                        type: u ? "password" : "text",
                        placeholder: f({
                          id: "X7xU8J",
                          defaultMessage: [{ type: 0, value: "nsec, npub, nip-05, hex, mnemonic" }],
                        }),
                        className: "f-grow",
                        onChange: e => o(e.target.value),
                      }),
                      (0, sa.jsx)(_l, {
                        name: u ? "openeye" : "closedeye",
                        size: 30,
                        className: "highlight btn-sm pointer",
                        onClick: () => d(!u),
                      }),
                    ],
                  }),
                  a.length > 0 ? (0, sa.jsx)("b", { className: "error", children: a }) : null,
                  (0, sa.jsx)("p", {
                    children: (0, sa.jsx)(wl, {
                      id: "o6Uy3d",
                      defaultMessage: [
                        {
                          type: 0,
                          value:
                            "Only the secret key can be used to publish (sign events), everything else logs you in read-only mode.",
                        },
                      ],
                    }),
                  }),
                  (0, sa.jsxs)("div", {
                    dir: "auto",
                    className: "login-actions",
                    children: [
                      (0, sa.jsx)(Gd, {
                        type: "button",
                        onClick: async function () {
                          try {
                            await p.doLogin(i);
                          } catch (e) {
                            e instanceof Error
                              ? s(e.message)
                              : s(f({ id: "OLEm6z", defaultMessage: [{ type: 0, value: "Unknown login error" }] })),
                              console.error(e);
                          }
                        },
                        children: (0, sa.jsx)(wl, { id: "9gqH2W", defaultMessage: [{ type: 0, value: "Login" }] }),
                      }),
                      (0, sa.jsx)(Gd, {
                        onClick: () =>
                          (async function () {
                            await (async function () {
                              const e = Go(),
                                t = ai.ci(e),
                                n = Yo(e);
                              let r = {};
                              try {
                                const e = await fetch("https://api.nostr.watch/v1/online");
                                if (e.ok) {
                                  const t = await e.json(),
                                    n = (0, Xo.mp)(t, 4).map(e => [(0, Xo.Wg)((0, Xo.mY)(e)), { read: !0, write: !0 }]);
                                  r = { ...Object.fromEntries(n), ...Object.fromEntries(hi.entries()) };
                                }
                              } catch (e) {
                                console.warn(e);
                              }
                              const i = ai.ci(oi.xW.getPublicKey(n)),
                                o = Mt.EventPublisher.privateKey(n),
                                a = await o.contactList([(0, Xo.FX)(fi), i], r);
                              ew.BroadcastEvent(a), oa.loginWithPrivateKey(n, t, r);
                            })(),
                              n("/new");
                          })(),
                        children: (0, sa.jsx)(wl, {
                          id: "5JcXdV",
                          defaultMessage: [{ type: 0, value: "Create Account" }],
                        }),
                      }),
                      (function () {
                        if (m)
                          return (0, sa.jsxs)(sa.Fragment, {
                            children: [
                              (0, sa.jsx)(Gd, {
                                type: "button",
                                onClick: w,
                                children: (0, sa.jsx)(wl, {
                                  id: "VtPV/B",
                                  defaultMessage: [{ type: 0, value: "Login with Extension (NIP-07)" }],
                                }),
                              }),
                              null,
                            ],
                          });
                      })(),
                    ],
                  }),
                  (function () {
                    if (!y)
                      return (0, sa.jsxs)(sa.Fragment, {
                        children: [
                          (0, sa.jsxs)("div", {
                            className: "flex login-or",
                            children: [
                              (0, sa.jsx)(wl, { id: "3xCwbZ", defaultMessage: [{ type: 0, value: "OR" }] }),
                              (0, sa.jsx)("div", { className: "divider w-max" }),
                            ],
                          }),
                          (0, sa.jsx)("h1", {
                            dir: "auto",
                            children: (0, sa.jsx)(wl, {
                              id: "c+oiJe",
                              defaultMessage: [{ type: 0, value: "Install Extension" }],
                            }),
                          }),
                          (0, sa.jsx)("p", {
                            children: (0, sa.jsx)(wl, {
                              id: "XzF0aC",
                              defaultMessage: [
                                {
                                  type: 0,
                                  value:
                                    "Key manager extensions are more secure and allow you to easily login to any Nostr client, here are some well known extensions:",
                                },
                              ],
                            }),
                          }),
                          (0, sa.jsxs)("ul", {
                            children: [
                              (0, sa.jsx)("li", {
                                children: (0, sa.jsx)("a", {
                                  href: "https://getalby.com/",
                                  target: "_blank",
                                  rel: "noreferrer",
                                  children: "Alby",
                                }),
                              }),
                              (0, sa.jsx)("li", {
                                children: (0, sa.jsx)("a", {
                                  href: "https://chrome.google.com/webstore/detail/nos2x/kpgefcfmnafjgpblomihpgmejjdanjjp",
                                  target: "_blank",
                                  rel: "noreferrer",
                                  children: "nos2x",
                                }),
                              }),
                            ],
                          }),
                          (0, sa.jsx)("p", {
                            children: (0, sa.jsx)(wl, {
                              id: "lBboHo",
                              defaultMessage: [
                                { type: 0, value: "If you want to try out some others, check out " },
                                { type: 1, value: "link" },
                                { type: 0, value: " for more!" },
                              ],
                              values: {
                                link: (0, sa.jsx)("a", {
                                  href: "https://github.com/aljazceru/awesome-nostr#browser-extensions",
                                  children: "awesome-nostr",
                                }),
                              },
                            }),
                          }),
                          (0, sa.jsx)("p", {
                            children: (0, sa.jsx)(wl, {
                              id: "5rOdPG",
                              defaultMessage: [
                                {
                                  type: 0,
                                  value:
                                    "Once you setup your key manager extension and generated a key, you can follow our new users flow to setup your profile and help you find some interesting people on Nostr to follow.",
                                },
                              ],
                            }),
                          }),
                          m
                            ? (0, sa.jsx)("div", {
                                className: "login-actions",
                                children: (0, sa.jsx)("button", {
                                  type: "button",
                                  onClick: () => w().then(() => n("/new/username")),
                                  children: (0, sa.jsx)(wl, {
                                    id: "nOaArs",
                                    defaultMessage: [{ type: 0, value: "Setup Profile" }],
                                  }),
                                }),
                              })
                            : (0, sa.jsx)("b", {
                                className: "error",
                                children: (0, sa.jsx)(wl, {
                                  id: "VBadwB",
                                  defaultMessage: [
                                    {
                                      type: 0,
                                      value: "Hmm, can't find a key manager extension.. try reloading the page.",
                                    },
                                  ],
                                }),
                              }),
                        ],
                      });
                  })(),
                ],
              }),
            }),
            (0, sa.jsx)("div", {
              children: (0, sa.jsx)("div", {
                className: "artwork",
                style: { "--img-src": `url('${null == l ? void 0 : l.link}')` },
                children: (0, sa.jsxs)("div", {
                  className: "attribution",
                  children: [
                    (0, sa.jsx)(wl, {
                      id: "QxCuTo",
                      defaultMessage: [
                        { type: 0, value: "Art by " },
                        { type: 1, value: "name" },
                      ],
                      values: { name: (0, sa.jsx)("span", { className: "artist", children: "Karnage" }) },
                    }),
                    (0, sa.jsx)(up, { pubkey: null !== (t = null == l ? void 0 : l.pubkey) && void 0 !== t ? t : "" }),
                  ],
                }),
              }),
            }),
          ],
        })
      );
    }
    const Hp = t => {
        let { pubkey: n, bookmarks: r, related: i } = t;
        const [o, a] = (0, e.useState)("all"),
          s = aa().publicKey,
          l = (0, e.useMemo)(() => [...new Set(r.map(e => e.pubkey))], [r]);
        return (0, sa.jsxs)("div", {
          className: "main-content",
          children: [
            (0, sa.jsx)("div", {
              className: "mb10 flex-end",
              children: (0, sa.jsxs)("select", {
                disabled: l.length <= 1,
                value: o,
                onChange: e => a(e.target.value),
                children: [
                  (0, sa.jsx)("option", { value: "all", children: (0, sa.jsx)(wl, { ...Fu.All }) }),
                  l.map(function (e) {
                    const t = $l.getFromCache(e);
                    return t
                      ? (0, sa.jsx)("option", {
                          value: e,
                          children: (null == t ? void 0 : t.display_name) || (null == t ? void 0 : t.name),
                        })
                      : null;
                  }),
                ],
              }),
            }),
            r
              .filter(e => "all" === o || e.pubkey === o)
              .map(e =>
                (0, sa.jsx)(
                  hp,
                  { data: e, related: i, options: { showTime: !1, showBookmarked: !0, canUnbookmark: s === n } },
                  e.id
                )
              ),
          ],
        });
      },
      Kp = a.p + "1cc87fd8db25937e4671.webp",
      Wp = t => {
        let { url: n } = t;
        const r = n
            .replace(/^wss:\/\//, "https://")
            .replace(/^ws:\/\//, "http://")
            .replace(/\/$/, ""),
          [i, o] = (0, e.useState)(`${r}/favicon.ico`);
        return (0, sa.jsx)("img", { className: "favicon", src: i, onError: () => o(Kp), alt: `favicon for ${n}` });
      },
      qp = e => {
        let { relays: t } = e;
        return (0, sa.jsx)("div", {
          className: "main-content",
          children:
            null == t
              ? void 0
              : t.map(e => {
                  let { url: t, settings: n } = e;
                  return (0, sa.jsxs)(
                    "div",
                    {
                      className: "card relay-card",
                      children: [
                        (0, sa.jsx)(Wp, { url: t }),
                        (0, sa.jsx)("code", { className: "relay-url f-ellipsis", children: t }),
                        (0, sa.jsxs)("div", {
                          className: "relay-settings",
                          children: [
                            (0, sa.jsx)(_l, { name: "read", className: n.read ? "enabled" : "disabled" }),
                            (0, sa.jsx)(_l, { name: "write", className: n.write ? "enabled" : "disabled" }),
                          ],
                        }),
                      ],
                    },
                    t
                  );
                }),
        });
      };
    function Vp(t, n, r) {
      var i;
      const { preferences: o, publicKey: a } = aa(),
        s = a === t,
        l = (0, e.useMemo)(() => {
          if (s || !t) return null;
          const e = new Mt.RequestBuilder(`note-list-${n}:${t.slice(0, 12)}`);
          return e.withFilter().kinds([Mt.EventKind.NoteLists]).authors([t]).tag("d", [n]).limit(1), e;
        }, [t]),
        c = (0, El.useRequestBuilder)(Mt.NoteCollection, l),
        u = (0, e.useMemo)(
          () => (s ? r : c.data && c.data.length > 0 ? c.data[0].tags.filter(e => "e" === e[0]).map(e => e[1]) : []),
          [c.data, s, r]
        ),
        d = (0, e.useMemo)(() => {
          if (!t || 0 === u.length) return null;
          const e = new Mt.RequestBuilder(`${n}-notes:${t.slice(0, 12)}`);
          return (
            e.withFilter().kinds([Mt.EventKind.TextNote]).ids(u),
            u.length > 0 &&
              o.enableReactions &&
              e
                .withFilter()
                .kinds([Mt.EventKind.Reaction, Mt.EventKind.Repost, Mt.EventKind.Deletion, Mt.EventKind.ZapReceipt])
                .tag("e", u),
            e
          );
        }, [u, t, o]);
      return null !== (i = (0, El.useRequestBuilder)(Mt.FlatNoteStore, d).data) && void 0 !== i ? i : [];
    }
    function $p(t) {
      const { publicKey: n, follows: r } = aa(),
        i = n === t,
        o = (0, e.useMemo)(() => {
          if (i || !t) return null;
          const e = new Mt.RequestBuilder(`follows:${t.slice(0, 12)}`);
          return e.withFilter().kinds([Mt.EventKind.ContactList]).authors([t]), e;
        }, [i, t]),
        a = (0, El.useRequestBuilder)(Mt.NoteCollection, o);
      return (0, e.useMemo)(() => {
        var e;
        return i
          ? r.item
          : (function (e, t) {
              const n = e.filter(e => e.kind === Mt.EventKind.ContactList && e.pubkey === t),
                r = null == n ? void 0 : n.map(e => e.tags.filter(e => "p" === e[0]).map(e => e[1]));
              return [...new Set(null == r ? void 0 : r.flat())];
            })(null !== (e = a.data) && void 0 !== e ? e : [], t);
      }, [a, r, t]);
    }
    function Gp(t, n, r) {
      const { preferences: i } = aa(),
        o = (0, e.useMemo)(() => {
          const e = new Mt.RequestBuilder(t);
          return (
            n.length > 0 &&
              e
                .withFilter()
                .kinds(
                  i.enableReactions
                    ? [Mt.EventKind.Reaction, Mt.EventKind.Repost, Mt.EventKind.ZapReceipt]
                    : [Mt.EventKind.ZapReceipt, Mt.EventKind.Repost]
                )
                .tag("e", n),
            null == r || r(e),
            e.numFilters > 0 ? e : null
          );
        }, [n]);
      return (0, El.useRequestBuilder)(Mt.NoteCollection, o);
    }
    function Zp(t) {
      var n;
      const { data: r } = t,
        { isMuted: i } = rc(),
        o = (0, El.useUserProfile)(r.pubkey),
        a = (0, e.useMemo)(() => {
          if (r) {
            const e = r.tags.filter(e => "e" === e[0]);
            if (e.length > 0) return e[0];
          }
          return null;
        }, [r]);
      if (
        r.kind !== Mt.EventKind.Reaction &&
        r.kind !== Mt.EventKind.Repost &&
        (r.kind !== Mt.EventKind.TextNote ||
          r.tags.every((e, t) => e[1] !== (null == a ? void 0 : a[1]) || "mention" !== e[3] || r.content !== `#[${t}]`))
      )
        return null;
      const s = (function () {
          if ((null == r ? void 0 : r.kind) === Mt.EventKind.Repost && r.content.length > 0 && "#[0]" !== r.content)
            try {
              return JSON.parse(r.content);
            } catch (e) {
              console.error("Could not load reposted content", e);
            }
          return t.root;
        })(),
        l = (s && i(s.pubkey)) || (null == s ? void 0 : s.kind) !== Mt.EventKind.TextNote,
        c = {
          showHeader:
            (null == r ? void 0 : r.kind) === Mt.EventKind.Repost ||
            (null == r ? void 0 : r.kind) === Mt.EventKind.TextNote,
          showFooter: !1,
        };
      return l
        ? null
        : (0, sa.jsxs)("div", {
            className: "card reaction",
            children: [
              (0, sa.jsxs)("div", {
                className: "flex g4",
                children: [
                  (0, sa.jsx)(_l, { name: "repeat", size: 18 }),
                  (0, sa.jsx)(wl, {
                    id: "+xliwN",
                    defaultMessage: [
                      { type: 1, value: "name" },
                      { type: 0, value: " reposted" },
                    ],
                    values: { name: Ol(o, r.pubkey) },
                  }),
                ],
              }),
              s ? (0, sa.jsx)(hp, { data: s, options: c, related: [] }) : null,
              !s && a
                ? (0, sa.jsx)("p", {
                    children: (0, sa.jsxs)(Pt, {
                      to: (0, Xo.sC)(null !== (n = a[1]) && void 0 !== n ? n : "", a[2]),
                      children: ["#", (0, Xo.jm)(Mt.NostrPrefix.Event, a[1]).substring(0, 12)],
                    }),
                  })
                : null,
            ],
          });
    }
    function Yp(t) {
      let { evs: n } = t;
      const r = (0, e.useMemo)(
        () =>
          [...n].sort((e, t) => {
            var n, r;
            return Number(null !== (n = (0, Xo.MV)(e, "starts")) && void 0 !== n ? n : e.created_at) >
              Number(null !== (r = (0, Xo.MV)(t, "starts")) && void 0 !== r ? r : t.created_at)
              ? -1
              : 1;
          }),
        [n]
      );
      return 0 === r.length
        ? null
        : (0, sa.jsx)("div", {
            className: "stream-list",
            children: r.map(e => (0, sa.jsx)(Xp, { ev: e }, `${e.kind}:${e.pubkey}:${(0, Xo.MV)(e, "d")}`)),
          });
    }
    function Xp(e) {
      var t;
      let { ev: n } = e;
      const { proxy: r } = Tl(),
        i = (0, Xo.MV)(n, "title"),
        o = (0, Xo.MV)(n, "image"),
        a = (0, Xo.MV)(n, "status"),
        s = (0, Mt.encodeTLV)(
          Mt.NostrPrefix.Address,
          null !== (t = (0, Xo.MV)(n, "d")) && void 0 !== t ? t : "",
          void 0,
          n.kind,
          n.pubkey
        ),
        l = r(null != o ? o : "");
      return (0, sa.jsxs)(Pt, {
        className: "stream-event",
        to: `https://zap.stream/${s}`,
        target: "_blank",
        children: [
          (0, sa.jsx)("div", { style: { "--img": `url(${l})` } }),
          (0, sa.jsxs)("div", {
            className: "flex f-col details",
            children: [
              (0, sa.jsxs)("div", {
                className: "flex g2",
                children: [
                  (0, sa.jsx)("span", { className: "live", children: a }),
                  (0, sa.jsxs)("div", {
                    className: "reaction-pill",
                    children: [
                      (0, sa.jsx)(_l, { name: "zap", size: 24 }),
                      (0, sa.jsx)("div", { className: "reaction-pill-number", children: "0" }),
                    ],
                  }),
                ],
              }),
              (0, sa.jsx)("div", { children: i }),
            ],
          }),
        ],
      });
    }
    const Qp = t => {
        const n = (0, e.useMemo)(() => ({ method: t.method, window: t.window, now: t.now }), [t]),
          r = (function (t, n) {
            var r, i, o;
            const {
                now: a,
                since: s,
                until: l,
                older: c,
                setUntil: u,
              } = (function (t) {
                var n;
                const [r] = (0, e.useState)(null !== (n = t.window) && void 0 !== n ? n : 7200),
                  [i, o] = (0, e.useState)(t.now),
                  [a, s] = (0, e.useState)(t.now - r);
                return {
                  now: t.now,
                  since: a,
                  until: i,
                  setUntil: o,
                  older: () => {
                    o(e => e - r), s(e => e - r);
                  },
                };
              })({ window: n.window, now: null !== (r = n.now) && void 0 !== r ? r : (0, Xo.oK)() }),
              d = aa().preferences,
              f = (0, e.useCallback)(() => {
                if ("global" !== t.type && 0 === t.items.length) return null;
                const e = new Mt.RequestBuilder(`timeline:${t.type}:${t.discriminator}`),
                  n = e
                    .withFilter()
                    .kinds(
                      "profile_keyword" === t.type
                        ? [Mt.EventKind.SetMetadata]
                        : [Mt.EventKind.TextNote, Mt.EventKind.Repost, Mt.EventKind.Polls]
                    );
                switch ((t.relay && n.relay(t.relay), t.type)) {
                  case "pubkey":
                    n.authors(t.items);
                    break;
                  case "hashtag":
                    n.tag("t", t.items);
                    break;
                  case "ptag":
                    n.tag("p", t.items);
                    break;
                  case "profile_keyword":
                    n.search(t.items[0] + " sort:popular"), pi.forEach(e => n.relay(e));
                    break;
                  case "post_keyword":
                    n.search(t.items[0]), pi.forEach(e => n.relay(e));
                }
                return (
                  t.streams &&
                    "pubkey" === t.type &&
                    (e
                      .withFilter()
                      .kinds([Mt.EventKind.LiveEvent])
                      .authors(t.items)
                      .since(a - 86400),
                    e.withFilter().kinds([Mt.EventKind.LiveEvent]).tag("p", t.items)),
                  { builder: e, filter: n }
                );
              }, [t.type, t.items, t.discriminator]),
              h = (0, e.useMemo)(() => {
                var e;
                const t = f();
                return (
                  t &&
                    ("LIMIT_UNTIL" === n.method
                      ? t.filter.until(l).limit(200)
                      : (t.filter.since(s).until(l), void 0 === s && t.filter.limit(50)),
                    d.autoShowLatest &&
                      t.builder
                        .withOptions({ leaveOpen: !0 })
                        .withFilter()
                        .authors(t.filter.filter.authors)
                        .kinds(t.filter.filter.kinds)
                        .tag("p", t.filter.filter["#p"])
                        .tag("t", t.filter.filter["#t"])
                        .search(t.filter.filter.search)
                        .limit(1)
                        .since(a)),
                  null !== (e = null == t ? void 0 : t.builder) && void 0 !== e ? e : null
                );
              }, [l, s, n.method, d, f]),
              p = (0, El.useRequestBuilder)(Mt.NoteCollection, h),
              m = (0, e.useMemo)(() => {
                var e;
                const t = f();
                return (
                  t &&
                    !d.autoShowLatest &&
                    "LIMIT_UNTIL" !== n.method &&
                    (t.builder.withOptions({ leaveOpen: !0 }),
                    (t.builder.id = `${t.builder.id}:latest`),
                    t.filter.limit(1).since(a)),
                  null !== (e = null == t ? void 0 : t.builder) && void 0 !== e ? e : null
                );
              }, [d.autoShowLatest, f]),
              y = (0, El.useRequestBuilder)(Mt.NoteCollection, m);
            (0, e.useEffect)(() => {
              p.clear(), y.clear();
            }, [t.relay]);
            const g =
                null !== (i = null === (o = p.data) || void 0 === o ? void 0 : o.map(e => e.id)) && void 0 !== i
                  ? i
                  : [],
              v = Gp(`timeline-related:${t.type}:${t.discriminator}`, g, e => {
                const t = (function () {
                  if (p.data) {
                    const e = p.data
                        .filter(e => e.kind === Mt.EventKind.Repost && "" === e.content)
                        .map(e => e.tags.find(e => "e" === e[0]))
                        .filter(e => e)
                        .map(e => (0, Xo.Wg)(e)[1]),
                      t = p.data
                        .filter(
                          e =>
                            (e.kind === Mt.EventKind.Repost || e.kind === Mt.EventKind.TextNote) &&
                            e.tags.some((0, Xo.JS)(e))
                        )
                        .map(e => e.tags.find((0, Xo.JS)(e)))
                        .filter(e => e)
                        .map(e => (0, Xo.Wg)(e)[1]);
                    return [...e, ...t];
                  }
                  return [];
                })();
                t.length > 0 && e.withFilter().ids(t);
              });
            return {
              main: p.data,
              related: v.data,
              latest: y.data,
              loading: p.loading(),
              loadMore: () => {
                if (p.data)
                  if ((console.debug("Timeline load more!"), "LIMIT_UNTIL" === n.method)) {
                    const e = p.data.reduce((e, t) => (t.created_at < e ? t.created_at : e), (0, Xo.oK)());
                    u(e);
                  } else c();
              },
              showLatest: () => {
                y.data && (p.add(y.data), y.clear());
              },
            };
          })(t.subject, n),
          { muted: i, isMuted: o } = rc(),
          { ref: a, inView: s } = ed(),
          l = (0, e.useCallback)(
            e => {
              const n = [...e.filter(e => e.kind !== Mt.EventKind.LiveEvent)];
              return (
                t.noSort || n.sort((e, t) => t.created_at - e.created_at),
                null == n
                  ? void 0
                  : n
                      .filter(e => !t.postsOnly || !e.tags.some(e => "e" === e[0]))
                      .filter(e => t.ignoreModeration || !o(e.pubkey))
              );
            },
            [t.postsOnly, i, t.ignoreModeration]
          ),
          c = (0, e.useMemo)(() => {
            var e;
            return l(null !== (e = r.main) && void 0 !== e ? e : []);
          }, [r, l]),
          u = (0, e.useMemo)(() => {
            var e;
            return l(null !== (e = r.latest) && void 0 !== e ? e : []).filter(e => !c.some(t => t.id === e.id));
          }, [r, l]),
          d = (0, e.useCallback)(
            e => {
              var t;
              return (null !== (t = r.related) && void 0 !== t ? t : []).filter(t => (0, Xo.MV)(t, "e") === e);
            },
            [r.related]
          ),
          f = (0, e.useMemo)(() => {
            var e;
            return (null !== (e = r.main) && void 0 !== e ? e : []).filter(
              e => e.kind === Mt.EventKind.LiveEvent && "live" === (0, Xo.MV)(e, "status")
            );
          }, [r]),
          h = (0, e.useCallback)(
            e => {
              var t;
              if (e) return (null !== (t = r.related) && void 0 !== t ? t : []).find(t => t.id === e);
            },
            [r.related]
          ),
          p = (0, e.useMemo)(() => (0, Xo.iT)(u).map(e => e.pubkey), [u]);
        function m() {
          let e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          r.showLatest(), e && window.scrollTo(0, 0);
        }
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)(Yp, { evs: f }),
            u.length > 0 &&
              (0, sa.jsxs)(sa.Fragment, {
                children: [
                  (0, sa.jsxs)("div", {
                    className: "card latest-notes",
                    onClick: () => m(),
                    ref: a,
                    children: [
                      p.slice(0, 3).map(e => (0, sa.jsx)(Bl, { pubkey: e, showUsername: !1, link: "" })),
                      (0, sa.jsx)(wl, {
                        id: "3t3kok",
                        defaultMessage: [
                          { type: 1, value: "n" },
                          { type: 0, value: " new " },
                          {
                            type: 6,
                            value: "n",
                            options: {
                              "=1": { value: [{ type: 0, value: "note" }] },
                              other: { value: [{ type: 0, value: "notes" }] },
                            },
                            offset: 0,
                            pluralType: "cardinal",
                          },
                        ],
                        values: { n: u.length },
                      }),
                      (0, sa.jsx)(_l, { name: "arrowUp" }),
                    ],
                  }),
                  !s &&
                    (0, sa.jsxs)("div", {
                      className: "card latest-notes latest-notes-fixed pointer fade-in",
                      onClick: () => m(!0),
                      children: [
                        p.slice(0, 3).map(e => (0, sa.jsx)(Bl, { pubkey: e, showUsername: !1, link: "" })),
                        (0, sa.jsx)(wl, {
                          id: "3t3kok",
                          defaultMessage: [
                            { type: 1, value: "n" },
                            { type: 0, value: " new " },
                            {
                              type: 6,
                              value: "n",
                              options: {
                                "=1": { value: [{ type: 0, value: "note" }] },
                                other: { value: [{ type: 0, value: "notes" }] },
                              },
                              offset: 0,
                              pluralType: "cardinal",
                            },
                          ],
                          values: { n: u.length },
                        }),
                        (0, sa.jsx)(_l, { name: "arrowUp" }),
                      ],
                    }),
                ],
              }),
            c.map(function (e) {
              switch (e.kind) {
                case Mt.EventKind.SetMetadata:
                  return (0,
                  sa.jsx)(lh, { actions: (0, sa.jsx)(sa.Fragment, {}), pubkey: e.pubkey, className: "card" });
                case Mt.EventKind.Polls:
                case Mt.EventKind.TextNote: {
                  var n;
                  const r = null === (n = e.tags.find((0, Xo.JS)(e))) || void 0 === n ? void 0 : n.at(1);
                  return r
                    ? (0, sa.jsx)(Zp, { data: e, root: h(r) }, e.id)
                    : (0, sa.jsx)(
                        hp,
                        { data: e, related: d(e.id), ignoreModeration: t.ignoreModeration, depth: 0 },
                        e.id
                      );
                }
                case Mt.EventKind.ZapReceipt: {
                  const t = (0, Mt.parseZap)(e, $l);
                  return t.event ? null : (0, sa.jsx)(Gf, { zap: t }, e.id);
                }
                case Mt.EventKind.Reaction:
                case Mt.EventKind.Repost: {
                  const t = (0, Xo.MV)(e, "e");
                  return (0, sa.jsx)(Zp, { data: e, root: h(t) }, e.id);
                }
              }
            }),
            (void 0 === t.loadMore || !0 === t.loadMore) &&
              (0, sa.jsx)("div", {
                className: "flex f-center",
                children: (0, sa.jsx)("button", {
                  type: "button",
                  onClick: () => r.loadMore(),
                  children: (0, sa.jsx)(wl, { id: "00LcfG", defaultMessage: [{ type: 0, value: "Load more" }] }),
                }),
              }),
          ],
        });
      },
      Jp = e => {
        let { pubkey: t } = e;
        const { block: n, unblock: r, isBlocked: i } = rc();
        return i(t)
          ? (0, sa.jsx)("button", {
              className: "secondary",
              type: "button",
              onClick: () => r(t),
              children: (0, sa.jsx)(wl, { ...Fu.Unblock }),
            })
          : (0, sa.jsx)("button", {
              className: "secondary",
              type: "button",
              onClick: () => n(t),
              children: (0, sa.jsx)(wl, { ...Fu.Block }),
            });
      };
    function em() {
      const { blocked: e } = rc();
      return (0, sa.jsx)("div", {
        className: "main-content",
        children: e.map(e =>
          (0, sa.jsx)(lh, { actions: (0, sa.jsx)(Jp, { pubkey: e }), pubkey: e, options: { about: !1 } }, e)
        ),
      });
    }
    const tm = e => {
      let { pubkey: t } = e;
      const { mute: n, unmute: r, isMuted: i } = rc();
      return i(t)
        ? (0, sa.jsx)("button", {
            className: "secondary",
            type: "button",
            onClick: () => r(t),
            children: (0, sa.jsx)(wl, { ...Fu.Unmute }),
          })
        : (0, sa.jsx)("button", { type: "button", onClick: () => n(t), children: (0, sa.jsx)(wl, { ...Fu.Mute }) });
    };
    function nm(e) {
      let { pubkeys: t } = e;
      const { isMuted: n, muteAll: r } = rc(),
        i = t.every(n);
      return (0, sa.jsxs)("div", {
        className: "main-content",
        children: [
          (0, sa.jsxs)("div", {
            className: "flex mt10",
            children: [
              (0, sa.jsx)("div", {
                className: "f-grow bold",
                children: (0, sa.jsx)(wl, { ...Fu.MuteCount, values: { n: null == t ? void 0 : t.length } }),
              }),
              (0, sa.jsx)("button", {
                disabled: i || 0 === t.length,
                className: "transparent",
                type: "button",
                onClick: () => r(t),
                children: (0, sa.jsx)(wl, { ...Fu.MuteAll }),
              }),
            ],
          }),
          null == t
            ? void 0
            : t.map(e =>
                (0, sa.jsx)(lh, { actions: (0, sa.jsx)(tm, { pubkey: e }), pubkey: e, options: { about: !1 } }, e)
              ),
        ],
      });
    }
    const rm = e => {
      let { onClick: t, children: n } = e;
      return (0, sa.jsx)("button", {
        className: "icon",
        type: "button",
        onClick: t,
        children: (0, sa.jsx)("div", { className: "icon-wrapper", children: n }),
      });
    };
    function im(e) {
      let { followsMe: t } = e;
      const { formatMessage: n } = yl();
      return t ? (0, sa.jsx)("span", { className: "follows-you", children: n(Fu.FollowsYou) }) : null;
    }
    function om(e) {
      let { pubkey: t, onLinkVisit: n } = e;
      const r = (0, El.useUserProfile)(t),
        i = ot();
      return r
        ? (0, sa.jsx)(Pt, {
            to: (0, Xo._v)(t),
            onClick: function (e) {
              e.preventDefault(), n(), i((0, Xo._v)(t));
            },
            children: r.name || t.slice(0, 12),
          })
        : null;
    }
    function am(t) {
      let { badges: n } = t;
      const [r, i] = (0, e.useState)(!1),
        o = n.map(e => {
          var t;
          const n = (0, Xo.MV)(e, "thumb"),
            r = (0, Xo.MV)(e, "image"),
            i = (0, Xo.MV)(e, "name"),
            o = (0, Xo.MV)(e, "description");
          return {
            id: e.id,
            pubkey: e.pubkey,
            name: i,
            description: o,
            thumb: null !== (t = null == n ? void 0 : n.length) && void 0 !== t && t ? n : r,
            image: r,
          };
        });
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "badge-list",
            onClick: () => i(!r),
            children: o.slice(0, 8).map(e => {
              let { id: t, name: n, thumb: r } = e;
              return (0, sa.jsx)(Af, { alt: n, className: "badge-item", size: 64, src: r }, t);
            }),
          }),
          r &&
            (0, sa.jsx)(Hu, {
              className: "reactions-modal",
              onClose: () => i(!1),
              children: (0, sa.jsxs)("div", {
                className: "reactions-view",
                children: [
                  (0, sa.jsx)("div", {
                    className: "close",
                    onClick: () => i(!1),
                    children: (0, sa.jsx)(_l, { name: "close" }),
                  }),
                  (0, sa.jsx)("div", {
                    className: "reactions-header",
                    children: (0, sa.jsx)("h2", {
                      children: (0, sa.jsx)(wl, { id: "h8XMJL", defaultMessage: [{ type: 0, value: "Badges" }] }),
                    }),
                  }),
                  (0, sa.jsx)("div", {
                    className: "body",
                    children: o.map(e => {
                      let { id: t, name: n, pubkey: r, description: o, image: a } = e;
                      return (0, sa.jsxs)(
                        "div",
                        {
                          className: "reactions-item badges-item",
                          children: [
                            (0, sa.jsx)(Af, { className: "reaction-icon", src: a, size: 64, alt: n }),
                            (0, sa.jsxs)("div", {
                              className: "badge-info",
                              children: [
                                (0, sa.jsx)("h3", { children: n }),
                                (0, sa.jsx)("p", { children: o }),
                                (0, sa.jsx)("p", {
                                  children: (0, sa.jsx)(wl, {
                                    id: "RfhLwC",
                                    defaultMessage: [
                                      { type: 0, value: "By: " },
                                      { type: 1, value: "author" },
                                    ],
                                    values: { author: (0, sa.jsx)(om, { pubkey: r, onLinkVisit: () => i(!1) }) },
                                  }),
                                }),
                              ],
                            }),
                          ],
                        },
                        t
                      );
                    }),
                  }),
                ],
              }),
            }),
        ],
      });
    }
    function sm(e) {
      let { id: t } = e;
      const n = cp((0, Mt.createNostrLink)(Mt.NostrPrefix.PublicKey, t)),
        r = n.reduce((e, t) => e + t.amount, 0);
      return (0, sa.jsxs)("div", {
        className: "main-content",
        children: [
          (0, sa.jsx)("div", {
            className: "zaps-total",
            children: (0, sa.jsx)(wl, { ...Nl.Sats, values: { n: nd(r) } }),
          }),
          n.map(e => (0, sa.jsx)(Gf, { showZapped: !1, zap: e })),
        ],
      });
    }
    function lm(t) {
      let { id: n } = t;
      const r = (function (t) {
        const n = (0, e.useMemo)(() => {
            if (!t) return null;
            const e = new Mt.RequestBuilder(`followers:${t.slice(0, 12)}`);
            return e.withFilter().kinds([Mt.EventKind.ContactList]).tag("p", [t]), e;
          }, [t]),
          r = (0, El.useRequestBuilder)(Mt.NoteCollection, n),
          i = (0, e.useMemo)(() => {
            var e;
            const n =
              null === (e = r.data) || void 0 === e
                ? void 0
                : e.filter(e => e.kind === Mt.EventKind.ContactList && e.tags.some(e => "p" === e[0] && e[1] === t));
            return [...new Set(null == n ? void 0 : n.map(e => e.pubkey))];
          }, [r, t]);
        return i;
      })(n);
      return (0, sa.jsx)(ch, { pubkeys: r, showAbout: !0 });
    }
    function cm(e) {
      let { id: t } = e;
      const n = $p(t);
      return (0, sa.jsx)(ch, { pubkeys: n, showAbout: !0 });
    }
    function um(t) {
      let { id: n } = t;
      const r = (function (t) {
        var n;
        const r = (0, e.useMemo)(() => {
            if (!t) return null;
            const e = new Mt.RequestBuilder(`relays:${t.slice(0, 12)}`);
            return e.withFilter().authors([t]).kinds([Mt.EventKind.ContactList]), e;
          }, [t]),
          i = (0, El.useRequestBuilder)(Mt.ReplaceableNoteStore, r);
        if (null === (n = i.data) || void 0 === n || !n.content) return [];
        try {
          return Object.entries(JSON.parse(i.data.content)).map(e => {
            let [t, n] = e;
            return { url: t, settings: n };
          });
        } catch (e) {
          return console.error(e), [];
        }
      })(n);
      return (0, sa.jsx)(qp, { relays: r });
    }
    function dm(e) {
      let { id: t } = e;
      const n = (function (e) {
        const { bookmarked: t } = aa();
        return Vp(e, Mt.Lists.Bookmarked, t.item);
      })(t);
      return (0, sa.jsx)(Hp, {
        pubkey: t,
        bookmarks: n.filter(e => e.kind === Mt.EventKind.TextNote),
        related: n.filter(e => e.kind !== Mt.EventKind.TextNote),
      });
    }
    function fm() {
      var t;
      const n = st(),
        r = ot(),
        [i, o] = (0, e.useState)(),
        a = (0, El.useUserProfile)(i),
        s = aa().publicKey,
        l = s === i,
        [c, u] = (0, e.useState)(!1),
        [d, f] = (0, e.useState)(!1),
        h = (null == a ? void 0 : a.about) || "",
        p = Uf({ content: h, tags: [], creator: "", disableMedia: !0 }),
        m = null != i && i.startsWith(Mt.NostrPrefix.PublicKey) ? i : (0, Xo.jm)(Mt.NostrPrefix.PublicKey, i || void 0),
        y = (() => {
          try {
            return new si.LNURL((null == a ? void 0 : a.lud16) || (null == a ? void 0 : a.lud06) || "");
          } catch {}
        })(),
        g =
          null != a && a.website && !a.website.startsWith("http")
            ? "https://" + a.website
            : (null == a ? void 0 : a.website) || "",
        { blocked: v } = rc(),
        w = (function (e) {
          const t = aa().pinned.item;
          return Vp(e, Mt.Lists.Pinned, t);
        })(i),
        b = (function (t) {
          const { publicKey: n, muted: r } = aa(),
            i = n === t,
            o = (0, e.useMemo)(() => {
              if (i || !t) return null;
              const e = new Mt.RequestBuilder(`muted:${t.slice(0, 12)}`);
              return e.withFilter().authors([t]).kinds([Mt.EventKind.PubkeyLists]).tag("d", [Mt.Lists.Muted]), e;
            }, [t]),
            a = (0, El.useRequestBuilder)(Mt.NoteCollection, o),
            s = (0, e.useMemo)(
              () =>
                t && a.data
                  ? (function (e, t) {
                      const n = e.filter(e => e.kind === Mt.EventKind.PubkeyLists && e.pubkey === t);
                      return nc(n).keys;
                    })(a.data, t)
                  : [],
              [a, t]
            );
          return i ? r.item : s;
        })(i),
        x = (function (t) {
          const n = (0, e.useMemo)(() => {
              if (!t) return null;
              const e = new Mt.RequestBuilder(`badges:${t.slice(0, 12)}`);
              return e.withFilter().kinds([Mt.EventKind.ProfileBadges]).tag("d", [Mt.Lists.Badges]).authors([t]), e;
            }, [t]),
            r = (0, El.useRequestBuilder)(Mt.ReplaceableNoteStore, n),
            i = (0, e.useMemo)(
              () =>
                r.data
                  ? (0, Xo.OZ)(
                      r.data.tags.filter(e => "a" === e[0] || "e" === e[0]),
                      2
                    ).reduce((e, t) => {
                      let [n, r] = t;
                      return { ...e, [r[1]]: n[1] };
                    }, {})
                  : {},
              [r]
            ),
            { ds: o, pubkeys: a } = (0, e.useMemo)(
              () =>
                Object.values(i).reduce(
                  (e, t) => {
                    const [, n, r] = t.split(":");
                    return e.pubkeys.push(n), (null == r ? void 0 : r.length) > 0 && e.ds.push(r), e;
                  },
                  { pubkeys: [], ds: [] }
                ),
              [i]
            ),
            s = (0, e.useMemo)(() => {
              const e = Object.keys(i);
              if (!t || 0 === e.length) return null;
              const n = new Mt.RequestBuilder(`profile_awards:${t.slice(0, 12)}`);
              return (
                n.withFilter().kinds([Mt.EventKind.BadgeAward]).ids(e),
                n.withFilter().kinds([Mt.EventKind.Badge]).tag("d", o).authors(a),
                n
              );
            }, [i, o]),
            l = (0, El.useRequestBuilder)(Mt.NoteCollection, s),
            c = (0, e.useMemo)(() => {
              if (l.data)
                return l.data
                  .map((e, t, n) => {
                    var r, i, o;
                    const [, a, s] =
                        null !==
                          (r =
                            null === (i = e.tags.find(e => "a" === e[0])) ||
                            void 0 === i ||
                            null === (o = i.at(1)) ||
                            void 0 === o
                              ? void 0
                              : o.split(":")) && void 0 !== r
                          ? r
                          : [],
                      l = n.find(e => e.pubkey === a && (0, Xo.MV)(e, "d") === s);
                    return { award: e, badge: l };
                  })
                  .filter(e => {
                    let { award: n, badge: r } = e;
                    return r && n.pubkey === r.pubkey && n.tags.find(e => "p" === e[0] && e[1] === t);
                  })
                  .map(e => {
                    let { badge: t } = e;
                    return (0, Xo.Wg)(t);
                  });
            }, [t, l]);
          return null != c ? c : [];
        })(i),
        E = $p(i),
        k = {
          Notes: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "pencil", size: 16 }),
                (0, sa.jsx)(wl, { id: "7+Domh", defaultMessage: [{ type: 0, value: "Notes" }] }),
              ],
            }),
            value: 0,
          },
          Reactions: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "reaction", size: 16 }),
                (0, sa.jsx)(wl, { id: "XgWvGA", defaultMessage: [{ type: 0, value: "Reactions" }] }),
              ],
            }),
            value: 1,
          },
          Followers: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "user-v2", size: 16 }),
                (0, sa.jsx)(wl, { id: "pzTOmv", defaultMessage: [{ type: 0, value: "Followers" }] }),
              ],
            }),
            value: 2,
          },
          Follows: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "stars", size: 16 }),
                (0, sa.jsx)(wl, { id: "IKKHqV", defaultMessage: [{ type: 0, value: "Follows" }] }),
              ],
            }),
            value: 3,
          },
          Zaps: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "zap-solid", size: 16 }),
                (0, sa.jsx)(wl, { id: "OEW7yJ", defaultMessage: [{ type: 0, value: "Zaps" }] }),
              ],
            }),
            value: 4,
          },
          Muted: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "mute", size: 16 }),
                (0, sa.jsx)(wl, { id: "HOzFdo", defaultMessage: [{ type: 0, value: "Muted" }] }),
              ],
            }),
            value: 5,
          },
          Blocked: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "block", size: 16 }),
                (0, sa.jsx)(wl, { id: "qUJTsT", defaultMessage: [{ type: 0, value: "Blocked" }] }),
              ],
            }),
            value: 6,
          },
          Relays: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "wifi", size: 16 }),
                (0, sa.jsx)(wl, { id: "RoOyAh", defaultMessage: [{ type: 0, value: "Relays" }] }),
              ],
            }),
            value: 7,
          },
          Bookmarks: {
            text: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "bookmark-solid", size: 16 }),
                (0, sa.jsx)(wl, { id: "nGBrvw", defaultMessage: [{ type: 0, value: "Bookmarks" }] }),
              ],
            }),
            value: 8,
          },
        },
        [j, S] = (0, e.useState)(k.Notes),
        A = [k.Zaps, k.Relays, k.Bookmarks, k.Muted].filter(e => (0, Xo.Wg)(e)),
        C = op();
      function N(e) {
        try {
          const t = new URL(e);
          return `${t.hostname}${"/" !== t.pathname ? t.pathname : ""}`;
        } catch {}
        return e;
      }
      function P(e) {
        return (0, sa.jsx)(ap, { t: e, tab: j, setTab: S }, e.value);
      }
      (0, e.useEffect)(() => {
        var e;
        if (null !== (e = n.id) && void 0 !== e && e.match(vi))
          Up(n.id).then(e => {
            o(e);
          });
        else {
          var t;
          const e = (0, Mt.tryParseNostrLink)(null !== (t = n.id) && void 0 !== t ? t : "");
          var r;
          (null == e ? void 0 : e.type) === Mt.NostrPrefix.PublicKey ||
          (null == e ? void 0 : e.type) === Mt.NostrPrefix.Profile
            ? o(e.id)
            : o((0, Xo.nm)(null !== (r = n.id) && void 0 !== r ? r : ""));
        }
        S(k.Notes);
      }, [n]);
      const _ = null === (t = window.document.querySelector(".page")) || void 0 === t ? void 0 : t.clientWidth;
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsxs)("div", {
            className: "profile",
            children: [
              (null == a ? void 0 : a.banner) &&
                (0, sa.jsx)(Af, { alt: "banner", className: "banner", src: a.banner, size: _ }),
              (0, sa.jsxs)("div", {
                className: "profile-wrapper w-max",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "avatar-wrapper w-max",
                    children: [
                      (0, sa.jsx)(Ml, { pubkey: null != i ? i : "", user: a }),
                      (0, sa.jsxs)("div", {
                        className: "profile-actions",
                        children: [
                          (function () {
                            if (!i) return;
                            const e = (0, Mt.encodeTLV)(Mt.NostrPrefix.Profile, i);
                            return (0, sa.jsxs)("div", {
                              className: "icon-actions",
                              children: [
                                (0, sa.jsx)(rm, {
                                  onClick: () => f(!0),
                                  children: (0, sa.jsx)(_l, { name: "qr", size: 16 }),
                                }),
                                d &&
                                  (0, sa.jsxs)(Hu, {
                                    className: "qr-modal",
                                    onClose: () => f(!1),
                                    children: [
                                      (0, sa.jsx)(Bl, { pubkey: i }),
                                      (0, sa.jsx)(od, { data: e, className: "m10 align-center" }),
                                      (0, sa.jsx)(sd, { text: e, className: "align-center" }),
                                    ],
                                  }),
                                l
                                  ? (0, sa.jsx)(sa.Fragment, {
                                      children: (0, sa.jsx)("button", {
                                        type: "button",
                                        onClick: () => r("/settings/profile"),
                                        children: (0, sa.jsx)(wl, { ...Nl.Settings }),
                                      }),
                                    })
                                  : (0, sa.jsxs)(sa.Fragment, {
                                      children: [
                                        y &&
                                          (0, sa.jsx)(rm, {
                                            onClick: () => u(!0),
                                            children: (0, sa.jsx)(_l, { name: "zap", size: 16 }),
                                          }),
                                        s &&
                                          (0, sa.jsx)(sa.Fragment, {
                                            children: (0, sa.jsx)(rm, {
                                              onClick: () =>
                                                r(
                                                  `/messages/${(0, Mt.encodeTLVEntries)("chat4", {
                                                    type: Mt.TLVEntryType.Author,
                                                    length: 64,
                                                    value: i,
                                                  })}`
                                                ),
                                              children: (0, sa.jsx)(_l, { name: "envelope", size: 16 }),
                                            }),
                                          }),
                                      ],
                                    }),
                              ],
                            });
                          })(),
                          !l && i && (0, sa.jsx)(sh, { pubkey: i }),
                        ],
                      }),
                    ],
                  }),
                  (function () {
                    if (i)
                      return (0, sa.jsxs)("div", {
                        className: "details-wrapper w-max",
                        children: [
                          (0, sa.jsxs)(sa.Fragment, {
                            children: [
                              (0, sa.jsxs)("div", {
                                className: "name",
                                children: [
                                  (0, sa.jsxs)("h2", {
                                    children: [
                                      (null == a ? void 0 : a.display_name) ||
                                        (null == a ? void 0 : a.name) ||
                                        "Nostrich",
                                      (0, sa.jsx)(im, { followsMe: E.includes(null != s ? s : "") }),
                                    ],
                                  }),
                                  (null == a ? void 0 : a.nip05) &&
                                    (0, sa.jsx)(Rl, { nip05: a.nip05, pubkey: a.pubkey }),
                                ],
                              }),
                              (0, sa.jsx)(am, { badges: x }),
                              (0, sa.jsxs)("div", {
                                className: "link-section",
                                children: [
                                  (0, sa.jsx)(sd, { text: m }),
                                  (0, sa.jsxs)(sa.Fragment, {
                                    children: [
                                      (null == a ? void 0 : a.website) &&
                                        (0, sa.jsxs)("div", {
                                          className: "link website f-ellipsis",
                                          children: [
                                            (0, sa.jsx)(_l, { name: "link-02", size: 16 }),
                                            (0, sa.jsx)("a", {
                                              href: g,
                                              target: "_blank",
                                              rel: "noreferrer",
                                              children: N(a.website),
                                            }),
                                          ],
                                        }),
                                      y &&
                                        (0, sa.jsxs)("div", {
                                          className: "link lnurl f-ellipsis",
                                          onClick: () => u(!0),
                                          children: [(0, sa.jsx)(_l, { name: "zapCircle", size: 16 }), y.name],
                                        }),
                                      (0, sa.jsx)(Yd, {
                                        lnurl: null == y ? void 0 : y.lnurl,
                                        show: c,
                                        onClose: () => u(!1),
                                        author: i,
                                        target: (null == a ? void 0 : a.display_name) || (null == a ? void 0 : a.name),
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          h.length > 0 && (0, sa.jsx)("div", { dir: "auto", className: "about", children: p }),
                        ],
                      });
                  })(),
                ],
              }),
            ],
          }),
          (0, sa.jsx)("div", {
            className: "main-content",
            children: (0, sa.jsxs)("div", {
              className: "tabs",
              ref: C,
              children: [[k.Notes, k.Followers, k.Follows].map(P), A.map(P), l && v.length > 0 && P(k.Blocked)],
            }),
          }),
          (0, sa.jsx)("div", {
            className: "main-content",
            children: (function () {
              if (!i) return null;
              switch (j.value) {
                case 0:
                  return (0, sa.jsxs)(sa.Fragment, {
                    children: [
                      w
                        .filter(e => e.kind === Mt.EventKind.TextNote)
                        .map(e =>
                          (0, sa.jsx)(
                            hp,
                            {
                              data: e,
                              related: (0, Xo.Ym)(w, e.id),
                              options: { showTime: !1, showPinned: !0, canUnpin: i === s },
                            },
                            `pinned-${e.id}`
                          )
                        ),
                      (0, sa.jsx)(
                        Qp,
                        {
                          subject: { type: "pubkey", items: [i], discriminator: i.slice(0, 12) },
                          postsOnly: !1,
                          method: "LIMIT_UNTIL",
                          loadMore: !1,
                          ignoreModeration: !0,
                          window: 21600,
                        },
                        i
                      ),
                    ],
                  });
                case 4:
                  return (0, sa.jsx)(sm, { id: i });
                case 3:
                  return l
                    ? (0, sa.jsx)(ch, { pubkeys: E, showFollowAll: !l, showAbout: !1 })
                    : (0, sa.jsx)(cm, { id: i });
                case 2:
                  return (0, sa.jsx)(lm, { id: i });
                case 5:
                  return (0, sa.jsx)(nm, { pubkeys: b });
                case 6:
                  return (0, sa.jsx)(em, {});
                case 7:
                  return (0, sa.jsx)(um, { id: i });
                case 8:
                  return (0, sa.jsx)(dm, { id: i });
              }
            })(),
          }),
        ],
      });
    }
    function hm(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    function pm(e, t, n) {
      if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
      return n;
    }
    class mm extends Error {
      constructor(e, t, n) {
        super(e), (this.body = t), (this.statusCode = n);
      }
    }
    var ym = new WeakMap(),
      gm = new WeakSet();
    class vm {
      constructor() {
        var e;
        hm(this, (e = gm)),
          e.add(this),
          (function (e, t, n) {
            hm(e, t), t.set(e, { writable: !0, value: "https://api.nostr.band" });
          })(this, ym);
      }
      async trendingProfiles() {
        return await pm(this, gm, wm).call(this, "GET", "/v0/trending/profiles");
      }
      async trendingNotes() {
        return await pm(this, gm, wm).call(this, "GET", "/v0/trending/notes");
      }
      async sugguestedFollows(e) {
        return await pm(this, gm, wm).call(this, "GET", `/v0/suggested/profiles/${e}`);
      }
    }
    async function wm(e, t) {
      const n = await fetch(
        `${
          ((r = this),
          (i = ym),
          (o = (function (e, t, n) {
            if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
            return t.get(e);
          })(r, i)),
          (function (e, t) {
            return t.get ? t.get.call(e) : t.value;
          })(r, o))
        }${t}`,
        { method: null != e ? e : "GET" }
      );
      var r, i, o;
      if (n.ok) return await n.json();
      throw new mm("Failed to load content from nostr.band", await n.text(), n.status);
    }
    function bm(e, t) {
      if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
    }
    class xm extends Error {
      constructor(e, t, n) {
        super(e), (this.body = t), (this.statusCode = n);
      }
    }
    var Em = new WeakMap(),
      km = new WeakSet();
    class jm {
      constructor() {
        var e;
        bm(this, (e = km)),
          e.add(this),
          (function (e, t, n) {
            bm(e, t), t.set(e, { writable: !0, value: "https://api.semisol.dev" });
          })(this, Em);
      }
      async sugguestedFollows(e, t) {
        return await (function (e, t, n) {
          if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
          return n;
        })(this, km, Sm).call(this, "POST", "/nosgraph/v1/recommend", { pubkey: e, exclude: [], following: t });
      }
    }
    async function Sm(e, t, n) {
      const r = `${
          ((o = this),
          (a = Em),
          (s = (function (e, t, n) {
            if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
            return t.get(e);
          })(o, a)),
          (function (e, t) {
            return t.get ? t.get.call(e) : t.value;
          })(o, s))
        }${t}`,
        i = await fetch(r, {
          method: null != e ? e : "GET",
          body: n ? JSON.stringify(n) : void 0,
          headers: { ...(n ? { "content-type": "application/json" } : {}) },
        });
      var o, a, s;
      if (i.ok) return await i.json();
      throw new xm(`Failed to load content from ${r}`, await i.text(), i.status);
    }
    var Am = (function (e) {
      return (e[(e.NostrBand = 1)] = "NostrBand"), (e[(e.SemisolDev = 2)] = "SemisolDev"), e;
    })(Am || {});
    function Cm() {
      const t = aa(),
        [n, r] = (0, e.useState)(),
        [i, o] = (0, e.useState)(Am.NostrBand),
        [a, s] = (0, e.useState)("");
      return (
        (0, e.useEffect)(() => {
          (async function () {
            if (t.publicKey) {
              r(void 0), s("");
              try {
                switch (i) {
                  case Am.NostrBand: {
                    const e = new vm(),
                      n = (await e.sugguestedFollows((0, Xo.jm)(Mt.NostrPrefix.PublicKey, t.publicKey))).profiles.map(
                        e => e.pubkey
                      );
                    r(n);
                    break;
                  }
                  case Am.SemisolDev: {
                    const e = new jm(),
                      n = (await e.sugguestedFollows(t.publicKey, t.follows.item)).recommendations
                        .sort(e => e[1])
                        .map(e => e[0]);
                    r(n);
                    break;
                  }
                }
              } catch (e) {
                e instanceof Error && s(e.message);
              }
            }
          })().catch(console.error);
        }, [t, i]),
        (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsxs)("div", {
              className: "card flex f-space",
              children: [
                (0, sa.jsx)(wl, { id: "xaj9Ba", defaultMessage: [{ type: 0, value: "Provider" }] }),
                (0, sa.jsxs)("select", {
                  onChange: e => o(Number(e.target.value)),
                  children: [
                    (0, sa.jsx)("option", { value: Am.NostrBand, children: "nostr.band" }),
                    (0, sa.jsx)("option", { value: Am.SemisolDev, children: "semisol.dev" }),
                  ],
                }),
              ],
            }),
            a && (0, sa.jsx)("b", { className: "error", children: a }),
            n ? (0, sa.jsx)(ch, { pubkeys: n, showAbout: !0 }) : (0, sa.jsx)(Tf, {}),
          ],
        })
      );
    }
    function Nm() {
      var t;
      const [n, r] = (0, e.useState)(),
        i = Gp("trending", null !== (t = null == n ? void 0 : n.map(e => e.id)) && void 0 !== t ? t : []);
      return (
        (0, e.useEffect)(() => {
          (async function () {
            const e = new vm(),
              t = await e.trendingNotes();
            r(t.notes.map(e => e.event));
          })().catch(console.error);
        }, []),
        n
          ? (0, sa.jsx)(sa.Fragment, {
              children: n.map(e => {
                var t;
                return (0, sa.jsx)(
                  hp,
                  { data: e, related: null !== (t = null == i ? void 0 : i.data) && void 0 !== t ? t : [], depth: 0 },
                  e.id
                );
              }),
            })
          : (0, sa.jsx)(Tf, {})
      );
    }
    function Pm() {
      const [t, n] = (0, e.useState)();
      return (
        (0, e.useEffect)(() => {
          (async function () {
            const e = new vm(),
              t = (await e.trendingProfiles()).profiles.map(e => e.pubkey);
            n(t);
          })().catch(console.error);
        }, []),
        t ? (0, sa.jsx)(sa.Fragment, { children: (0, sa.jsx)(ch, { pubkeys: t, showAbout: !0 }) }) : (0, sa.jsx)(Tf, {})
      );
    }
    function _m() {
      const { formatMessage: t } = yl(),
        n = {
          Follows: { text: t({ id: "C8HhVE", defaultMessage: [{ type: 0, value: "Suggested Follows" }] }), value: 0 },
          Posts: { text: t({ id: "Ix8l+B", defaultMessage: [{ type: 0, value: "Trending Notes" }] }), value: 1 },
          Profiles: { text: t({ id: "CVWeJ6", defaultMessage: [{ type: 0, value: "Trending People" }] }), value: 2 },
        },
        [r, i] = (0, e.useState)(n.Follows);
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "tabs",
            children: [n.Follows, n.Posts, n.Profiles].map(e => (0, sa.jsx)(ap, { tab: r, setTab: i, t: e }, e.value)),
          }),
          (function () {
            switch (r.value) {
              case 0:
                return (0, sa.jsx)(Cm, {});
              case 1:
                return (0, sa.jsx)(Nm, {});
              case 2:
                return (0, sa.jsx)(Pm, {});
            }
            return null;
          })(),
        ],
      });
    }
    const Tm = () => {
      var t;
      const n = (null !== (t = st().tag) && void 0 !== t ? t : "").toLowerCase(),
        r = aa(),
        i = (0, e.useMemo)(() => r.tags.item.includes(n), [r, n]),
        o = tc();
      async function a(e) {
        if (o) {
          const t = await o.tags(e);
          ew.BroadcastEvent(t), ea(r, e, 1e3 * t.created_at);
        }
      }
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "main-content p",
            children: (0, sa.jsxs)("div", {
              className: "action-heading",
              children: [
                (0, sa.jsxs)("h2", { children: ["#", n] }),
                i
                  ? (0, sa.jsx)("button", {
                      type: "button",
                      className: "secondary",
                      onClick: () => a(r.tags.item.filter(e => e !== n)),
                      children: (0, sa.jsx)(wl, { id: "izWS4J", defaultMessage: [{ type: 0, value: "Unfollow" }] }),
                    })
                  : (0, sa.jsx)("button", {
                      type: "button",
                      onClick: () => a(r.tags.item.concat([n])),
                      children: (0, sa.jsx)(wl, { id: "ieGrWo", defaultMessage: [{ type: 0, value: "Follow" }] }),
                    }),
              ],
            }),
          }),
          (0, sa.jsx)(
            Qp,
            { subject: { type: "hashtag", items: [n], discriminator: n }, postsOnly: !1, method: "TIME_RANGE" },
            n
          ),
        ],
      });
    };
    var Mm = new WeakSet();
    class Rm {
      constructor() {
        var e, t;
        (function (e, t) {
          if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object");
        })((e = this), (t = Mm)),
          t.add(e),
          (this.state = {});
      }
      mute() {
        (this.state.muted = !0),
          (function (e, t, n) {
            if (!t.has(e)) throw new TypeError("attempted to get private field on non-instance");
            return n;
          })(this, Mm, Bm).call(this);
      }
      load() {
        const e = window.localStorage.getItem(`task:${this.id}`);
        e && (this.state = JSON.parse(e));
      }
    }
    function Bm() {
      window.localStorage.setItem(`task:${this.id}`, JSON.stringify(this.state));
    }
    const Om = [
      new (class extends Rm {
        constructor() {
          var e, t, n;
          super(...arguments),
            (e = this),
            (n = "buy-nip5"),
            (t = (function (e) {
              var t = (function (e, t) {
                if ("object" != typeof e || null === e) return e;
                var n = e[Symbol.toPrimitive];
                if (void 0 !== n) {
                  var r = n.call(e, "string");
                  if ("object" != typeof r) return r;
                  throw new TypeError("@@toPrimitive must return a primitive value.");
                }
                return String(e);
              })(e);
              return "symbol" == typeof t ? t : String(t);
            })((t = "id"))) in e
              ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 })
              : (e[t] = n);
        }
        check(e) {
          return !this.state.muted && !e.nip05;
        }
        render() {
          return (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "ojzbwv",
              defaultMessage: [
                {
                  type: 0,
                  value: "Hey, it looks like you dont have a Nostr Address yet, you should get one! Check out ",
                },
                { type: 1, value: "link" },
              ],
              values: {
                link: (0, sa.jsx)(Pt, {
                  to: "/nostr-address",
                  children: (0, sa.jsx)(wl, {
                    id: "MuVeKe",
                    defaultMessage: [{ type: 0, value: "Buy nostr address" }],
                  }),
                }),
              },
            }),
          });
        }
      })(),
      new (class extends Rm {
        constructor() {
          var e, t, n;
          super(...arguments),
            (e = this),
            (n = "donate"),
            (t = (function (e) {
              var t = (function (e, t) {
                if ("object" != typeof e || null === e) return e;
                var n = e[Symbol.toPrimitive];
                if (void 0 !== n) {
                  var r = n.call(e, "string");
                  if ("object" != typeof r) return r;
                  throw new TypeError("@@toPrimitive must return a primitive value.");
                }
                return String(e);
              })(e);
              return "symbol" == typeof t ? t : String(t);
            })((t = "id"))) in e
              ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 })
              : (e[t] = n);
        }
        check() {
          return !this.state.muted;
        }
        render() {
          return (0, sa.jsxs)(sa.Fragment, {
            children: [
              (0, sa.jsx)("p", {
                children: (0, sa.jsx)(wl, {
                  id: "IDjHJ6",
                  defaultMessage: [{ type: 0, value: "Thanks for using Snort, please consider donating if you can." }],
                }),
              }),
              (0, sa.jsx)(Pt, {
                to: "/donate",
                children: (0, sa.jsx)("button", {
                  children: (0, sa.jsx)(wl, { id: "2IFGap", defaultMessage: [{ type: 0, value: "Donate" }] }),
                }),
              }),
            ],
          });
        }
      })(),
    ];
    Om.forEach(e => e.load());
    const Lm = () => {
      const t = aa().publicKey,
        n = (0, El.useUserProfile)(t),
        [, r] = (0, e.useState)(0);
      return (0, sa.jsx)(sa.Fragment, {
        children: Om.filter(e => !!n && e.check(n)).map(e =>
          (0, sa.jsxs)(
            "div",
            {
              className: "card",
              children: [
                (0, sa.jsxs)("div", {
                  className: "header",
                  children: [
                    (0, sa.jsx)(_l, { name: "lightbulb" }),
                    (0, sa.jsx)("div", {
                      className: "close",
                      onClick: () =>
                        (function (e) {
                          e.mute(), r(e => e + 1);
                        })(e),
                      children: (0, sa.jsx)(_l, { name: "close", size: 14 }),
                    }),
                  ],
                }),
                e.render(),
              ],
            },
            e.id
          )
        ),
      });
    };
    function Im() {
      const t = ot(),
        n = it(),
        { publicKey: r, tags: i, preferences: o } = aa(),
        [a, s] = (0, e.useState)("following"),
        l = [
          {
            tab: "following",
            path: "/notes",
            show: Boolean(r),
            element: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "user-v2" }),
                (0, sa.jsx)(wl, { id: "cPIKU2", defaultMessage: [{ type: 0, value: "Following" }] }),
              ],
            }),
          },
          {
            tab: "trending-notes",
            path: "/trending/notes",
            show: !0,
            element: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "fire" }),
                (0, sa.jsx)(wl, { id: "Ix8l+B", defaultMessage: [{ type: 0, value: "Trending Notes" }] }),
              ],
            }),
          },
          {
            tab: "conversations",
            path: "/conversations",
            show: Boolean(r),
            element: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "message-chat-circle" }),
                (0, sa.jsx)(wl, { id: "1udzha", defaultMessage: [{ type: 0, value: "Conversations" }] }),
              ],
            }),
          },
          {
            tab: "trending-people",
            path: "/trending/people",
            show: !0,
            element: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "user-up" }),
                (0, sa.jsx)(wl, { id: "CVWeJ6", defaultMessage: [{ type: 0, value: "Trending People" }] }),
              ],
            }),
          },
          {
            tab: "suggested",
            path: "/suggested",
            show: Boolean(r),
            element: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "thumbs-up" }),
                (0, sa.jsx)(wl, { id: "C8HhVE", defaultMessage: [{ type: 0, value: "Suggested Follows" }] }),
              ],
            }),
          },
          {
            tab: "global",
            path: "/global",
            show: !0,
            element: (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)(_l, { name: "globe" }),
                (0, sa.jsx)(wl, { id: "EWyQH5", defaultMessage: [{ type: 0, value: "Global" }] }),
              ],
            }),
          },
        ];
      return (
        (0, e.useEffect)(() => {
          if ("/" === n.pathname) {
            var e;
            const n = r ? (null !== (e = o.defaultRootTab) && void 0 !== e ? e : "/notes") : "/trending/notes";
            t(n);
          } else {
            var i;
            const e = null === (i = l.find(e => e.path === n.pathname)) || void 0 === i ? void 0 : i.tab;
            e && s(e);
          }
        }, [n]),
        (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("div", {
              className: "main-content root-type",
              children: (0, sa.jsxs)(np, {
                menuButton: (0, sa.jsxs)("button", {
                  type: "button",
                  children: [
                    n.pathname.startsWith("/t/")
                      ? (0, sa.jsxs)(sa.Fragment, {
                          children: [(0, sa.jsx)(_l, { name: "hash" }), n.pathname.split("/").slice(-1)],
                        })
                      : null === (c = l.find(e => e.tab === a)) || void 0 === c
                      ? void 0
                      : c.element,
                    (0, sa.jsx)(_l, { name: "chevronDown" }),
                  ],
                }),
                align: "center",
                menuClassName: () => "ctx-menu",
                children: [
                  (0, sa.jsx)("div", {
                    className: "close-menu-container",
                    children: (0, sa.jsx)(Vh, { children: (0, sa.jsx)("div", { className: "close-menu" }) }),
                  }),
                  l
                    .filter(e => e.show)
                    .map(e =>
                      (0, sa.jsx)(Vh, {
                        onClick: () => {
                          t(e.path);
                        },
                        children: e.element,
                      })
                    ),
                  i.item.map(e =>
                    (0, sa.jsxs)(Vh, {
                      onClick: () => {
                        t(`/t/${e}`);
                      },
                      children: [(0, sa.jsx)(_l, { name: "hash" }), e],
                    })
                  ),
                ],
              }),
            }),
            (0, sa.jsx)("div", { className: "main-content", children: (0, sa.jsx)(vt, {}) }),
          ],
        })
      );
      var c;
    }
    const Fm = () => {
        var e;
        const { publicKey: t, follows: n } = aa();
        return 0 === (null === (e = n.item) || void 0 === e ? void 0 : e.length) && t
          ? (0, sa.jsx)(wl, {
              ...Nl.NoFollows,
              values: {
                newUsersPage: (0, sa.jsx)(Pt, { to: "/new/discover", children: (0, sa.jsx)(wl, { ...Nl.NewUsers }) }),
              },
            })
          : null;
      },
      Dm = () => {
        var t;
        const { relays: n } = aa(),
          [r, i] = (0, e.useState)(),
          [o, a] = (0, e.useState)(),
          [s] = (0, e.useState)((0, Xo.oK)()),
          l = {
            type: "global",
            items: [],
            relay: null == r ? void 0 : r.url,
            discriminator: `all-${(0, Xo.JQ)(null !== (t = null == r ? void 0 : r.url) && void 0 !== t ? t : "").slice(
              0,
              12
            )}`,
          };
        return (
          (0, e.useEffect)(
            () =>
              (0, Xo.Ds)(500, () => {
                const e = [];
                ew.Sockets.forEach(t => {
                  var n, r, i;
                  e.push({
                    url: t.address,
                    paid:
                      null !==
                        (n =
                          null === (r = t.info) || void 0 === r || null === (i = r.limitation) || void 0 === i
                            ? void 0
                            : i.payment_required) &&
                      void 0 !== n &&
                      n,
                  });
                }),
                  e.sort(e => (e.paid ? -1 : 1)),
                  e.length > 0 && !r && i(e[0]),
                  a(e);
              }),
            [n, r]
          ),
          (0, sa.jsxs)(sa.Fragment, {
            children: [
              (function () {
                if (!o || 0 === o.length) return null;
                const e = o.filter(e => e.paid),
                  t = o.filter(e => !e.paid);
                return (0, sa.jsxs)("div", {
                  className: "flex mb10 f-end nowrap",
                  children: [
                    (0, sa.jsx)(wl, { id: "yCmnnm", defaultMessage: [{ type: 0, value: "Read global from" }] }),
                    " ",
                    (0, sa.jsxs)("select", {
                      className: "f-ellipsis",
                      onChange: e => i(o.find(t => t.url === e.target.value)),
                      value: null == r ? void 0 : r.url,
                      children: [
                        e.length > 0 &&
                          (0, sa.jsx)("optgroup", {
                            label: "Paid Relays",
                            children: e.map(e =>
                              (0, sa.jsx)("option", { value: e.url, children: (0, Xo.Os)(e.url) }, e.url)
                            ),
                          }),
                        (0, sa.jsx)("optgroup", {
                          label: "Public Relays",
                          children: t.map(e =>
                            (0, sa.jsx)("option", { value: e.url, children: (0, Xo.Os)(e.url) }, e.url)
                          ),
                        }),
                      ],
                    }),
                  ],
                });
              })(),
              r && (0, sa.jsx)(Qp, { subject: l, postsOnly: !1, method: "TIME_RANGE", window: 600, now: s }),
            ],
          })
        );
      },
      Um = () => {
        const { follows: e, publicKey: t } = aa(),
          n = {
            type: "pubkey",
            items: e.item,
            discriminator: `follows:${null == t ? void 0 : t.slice(0, 12)}`,
            streams: !0,
          };
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)(Fm, {}),
            (0, sa.jsx)(Lm, {}),
            (0, sa.jsx)(Qp, { subject: n, postsOnly: !0, method: "TIME_RANGE" }),
          ],
        });
      },
      zm = () => {
        const { follows: e, publicKey: t } = aa(),
          n = { type: "pubkey", items: e.item, discriminator: `follows:${null == t ? void 0 : t.slice(0, 12)}` };
        return (0, sa.jsx)(Qp, { subject: n, postsOnly: !1, method: "TIME_RANGE" });
      },
      Hm = () => {
        const { tag: e } = st(),
          t = { type: "hashtag", items: [null != e ? e : ""], discriminator: `tags-${e}`, streams: !0 };
        return (0, sa.jsx)(Qp, { subject: t, postsOnly: !1, method: "TIME_RANGE" });
      },
      Km = [
        {
          path: "/",
          element: (0, sa.jsx)(Im, {}),
          children: [
            { path: "global", element: (0, sa.jsx)(Dm, {}) },
            { path: "notes", element: (0, sa.jsx)(Um, {}) },
            { path: "conversations", element: (0, sa.jsx)(zm, {}) },
            { path: "discover", element: (0, sa.jsx)(_m, {}) },
            { path: "tag/:tag", element: (0, sa.jsx)(Hm, {}) },
            { path: "trending/notes", element: (0, sa.jsx)(Nm, {}) },
            { path: "trending/people", element: (0, sa.jsx)("div", { className: "p", children: (0, sa.jsx)(Pm, {}) }) },
            { path: "suggested", element: (0, sa.jsx)("div", { className: "p", children: (0, sa.jsx)(Cm, {}) }) },
            { path: "/t/:tag", element: (0, sa.jsx)(Tm, {}) },
          ],
        },
      ];
    function Wm(e) {
      switch (e.kind) {
        case Mt.EventKind.ZapReceipt: {
          var t;
          const n = (0, Xo.MV)(e, "a");
          if (n) {
            const [e, t, r] = n.split(":");
            return (0, Mt.createNostrLink)(Mt.NostrPrefix.Address, r, void 0, Number(e), t);
          }
          const r = (0, Xo.MV)(e, "e");
          if (r) return (0, Mt.createNostrLink)(Mt.NostrPrefix.Event, r);
          const i = null === (t = e.tags.filter(e => "p" === e[0]).slice(-1)) || void 0 === t ? void 0 : t[0];
          if (i) return (0, Mt.createNostrLink)(Mt.NostrPrefix.PublicKey, i[1]);
          break;
        }
        case Mt.EventKind.Repost:
        case Mt.EventKind.Reaction: {
          var n, r;
          const t = Mt.EventExt.extractThread(e),
            i = (0, si.unwrap)(
              null !==
                (n = null !== (r = null == t ? void 0 : t.replyTo) && void 0 !== r ? r : null == t ? void 0 : t.root) &&
                void 0 !== n
                ? n
                : { value: e.id, key: "e" }
            );
          if ("e" === i.key) return (0, Mt.createNostrLink)(Mt.NostrPrefix.Event, (0, si.unwrap)(i.value));
          if ("a" === i.key) {
            const [e, t, n] = (0, si.unwrap)(i.value).split(":");
            return (0, Mt.createNostrLink)(Mt.NostrPrefix.Address, n, void 0, Number(e), t);
          }
          throw new Error("Unknown thread context");
        }
        case Mt.EventKind.TextNote:
          return (0, Mt.createNostrLink)(Mt.NostrPrefix.Note, e.id);
      }
    }
    function qm() {
      const t = aa(),
        { isMuted: n } = rc();
      (0, e.useEffect)(() => {
        var e;
        ((e = t).readNotifications = (0, Xo.Fd)()), oa.updateSession(e);
      }, []);
      const r = (0, e.useSyncExternalStore)(
          e => Jl.hook(e, "*"),
          () => Jl.snapshot()
        ),
        i = (0, e.useMemo)(
          () =>
            (0, Xo.r1)([...r])
              .filter(e => !n(e.pubkey) && (0, Xo.MV)(e, "p") === t.publicKey)
              .reduce((e, t) => {
                var n;
                const r = `${((i = t), (i.created_at - (i.created_at % 10800)).toString())}:${
                  null === (n = Wm(t)) || void 0 === n ? void 0 : n.encode()
                }:${t.kind}`;
                var i;
                return e.has(r) ? (0, si.unwrap)(e.get(r)).push(t) : e.set(r, [t]), e;
              }, new Map()),
          [r]
        );
      return (0, sa.jsx)("div", {
        className: "main-content",
        children:
          t.publicKey &&
          [...i.entries()].map(e => {
            let [t, n] = e;
            return (0, sa.jsx)(Vm, { evs: n }, t);
          }),
      });
    }
    function Vm(t) {
      let { evs: n } = t;
      const { ref: r, inView: i } = ed({ triggerOnce: !0 }),
        { formatMessage: o } = yl(),
        a = n[0].kind,
        s = (0, e.useMemo)(
          () => n.filter(e => e.kind === Mt.EventKind.ZapReceipt).map(e => (0, Mt.parseZap)(e, $l)),
          [n]
        ),
        l = (0, Xo.D8)(
          n.map(e => {
            if (e.kind === Mt.EventKind.ZapReceipt) {
              var t;
              const n = (0, si.unwrap)(s.find(t => t.id === e.id));
              return n.anonZap ? "anon" : null !== (t = n.sender) && void 0 !== t ? t : e.pubkey;
            }
            return e.pubkey;
          })
        ),
        c = l[0],
        u = (0, El.useUserProfile)(i ? ("anon" === c ? "" : c) : ""),
        d = Wm(n[0]),
        f = s.reduce((e, t) => e + t.amount, 0),
        h = () => {
          switch (a) {
            case Mt.EventKind.Reaction:
              return "heart-solid";
            case Mt.EventKind.ZapReceipt:
              return "zap-solid";
            case Mt.EventKind.Repost:
              return "repeat";
            case Mt.EventKind.TextNote:
              return "reverse-left";
          }
          return "";
        };
      return (0, sa.jsx)("div", {
        className: "card notification-group",
        ref: r,
        children:
          i &&
          (0, sa.jsxs)(sa.Fragment, {
            children: [
              (0, sa.jsxs)("div", {
                className: "flex-column g12",
                children: [
                  (0, sa.jsx)("div", { children: (0, sa.jsx)(_l, { name: h(), size: 24, className: h() }) }),
                  (0, sa.jsx)("div", { children: a === Mt.EventKind.ZapReceipt && nd(f) }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex-column g12",
                children: [
                  (0, sa.jsx)("div", {
                    className: "flex",
                    children: l
                      .filter(e => "anon" !== e)
                      .slice(0, 12)
                      .map(e =>
                        (0, sa.jsx)(
                          Bl,
                          {
                            showUsername: a === Mt.EventKind.TextNote,
                            pubkey: e,
                            size: 40,
                            overrideUsername:
                              "" === e ? o({ id: "bfvyfs", defaultMessage: [{ type: 0, value: "Anon" }] }) : void 0,
                          },
                          e
                        )
                      ),
                  }),
                  a !== Mt.EventKind.TextNote &&
                    (0, sa.jsx)("div", {
                      className: "names",
                      children: ((e, t) => {
                        switch (a) {
                          case Mt.EventKind.TextNote:
                            return "";
                          case Mt.EventKind.Reaction:
                            return (0, sa.jsx)(wl, {
                              id: "kuPHYE",
                              defaultMessage: [
                                {
                                  type: 6,
                                  value: "n",
                                  options: {
                                    "=0": {
                                      value: [
                                        { type: 1, value: "name" },
                                        { type: 0, value: " liked" },
                                      ],
                                    },
                                    other: {
                                      value: [
                                        { type: 1, value: "name" },
                                        { type: 0, value: " & " },
                                        { type: 1, value: "n" },
                                        { type: 0, value: " others liked" },
                                      ],
                                    },
                                  },
                                  offset: 0,
                                  pluralType: "cardinal",
                                },
                              ],
                              values: { n: e, name: t },
                            });
                          case Mt.EventKind.Repost:
                            return (0, sa.jsx)(wl, {
                              id: "kJYo0u",
                              defaultMessage: [
                                {
                                  type: 6,
                                  value: "n",
                                  options: {
                                    "=0": {
                                      value: [
                                        { type: 1, value: "name" },
                                        { type: 0, value: " reposted" },
                                      ],
                                    },
                                    other: {
                                      value: [
                                        { type: 1, value: "name" },
                                        { type: 0, value: " & " },
                                        { type: 1, value: "n" },
                                        { type: 0, value: " others reposted" },
                                      ],
                                    },
                                  },
                                  offset: 0,
                                  pluralType: "cardinal",
                                },
                              ],
                              values: { n: e, name: t },
                            });
                          case Mt.EventKind.ZapReceipt:
                            return (0, sa.jsx)(wl, {
                              id: "Lw+I+J",
                              defaultMessage: [
                                {
                                  type: 6,
                                  value: "n",
                                  options: {
                                    "=0": {
                                      value: [
                                        { type: 1, value: "name" },
                                        { type: 0, value: " zapped" },
                                      ],
                                    },
                                    other: {
                                      value: [
                                        { type: 1, value: "name" },
                                        { type: 0, value: " & " },
                                        { type: 1, value: "n" },
                                        { type: 0, value: " others zapped" },
                                      ],
                                    },
                                  },
                                  offset: 0,
                                  pluralType: "cardinal",
                                },
                              ],
                              values: { n: e, name: t },
                            });
                        }
                        return `${a}'d your post`;
                      })(
                        l.length - 1,
                        "anon" === c ? o({ id: "bfvyfs", defaultMessage: [{ type: 0, value: "Anon" }] }) : Ol(u, c)
                      ),
                    }),
                  (0, sa.jsx)("div", { className: "content", children: d && (0, sa.jsx)($m, { link: d }) }),
                ],
              }),
            ],
          }),
      });
    }
    function $m(e) {
      var t, n, r;
      let { link: i } = e;
      const { data: o } = _f(i),
        a = ot(),
        s = null !== (t = null == o ? void 0 : o.content) && void 0 !== t ? t : "";
      return (0, sa.jsx)("div", {
        onClick: () => a(`/${i.encode()}`),
        className: "pointer",
        children: (0, sa.jsx)(Uf, {
          content: s.length > 120 ? `${s.substring(0, 120)}...` : s,
          tags: null !== (n = null == o ? void 0 : o.tags) && void 0 !== n ? n : [],
          creator: null !== (r = null == o ? void 0 : o.pubkey) && void 0 !== r ? r : "",
        }),
      });
    }
    const Gm = { id: "itPgxd", defaultMessage: [{ type: 0, value: "Profile" }] },
      Zm = { id: "RoOyAh", defaultMessage: [{ type: 0, value: "Relays" }] },
      Ym = { id: "zINlao", defaultMessage: [{ type: 0, value: "Owner" }] },
      Xm = { id: "r3C4x/", defaultMessage: [{ type: 0, value: "Software" }] },
      Qm = { id: "zFegDD", defaultMessage: [{ type: 0, value: "Contact" }] },
      Jm = { id: "hY4lzx", defaultMessage: [{ type: 0, value: "Supports" }] },
      ey = { id: "G/yZLu", defaultMessage: [{ type: 0, value: "Remove" }] },
      ty = { id: "PCSt5T", defaultMessage: [{ type: 0, value: "Preferences" }] },
      ny = { id: "2IFGap", defaultMessage: [{ type: 0, value: "Donate" }] },
      ry = { id: "H0JBH6", defaultMessage: [{ type: 0, value: "Log Out" }] },
      iy = { id: "Pe0ogR", defaultMessage: [{ type: 0, value: "Theme" }] },
      oy = { id: "P7FD0F", defaultMessage: [{ type: 0, value: "System (Default)" }] },
      ay = { id: "3cc4Ct", defaultMessage: [{ type: 0, value: "Light" }] },
      sy = { id: "tOdNiY", defaultMessage: [{ type: 0, value: "Dark" }] },
      ly = { id: "MWTx65", defaultMessage: [{ type: 0, value: "Default Page" }] },
      cy = { id: "1udzha", defaultMessage: [{ type: 0, value: "Conversations" }] },
      uy = { id: "EWyQH5", defaultMessage: [{ type: 0, value: "Global" }] },
      dy = { id: "xbVgIm", defaultMessage: [{ type: 0, value: "Automatically load media" }] },
      fy = {
        id: "TDR5ge",
        defaultMessage: [
          {
            type: 0,
            value: "Media in notes will automatically be shown for selected people, otherwise only the link will show",
          },
        ],
      },
      hy = { id: "450Fty", defaultMessage: [{ type: 0, value: "None" }] },
      py = { id: "odFwjL", defaultMessage: [{ type: 0, value: "Follows only" }] },
      my = { id: "zQvVDJ", defaultMessage: [{ type: 0, value: "All" }] },
      yy = { id: "ll3xBp", defaultMessage: [{ type: 0, value: "Image proxy service" }] },
      gy = { id: "4Z3t5i", defaultMessage: [{ type: 0, value: "Use imgproxy to compress images" }] },
      vy = { id: "YDURw6", defaultMessage: [{ type: 0, value: "Service URL" }] },
      wy = { id: "EcglP9", defaultMessage: [{ type: 0, value: "Key" }] },
      by = { id: "GFOoEE", defaultMessage: [{ type: 0, value: "Salt" }] },
      xy = { id: "YXA3AH", defaultMessage: [{ type: 0, value: "Enable reactions" }] },
      Ey = {
        id: "PrsIg7",
        defaultMessage: [
          { type: 0, value: "Reactions will be shown on every page, if disabled no reactions will be shown" },
        ],
      },
      ky = { id: "89q5wc", defaultMessage: [{ type: 0, value: "Confirm Reposts" }] },
      jy = { id: "uSV4Ti", defaultMessage: [{ type: 0, value: "Reposts need to be manually confirmed" }] },
      Sy = { id: "zvCDao", defaultMessage: [{ type: 0, value: "Automatically show latest notes" }] },
      Ay = {
        id: "a7TDNm",
        defaultMessage: [{ type: 0, value: "Notes will stream in real time into global and notes tab" }],
      },
      Cy = { id: "mKh2HS", defaultMessage: [{ type: 0, value: "File upload service" }] },
      Ny = {
        id: "VOjC1i",
        defaultMessage: [{ type: 0, value: "Pick which upload service you want to upload attachments to" }],
      },
      Py = { id: "rfuMjE", defaultMessage: [{ type: 0, value: "(Default)" }] },
      _y = { id: "M3Oirc", defaultMessage: [{ type: 0, value: "Debug Menus" }] },
      Ty = {
        id: "MBAYRO",
        defaultMessage: [
          { type: 0, value: 'Shows "Copy ID" and "Copy Event JSON" in the context menu on each message' },
        ],
      },
      My = { id: "2/2yg+", defaultMessage: [{ type: 0, value: "Add" }] },
      Ry = { id: "rT14Ow", defaultMessage: [{ type: 0, value: "Add Relays" }] },
      By = { id: "jvo0vs", defaultMessage: [{ type: 0, value: "Save" }] },
      Oy = { id: "eHAneD", defaultMessage: [{ type: 0, value: "Reaction emoji" }] },
      Ly = { id: "gDzDRs", defaultMessage: [{ type: 0, value: "Emoji to send when reactiong to a note" }] },
      Iy = () => {
        const e = aa(),
          t = ot(),
          n = vp(oa.allSubscriptions());
        return (0, sa.jsxs)("div", {
          className: "settings-nav",
          children: [
            (0, sa.jsxs)("div", {
              children: [
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("profile"),
                  children: [
                    (0, sa.jsx)(_l, { name: "profile", size: 24 }),
                    (0, sa.jsx)(wl, { ...Gm }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("relays"),
                  children: [
                    (0, sa.jsx)(_l, { name: "relay", size: 24 }),
                    (0, sa.jsx)(wl, { ...Zm }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("keys"),
                  children: [
                    (0, sa.jsx)(_l, { name: "key", size: 24 }),
                    (0, sa.jsx)(wl, { id: "08zn6O", defaultMessage: [{ type: 0, value: "Export Keys" }] }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("handle"),
                  children: [
                    (0, sa.jsx)(_l, { name: "badge", size: 24 }),
                    (0, sa.jsx)(wl, { id: "wYSD2L", defaultMessage: [{ type: 0, value: "Nostr Adddress" }] }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("/subscribe/manage"),
                  children: [
                    (0, sa.jsx)(_l, { name: "diamond", size: 24 }),
                    (0, sa.jsx)(wl, { id: "R/6nsx", defaultMessage: [{ type: 0, value: "Subscription" }] }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                n &&
                  (0, sa.jsxs)("div", {
                    className: "settings-row",
                    onClick: () => t("accounts"),
                    children: [
                      (0, sa.jsx)(_l, { name: "code-circle", size: 24 }),
                      (0, sa.jsx)(wl, { id: "7BX/yC", defaultMessage: [{ type: 0, value: "Account Switcher" }] }),
                      (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                    ],
                  }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("preferences"),
                  children: [
                    (0, sa.jsx)(_l, { name: "gear", size: 24 }),
                    (0, sa.jsx)(wl, { ...ty }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("wallet"),
                  children: [
                    (0, sa.jsx)(_l, { name: "wallet", size: 24 }),
                    (0, sa.jsx)(wl, { id: "3yk8fB", defaultMessage: [{ type: 0, value: "Wallet" }] }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("/donate"),
                  children: [
                    (0, sa.jsx)(_l, { name: "heart", size: 24 }),
                    (0, sa.jsx)(wl, { ...ny }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: () => t("/zap-pool"),
                  children: [
                    (0, sa.jsx)(_l, { name: "piggy-bank", size: 24 }),
                    (0, sa.jsx)(wl, { id: "i/dBAR", defaultMessage: [{ type: 0, value: "Zap Pool" }] }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "settings-row",
                  onClick: function () {
                    !(function (e) {
                      oa.removeSession(e);
                    })((0, Xo.Wg)(e.publicKey)),
                      t("/");
                  },
                  children: [
                    (0, sa.jsx)(_l, { name: "logout", size: 24 }),
                    (0, sa.jsx)(wl, { ...ry }),
                    (0, sa.jsx)(_l, { name: "arrowFront", size: 16 }),
                  ],
                }),
              ],
            }),
            (0, sa.jsx)("div", { children: (0, sa.jsx)(vt, {}) }),
          ],
        });
      };
    function Fy(t) {
      const n = ot(),
        { publicKey: r } = aa(),
        i = (0, El.useUserProfile)(null != r ? r : ""),
        o = tc(),
        a = $u(),
        [s, l] = (0, e.useState)(),
        [c, u] = (0, e.useState)(),
        [d, f] = (0, e.useState)(),
        [h, p] = (0, e.useState)(),
        [m, y] = (0, e.useState)(),
        [g, v] = (0, e.useState)(),
        [w, b] = (0, e.useState)();
      async function x() {
        const e = await (0, Xo.ZB)();
        if (e) {
          console.log(e);
          const t = await a.upload(e, e.name);
          if ((console.log(t), "string" == typeof (null == t ? void 0 : t.error)))
            throw new Error(`Upload failed ${t.error}`);
          return t.url;
        }
      }
      return (
        (0, e.useEffect)(() => {
          i && (l(i.name), u(i.picture), f(i.banner), p(i.about), y(i.website), v(i.nip05), b(i.lud16));
        }, [i]),
        (0, sa.jsx)("div", {
          className: "settings",
          children: r
            ? (0, sa.jsxs)(sa.Fragment, {
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex f-center image-settings",
                    children: [
                      (null === (E = t.banner) || void 0 === E || E) &&
                        (0, sa.jsx)("div", {
                          style: {
                            backgroundImage:
                              (null !== (k = null == d ? void 0 : d.length) && void 0 !== k ? k : 0) > 0
                                ? `url(${d})`
                                : void 0,
                          },
                          className: "banner",
                          children: (0, sa.jsx)(Gd, {
                            type: "button",
                            onClick: () =>
                              (async function () {
                                const e = await x();
                                e && f(e);
                              })(),
                            children: (0, sa.jsx)(wl, { id: "p4N05H", defaultMessage: [{ type: 0, value: "Upload" }] }),
                          }),
                        }),
                      (null === (j = t.avatar) || void 0 === j || j) &&
                        (0, sa.jsxs)("div", {
                          className: "avatar-stack",
                          children: [
                            (0, sa.jsx)(Ml, { pubkey: r, user: i, image: c }),
                            (0, sa.jsx)(Gd, {
                              type: "button",
                              className: "btn-rnd",
                              onClick: () =>
                                (async function () {
                                  const e = await x();
                                  e && u(e);
                                })(),
                              children: (0, sa.jsx)(_l, { name: "upload-01" }),
                            }),
                          ],
                        }),
                    ],
                  }),
                  (0, sa.jsxs)("div", {
                    className: "flex f-col g24",
                    children: [
                      (0, sa.jsxs)("div", {
                        className: "flex f-col w-max g8",
                        children: [
                          (0, sa.jsx)("h4", {
                            children: (0, sa.jsx)(wl, { id: "HAlOn1", defaultMessage: [{ type: 0, value: "Name" }] }),
                          }),
                          (0, sa.jsx)("input", {
                            className: "w-max",
                            type: "text",
                            value: s,
                            onChange: e => l(e.target.value),
                          }),
                        ],
                      }),
                      (0, sa.jsxs)("div", {
                        className: "flex f-col w-max g8",
                        children: [
                          (0, sa.jsx)("h4", {
                            children: (0, sa.jsx)(wl, { id: "g5pX+a", defaultMessage: [{ type: 0, value: "About" }] }),
                          }),
                          (0, sa.jsx)("textarea", { className: "w-max", onChange: e => p(e.target.value), value: h }),
                        ],
                      }),
                      (0, sa.jsxs)("div", {
                        className: "flex f-col w-max g8",
                        children: [
                          (0, sa.jsx)("h4", {
                            children: (0, sa.jsx)(wl, {
                              id: "JkLHGw",
                              defaultMessage: [{ type: 0, value: "Website" }],
                            }),
                          }),
                          (0, sa.jsx)("input", {
                            className: "w-max",
                            type: "text",
                            value: m,
                            onChange: e => y(e.target.value),
                          }),
                        ],
                      }),
                      (0, sa.jsxs)("div", {
                        className: "flex f-col w-max g8",
                        children: [
                          (0, sa.jsx)("h4", {
                            children: (0, sa.jsx)(wl, {
                              id: "9pMqYs",
                              defaultMessage: [{ type: 0, value: "Nostr Address" }],
                            }),
                          }),
                          (0, sa.jsxs)("div", {
                            className: "flex f-col g8 w-max",
                            children: [
                              (0, sa.jsx)("input", {
                                type: "text",
                                className: "w-max",
                                value: g,
                                onChange: e => v(e.target.value),
                              }),
                              (0, sa.jsx)("small", {
                                children: (0, sa.jsx)(wl, {
                                  id: "5vMmmR",
                                  defaultMessage: [
                                    {
                                      type: 0,
                                      value:
                                        "Usernames are not unique on Nostr. The nostr address is your unique human-readable address that is unique to you upon registration.",
                                    },
                                  ],
                                }),
                              }),
                              (0, sa.jsxs)("div", {
                                className: "flex g12",
                                children: [
                                  (0, sa.jsx)("button", {
                                    className: "flex f-center",
                                    type: "button",
                                    onClick: () => n("/nostr-address"),
                                    children: (0, sa.jsx)(wl, {
                                      id: "MuVeKe",
                                      defaultMessage: [{ type: 0, value: "Buy nostr address" }],
                                    }),
                                  }),
                                  (0, sa.jsx)("button", {
                                    className: "flex f-center secondary",
                                    type: "button",
                                    onClick: () => n("/nostr-address"),
                                    children: (0, sa.jsx)(wl, {
                                      id: "vlbWtt",
                                      defaultMessage: [{ type: 0, value: "Get a free one" }],
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      (0, sa.jsxs)("div", {
                        className: "flex f-col w-max g8",
                        children: [
                          (0, sa.jsx)("h4", {
                            children: (0, sa.jsx)(wl, {
                              id: "GSye7T",
                              defaultMessage: [{ type: 0, value: "Lightning Address" }],
                            }),
                          }),
                          (0, sa.jsx)("input", {
                            className: "w-max",
                            type: "text",
                            value: w,
                            onChange: e => b(e.target.value),
                          }),
                        ],
                      }),
                      (0, sa.jsx)(Gd, {
                        onClick: () =>
                          (async function () {
                            const e = {
                              ...i,
                              name: s,
                              about: h,
                              picture: c,
                              banner: d,
                              website: m,
                              nip05: g,
                              lud16: w,
                            };
                            if (
                              (delete e.loaded,
                              delete e.created,
                              delete e.pubkey,
                              delete e.npub,
                              delete e.deleted,
                              delete e.zapService,
                              delete e.isNostrAddressValid,
                              console.debug(e),
                              o)
                            ) {
                              const t = await o.metadata(e);
                              ew.BroadcastEvent(t);
                              const n = (0, Mt.mapEventToProfile)(t);
                              n && (await $l.update(n));
                            }
                          })(),
                        children: (0, sa.jsx)(wl, { id: "jvo0vs", defaultMessage: [{ type: 0, value: "Save" }] }),
                      }),
                    ],
                  }),
                ],
              })
            : null,
        })
      );
      var E, k, j;
    }
    function Dy(e) {
      const t = ew.Sockets.find(t => t.address === e);
      return t;
    }
    function Uy(t) {
      var n, r, i;
      const o = ot(),
        a = aa(),
        s = (0, Xo.Wg)(
          null !==
            (n =
              null !== (r = a.relays.item[t.addr]) && void 0 !== r
                ? r
                : null === (i = ew.Sockets.find(e => e.address === t.addr)) || void 0 === i
                ? void 0
                : i.settings) && void 0 !== n
            ? n
            : {}
        ),
        l = Dy(t.addr),
        c = (0, e.useMemo)(() => (0, Xo.Os)(t.addr), [t.addr]);
      function u(e) {
        Qo(a, { ...a.relays.item, [t.addr]: e }, (0, Xo.Fd)());
      }
      return (0, sa.jsx)(sa.Fragment, {
        children: (0, sa.jsxs)("div", {
          className: "relay w-max",
          children: [
            (0, sa.jsx)("div", {
              className: "flex " + (null != l && l.connected ? "bg-success" : "bg-error"),
              children: (0, sa.jsx)(_l, { name: "wifi" }),
            }),
            (0, sa.jsxs)("div", {
              className: "f-grow f-col",
              children: [
                (0, sa.jsxs)("div", {
                  className: "flex mb10",
                  children: [
                    (0, sa.jsx)("b", { className: "f-2", children: c }),
                    (0, sa.jsxs)("div", {
                      className: "f-1",
                      children: [
                        (0, sa.jsx)(wl, { ...Fu.Write }),
                        (0, sa.jsx)("span", {
                          className: "checkmark",
                          onClick: () => u({ write: !s.write, read: s.read }),
                          children: (0, sa.jsx)(_l, { name: s.write ? "check" : "close", size: 12 }),
                        }),
                      ],
                    }),
                    (0, sa.jsxs)("div", {
                      className: "f-1",
                      children: [
                        (0, sa.jsx)(wl, { ...Fu.Read }),
                        (0, sa.jsx)("span", {
                          className: "checkmark",
                          onClick: () => u({ write: s.write, read: !s.read }),
                          children: (0, sa.jsx)(_l, { name: s.read ? "check" : "close", size: 12 }),
                        }),
                      ],
                    }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  className: "flex",
                  children: [
                    (0, sa.jsx)("div", { className: "f-grow" }),
                    (0, sa.jsx)("div", {
                      children: (0, sa.jsx)("span", {
                        className: "icon-btn",
                        onClick: () => {
                          var e;
                          return o(null !== (e = null == l ? void 0 : l.id) && void 0 !== e ? e : "");
                        },
                        children: (0, sa.jsx)(_l, { name: "gear", size: 12 }),
                      }),
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
      });
    }
    const zy = () => {
        const t = tc(),
          n = aa(),
          r = n.relays,
          [i, o] = (0, e.useState)(),
          a = (0, e.useMemo)(() => ew.Sockets.filter(e => void 0 === r.item[e.address]), [r]);
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Zm }) }),
            (0, sa.jsx)("div", {
              className: "flex f-col mb10",
              children: Object.keys(r.item || {}).map(e => (0, sa.jsx)(Uy, { addr: e }, e)),
            }),
            (0, sa.jsxs)("div", {
              className: "flex mt10",
              children: [
                (0, sa.jsx)("div", { className: "f-grow" }),
                (0, sa.jsx)("button", {
                  type: "button",
                  onClick: () =>
                    (async function () {
                      if (t) {
                        const e = await t.contactList(n.follows.item, n.relays.item);
                        ew.BroadcastEvent(e);
                        try {
                          const e = await fetch("https://api.nostr.watch/v1/online").then(e => e.json()),
                            i = await t.relayList(n.relays.item);
                          Object.keys(r.item)
                            .concat((0, Xo.mp)(e, 20))
                            .forEach(e => {
                              ew.WriteOnceToRelay(e, i);
                            });
                        } catch (e) {
                          console.error(e);
                        }
                      }
                    })(),
                  children: (0, sa.jsx)(wl, { ...By }),
                }),
              ],
            }),
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Ry }) }),
                (0, sa.jsx)("div", {
                  className: "flex mb10",
                  children: (0, sa.jsx)("input", {
                    type: "text",
                    className: "f-grow",
                    placeholder: "wss://my-relay.com",
                    value: i,
                    onChange: e => {
                      const t = e.target.value,
                        n = window.location.protocol;
                      (("https:" === n && t.startsWith("wss://")) || "http:" === n) && o(t);
                    },
                  }),
                }),
                (0, sa.jsx)("button", {
                  className: "secondary mb10",
                  onClick: () =>
                    (function () {
                      var e;
                      if ((null !== (e = null == i ? void 0 : i.length) && void 0 !== e ? e : 0) > 0) {
                        const e = new URL(null != i ? i : ""),
                          t = { ...r.item, [e.toString()]: { read: !0, write: !0 } };
                        Qo(n, t, (0, Xo.Fd)());
                      }
                    })(),
                  children: (0, sa.jsx)(wl, { ...My }),
                }),
              ],
            }),
            (0, sa.jsx)("h3", {
              children: (0, sa.jsx)(wl, { id: "LF5kYT", defaultMessage: [{ type: 0, value: "Other Connections" }] }),
            }),
            (0, sa.jsx)("div", {
              className: "flex f-col mb10",
              children: a.map(e => (0, sa.jsx)(Uy, { addr: e.address }, e.id)),
            }),
          ],
        });
      },
      Hy = ["en", "ja", "es", "hu", "zh-CN", "zh-TW", "fr", "ar", "it", "id", "de", "ru", "sv", "hr", "ta-IN", "fa-IR"],
      Ky = () => {
        var t, n, r;
        const { formatMessage: i } = yl(),
          o = aa();
        console.debug(o);
        const a = o.preferences,
          [s, l] = (0, e.useState)([]);
        return (
          (0, e.useEffect)(() => {
            (async () => {
              l((await Iu("")).map(e => ({ name: e.name, char: e.char })));
            })();
          }, []),
          (0, sa.jsxs)("div", {
            className: "preferences flex-column g24",
            children: [
              (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...ty }) }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsx)("h4", {
                    children: (0, sa.jsx)(wl, { id: "y1Z3or", defaultMessage: [{ type: 0, value: "Language" }] }),
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("select", {
                      value: a.language || Mi.language,
                      onChange: e => Jo(o, { ...a, language: e.target.value }),
                      style: { textTransform: "capitalize" },
                      children: Hy.sort().map(e =>
                        (0, sa.jsx)("option", {
                          value: e,
                          children: new Intl.DisplayNames([e], { type: "language" }).of(e),
                        })
                      ),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...iy }) }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsxs)("select", {
                      value: a.theme,
                      onChange: e => Jo(o, { ...a, theme: e.target.value }),
                      children: [
                        (0, sa.jsx)("option", { value: "system", children: (0, sa.jsx)(wl, { ...oy }) }),
                        (0, sa.jsx)("option", { value: "light", children: (0, sa.jsx)(wl, { ...ay }) }),
                        (0, sa.jsx)("option", { value: "dark", children: (0, sa.jsx)(wl, { ...sy }) }),
                      ],
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...ly }) }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsxs)("select", {
                      value: a.defaultRootTab,
                      onChange: e => Jo(o, { ...a, defaultRootTab: e.target.value }),
                      children: [
                        (0, sa.jsx)("option", {
                          value: "notes",
                          children: (0, sa.jsx)(wl, { id: "7+Domh", defaultMessage: [{ type: 0, value: "Notes" }] }),
                        }),
                        (0, sa.jsx)("option", { value: "conversations", children: (0, sa.jsx)(wl, { ...cy }) }),
                        (0, sa.jsx)("option", { value: "global", children: (0, sa.jsx)(wl, { ...uy }) }),
                      ],
                    }),
                  }),
                ],
              }),
              (0, sa.jsx)("div", {
                className: "flex w-max",
                children: (0, sa.jsxs)("div", {
                  className: "flex-column g8",
                  children: [
                    (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...dy }) }),
                    (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...fy }) }),
                    (0, sa.jsx)("div", {
                      className: "w-max",
                      children: (0, sa.jsxs)("select", {
                        className: "w-max",
                        value: a.autoLoadMedia,
                        onChange: e => Jo(o, { ...a, autoLoadMedia: e.target.value }),
                        children: [
                          (0, sa.jsx)("option", { value: "none", children: (0, sa.jsx)(wl, { ...hy }) }),
                          (0, sa.jsx)("option", { value: "follows-only", children: (0, sa.jsx)(wl, { ...py }) }),
                          (0, sa.jsx)("option", { value: "all", children: (0, sa.jsx)(wl, { ...my }) }),
                        ],
                      }),
                    }),
                  ],
                }),
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex-column g8",
                    children: [
                      (0, sa.jsx)("h4", {
                        children: (0, sa.jsx)(wl, {
                          id: "grQ+mI",
                          defaultMessage: [{ type: 0, value: "Proof of Work" }],
                        }),
                      }),
                      (0, sa.jsx)("small", {
                        children: (0, sa.jsx)(wl, {
                          id: "vxwnbh",
                          defaultMessage: [{ type: 0, value: "Amount of work to apply to all published events" }],
                        }),
                      }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "number",
                      defaultValue: a.pow,
                      min: 0,
                      onChange: e => Jo(o, { ...a, pow: parseInt(e.target.value || "0") }),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsx)("h4", {
                    children: (0, sa.jsx)(wl, {
                      id: "qMx1sA",
                      defaultMessage: [{ type: 0, value: "Default Zap amount" }],
                    }),
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "number",
                      defaultValue: a.defaultZapAmount,
                      min: 1,
                      onChange: e => Jo(o, { ...a, defaultZapAmount: parseInt(e.target.value || "0") }),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex-column g8",
                    children: [
                      (0, sa.jsx)("h4", {
                        children: (0, sa.jsx)(wl, { id: "Dh3hbq", defaultMessage: [{ type: 0, value: "Auto Zap" }] }),
                      }),
                      (0, sa.jsx)("small", {
                        children: (0, sa.jsx)(wl, {
                          id: "D+KzKd",
                          defaultMessage: [{ type: 0, value: "Automatically zap every note when loaded" }],
                        }),
                      }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "checkbox",
                      checked: a.autoZap,
                      onChange: e => Jo(o, { ...a, autoZap: e.target.checked }),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex-column",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex f-space",
                    children: [
                      (0, sa.jsxs)("div", {
                        className: "flex-column g8",
                        children: [
                          (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...yy }) }),
                          (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...gy }) }),
                        ],
                      }),
                      (0, sa.jsx)("div", {
                        children: (0, sa.jsx)("input", {
                          type: "checkbox",
                          checked: null !== a.imgProxyConfig,
                          onChange: e => Jo(o, { ...a, imgProxyConfig: e.target.checked ? yi : null }),
                        }),
                      }),
                    ],
                  }),
                  a.imgProxyConfig &&
                    (0, sa.jsxs)("div", {
                      className: "w-max form",
                      children: [
                        (0, sa.jsxs)("div", {
                          className: "form-group",
                          children: [
                            (0, sa.jsx)("div", { children: (0, sa.jsx)(wl, { ...vy }) }),
                            (0, sa.jsx)("div", {
                              className: "w-max",
                              children: (0, sa.jsx)("input", {
                                type: "text",
                                value: null === (t = a.imgProxyConfig) || void 0 === t ? void 0 : t.url,
                                placeholder: i({ id: "cQfLWb", defaultMessage: [{ type: 0, value: "URL.." }] }),
                                onChange: e =>
                                  Jo(o, {
                                    ...a,
                                    imgProxyConfig: { ...(0, Xo.Wg)(a.imgProxyConfig), url: e.target.value },
                                  }),
                              }),
                            }),
                          ],
                        }),
                        (0, sa.jsxs)("div", {
                          className: "form-group",
                          children: [
                            (0, sa.jsx)("div", { children: (0, sa.jsx)(wl, { ...wy }) }),
                            (0, sa.jsx)("div", {
                              className: "w-max",
                              children: (0, sa.jsx)("input", {
                                type: "password",
                                value: null === (n = a.imgProxyConfig) || void 0 === n ? void 0 : n.key,
                                placeholder: i({ id: "H+vHiz", defaultMessage: [{ type: 0, value: "Hex Key.." }] }),
                                onChange: e =>
                                  Jo(o, {
                                    ...a,
                                    imgProxyConfig: { ...(0, Xo.Wg)(a.imgProxyConfig), key: e.target.value },
                                  }),
                              }),
                            }),
                          ],
                        }),
                        (0, sa.jsxs)("div", {
                          className: "form-group",
                          children: [
                            (0, sa.jsx)("div", { children: (0, sa.jsx)(wl, { ...by }) }),
                            (0, sa.jsx)("div", {
                              className: "w-max",
                              children: (0, sa.jsx)("input", {
                                type: "password",
                                value: null === (r = a.imgProxyConfig) || void 0 === r ? void 0 : r.salt,
                                placeholder: i({ id: "TpgeGw", defaultMessage: [{ type: 0, value: "Hex Salt.." }] }),
                                onChange: e =>
                                  Jo(o, {
                                    ...a,
                                    imgProxyConfig: { ...(0, Xo.Wg)(a.imgProxyConfig), salt: e.target.value },
                                  }),
                              }),
                            }),
                          ],
                        }),
                      ],
                    }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space w-max",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex-column g8",
                    children: [
                      (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...xy }) }),
                      (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...Ey }) }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "checkbox",
                      checked: a.enableReactions,
                      onChange: e => Jo(o, { ...a, enableReactions: e.target.checked }),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex-column g8",
                children: [
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Oy }) }),
                  (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...Ly }) }),
                  (0, sa.jsxs)("select", {
                    className: "emoji-selector",
                    value: a.reactionEmoji,
                    onChange: e => Jo(o, { ...a, reactionEmoji: e.target.value }),
                    children: [
                      (0, sa.jsxs)("option", { value: "+", children: ["+ ", (0, sa.jsx)(wl, { ...Py })] }),
                      s.map(e => {
                        let { name: t, char: n } = e;
                        return (0, sa.jsxs)("option", { value: n, children: [t, " ", n] });
                      }),
                    ],
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex-column g8",
                    children: [
                      (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...ky }) }),
                      (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...jy }) }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "checkbox",
                      checked: a.confirmReposts,
                      onChange: e => Jo(o, { ...a, confirmReposts: e.target.checked }),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex-column g8",
                    children: [
                      (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Sy }) }),
                      (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...Ay }) }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "checkbox",
                      checked: a.autoShowLatest,
                      onChange: e => Jo(o, { ...a, autoShowLatest: e.target.checked }),
                    }),
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex-column g8",
                children: [
                  (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Cy }) }),
                  (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...Ny }) }),
                  (0, sa.jsxs)("select", {
                    value: a.fileUploader,
                    onChange: e => Jo(o, { ...a, fileUploader: e.target.value }),
                    children: [
                      (0, sa.jsxs)("option", {
                        value: "void.cat",
                        children: ["void.cat ", (0, sa.jsx)(wl, { ...Py })],
                      }),
                      (0, sa.jsx)("option", { value: "nostr.build", children: "nostr.build" }),
                      (0, sa.jsx)("option", { value: "nostrimg.com", children: "nostrimg.com" }),
                    ],
                  }),
                ],
              }),
              (0, sa.jsxs)("div", {
                className: "flex f-space",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex-column g8",
                    children: [
                      (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ..._y }) }),
                      (0, sa.jsx)("small", { children: (0, sa.jsx)(wl, { ...Ty }) }),
                    ],
                  }),
                  (0, sa.jsx)("div", {
                    children: (0, sa.jsx)("input", {
                      type: "checkbox",
                      checked: a.showDebugMenus,
                      onChange: e => Jo(o, { ...a, showDebugMenus: e.target.checked }),
                    }),
                  }),
                ],
              }),
            ],
          })
        );
      },
      Wy = () => {
        var e, t, n, r, i, o, a, s;
        const l = st(),
          c = ot(),
          u = aa(),
          d = ew.Sockets.find(e => e.id === l.id),
          f = Dy(null !== (e = null == d ? void 0 : d.address) && void 0 !== e ? e : "");
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("h3", {
              className: "pointer",
              onClick: () => c("/settings/relays"),
              children: (0, sa.jsx)(wl, { ...Zm }),
            }),
            (0, sa.jsxs)("div", {
              children: [
                (0, sa.jsx)("h3", { children: null == f || null === (t = f.info) || void 0 === t ? void 0 : t.name }),
                (0, sa.jsx)("p", {
                  children: null == f || null === (n = f.info) || void 0 === n ? void 0 : n.description,
                }),
                (null == f || null === (r = f.info) || void 0 === r ? void 0 : r.pubkey) &&
                  (0, sa.jsxs)(sa.Fragment, {
                    children: [
                      (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Ym }) }),
                      (0, sa.jsx)(lh, { pubkey: (0, Xo.nm)(f.info.pubkey) }),
                    ],
                  }),
                (null == f || null === (i = f.info) || void 0 === i ? void 0 : i.software) &&
                  (0, sa.jsxs)("div", {
                    className: "flex",
                    children: [
                      (0, sa.jsx)("h4", { className: "f-grow", children: (0, sa.jsx)(wl, { ...Xm }) }),
                      (0, sa.jsxs)("div", {
                        className: "flex f-col",
                        children: [
                          f.info.software.startsWith("http")
                            ? (0, sa.jsx)("a", {
                                href: f.info.software,
                                target: "_blank",
                                rel: "noreferrer",
                                children: f.info.software,
                              })
                            : (0, sa.jsx)(sa.Fragment, { children: f.info.software }),
                          (0, sa.jsxs)("small", {
                            children: [
                              !(null !== (o = f.info.version) && void 0 !== o && o.startsWith("v")) && "v",
                              f.info.version,
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                (null == f || null === (a = f.info) || void 0 === a ? void 0 : a.contact) &&
                  (0, sa.jsxs)("div", {
                    className: "flex",
                    children: [
                      (0, sa.jsx)("h4", { className: "f-grow", children: (0, sa.jsx)(wl, { ...Qm }) }),
                      (0, sa.jsx)("a", {
                        href: `${f.info.contact.startsWith("mailto:") ? "" : "mailto:"}${f.info.contact}`,
                        target: "_blank",
                        rel: "noreferrer",
                        children: f.info.contact,
                      }),
                    ],
                  }),
                (null == f || null === (s = f.info) || void 0 === s ? void 0 : s.supported_nips) &&
                  (0, sa.jsxs)(sa.Fragment, {
                    children: [
                      (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...Jm }) }),
                      (0, sa.jsx)("div", {
                        className: "f-grow",
                        children: f.info.supported_nips.map(e =>
                          (0, sa.jsxs)("a", {
                            target: "_blank",
                            rel: "noreferrer",
                            href: `https://nips.be/${e}`,
                            className: "pill",
                            children: ["NIP-", e.toString().padStart(2, "0")],
                          })
                        ),
                      }),
                    ],
                  }),
                (0, sa.jsx)("h4", {
                  children: (0, sa.jsx)(wl, {
                    id: "p85Uwy",
                    defaultMessage: [{ type: 0, value: "Active Subscriptions" }],
                  }),
                }),
                (0, sa.jsx)("div", {
                  className: "f-grow",
                  children:
                    null == f
                      ? void 0
                      : f.activeRequests.map(e => (0, sa.jsx)("span", { className: "pill", children: e }, e)),
                }),
                (0, sa.jsx)("h4", {
                  children: (0, sa.jsx)(wl, {
                    id: "UDYlxu",
                    defaultMessage: [{ type: 0, value: "Pending Subscriptions" }],
                  }),
                }),
                (0, sa.jsx)("div", {
                  className: "f-grow",
                  children:
                    null == f
                      ? void 0
                      : f.pendingRequests.map(e => (0, sa.jsx)("span", { className: "pill", children: e }, e)),
                }),
                (0, sa.jsx)("div", {
                  className: "flex mt10 f-end",
                  children: (0, sa.jsx)("div", {
                    className: "btn error",
                    onClick: () => {
                      var e, t;
                      (e = u),
                        (t = (0, Xo.Wg)(d).address),
                        delete e.relays.item[t],
                        oa.updateSession(e),
                        c("/settings/relays");
                    },
                    children: (0, sa.jsx)(wl, { ...ey }),
                  }),
                }),
              ],
            }),
          ],
        });
      };
    function qy() {
      const { formatMessage: t } = yl(),
        [n, r] = (0, e.useState)(""),
        [i, o] = (0, e.useState)(""),
        a = Ip(),
        s = oa.getSessions(),
        l = gp(oa.allSubscriptions());
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("h3", {
            children: (0, sa.jsx)(wl, { id: "+vA//S", defaultMessage: [{ type: 0, value: "Logins" }] }),
          }),
          s.map(e =>
            (0, sa.jsx)(
              "div",
              {
                className: "card flex",
                children: (0, sa.jsx)(lh, {
                  pubkey: e,
                  options: { about: !1 },
                  actions: (0, sa.jsxs)("div", {
                    className: "f-1",
                    children: [
                      (0, sa.jsx)("button", {
                        className: "mb10",
                        onClick: () => oa.switchAccount(e),
                        children: (0, sa.jsx)(wl, { id: "n1Whvj", defaultMessage: [{ type: 0, value: "Switch" }] }),
                      }),
                      (0, sa.jsx)("button", {
                        onClick: () => oa.removeSession(e),
                        children: (0, sa.jsx)(wl, { id: "C81/uG", defaultMessage: [{ type: 0, value: "Logout" }] }),
                      }),
                    ],
                  }),
                }),
              },
              e
            )
          ),
          l &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("h3", {
                  children: (0, sa.jsx)(wl, { id: "F3l7xL", defaultMessage: [{ type: 0, value: "Add Account" }] }),
                }),
                (0, sa.jsxs)("div", {
                  className: "flex",
                  children: [
                    (0, sa.jsx)("input", {
                      dir: "auto",
                      type: "text",
                      placeholder: t({
                        id: "X7xU8J",
                        defaultMessage: [{ type: 0, value: "nsec, npub, nip-05, hex, mnemonic" }],
                      }),
                      className: "f-grow mr10",
                      onChange: e => r(e.target.value),
                    }),
                    (0, sa.jsx)(Gd, {
                      onClick: () =>
                        (async function () {
                          try {
                            o(""), await a.doLogin(n), r("");
                          } catch (e) {
                            e instanceof Error
                              ? o(e.message)
                              : o(t({ id: "OLEm6z", defaultMessage: [{ type: 0, value: "Unknown login error" }] })),
                              console.error(e);
                          }
                        })(),
                      children: (0, sa.jsx)(wl, { id: "AyGauy", defaultMessage: [{ type: 0, value: "Login" }] }),
                    }),
                  ],
                }),
              ],
            }),
          i && (0, sa.jsx)("b", { className: "error", children: i }),
        ],
      });
    }
    const Vy = e =>
        (0, sa.jsxs)("svg", {
          width: "58px",
          height: "58px",
          viewBox: "0 0 58 58",
          version: "1.1",
          xmlns: "http://www.w3.org/2000/svg",
          ...e,
          children: [
            (0, sa.jsx)("title", { children: "logo-bluewallet" }),
            (0, sa.jsxs)("defs", {
              children: [
                (0, sa.jsxs)("filter", {
                  x: "-14.0%",
                  y: "-13.8%",
                  width: "128.1%",
                  height: "127.6%",
                  filterUnits: "objectBoundingBox",
                  id: "filter-1",
                  children: [
                    (0, sa.jsx)("feOffset", { dx: "0", dy: "2", in: "SourceAlpha", result: "shadowOffsetOuter1" }),
                    (0, sa.jsx)("feGaussianBlur", {
                      stdDeviation: "1",
                      in: "shadowOffsetOuter1",
                      result: "shadowBlurOuter1",
                    }),
                    (0, sa.jsx)("feColorMatrix", {
                      values: "0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.137729458 0",
                      type: "matrix",
                      in: "shadowBlurOuter1",
                      result: "shadowMatrixOuter1",
                    }),
                    (0, sa.jsxs)("feMerge", {
                      children: [
                        (0, sa.jsx)("feMergeNode", { in: "shadowMatrixOuter1" }),
                        (0, sa.jsx)("feMergeNode", { in: "SourceGraphic" }),
                      ],
                    }),
                  ],
                }),
                (0, sa.jsxs)("linearGradient", {
                  x1: "50%",
                  y1: "2.83824061%",
                  x2: "50%",
                  y2: "100%",
                  id: "linearGradient-2",
                  children: [
                    (0, sa.jsx)("stop", { "stop-color": "#174697", offset: "0%" }),
                    (0, sa.jsx)("stop", { "stop-color": "#0C2550", offset: "100%" }),
                  ],
                }),
                (0, sa.jsxs)("linearGradient", {
                  x1: "50%",
                  y1: "0%",
                  x2: "50%",
                  y2: "97.8843027%",
                  id: "linearGradient-3",
                  children: [
                    (0, sa.jsx)("stop", { "stop-color": "#3F78DC", offset: "0%" }),
                    (0, sa.jsx)("stop", { "stop-color": "#2F5FB3", offset: "100%" }),
                  ],
                }),
                (0, sa.jsxs)("linearGradient", {
                  x1: "50%",
                  y1: "2.72534321%",
                  x2: "50%",
                  y2: "100%",
                  id: "linearGradient-4",
                  children: [
                    (0, sa.jsx)("stop", { "stop-color": "#8BD7F9", offset: "0%" }),
                    (0, sa.jsx)("stop", { "stop-color": "#68BBE1", offset: "100%" }),
                  ],
                }),
              ],
            }),
            (0, sa.jsx)("g", {
              id: "bluewallet",
              stroke: "none",
              strokeWidth: "1",
              fill: "none",
              fillRule: "evenodd",
              children: (0, sa.jsx)("g", {
                id: "bluewallet-site-copy-2",
                children: (0, sa.jsx)("g", {
                  id: "logo-bluewallet",
                  children: (0, sa.jsxs)("g", {
                    id: "Group-Copy",
                    filter: "url(#filter-1)",
                    children: [
                      (0, sa.jsx)("path", {
                        d: "M16.6652538,-1.58013034e-15 L39.9523933,-2.33537939e-16 C45.7472651,1.35692268e-16 47.8486256,0.603366472 49.9671441,1.73636257 C52.0856627,2.86935868 53.7482884,4.53198441 54.8812845,6.65050293 C56.0142806,8.76902145 56.6176471,10.870382 56.6176471,16.6652538 L56.6176471,39.9523933 C56.6176471,45.7472651 56.0142806,47.8486256 54.8812845,49.9671441 C53.7482884,52.0856627 52.0856627,53.7482884 49.9671441,54.8812845 C47.8486256,56.0142806 45.7472651,56.6176471 39.9523933,56.6176471 L16.6652538,56.6176471 C10.870382,56.6176471 8.76902145,56.0142806 6.65050293,54.8812845 C4.53198441,53.7482884 2.86935868,52.0856627 1.73636257,49.9671441 C0.603366472,47.8486256 2.60802988e-16,45.7472651 -4.48864133e-16,39.9523933 L-4.57970006e-16,16.6652538 C2.66093762e-16,10.870382 0.603366472,8.76902145 1.73636257,6.65050293 C2.86935868,4.53198441 4.53198441,2.86935868 6.65050293,1.73636257 C8.76902145,0.603366472 10.870382,9.18101232e-16 16.6652538,-1.58013034e-15 Z",
                        id: "Rectangle-Copy",
                        fill: "url(#linearGradient-2)",
                      }),
                      (0, sa.jsx)("path", {
                        d: "M16.6652538,13.2352941 L39.9523933,13.2352941 C45.7472651,13.2352941 47.8486256,13.8386606 49.9671441,14.9716567 C52.0856627,16.1046528 53.7482884,17.7672785 54.8812845,19.885797 C56.0142806,22.0043156 56.6176471,24.1056761 56.6176471,29.9005479 L56.6176471,39.2170991 C56.6176471,45.011971 56.0142806,47.1133315 54.8812845,49.23185 C53.7482884,51.3503685 52.0856627,53.0129943 49.9671441,54.1459904 C47.8486256,55.2789865 45.7472651,55.8823529 39.9523933,55.8823529 L16.6652538,55.8823529 C10.870382,55.8823529 8.76902145,55.2789865 6.65050293,54.1459904 C4.53198441,53.0129943 2.86935868,51.3503685 1.73636257,49.23185 C0.603366472,47.1133315 2.60802988e-16,45.011971 -4.48864133e-16,39.2170991 L-1.36480415e-15,29.9005479 C7.92990512e-16,24.1056761 0.603366472,22.0043156 1.73636257,19.885797 C2.86935868,17.7672785 4.53198441,16.1046528 6.65050293,14.9716567 C8.76902145,13.8386606 10.870382,13.2352941 16.6652538,13.2352941 Z",
                        id: "Rectangle-Copy-2",
                        fill: "url(#linearGradient-3)",
                      }),
                      (0, sa.jsx)("path", {
                        d: "M13.2492834,27.2058824 L43.3683637,27.2058824 C47.2492145,27.2058824 49.1977058,27.7164232 50.9902984,28.6751122 C52.782891,29.6338012 54.1897282,31.0406384 55.1484172,32.833231 C56.1071062,34.6258236 56.6176471,36.5743149 56.6176471,40.4551657 L56.6176471,44.1036578 C56.6176471,47.9845086 56.1071062,49.933 55.1484172,51.7255925 C54.1897282,53.5181851 52.782891,54.9250223 50.9902984,55.8837113 C49.1977058,56.8424003 47.2492145,57.3529412 43.3683637,57.3529412 L13.2492834,57.3529412 C9.36843258,57.3529412 7.41994122,56.8424003 5.62734863,55.8837113 C3.83475604,54.9250223 2.42791888,53.5181851 1.46922987,51.7255925 C0.510540861,49.933 -2.77257755e-16,47.9845086 3.82228307e-16,44.1036578 L2.75457766e-16,40.4551657 C-1.99809382e-16,36.5743149 0.510540861,34.6258236 1.46922987,32.833231 C2.42791888,31.0406384 3.83475604,29.6338012 5.62734863,28.6751122 C7.41994122,27.7164232 9.36843258,27.2058824 13.2492834,27.2058824 Z",
                        id: "Rectangle-Copy-3",
                        fill: "url(#linearGradient-4)",
                      }),
                      (0, sa.jsx)("path", {
                        d: "M30.8453034,44.2612592 C30.8453034,44.8309235 30.7830721,45.343135 30.6586077,45.797909 C30.5341432,46.252683 30.3546298,46.6404319 30.1200622,46.9611673 C29.8854945,47.2819026 29.5970764,47.5284343 29.2547991,47.7007698 C28.9125218,47.8731052 28.5235761,47.9592716 28.0879505,47.9592716 C27.8725312,47.9592716 27.6714762,47.9389268 27.4847795,47.8982364 C27.2980828,47.8575461 27.1197662,47.7917246 26.9498243,47.7007698 C26.7798825,47.609815 26.6123367,47.4949264 26.4471819,47.3561006 C26.2820271,47.2172749 26.1132845,47.0497291 25.9409491,46.8534582 L25.9409491,47.549977 C25.9409491,47.6026351 25.9277848,47.646915 25.9014558,47.6828182 C25.8751268,47.7187215 25.8320435,47.7486404 25.7722049,47.7725758 C25.7123662,47.7965113 25.6321835,47.8132659 25.5316545,47.8228401 C25.4311255,47.8324143 25.3090564,47.8372013 25.1654436,47.8372013 C25.0170437,47.8372013 24.8937778,47.8324143 24.7956424,47.8228401 C24.6975069,47.8132659 24.618521,47.7965113 24.5586823,47.7725758 C24.4988437,47.7486404 24.4569572,47.7187215 24.4330217,47.6828182 C24.4090862,47.646915 24.3971187,47.6026351 24.3971187,47.549977 L24.3971187,38.1074793 C24.3971187,38.0596084 24.4114798,38.0165252 24.4402023,37.9782284 C24.4689249,37.9399316 24.5179919,37.9076192 24.5874048,37.8812902 C24.6568176,37.8549612 24.7489678,37.8346163 24.8638581,37.8202551 C24.9787484,37.8058938 25.1247526,37.7987132 25.3018751,37.7987132 C25.4789976,37.7987132 25.6250018,37.8058938 25.7398921,37.8202551 C25.8547824,37.8346163 25.9469326,37.8549612 26.0163455,37.8812902 C26.0857584,37.9076192 26.1348253,37.9399316 26.1635479,37.9782284 C26.1922705,38.0165252 26.2066316,38.0596084 26.2066316,38.1074793 L26.2066316,41.6475184 C26.3693928,41.4847572 26.5321516,41.3459335 26.6949128,41.2310432 C26.857674,41.1161529 27.0204328,41.0216092 27.1831941,40.9474092 C27.3459553,40.8732093 27.5135011,40.8193553 27.6858365,40.7858456 C27.8581719,40.7523359 28.0400788,40.7355813 28.2315626,40.7355813 C28.705485,40.7355813 29.107595,40.8301251 29.4379045,41.0192153 C29.7682141,41.2083056 30.0374841,41.4632145 30.2457228,41.7839499 C30.4539614,42.1046853 30.6059494,42.4792698 30.7016913,42.9077148 C30.7974332,43.3361598 30.8453034,43.7873368 30.8453034,44.2612592 Z M28.9711651,44.3905101 C28.9711651,44.1176457 28.9508203,43.8543594 28.91013,43.6006434 C28.8694396,43.3469273 28.7988311,43.1219373 28.6983021,42.9256664 C28.5977731,42.7293955 28.4673267,42.5726205 28.306959,42.4553366 C28.1465913,42.3380528 27.9443396,42.2794118 27.7001977,42.2794118 C27.5805204,42.2794118 27.4632383,42.2961663 27.348348,42.329676 C27.2334577,42.3631857 27.1149789,42.42063 26.992908,42.5020106 C26.8708371,42.5833912 26.7451777,42.6887057 26.6159261,42.8179573 C26.4866746,42.9472088 26.3502444,43.1075741 26.2066316,43.2990579 L26.2066316,45.4245175 C26.4603476,45.7500399 26.703289,45.9977684 26.9354631,46.1677102 C27.1676372,46.3376521 27.4105787,46.4226218 27.6642947,46.4226218 C27.8988624,46.4226218 28.0975238,46.362784 28.2602851,46.2431066 C28.4230463,46.1234292 28.5582797,45.967851 28.6659893,45.7763672 C28.773699,45.5848834 28.8514881,45.3670738 28.899359,45.122932 C28.94723,44.8787901 28.9711651,44.634652 28.9711651,44.3905101 Z M34.0347841,47.549977 C34.0347841,47.597848 34.020423,47.6397344 33.9917004,47.6756376 C33.9629779,47.7115409 33.9139109,47.7414597 33.844498,47.7653952 C33.7750851,47.7893307 33.6829349,47.807282 33.5680446,47.8192498 C33.4531544,47.8312175 33.3071502,47.8372013 33.1300276,47.8372013 C32.9529051,47.8372013 32.8069009,47.8312175 32.6920106,47.8192498 C32.5771204,47.807282 32.4849702,47.7893307 32.4155573,47.7653952 C32.3461444,47.7414597 32.2970774,47.7115409 32.2683548,47.6756376 C32.2396323,47.6397344 32.2252712,47.597848 32.2252712,47.549977 L32.2252712,38.1074793 C32.2252712,38.0596084 32.2396323,38.0165252 32.2683548,37.9782284 C32.2970774,37.9399316 32.3461444,37.9076192 32.4155573,37.8812902 C32.4849702,37.8549612 32.5771204,37.8346163 32.6920106,37.8202551 C32.8069009,37.8058938 32.9529051,37.7987132 33.1300276,37.7987132 C33.3071502,37.7987132 33.4531544,37.8058938 33.5680446,37.8202551 C33.6829349,37.8346163 33.7750851,37.8549612 33.844498,37.8812902 C33.9139109,37.9076192 33.9629779,37.9399316 33.9917004,37.9782284 C34.020423,38.0165252 34.0347841,38.0596084 34.0347841,38.1074793 L34.0347841,47.549977 Z M41.8485754,47.549977 C41.8485754,47.597848 41.8366078,47.6397344 41.8126723,47.6756376 C41.7887369,47.7115409 41.7468504,47.7414597 41.6870117,47.7653952 C41.627173,47.7893307 41.5481871,47.807282 41.4500517,47.8192498 C41.3519163,47.8312175 41.2286504,47.8372013 41.0802505,47.8372013 C40.9222763,47.8372013 40.7942235,47.8312175 40.696088,47.8192498 C40.5979526,47.807282 40.5201634,47.7893307 40.4627183,47.7653952 C40.4052732,47.7414597 40.3645835,47.7115409 40.340648,47.6756376 C40.3167125,47.6397344 40.3047449,47.597848 40.3047449,47.549977 L40.3047449,46.8103745 C39.9504999,47.1933421 39.5902764,47.4805635 39.2240636,47.6720473 C38.8578509,47.8635311 38.4784793,47.9592716 38.0859375,47.9592716 C37.6455248,47.9592716 37.2757272,47.8874663 36.9765338,47.7438534 C36.6773403,47.6002406 36.4355957,47.4039726 36.2512925,47.1550437 C36.0669894,46.9061147 35.9353462,46.6176966 35.8563591,46.2897806 C35.7773721,45.9618646 35.7378791,45.5537708 35.7378791,45.0654871 L35.7378791,41.1448759 C35.7378791,41.097005 35.7510434,41.0551185 35.7773725,41.0192153 C35.8037015,40.9833121 35.8515717,40.9533932 35.9209846,40.9294577 C35.9903975,40.9055222 36.0837444,40.8875709 36.2010283,40.8756032 C36.3183121,40.8636354 36.4631195,40.8576517 36.635455,40.8576517 C36.8125775,40.8576517 36.9585817,40.8636354 37.073472,40.8756032 C37.1883622,40.8875709 37.2805124,40.9055222 37.3499253,40.9294577 C37.4193382,40.9533932 37.4684052,40.9833121 37.4971278,41.0192153 C37.5258503,41.0551185 37.5402114,41.097005 37.5402114,41.1448759 L37.5402114,44.7639017 C37.5402114,45.0989983 37.561753,45.355104 37.6048369,45.5322266 C37.6479207,45.7093491 37.7137423,45.8613371 37.8023035,45.9881951 C37.8908648,46.1150531 38.0033598,46.2131871 38.139792,46.2826 C38.2762243,46.3520128 38.4353928,46.3867188 38.6173024,46.3867188 C38.847083,46.3867188 39.0780568,46.3029458 39.3102309,46.1353975 C39.542405,45.9678492 39.7901335,45.723711 40.0534237,45.4029756 L40.0534237,41.1448759 C40.0534237,41.097005 40.066588,41.0551185 40.092917,41.0192153 C40.1192461,40.9833121 40.1671163,40.9533932 40.2365292,40.9294577 C40.3059421,40.9055222 40.3980923,40.8875709 40.5129825,40.8756032 C40.6278728,40.8636354 40.773877,40.8576517 40.9509995,40.8576517 C41.1281221,40.8576517 41.2741263,40.8636354 41.3890165,40.8756032 C41.5039068,40.8875709 41.5948603,40.9055222 41.6618796,40.9294577 C41.7288989,40.9533932 41.7767692,40.9833121 41.8054917,41.0192153 C41.8342143,41.0551185 41.8485754,41.097005 41.8485754,41.1448759 L41.8485754,47.549977 Z M49.5187545,44.1607307 C49.5187545,44.3809371 49.4696875,44.5436959 49.3715521,44.6490119 C49.2734166,44.754328 49.1381832,44.8069853 48.9658478,44.8069853 L45.0667784,44.8069853 C45.0667784,45.0798497 45.0990908,45.3275782 45.1637166,45.5501781 C45.2283424,45.772778 45.3312634,45.9618654 45.4724827,46.117446 C45.613702,46.2730266 45.7956089,46.3915054 46.0182088,46.472886 C46.2408087,46.5542666 46.5076853,46.5949563 46.8188464,46.5949563 C47.1347947,46.5949563 47.4124421,46.572218 47.6517968,46.5267406 C47.8911516,46.4812632 48.0981903,46.4309994 48.2729193,46.3759478 C48.4476483,46.3208962 48.5924557,46.2706325 48.707346,46.2251551 C48.8222363,46.1796777 48.9155832,46.1569393 48.9873896,46.1569393 C49.0304735,46.1569393 49.0663762,46.1653166 49.0950987,46.1820715 C49.1238213,46.1988263 49.1477564,46.2287452 49.1669048,46.271829 C49.1860532,46.3149129 49.1992175,46.3759474 49.2063981,46.4549345 C49.2135788,46.5339216 49.2171691,46.6332523 49.2171691,46.7529297 C49.2171691,46.8582458 49.2147755,46.9480025 49.2099884,47.0222024 C49.2052014,47.0964024 49.1980208,47.1598305 49.1884466,47.2124885 C49.1788724,47.2651466 49.1645114,47.3094265 49.145363,47.3453297 C49.1262146,47.3812329 49.1010827,47.4159389 49.0699666,47.4494485 C49.0388505,47.4829582 48.9538808,47.5284349 48.8150551,47.5858801 C48.6762293,47.6433252 48.4991095,47.6995727 48.2836902,47.7546243 C48.0682709,47.8096759 47.8217392,47.8575461 47.5440877,47.8982364 C47.2664362,47.9389268 46.9696408,47.9592716 46.6536925,47.9592716 C46.0840282,47.9592716 45.584981,47.8874663 45.156536,47.7438534 C44.728091,47.6002406 44.370261,47.382431 44.0830353,47.0904182 C43.7958096,46.7984054 43.5815903,46.4298046 43.440371,45.9846048 C43.2991517,45.5394049 43.2285431,45.0176194 43.2285431,44.4192325 C43.2285431,43.8495682 43.302742,43.33616 43.4511419,42.8789924 C43.5995419,42.4218248 43.8149579,42.034076 44.0973965,41.7157341 C44.3798351,41.3973923 44.7233041,41.1544509 45.1278136,40.9869026 C45.5323231,40.8193542 45.9882871,40.7355813 46.4957191,40.7355813 C47.0318738,40.7355813 47.4902313,40.8145672 47.8708053,40.9725414 C48.2513794,41.1305155 48.5637326,41.3495218 48.8078745,41.6295669 C49.0520163,41.9096119 49.2315297,42.2411133 49.34642,42.6240809 C49.4613103,43.0070485 49.5187545,43.4235195 49.5187545,43.8735064 L49.5187545,44.1607307 Z M47.7666865,43.643727 C47.7810478,43.136295 47.6793236,42.7377753 47.4615107,42.448156 C47.2436979,42.1585368 46.9074095,42.0137293 46.4526355,42.0137293 C46.2228549,42.0137293 46.0229967,42.0568125 45.8530549,42.1429802 C45.683113,42.2291479 45.5418958,42.3452333 45.4293991,42.4912397 C45.3169023,42.6372461 45.2307359,42.8095789 45.1708972,43.0082433 C45.1110585,43.2069078 45.0763526,43.4187336 45.0667784,43.643727 L47.7666865,43.643727 Z",
                        id: "blue",
                        fill: "#FFFFFF",
                      }),
                    ],
                  }),
                }),
              }),
            }),
          ],
        }),
      $y = () => {
        const { formatMessage: t } = yl(),
          n = ot(),
          [r, i] = (0, e.useState)(),
          [o, s] = (0, e.useState)(),
          [l, c] = (0, e.useState)(),
          [u, d] = (0, e.useState)(),
          [f, h] = (0, e.useState)();
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            l
              ? null
              : (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (0, sa.jsx)("h4", {
                      children: (0, sa.jsx)(wl, {
                        id: "Z4BMCZ",
                        defaultMessage: [{ type: 0, value: "Enter pairing phrase" }],
                      }),
                    }),
                    (0, sa.jsxs)("div", {
                      className: "flex",
                      children: [
                        (0, sa.jsx)("div", {
                          className: "f-grow mr10",
                          children: (0, sa.jsx)("input", {
                            type: "text",
                            placeholder: t({ id: "8v1NN+", defaultMessage: [{ type: 0, value: "Pairing phrase" }] }),
                            className: "w-max",
                            value: r,
                            onChange: e => i(e.target.value),
                          }),
                        }),
                        (0, sa.jsx)(Gd, {
                          onClick: () =>
                            (async function (e) {
                              try {
                                const { LNCWallet: t } = await Promise.all([a.e(730), a.e(334)]).then(a.bind(a, 334)),
                                  n = await t.Initialize(e),
                                  r = await n.getInfo();
                                c(n), d(r);
                              } catch (e) {
                                e instanceof Error
                                  ? s(e.message)
                                  : s(t({ id: "qDwvZ4", defaultMessage: [{ type: 0, value: "Unknown error" }] }));
                              }
                            })((0, Xo.Wg)(r)),
                          disabled: !r,
                          children: (0, sa.jsx)(wl, { id: "+vVZ/G", defaultMessage: [{ type: 0, value: "Connect" }] }),
                        }),
                      ],
                    }),
                    o && (0, sa.jsx)("b", { className: "error p10", children: o }),
                  ],
                }),
            l
              ? (0, sa.jsxs)("div", {
                  className: "flex f-col",
                  children: [
                    (0, sa.jsx)("h3", {
                      children: (0, sa.jsx)(wl, {
                        id: "1c4YST",
                        defaultMessage: [
                          { type: 0, value: "Connected to: " },
                          { type: 1, value: "node" },
                          { type: 0, value: " 🎉" },
                        ],
                        values: { node: null == u ? void 0 : u.alias },
                      }),
                    }),
                    (0, sa.jsx)("h4", {
                      children: (0, sa.jsx)(wl, {
                        id: "2LbrkB",
                        defaultMessage: [{ type: 0, value: "Enter password" }],
                      }),
                    }),
                    (0, sa.jsxs)("div", {
                      className: "flex w-max",
                      children: [
                        (0, sa.jsx)("div", {
                          className: "f-grow mr10",
                          children: (0, sa.jsx)("input", {
                            type: "password",
                            placeholder: t({ id: "lTbT3s", defaultMessage: [{ type: 0, value: "Wallet password" }] }),
                            className: "w-max",
                            value: f,
                            onChange: e => h(e.target.value),
                          }),
                        }),
                        (0, sa.jsx)(Gd, {
                          onClick: () => {
                            return (
                              (e = (0, Xo.Wg)(f)),
                              null == l || l.setPassword(e),
                              ld.uo.add({ id: pd(), kind: ld.XF.LNC, active: !0, info: (0, Xo.Wg)(u) }),
                              void n("/settings/wallet")
                            );
                            var e;
                          },
                          disabled: (null !== (p = null == f ? void 0 : f.length) && void 0 !== p ? p : 0) < 8,
                          children: (0, sa.jsx)(wl, { id: "jvo0vs", defaultMessage: [{ type: 0, value: "Save" }] }),
                        }),
                      ],
                    }),
                  ],
                })
              : null,
          ],
        });
        var p;
      };
    var Gy = a(7516);
    const Zy = () => {
      const t = ot(),
        { formatMessage: n } = yl(),
        [r, i] = (0, e.useState)(),
        [o, a] = (0, e.useState)();
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("h4", {
            children: (0, sa.jsx)(wl, { id: "KAhAcM", defaultMessage: [{ type: 0, value: "Enter LNDHub config" }] }),
          }),
          (0, sa.jsxs)("div", {
            className: "flex",
            children: [
              (0, sa.jsx)("div", {
                className: "f-grow mr10",
                children: (0, sa.jsx)("input", {
                  type: "text",
                  placeholder: "lndhub://username:password@lndhub.io",
                  className: "w-max",
                  value: r,
                  onChange: e => i(e.target.value),
                }),
              }),
              (0, sa.jsx)(Gd, {
                onClick: () =>
                  (async function (e) {
                    try {
                      const n = new Gy.Z(e);
                      await n.login();
                      const r = await n.getInfo(),
                        i = { id: pd(), kind: ld.XF.LNDHub, active: !0, info: r, data: e };
                      ld.uo.add(i), t("/settings/wallet");
                    } catch (e) {
                      e instanceof Error
                        ? a(e.message)
                        : a(n({ id: "qDwvZ4", defaultMessage: [{ type: 0, value: "Unknown error" }] }));
                    }
                  })((0, Xo.Wg)(r)),
                disabled: !r,
                children: (0, sa.jsx)(wl, { id: "+vVZ/G", defaultMessage: [{ type: 0, value: "Connect" }] }),
              }),
            ],
          }),
          o && (0, sa.jsx)("b", { className: "error p10", children: o }),
        ],
      });
    };
    var Yy = a(5853);
    const Xy = () => {
        const t = ot(),
          { formatMessage: n } = yl(),
          [r, i] = (0, e.useState)(),
          [o, a] = (0, e.useState)();
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("h4", {
              children: (0, sa.jsx)(wl, {
                id: "1R43+L",
                defaultMessage: [{ type: 0, value: "Enter Nostr Wallet Connect config" }],
              }),
            }),
            (0, sa.jsxs)("div", {
              className: "flex",
              children: [
                (0, sa.jsx)("div", {
                  className: "f-grow mr10",
                  children: (0, sa.jsx)("input", {
                    type: "text",
                    placeholder: "nostr+walletconnect:<pubkey>?relay=<relay>&secret=<secret>",
                    className: "w-max",
                    value: r,
                    onChange: e => i(e.target.value),
                  }),
                }),
                (0, sa.jsx)(Gd, {
                  onClick: () =>
                    (async function (e) {
                      try {
                        const n = new Yy.R(e);
                        await n.login();
                        const r = await n.getInfo(),
                          i = { id: pd(), kind: ld.XF.NWC, active: !0, info: r, data: e };
                        ld.uo.add(i), t("/settings/wallet");
                      } catch (e) {
                        e instanceof Error
                          ? a(e.message)
                          : a(n({ id: "qDwvZ4", defaultMessage: [{ type: 0, value: "Unknown error" }] }));
                      }
                    })((0, Xo.Wg)(r)),
                  disabled: !r,
                  children: (0, sa.jsx)(wl, { id: "+vVZ/G", defaultMessage: [{ type: 0, value: "Connect" }] }),
                }),
              ],
            }),
            o && (0, sa.jsx)("b", { className: "error p10", children: o }),
            (0, sa.jsx)("p", {
              children: (0, sa.jsx)(wl, {
                id: "cFbU1B",
                defaultMessage: [
                  { type: 0, value: "Using Alby? Go to " },
                  { type: 1, value: "link" },
                  { type: 0, value: " to get your NWC config!" },
                ],
                values: {
                  link: (0, sa.jsx)(Pt, {
                    to: "https://nwc.getalby.com/",
                    target: "_blank",
                    children: "nwc.getalby.com",
                  }),
                },
              }),
            }),
          ],
        });
      },
      Qy = () => {
        const t = ot(),
          { formatMessage: n } = yl(),
          [r, i] = (0, e.useState)(),
          [o, s] = (0, e.useState)();
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("h4", {
              children: (0, sa.jsx)(wl, { id: "KoFlZg", defaultMessage: [{ type: 0, value: "Enter mint URL" }] }),
            }),
            (0, sa.jsxs)("div", {
              className: "flex",
              children: [
                (0, sa.jsx)("div", {
                  className: "f-grow mr10",
                  children: (0, sa.jsx)("input", {
                    type: "text",
                    placeholder: "Mint URL",
                    className: "w-max",
                    value: r,
                    onChange: e => i(e.target.value),
                  }),
                }),
                (0, sa.jsx)(Gd, {
                  onClick: () =>
                    (async function (e) {
                      try {
                        if (!r) throw new Error("Mint URL is required");
                        const { CashuWallet: n } = await Promise.all([a.e(363), a.e(671)]).then(a.bind(a, 2636)),
                          i = new n(e);
                        await i.login();
                        const o = await i.getInfo(),
                          s = { id: pd(), kind: ld.XF.Cashu, active: !0, info: o, data: r };
                        ld.uo.add(s), t("/settings/wallet");
                      } catch (e) {
                        e instanceof Error
                          ? s(e.message)
                          : s(n({ id: "qDwvZ4", defaultMessage: [{ type: 0, value: "Unknown error" }] }));
                      }
                    })((0, Xo.Wg)(r)),
                  disabled: !r,
                  children: (0, sa.jsx)(wl, { id: "+vVZ/G", defaultMessage: [{ type: 0, value: "Connect" }] }),
                }),
              ],
            }),
            o && (0, sa.jsx)("b", { className: "error p10", children: o }),
          ],
        });
      };
    function Jy(e) {
      return (0, sa.jsx)("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 116.446 84.924",
        ...e,
        children: (0, sa.jsx)("path", {
          fill: "currentColor",
          "clip-rule": "evenodd",
          d: "m35.805 39.467c1.512-1.608 5.559-0.682 6.96-2.4-0.595-1.9-4.07-4.608-4.319-6.96-0.112-1.057 0.563-1.379 0.96-2.64 0.243-0.775 0.004-1.643 0.239-2.16 0.681-1.492 2.526-2.548 2.88-4.08-1.356-6.734 4.686-8.103 8.641-10.32 4.301 0.146 9.927-1.066 13.68 0.96 0.113 0.754-0.646 0.634-0.72 1.2 0.339 0.541 1.563 0.197 1.439 1.2-1.327 1.862-4.511-0.112-5.52 1.68 0.646 0.634 1.735 0.824 2.4 1.44v2.64c-0.708 0.172-1.486 0.274-1.921 0.72 1.552 3.67-5.669 2.291-3.359 6 1.339-0.021 4.954-0.144 6.72-1.2 2.784-1.665 2.711-6.367 5.521-8.159 0.691-0.029 1.57 0.131 1.92-0.24 1.151-2.775 3.98-5.438 8.88-5.76 2.746-0.182 8.349-1.87 10.8 0.239 1.465 1.262 0.81 3.268 2.16 4.561 0.988 0.451 2.105 0.774 2.16 2.16 0.267 1.202-1.834 1.31-0.48 2.159-0.962 1.039-1.811 2.19-3.12 2.881-0.113 1.153 1.554 0.526 1.44 1.68-0.802 1.122-1.209 3.907-2.641 3.6-0.806 0.247-0.373-0.746-0.479-1.199-0.89 0.295-1.405 0.67-2.16 0-0.26 0.78-0.709 1.371-1.2 1.92 1.643 1.478 4.003 2.237 5.521 3.84 3.235-1.359 7.077-5.149 10.8-1.92 0.188 0.988-0.368 1.231-0.24 2.16 0.896 0.774 0.978-0.801 1.92-0.721 1.06 0.062 1.265 0.976 2.16 1.2 0.185 0.904-0.293 1.147-0.24 1.92 0.473 0.889 2.352 0.368 2.881 1.2 0.555 2.155-1.012 2.188-0.961 3.84 1.031 0.388 1.998-1.142 3.601-0.96 0.884 1.517 0.381 4.419 2.16 5.04 0.628 3.104-2.561 3.75-4.32 2.4-0.444 0.436-0.312 1.448-0.72 1.92-1.188 0.147-1.536-0.545-2.4-0.721-0.799 1.563 1.617 1.889 0.72 3.601-1.775-0.463-2.337 1.205-3.359 2.16-1.136-0.064-1.352-1.049-2.16-1.44-0.217 0.423-0.884 0.396-0.96 0.96-0.752 0.804 1.801 1.3 0.72 2.4-1.513 2.06-3.329-1.013-5.76 0-0.55-0.57-1.208-1.032-1.44-1.92-2.051 0.131-3.084-0.756-4.319-1.44-3.303-0.538-4.311 1.677-7.44 0.96 0.216 2.23 3.326 2.419 5.28 2.16 2.783 2.896 3.368 7.992 6.72 10.32 0.458-3.125 4.479 6.161 9.12 10.319 3.707-0.149 6.219 0.33 8.16 1.44 0.042 1.242-2.057 0.343-2.64 0.96 1.246 2.751 4.993-0.816 6.96-0.24-0.479 6.364-12.435 7.859-14.881 2.16-6.689-3.79-9.293-11.666-15.119-16.32-2.059-0.502-3.208-1.912-4.801-2.88-5.372 0.134-10.436 0.287-13.92-1.92-2.16 1.263-3.17 4.747-6 5.521-2.923 0.798-5.911-0.139-8.16 1.92-7.446 1.033-14.465 2.494-19.68 5.76-1.237 0.412-2.52-0.162-3.12 0.479 0.48 2.32 1.668 3.934 1.92 6.48-0.519 0.761-0.962 1.598-1.92 1.92 0.095 1.746 2.833 0.848 3.12 2.4-4.069 1.981-6.507-1.59-7.92-3.841 0.508-4.2-0.333-9.392 2.16-11.52 1.205-1.029 2.837-0.545 4.32-1.68 4.366 0.4 8.705-2.869 12.96-3.84 4.858-1.109 9.547-1.108 11.279-5.28-1.414-1.656-3.291-0.841-5.52-1.44-1.111-0.299-1.463-1.133-2.4-1.68-0.562-0.328-1.474-0.334-2.16-0.72-2.196-1.234-3.287-3.257-6.239-3.841-1.489-0.294-2.832-0.085-4.08-0.479-7.656-2.422-10.618-10.302-13.2-18.24-0.314-3.445-0.995-6.524-1.92-9.359-0.827-8.533-7.048-11.673-13.68-14.4-2.024-0.184-3.309 0.372-5.28 0.24-0.977-0.784-2.486-1.034-2.16-3.12 1.78-0.307 3.603-1.558 5.52-0.96 1.04-0.164 1.452-1.567 2.636-2.16 1.045-0.523 3.934-0.583 5.52-1.92 0.24-0.202 4.291-0.067 4.561 0 2.813 0.7 2.876 4.102 5.04 5.76-1.263 4.763 2.796 8.095 3.6 12.24 0.192 0.99-0.095 1.896 0 2.88 0.472 4.913 2.428 11.467 4.8 14.88 0.998 1.438 2.397 2.623 4.078 3.6z",
          "fill-rule": "evenodd",
        }),
      });
    }
    const eg = () => {
        const e = ot();
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)(Pt, {
              to: "/wallet",
              children: (0, sa.jsx)("button", {
                type: "button",
                children: (0, sa.jsx)(wl, { id: "VvaJst", defaultMessage: [{ type: 0, value: "View Wallets" }] }),
              }),
            }),
            (0, sa.jsx)("h3", {
              children: (0, sa.jsx)(wl, { id: "cg1VJ2", defaultMessage: [{ type: 0, value: "Connect Wallet" }] }),
            }),
            (0, sa.jsxs)("div", {
              className: "wallet-grid",
              children: [
                (0, sa.jsxs)("div", {
                  onClick: () => e("/settings/wallet/lnc"),
                  children: [
                    (0, sa.jsx)("img", {
                      src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlYAAAHGCAYAAAC2K8XBAAAACXBIWXMAAAsSAAALEgHS3X78AAAVVklEQVR42u3dz2/U95kH8AfHcShxyVA7ZWlXyqQr1SutRF3NwdrDqlNLu1KlRSV/wZrb3gD5DwD/ASPMsSfcveZQurm7jlSRjlajuORkVCXTgqAJpjUQaAw23oOH3TY/gMDY83m+fr2kKEoOycefZ/C855nP9/NEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVNY+W1B9R48erUfEmYg4HhG1gpbWjYiliDh/+fLlZZXqj0arPRMRP42IekRM7vL/fi0ilnu1fTciLnZmp9ZU5ev72aVrMy8N7fvp5qOtQdTx/7wyPBQvD+2LV0eG4uArL1V925c+98/v/tXvqm5EdKcnxrtenQhWQtX7hQWqLzN3+fLlsyr2QoFqMiIuDPJN+CvMR8ScgPVs/vuDjyc/+XTjF5tbW/XS1vbK8FAcfvXleGV4z791LPf++m1ELE9PjC955SJY7Z1gdSEiZpIs963Lly9fVLXnClW1iPio4AC9HBEnOrNTOpNP8LNL12ovv7Tvo4ebW8V+EBraty/ePPRKDHn3+Lyl6HVppyfGvc73sCFbUHnHE631jHI9t1NRdldyMiJ+0QuAfIVXR4bOlRyqIiIebW3FrfsbivVFzd7vsPcXV1Y/WlxZvbC4stq0LYIV1ZPpjWxSuZ7byQRrrEfEOaX6ag82t1J8ELqzvqlYT3+tz0TEr3oh6+ziymrdtghWQAKNVrueKEDP9NbL5yyurE6W3q167NHWVqxvbCnas4esMxGhiyVYAYl+cWfiK98vce3Og1Rfkz7aEqye54NFbHexfiVgCVYAfXtzabTa3lQ+5y8PH9mEvaPZC1gXfEUoWAGF6fzm13H//r1sy9a1gu0O1vuLK6tnbYVgBRTkWvfDdJ/Yda0gIrbPR55ZXFl9f3Fl1QM8ghVQgrt3bsfdO7ezLVvXCv7fZGx3r07ZCsEKKMCNa3/ItmRdK/iic4srq79YXFl155tgBQzS3Tu349bNT7It+4LKwRccj+3D7XVbIVgBA3Q9X9eq3hsaDfytx18NOnclWAGD8mD9s4xdK2et4MvVYrtzJVwJVsCgXP39h7G5mWqWm64VCFeCFVCmzY2N+OTG9WzLPmdAMwhXghVQpI//eD1b16oWER4zh6eHq7qtEKyAXba5sZHxIPtJXSt4arhyFYNgBQzCJzeux4P19WxvGrpW8GST4ZoSwQoYjKRdq7rKwRMdd0O7YAUMwK2bH2cb0FwL1y/AszjjMLtgBQxAwgHNM7pW8EwfQnwlKFgBu82AZqisSV8JClbAACQc0KxrBc/4IcRTgoIVsMsMaIbKqkXEOdsgWAG7LOETgs1Gq91UOXiqGReHClbALjOgGSrNnxXBCthtCQc061rBs9G1EqyA3ZZ1QLPKwTM5aQsEK2CXJRzQPNlotWdUDp5qxhOCghWwy5IOaHZ+BJ6uFhHHbYNgBeyyhAOa67pW8Ez+wxYIVsAAZOxaNVptX3PAkzUdYhesgAFIOKC5HhHGd8DT+TpQsAIGIeGA5pO6VvBUP7UFghUwAAkHNNdC1wqepunpQMEKGJCEA5p1reAZwpUtGIxhWwB72+MBzWOvfzvLkmuxff3CadUrxnJErCVZ62TvNVR1P4qIi16aghUwANev/SFTsIqIONVotc93Zqe6qjfwQPXW9MR4ujosrqxO9kLWD2L7sHe9YrVpenkKVsCAPB7QnCxcnYmIE6o3UKczhqqIiOmJ8eVeMIyION0LWid7IasKHa1JL8/BcMYKiIiUA5pnGq12XeUGYytibXpifKkqP8/0xPjy9MT4iYh4MyLmq/AzLa6sNr1SBStgQAxo5ut4tLW1XMWfa3pifG16Yvx0RPw48pwb+yq6VoIVMEgJBzQfb7TaPpWzEwFrqQLh6g2VFKyAAdrc2Iir3Y+yLduAZnYqXC1HxFuJfwQdK8EKGLRbNz/ONqC5qWvFDoarpYiYE6wQrIDnlnFAs6qxg+Yj51eCLtIVrIAS3Lr5cbZRN81Gq23wLDtiemJ8LSLOZ1z74spqXQUFK6AACUfdeEKQnbSQdN2ClWAFlCDhgOZ6o9WeUTl2Qu8i1GU7gWAFPLdrv/8w25KdtWIn/TLhmpvKJlgBhbh/717cuvlJpiXXG632KZVjhyzZAgQr4IVkfEKw0Wp7Goq+q9IIHwQrYEAerH8Wn/wx1aibWkToWrFT1mwBghXwQq5f+0O2UTcnda3YIQ6wI1gBLybhgGZdK0CwAsqVcEDzmUarXVc5+ixbx+pHSiZYAQUyoBkiIuK2LUCwAvoi4YDmGV0rQLACimVAM4BgBfRJwgHNM41We1LlAMEKKJIBzQCCFdAnCQc0NxutdlPlAMEKKJIBzQCCFdAnCQc061oBghVQroRPCF5QNUCwAoqUcEBzvdFqz6gcIFgBRUo4oNlZK0CwAsqUcECzrhUgWAHlSjig+Vyj1a6pHCBYAcVJOKC5FhGnVA4QrIAiJRzQfFLXChCsgGIlu35B1woQrIByJRzQrGsFCFZAuW7k61oZ0AwIVkCZEg5onmm02nWVAwQroEgGNAOCFUCfJBzQrGsFCFZAuQxoBgQrgD5JOKC52Wi1myoHCFZAkQxoBgQrgD5JOKBZ1woQrIByJRzQrGsFCFZAmRIOaG42Wu0ZlQMEK6BICQc061oBghVQrmTXL9R1rQDBCihWwgHNulaAYAWU60a+rtVZVQMEK6BId+/cjs5vfv3jiDiRZMknG612TeUAwQooVmd2aiEilhMstRYRp1QMEKyA0p1Osk5dK0CwAsrWmZ1aioilBEuthYPsgGAFJDCXZJ2nGq12XbkAwQooVq9rdTHJcnWtAMEKKF6Ws1YzulaAYAUUrTM71Y2IhSTL1bUCBCugeFnOWs00Wu2mcgGCFVCsXtcqS7jStQIEK6B48xGxlmCdTV0rQLACitaZnVqLiPNJlqtrBQhWQPEyda2OKxcgWAHF6nWtsly/cE7FAMEKKD1cLUREN8FS641We0bFAMEKKJ0nBAHBCqAfel2r5QRLrTda7VMqBghWQOmynLU602i1a8oFCFZAsXoDmpcSLLUWEbpWgGAFFC/LWauTulaAYAUUTdcKEKwA+utEknWebLTadeUCwQqgWL0BzQsJlloL1y+AYGULgASynLWa0bUCwQqgaL2u1XyS5epagWAFULy5yDGgeabRak8qFwhWAMXqDWg+n2S5BjSDYAVQvPnI0bVqNlrtpnKBYAVQrF7XyoBmQLAC6FO4mo+IboKl6lqBYAWQQpaulbNWIFgBlK0zO7UQObpWk41We0bFQLACKF2WUTfOWoFgBVC2RAOa67pWIFgBZJDmCcFGq11TLhCsAIqVqWsVEadUDAQrgNJlOWt1UtcKBCuAovUGNC8kWGotdK1AsAJIIMtZK10rEKwAytbrWs0nWGotXBoKghVAAnORY0DzTKPVrisXCFYAxeoNaD6fZLkuDQXBCqB486FrBQhWAC+u17UyoBkQrAD6FK7mI8eA5uONVrupYiBYAZQuzagbpQLBCqBondmphcjRtWrqWoFgBZBBllE3ulYgWAGULdGA5maj1Z5RMRCsAEqX5gnB//qfG+du3FlXMRCsAMqUqGtV+2zj0WTn6l1FA8EKoGinsyz0+p316P7pMxUDwQqgTJ3ZqeWIWMiy3ve6a4oGghVA0bKctYq765tx5eZ9FQPBCqBMndmpbiTqWl3q3o4HG48UDgQrgGKdjhwDmuPBxqP44I/3VAwEK4Ay9QY0n8+y3g9ufKprBYIVQNHmI1HXqnPN9QsgWAEUKmPX6u76psKBYAVQbLg6GzkGNG+v9+odRQPBCqBoaa5fuHLzfhh1A4IVQLE6s1MLkapr5awVCFYAZUs16kbXCgQrgGJ1ZqcuRo4BzRGxfWkoIFgBlCzNWatb9x4adQOCFUC5OrNTS5Goa+UJQRCsAEqX5qzV3fXN+ODGpyoGghVAmTqzU8uRaEBz59pdo25AsAIoWpqzVgY0g2AFULTO7FQ3EnWtjLoBwQqgdKcj04BmB9lBsAIoVbYBzVdu3te1AsEKoGjzkaRrFRHxXndNxUCwAihTtq5V90+fGXUDghVA0eHqbBjQDAhWAH2T5voFA5pBsAIoWmd2aiESda2WfvdnRQPBCqBoabpWd9c3DWgGwQqgXL2u1VKa9V69Y9QNCFYARUvVtTLqBgQrgGJ1ZqeWIlHX6oMbn+pa7bw3kq3XZWeCFUBRDGjmr9WTrfe3SiZYARSj17VaSLPeq3eMugHBCqBoc5kWa0DzjmraAgQrgBcJKrNT3UjUtbpy837cuvdQ4fpscWW1bhcQrAD6Yy5SDWi+rWL9N2kLEKwA+qDXtUozoNmomx3xo4Rr9lSgYAVQrPlMb1QGNPfd8YRrXlY2wQqgzKAyO7UWybpWRt30x+LK6mTku2oBwQqgePORaECzJwT75mTSdetYCVYABQeV7a6VAc17SO9pwJmMa5+eGHfGSrACKD5cLUSirtWl7m2jbl7MhaTr1q0SrADSMOpmD1hcWT0VeS8F1a0SrNjrjh49WrMLZNDrWi1lWa8Bzc8VqmYi4lziH+FdVRSswAV8ZJKqa3XJpaFfJ1Sdi7xfAT7WVUnBCuq2gCx6A5qXsqz3ys37fRvQ/NK+fc2KBqqZxZXVjyLiVAV+HGesBCuIH9gCktmzA5p7X5VVIUzVF1dWT/UC1YWqfMCbnhgXrAZg2BZQitHR0RgbG2u+8cYbtXfeecehS3IEldmppUarvRBJHse/cvN+THz7QBw5+Eo//nPnFldWaxGxkOGx/t5aHx83aEbEG72/1yv40lzyp1OwYg+r1Wrx2muvRe+X3vvHjh2bi4jld955xycuMpiLRPccda7ejX//p74Eq1psH+4+t7iy6lVQFgfXBSv2qrGxsRgdHf3rf1WP3qHRY8eO2aCnuPVgOS6NOPM/0KAyO9XN1LV6PKC5T10ryrRkCwbDGSsG9+IbGvqyUAVZzUWie4OWfvdnFauutemJccFKsGKvharDhw8LVVRGZ3aqG4kGNBt1U2lClWDFXgxVIyMjNoOqmY9EXSsDmivrl7ZAsGKPGBkZie9+97tCFZXUG9CcqmvVuXZX4arnoi0QrNgjoerw4cMxNORlR6XNR6Ibr426qZwUV18IVvCCRkdHhSr2hF7XyoBmBuXntkCwYg+EqrGxMaGKvRSuFiJZ16pfo24YqK6nAQUrKq5Wq8XY2JiNYC9K1bVykL0SztsCwYoKGxsbe3ybOuw5va5VmskB/RzQzECsRcSCbRCsqOKLamgoXn/9dXdUQcTpTIt916WhmZ13aF2woqKh6vDhw3HgwAGbwZ7XmZ1aikSXNT4edUM6a7H9NCqCFVUyPDzs4k/4orlMi+1cda9VxteYbpVgRcWMjIzEkSNHhCr4fFDZ7lqlubDx+p316P7pM4XLozs9Ma5bJVhRtVDljip4olRnrd7ran4kcsIWCFZUyOjoaBw5ckSogifoDWheyLJeA5rTmHdvlWBFxUKVO6rgmaU6a3Wpe9uom7J1s72mBCt4gkOHDglV8DX0ulZG3dAvJxxYF6yoiLGxsTh48KCNgK9vPrYfjU/BgOZinfYVoGBFFV4svTuqXPwJz6c3oDnN2JEHG4+ic831C4VZ8BSgYEWFQtX+/fttBryYdF0ro26KsTw9Me4pQMGK7B5fp+COKnhxva5VqusXDGguI1RFxI9tg2CFUAV8MVwtxPZTXSlcuXk/bt17qHADDlUOqwtWJLd//34Xf8LOSfWo/Hvd2yomVCFY8bxGR0eFKthBva7Vcpb1GtAsVCFY8QKhyh1VsCtSnbW6pGu1mxamJ8Z/KFQJViQ3NjYmVMEu6Q1oXsqy3lv3Hhp1sztOePpPsKIiocodVbDrUp218oTgjupGxA+nJ8YXbIVgReYXgYs/YXBBZbtrdTHLeu+ub8YHNz5VuP6b74WqZVshWFGBUOXiTxioXPdaXbsb65tG3fTJ4wPqp52nEqxIbmRkJI4cOeKOKhh0UNke0LyQZb0PNh651+rFdWP7LNUPzf0TrKhIqDp8+HAMDw/bDHabT+Vfbs7e7JlANRfOUglWVMeBAwfcUVUhB7eSnXd5e9YZki/R61qlGdD8nYOvKNrXsxzbHao3pyfGz/raT7CiIt2B0dHReP3114WqCnl5ayNTuLqoYk8MV2cjwfULhw4Mxzde9jvkGX//LsT2GSodqj3C90DVdzEiZiIiDh48GIcOHbIjFfS9jWux/PI/Zljqz1Xrqd6KiF9FxGSpC/y3739LlZ4cpi5GxC+nJ8Z9kNiD9tmCajt69OhkRLzvjqrquzQyGbeGaiUvcSHennXp4TNqtNrnIuJUaev6h7FvxH/+83cU6G+D1HJEvBsRF12XgGC1B/zkJz/5aHh4uG4nqu3hvuG4MlyPD1/6+xKXNxdvz55Vpa8drpoRcTIijpewnn9587X41+9/ay9/DbjcC1LvxvYh9GVBCsFqDzp27FgtIs70fjkLWBV3f9/+uDVUi7/s2x+rT+lgbcRLa7eHvrkTbwxrEfHb3pvPxXh71kHdFwtYtYhoxvbXg2/s5p/jo0dG4+++ORJHj7wah79Z6atZ3v2S1/DjPxvLDpsDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADshP8FkLPJRKEMg60AAAAASUVORK5CYII=",
                      width: 100,
                    }),
                    (0, sa.jsx)("h3", { children: "LND with LNC" }),
                  ],
                }),
                (0, sa.jsxs)("div", {
                  onClick: () => e("/settings/wallet/lndhub"),
                  children: [(0, sa.jsx)(Vy, { width: 100, height: 100 }), (0, sa.jsx)("h3", { children: "LNDHub" })],
                }),
                (0, sa.jsxs)("div", {
                  onClick: () => e("/settings/wallet/nwc"),
                  children: [
                    (0, sa.jsx)(Jy, { width: 100, height: 100 }),
                    (0, sa.jsx)("h3", { children: "Nostr Wallet Connect" }),
                  ],
                }),
              ],
            }),
          ],
        });
      },
      tg = [
        { path: "/settings/wallet", element: (0, sa.jsx)(eg, {}) },
        { path: "/settings/wallet/lnc", element: (0, sa.jsx)($y, {}) },
        { path: "/settings/wallet/lndhub", element: (0, sa.jsx)(Zy, {}) },
        { path: "/settings/wallet/nwc", element: (0, sa.jsx)(Xy, {}) },
        { path: "/settings/wallet/cashu", element: (0, sa.jsx)(Qy, {}) },
      ];
    function ng() {
      const t = ot(),
        n = tc(),
        [r, i] = (0, e.useState)([]);
      return (
        (0, e.useEffect)(() => {
          (async function () {
            if (!n) return;
            const e = new kp(n, `${li}/api/v1/n5sp`),
              t = await e.list();
            i(t);
          })().catch(console.error);
        }, [n]),
        (0, sa.jsxs)(sa.Fragment, {
          children: [
            0 === r.length &&
              (0, sa.jsx)(wl, {
                id: "mErPop",
                defaultMessage: [
                  { type: 0, value: "It looks like you dont have any, check " },
                  { type: 1, value: "link" },
                  { type: 0, value: " to buy one!" },
                ],
                values: {
                  link: (0, sa.jsx)(Pt, {
                    to: "/nostr-address",
                    children: (0, sa.jsx)(wl, { id: "5oTnfy", defaultMessage: [{ type: 0, value: "Buy Handle" }] }),
                  }),
                },
              }),
            r.map(e => {
              var n;
              return (0, sa.jsxs)(
                "div",
                {
                  className: "flex f-space",
                  children: [
                    (0, sa.jsxs)("h4", {
                      className: "nip05",
                      children: [
                        e.handle,
                        "@",
                        (0, sa.jsx)("span", {
                          className: "domain",
                          "data-domain": null === (n = e.domain) || void 0 === n ? void 0 : n.toLowerCase(),
                          children: e.domain,
                        }),
                      ],
                    }),
                    (0, sa.jsx)("button", {
                      onClick: () => t("manage", { state: e }),
                      children: (0, sa.jsx)(wl, { id: "0Azlrb", defaultMessage: [{ type: 0, value: "Manage" }] }),
                    }),
                  ],
                },
                e.id
              );
            }),
            r.length > 0 &&
              (0, sa.jsx)("button", {
                onClick: () => t("/nostr-address"),
                children: (0, sa.jsx)(wl, { id: "5oTnfy", defaultMessage: [{ type: 0, value: "Buy Handle" }] }),
              }),
          ],
        })
      );
    }
    function rg(t) {
      var n;
      let { handle: r } = t;
      const { formatMessage: i } = yl(),
        o = tc(),
        [a, s] = (0, e.useState)(null !== (n = r.lnAddress) && void 0 !== n ? n : ""),
        [l, c] = (0, e.useState)("");
      return (0, sa.jsxs)("div", {
        children: [
          (0, sa.jsx)("h4", {
            children: (0, sa.jsx)(wl, {
              id: "SOqbe9",
              defaultMessage: [{ type: 0, value: "Update Lightning Address" }],
            }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "b5vAk0",
              defaultMessage: [
                {
                  type: 0,
                  value:
                    "Your handle will act like a lightning address and will redirect to your chosen LNURL or Lightning address",
                },
              ],
            }),
          }),
          (0, sa.jsxs)("div", {
            className: "flex",
            children: [
              (0, sa.jsx)("div", {
                className: "f-grow",
                children: (0, sa.jsx)("input", {
                  type: "text",
                  className: "w-max mr10",
                  placeholder: i({ id: "yCLnBC", defaultMessage: [{ type: 0, value: "LNURL or Lightning Address" }] }),
                  value: a,
                  onChange: e => s(e.target.value),
                }),
              }),
              (0, sa.jsx)(Gd, {
                onClick: () =>
                  (async function () {
                    if (!o) return;
                    const e = { lnAddress: a };
                    c("");
                    try {
                      const e = new si.LNURL(a);
                      await e.load();
                    } catch {
                      return void c(i({ id: "0jOEtS", defaultMessage: [{ type: 0, value: "Invalid LNURL" }] }));
                    }
                    const t = new kp(o, `${li}/api/v1/n5sp`),
                      n = await t.patch(r.id, e);
                    "error" in n && c(n.error);
                  })(),
                children: (0, sa.jsx)(wl, { id: "BWpuKl", defaultMessage: [{ type: 0, value: "Update" }] }),
              }),
            ],
          }),
          l && (0, sa.jsx)("b", { className: "error", children: l }),
        ],
      });
    }
    function ig(t) {
      let { handle: n } = t;
      const r = tc(),
        i = ot(),
        { formatMessage: o } = yl(),
        [a, s] = (0, e.useState)(""),
        [l, c] = (0, e.useState)([]);
      return (0, sa.jsxs)("div", {
        children: [
          (0, sa.jsx)("h4", {
            children: (0, sa.jsx)(wl, { id: "5u6iEc", defaultMessage: [{ type: 0, value: "Transfer to Pubkey" }] }),
          }),
          (0, sa.jsxs)("div", {
            className: "flex",
            children: [
              (0, sa.jsx)("div", {
                className: "f-grow",
                children: (0, sa.jsx)("input", {
                  type: "text",
                  className: "w-max mr10",
                  placeholder: o({ id: "VR5eHw", defaultMessage: [{ type: 0, value: "Public key (npub/nprofile)" }] }),
                  value: a,
                  onChange: e => s(e.target.value),
                }),
              }),
              (0, sa.jsx)(Gd, {
                onClick: () =>
                  (async function () {
                    if (!a || !r) return;
                    const e = new kp(r, `${li}/api/v1/n5sp`);
                    c([]);
                    const t = await e.transfer(n.id, a);
                    "error" in t ? c(t.errors) : i(-1);
                  })(),
                children: (0, sa.jsx)(wl, { id: "DtYelJ", defaultMessage: [{ type: 0, value: "Transfer" }] }),
              }),
            ],
          }),
          l && (0, sa.jsx)("b", { className: "error", children: l }),
        ],
      });
    }
    function og() {
      var e;
      const t = it().state;
      return t
        ? (0, sa.jsxs)(sa.Fragment, {
            children: [
              (0, sa.jsxs)("h3", {
                className: "nip05",
                children: [
                  t.handle,
                  "@",
                  (0, sa.jsx)("span", {
                    className: "domain",
                    "data-domain": null === (e = t.domain) || void 0 === e ? void 0 : e.toLowerCase(),
                    children: t.domain,
                  }),
                ],
              }),
              (0, sa.jsx)(rg, { handle: t }),
              (0, sa.jsx)(ig, { handle: t }),
            ],
          })
        : (0, sa.jsx)(gt, { to: "/settings/handle" });
    }
    function ag() {
      const e = ot();
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("h3", {
            onClick: () => e("/settings/handle"),
            className: "pointer",
            children: (0, sa.jsx)(wl, { id: "9pMqYs", defaultMessage: [{ type: 0, value: "Nostr Address" }] }),
          }),
          (0, sa.jsx)(vt, {}),
        ],
      });
    }
    const sg = [
      {
        path: "/settings/handle",
        element: (0, sa.jsx)(ag, {}),
        children: [
          { path: "", element: (0, sa.jsx)(ng, {}) },
          { path: "manage", element: (0, sa.jsx)(og, {}) },
        ],
      },
    ];
    function lg() {
      const { publicKey: e, privateKey: t, generatedEntropy: n } = aa();
      return (0, sa.jsxs)("div", {
        className: "flex-column g12",
        children: [
          (0, sa.jsx)("h3", {
            children: (0, sa.jsx)(wl, { id: "bep9C3", defaultMessage: [{ type: 0, value: "Public Key" }] }),
          }),
          (0, sa.jsx)(sd, { text: (0, Xo.jm)("npub", null != e ? e : ""), className: "dashed" }),
          (0, sa.jsx)(sd, { text: (0, Mt.encodeTLV)(Mt.NostrPrefix.Profile, null != e ? e : ""), className: "dashed" }),
          t &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("h3", {
                  children: (0, sa.jsx)(wl, { id: "JymXbw", defaultMessage: [{ type: 0, value: "Private Key" }] }),
                }),
                (0, sa.jsx)(sd, { text: (0, Xo.jm)("nsec", t), className: "dashed" }),
              ],
            }),
          n &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("h3", {
                  children: (0, sa.jsx)(wl, { id: "b12Goz", defaultMessage: [{ type: 0, value: "Mnemonic" }] }),
                }),
                (0, sa.jsx)(sd, { text: Zo(null != n ? n : ""), className: "dashed" }),
              ],
            }),
        ],
      });
    }
    function cg() {
      const e = ot();
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "main-content p",
            children: (0, sa.jsx)("h2", {
              onClick: () => e("/settings/profile"),
              className: "pointer",
              children: (0, sa.jsx)(wl, { ...Nl.Settings }),
            }),
          }),
          (0, sa.jsx)(vt, {}),
        ],
      });
    }
    const ug = [
        {
          path: "",
          element: (0, sa.jsx)(Iy, {}),
          children: [
            { path: "profile", element: (0, sa.jsx)(Fy, {}) },
            { path: "relays", element: (0, sa.jsx)(zy, {}) },
            { path: "relays/:id", element: (0, sa.jsx)(Wy, {}) },
            { path: "preferences", element: (0, sa.jsx)(Ky, {}) },
            { path: "accounts", element: (0, sa.jsx)(qy, {}) },
            { path: "keys", element: (0, sa.jsx)(lg, {}) },
            ...sg,
            ...tg,
          ],
        },
      ],
      dg = () => {
        const e = mt();
        return (
          console.error(e),
          (0, sa.jsxs)("div", {
            className: "main-content page",
            children: [
              (0, sa.jsx)("h4", {
                children: (0, sa.jsx)(wl, {
                  id: "FfYsOb",
                  defaultMessage: [{ type: 0, value: "An error has occured!" }],
                }),
              }),
              (0, sa.jsx)(Gd, {
                onClick: async () => {
                  await Dl.delete(), globalThis.localStorage.clear(), (globalThis.location.href = "/");
                },
                children: (0, sa.jsx)(wl, {
                  id: "HWbkEK",
                  defaultMessage: [{ type: 0, value: "Clear cache and reload" }],
                }),
              }),
              (0, sa.jsx)("pre", {
                children: JSON.stringify(
                  e instanceof Error ? { name: e.name, message: e.message, stack: e.stack } : e,
                  void 0,
                  "  "
                ),
              }),
            ],
          })
        );
      },
      fg = e => {
        let { unread: t } = e;
        return (0, sa.jsx)("span", { className: "pill " + (t > 0 ? "unread" : ""), children: t });
      };
    function hg() {
      return (0, sa.jsxs)("div", {
        children: [(0, sa.jsx)(wl, { ...Fu.NoteToSelf }), " ", (0, sa.jsx)(_l, { name: "badge", size: 15 })],
      });
    }
    function pg(e) {
      let { pubkey: t, clickable: n, className: r, link: i } = e;
      const o = ot();
      return (0, sa.jsxs)("div", {
        className: "nts" + (r ? ` ${r}` : ""),
        children: [
          (0, sa.jsx)("div", {
            className: "avatar-wrapper",
            children: (0, sa.jsx)("div", {
              className: "avatar" + (n ? " clickable" : ""),
              children: (0, sa.jsx)(_l, {
                onClick: () => {
                  n && o(null != i ? i : (0, Xo._v)(t));
                },
                name: "book-closed",
                size: 20,
              }),
            }),
          }),
          (0, sa.jsx)("div", {
            className: "f-grow",
            children: (0, sa.jsx)("div", {
              className: "name",
              children:
                (n && (0, sa.jsx)(Pt, { to: null != i ? i : (0, Xo._v)(t), children: (0, sa.jsx)(hg, {}) })) ||
                (0, sa.jsx)(hg, {}),
            }),
          }),
        ],
      });
    }
    function mg(t) {
      const n = aa().publicKey,
        r = tc(),
        i = t.data,
        [o, a] = (0, e.useState)(i.needsDecryption ? "Loading..." : i.content),
        [s, l] = (0, e.useState)(!1),
        { ref: c, inView: u } = ed(),
        { formatMessage: d } = yl(),
        f = i.from === n,
        h = f ? n : i.from;
      return (
        (0, e.useEffect)(() => {
          !s &&
            u &&
            i.needsDecryption &&
            (l(!0),
            (async function () {
              if (r) {
                const e = await i.decrypt(r);
                a(e || "<ERROR>"),
                  f ||
                    (function (e) {
                      const t = (0, Xo.oK)(),
                        n = `dm:seen:${e}`;
                      window.localStorage.setItem(n, t.toString());
                    })(i.id);
              }
            })().catch(console.error));
        }, [u, i]),
        (0, sa.jsxs)("div", {
          className: f ? "dm me" : "dm other",
          ref: c,
          children: [
            (0, sa.jsxs)("div", {
              children: [
                (function () {
                  if ((t.chat.type === Pc.PrivateGroupChat || t.chat.type === Pc.PublicGroupChat) && !f)
                    return (0, sa.jsx)(Bl, { pubkey: i.from });
                })(),
                (0, sa.jsx)(Uf, { content: o, tags: [], creator: h }),
              ],
            }),
            (0, sa.jsx)("div", { children: (0, sa.jsx)(rh, { from: 1e3 * i.created_at, fallback: d(Fu.JustNow) }) }),
          ],
        })
      );
    }
    function yg(t) {
      let { chat: n } = t;
      const [r, i] = (0, e.useState)(""),
        [o, a] = (0, e.useState)(!1),
        [s, l] = (0, e.useState)(!1),
        [c, u] = (0, e.useState)([]),
        [d, f] = (0, e.useState)(""),
        h = tc(),
        p = $u();
      async function m() {
        if (r && h && n) {
          a(!0);
          const e = await n.createMessage(r, h);
          await n.sendMessage(e, ew), i(""), a(!1);
        }
      }
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("button", {
            className: "btn-rnd",
            onClick: () =>
              (async function () {
                try {
                  const e = await (0, Xo.ZB)();
                  e &&
                    (async function (e) {
                      l(!0);
                      try {
                        if (e) {
                          const t = await p.upload(e, e.name);
                          if (t.header) {
                            const e = `nostr:${(0, Mt.encodeTLV)(
                              Mt.NostrPrefix.Event,
                              t.header.id,
                              void 0,
                              t.header.kind
                            )}`;
                            i(`${r ? `${r}\n` : ""}${e}`), u([...c, t.header]);
                          } else t.url ? i(`${r ? `${r}\n` : ""}${t.url}`) : null != t && t.error && f(t.error);
                        }
                      } catch (e) {
                        e instanceof Error && f(e.message);
                      } finally {
                        l(!1);
                      }
                    })(e);
                } catch (e) {
                  e instanceof Error && f(e.message);
                }
              })(),
            children: s ? (0, sa.jsx)($d, { width: 20 }) : (0, sa.jsx)(_l, { name: "attachment", size: 20 }),
          }),
          (0, sa.jsxs)("div", {
            className: "w-max",
            children: [
              (0, sa.jsx)(zu, {
                autoFocus: !0,
                placeholder: "",
                className: "",
                value: r,
                onChange: e =>
                  (function (e) {
                    o || i(e.target.value);
                  })(e),
                onKeyDown: e =>
                  (async function (e) {
                    "Enter" === e.code && !e.shiftKey && (e.preventDefault(), await m());
                  })(e),
                onFocus: () => {},
              }),
              d && (0, sa.jsx)("b", { className: "error", children: d }),
            ],
          }),
          (0, sa.jsx)("button", {
            className: "btn-rnd",
            onClick: () => m(),
            children: o ? (0, sa.jsx)($d, { width: 20 }) : (0, sa.jsx)(_l, { name: "arrow-right", size: 20 }),
          }),
        ],
      });
    }
    function gg(e) {
      var t;
      let { id: n } = e;
      const r = aa().publicKey,
        i =
          null !== (t = Lc().find(e => e.id === n)) && void 0 !== t
            ? t
            : (function (e) {
                if (e.startsWith("chat4")) return hc.createChatObj(e, []);
                if (e.startsWith("chat24")) return Cc.createChatObj(e, []);
                throw new Error("Cant create new empty chat, unknown id");
              })(n);
      return (0, sa.jsxs)("div", {
        className: "dm-window",
        children: [
          (0, sa.jsx)("div", {
            children:
              1 === i.participants.length
                ? (function (e) {
                    return e.id === r
                      ? (0, sa.jsx)(pg, { className: "f-grow mb-10", pubkey: e.id })
                      : "pubkey" === e.type
                      ? (0, sa.jsx)(Bl, { pubkey: e.id, className: "f-grow mb10" })
                      : null != e && e.profile
                      ? (0, sa.jsx)(Bl, { pubkey: e.id, className: "f-grow mb10", profile: e.profile })
                      : (0, sa.jsx)(Bl, { pubkey: e.id, className: "f-grow mb10", overrideUsername: e.id });
                  })(i.participants[0])
                : (0, sa.jsxs)("div", {
                    className: "flex pfp-overlap mb10",
                    children: [
                      i.participants.map(e => (0, sa.jsx)(Bl, { pubkey: e.id, showUsername: !1 })),
                      null !== (o = i.title) && void 0 !== o
                        ? o
                        : (0, sa.jsx)(wl, { id: "+Vxixo", defaultMessage: [{ type: 0, value: "Secret Group Chat" }] }),
                    ],
                  }),
          }),
          (0, sa.jsx)("div", {
            children: (0, sa.jsx)("div", { className: "flex f-col", children: i && (0, sa.jsx)(vg, { chat: i }) }),
          }),
          (0, sa.jsx)("div", { children: (0, sa.jsx)(yg, { chat: i }) }),
        ],
      });
      var o;
    }
    function vg(t) {
      let { chat: n } = t;
      const { publicKey: r } = aa(),
        i = (0, e.useMemo)(() => {
          const e = null == n ? void 0 : n.messages;
          return r && e ? [...e].sort((e, t) => e.created_at - t.created_at) : [];
        }, [n, r]);
      return (0, sa.jsx)(sa.Fragment, { children: i.map(e => (0, sa.jsx)(mg, { data: e, chat: n }, e.id)) });
    }
    function wg() {
      const t = aa(),
        { formatMessage: n } = yl(),
        r = ot(),
        { id: i } = st(),
        [o, a] = (0, e.useState)(),
        s = (function () {
          const t = (0, e.useRef)(document.querySelector("#root")),
            [n, r] = (0, e.useState)(0);
          return (
            (0, e.useEffect)(() => {
              const e = () => {
                t.current && r(t.current.offsetWidth);
              };
              return window.addEventListener("resize", e), e(), () => window.removeEventListener("resize", e);
            }, [t]),
            n
          );
        })();
      (0, e.useEffect)(() => {
        const e = (0, Xo.nm)(null != i ? i : "");
        a(i ? e : void 0);
      }, [i]);
      const l = Lc(),
        c = (0, e.useMemo)(() => l.reduce((e, t) => e + t.unread, 0), [l]);
      function u(e, t, n) {
        e.stopPropagation(), e.preventDefault(), r(`/messages/${encodeURIComponent(n)}`);
      }
      function d(e) {
        if (1 === e.participants.length) {
          const t = e.participants[0];
          return "pubkey" === t.type
            ? (0, sa.jsx)(Bl, { pubkey: t.id, className: "f-grow", link: "" })
            : (0, sa.jsx)(Bl, { pubkey: "", overrideUsername: t.id, className: "f-grow", link: "" });
        }
        var t;
        return (0, sa.jsxs)("div", {
          className: "flex f-grow pfp-overlap",
          children: [
            e.participants.map(e => (0, sa.jsx)(Bl, { pubkey: e.id, link: "", showUsername: !1 })),
            null !== (t = e.title) && void 0 !== t
              ? t
              : (0, sa.jsx)(wl, { id: "eXT2QQ", defaultMessage: [{ type: 0, value: "Group Chat" }] }),
          ],
        });
      }
      return (0, sa.jsxs)("div", {
        className: "dm-page",
        children: [
          (s >= 768 || !o) &&
            (0, sa.jsxs)("div", {
              className: "chat-list",
              children: [
                (0, sa.jsxs)("div", {
                  className: "flex p f-space",
                  children: [
                    (0, sa.jsx)("button", {
                      disabled: c <= 0,
                      type: "button",
                      children: (0, sa.jsx)(wl, {
                        id: "ShdEie",
                        defaultMessage: [{ type: 0, value: "Mark all read" }],
                      }),
                    }),
                    (0, sa.jsx)(xg, {}),
                  ],
                }),
                l
                  .sort((e, n) => {
                    const r = 1 === e.participants.length && e.participants[0].id === t.publicKey,
                      i = 1 === n.participants.length && n.participants[0].id === t.publicKey;
                    return r || i ? (r ? -1 : 1) : n.lastMessage > e.lastMessage ? 1 : -1;
                  })
                  .map(function (e) {
                    if (!t.publicKey) return null;
                    const r = e.participants.map(e => e.id);
                    if (1 === r.length && r[0] === t.publicKey)
                      return (function (e) {
                        return (0, sa.jsx)(
                          "div",
                          {
                            className: "flex p",
                            onClick: t => u(t, e.type, e.id),
                            children: (0, sa.jsx)(pg, { clickable: !0, className: "f-grow", link: "", pubkey: e.id }),
                          },
                          e.id
                        );
                      })(e);
                    const i = e.id === o;
                    return (0,
                    sa.jsxs)("div", { className: "flex p" + (i ? " active" : ""), onClick: t => u(t, e.type, e.id), children: [d(e), (0, sa.jsxs)("div", { className: "nowrap", children: [(0, sa.jsx)("small", { children: (0, sa.jsx)(rh, { from: 1e3 * e.lastMessage, fallback: n({ id: "bxv59V", defaultMessage: [{ type: 0, value: "Just now" }] }) }) }), e.unread > 0 && (0, sa.jsx)(fg, { unread: e.unread })] })] }, e.id);
                  }),
              ],
            }),
          o ? (0, sa.jsx)(gg, { id: o }) : s >= 768 && (0, sa.jsx)("div", {}),
          s >= 1500 && o && (0, sa.jsx)("div", { children: (0, sa.jsx)(bg, { id: o }) }),
        ],
      });
    }
    function bg(e) {
      var t;
      let { id: n } = e;
      const r = (0, Mt.decodeTLV)(n)
          .filter(e => e.type === Mt.TLVEntryType.Author)
          .map(e => e.value),
        i = r[0],
        o = (0, El.useUserProfile)(i),
        { block: a, unblock: s, isBlocked: l } = rc(),
        c = l(i);
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)(Ml, { user: o, size: 210 }),
          (0, sa.jsx)("h2", { children: Ol(o, i) }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(Uf, {
              content:
                null !==
                  (t = (function (e) {
                    var t;
                    return (null !== (t = null == e ? void 0 : e.length) && void 0 !== t ? t : 0) > 200
                      ? `${null == e ? void 0 : e.slice(0, 200)}...`
                      : e;
                  })(null == o ? void 0 : o.about)) && void 0 !== t
                  ? t
                  : "",
              tags: [],
              creator: i,
              disableMedia: !0,
              depth: 0,
            }),
          }),
          (0, sa.jsxs)("div", {
            className: "settings-row",
            onClick: () => (c ? s(i) : a(i)),
            children: [
              (0, sa.jsx)(_l, { name: "block" }),
              c
                ? (0, sa.jsx)(wl, { id: "nDejmx", defaultMessage: [{ type: 0, value: "Unblock" }] })
                : (0, sa.jsx)(wl, { id: "Up5U7K", defaultMessage: [{ type: 0, value: "Block" }] }),
            ],
          }),
        ],
      });
    }
    function xg() {
      const [t, n] = (0, e.useState)(!1),
        [r, i] = (0, e.useState)([]),
        [o, a] = (0, e.useState)([]),
        [s, l] = (0, e.useState)(""),
        c = ot(),
        u = (0, El.useUserSearch)(),
        { follows: d } = aa();
      function f(e) {
        i(t => (t.includes(e) ? t.filter(t => t !== e) : (0, Xo.NP)(t, [e])));
      }
      return (
        (0, e.useEffect)(() => {
          i([]), l(""), a(d.item);
        }, [t]),
        (0, e.useEffect)(
          () =>
            (0, Xo.Ds)(500, () => {
              s ? u(s).then(a) : a(d.item);
            }),
          [s]
        ),
        (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)("button", {
              type: "button",
              className: "new-chat",
              onClick: () => n(!0),
              children: (0, sa.jsx)(_l, { name: "plus", size: 16 }),
            }),
            t &&
              (0, sa.jsx)(Hu, {
                onClose: () => n(!1),
                className: "new-chat-modal",
                children: (0, sa.jsxs)("div", {
                  className: "flex-column g16",
                  children: [
                    (0, sa.jsxs)("div", {
                      className: "flex f-space",
                      children: [
                        (0, sa.jsx)("h2", {
                          children: (0, sa.jsx)(wl, { id: "UT7Nkj", defaultMessage: [{ type: 0, value: "New Chat" }] }),
                        }),
                        (0, sa.jsx)("button", {
                          onClick: function () {
                            n(!1), 1 === r.length ? c(Oc(Pc.DirectMessage, r[0])) : c(Oc(Pc.PrivateGroupChat, ...r));
                          },
                          children: (0, sa.jsx)(wl, {
                            id: "v8lolG",
                            defaultMessage: [{ type: 0, value: "Start chat" }],
                          }),
                        }),
                      ],
                    }),
                    (0, sa.jsxs)("div", {
                      className: "flex-column g8",
                      children: [
                        (0, sa.jsx)("h3", {
                          children: (0, sa.jsx)(wl, {
                            id: "JjGgXI",
                            defaultMessage: [{ type: 0, value: "Search users" }],
                          }),
                        }),
                        (0, sa.jsx)("input", {
                          type: "text",
                          placeholder: "npub/nprofile/nostr address",
                          value: s,
                          onChange: e => l(e.target.value),
                        }),
                      ],
                    }),
                    (0, sa.jsx)("div", {
                      className: "flex",
                      children: r.map(e =>
                        (0, sa.jsx)(Bl, { pubkey: e, showUsername: !1, link: "", onClick: () => f(e) }, `selected-${e}`)
                      ),
                    }),
                    (0, sa.jsxs)("div", {
                      children: [
                        (0, sa.jsx)("p", {
                          children: (0, sa.jsx)(wl, {
                            id: "R81upa",
                            defaultMessage: [{ type: 0, value: "People you follow" }],
                          }),
                        }),
                        (0, sa.jsx)("div", {
                          className: "user-list flex-column g2",
                          children: o.map(e =>
                            (0, sa.jsx)(
                              lh,
                              {
                                pubkey: e,
                                options: { about: !1, linkToProfile: !1 },
                                actions: (0, sa.jsx)(sa.Fragment, {}),
                                onClick: () => f(e),
                                className: r.includes(e) ? "active" : void 0,
                              },
                              `option-${e}`
                            )
                          ),
                        }),
                      ],
                    }),
                  ],
                }),
              }),
          ],
        })
      );
    }
    const Eg = [
        (0, Xo.FX)(di),
        (0, Xo.FX)("npub107jk7htfv243u0x5ynn43scq9wrxtaasmrwwa8lfu2ydwag6cx2quqncxg"),
        (0, Xo.FX)("npub1r0rs5q2gk0e3dk3nlc7gnu378ec6cnlenqp8a3cjhyzu6f8k5sgs4sq9ac"),
      ],
      kg = [
        (0, Xo.FX)("npub10djxr5pvdu97rjkde7tgcsjxzpdzmdguwacfjwlchvj7t88dl7nsdl54nf"),
        (0, Xo.FX)("npub148jmlutaa49y5wl5mcll003ftj59v79vf7wuv3apcwpf75hx22vs7kk9ay"),
        (0, Xo.FX)("npub1xdtducdnjerex88gkg2qk2atsdlqsyxqaag4h05jmcpyspqt30wscmntxy"),
        (0, Xo.FX)("npub1vp8fdcyejd4pqjyrjk9sgz68vuhq7pyvnzk8j0ehlljvwgp8n6eqsrnpsw"),
        (0, Xo.FX)("npub179rec9sw2a5ngkr2wsjpjhwp2ksygjxn6uw5py9daj2ezhw3aw5swv3s6q"),
        (0, Xo.FX)("npub17q5n2z8naw0xl6vu9lvt560lg33pdpe29k0k09umlfxm3vc4tqrq466f2y"),
        (0, Xo.FX)("npub1ltx67888tz7lqnxlrg06x234vjnq349tcfyp52r0lstclp548mcqnuz40t"),
      ],
      jg = [
        (0, Xo.FX)("npub1s8zws5frm94esxnp9v6zf7vk60m3hum3305n78sr73t78kleus7q8zpwna"),
        (0, Xo.FX)("npub1z0ykz6lp3y8rjjntenns0ee02062g2f0n55u49w44xdemw35vcpsda5jhh"),
        (0, Xo.FX)("npub13wa880se2h3l54k7x76edrkrt4p94sh4q090974mt0z6n09qtntqxp47uk"),
        (0, Xo.FX)("npub147ccm75um0zkn0lr9fg9wrag2g6yxfw234fpmhdwuvaqjyegrhgs46t2td"),
        (0, Xo.FX)("npub1ppxgsqdv4ygvdnzznudahtwqc3vaqjz3824vawfgwchpegz0lsjqqys35r"),
        (0, Xo.FX)("npub1ww8kjxz2akn82qptdpl7glywnchhkx3x04hez3d3rye397turrhssenvtp"),
        (0, Xo.FX)("npub1x8dzy9xegwmdk2vy30l8u08caspcqq2yzncxehdsa6kvnte9pr3qnt8pg4"),
        (0, Xo.FX)("npub1xwm9svxrlymymph0hka40zw9frg98m6adxmzcq26jhtm5gwlhjrshhgzfd"),
        (0, Xo.FX)("npub1raspu6ag9kfcw9jz0rz4z693qwmqe5sx6jdhhuvkwz5zy8rygztqnwfhd7"),
        (0, Xo.FX)("npub13tkge7eqeem5cz8gk7gdju76nytvvf064hm5mzmv3x26k2uvaxfqczet2j"),
        (0, Xo.FX)("npub10529hxckjm5t5mchss5lnpsqrmavulglxhrmu5quuu4hs6yuyh3qc9gxd5"),
        (0, Xo.FX)("npub19jk45jz45gczwfm22y9z69xhaex3nwg47dz84zw096xl6z62amkqj99rv7"),
        (0, Xo.FX)("npub1z9n5ktfjrlpyywds9t7ljekr9cm9jjnzs27h702te5fy8p2c4dgs5zvycf"),
      ],
      Sg = () => {
        const [t, n] = (0, e.useState)([]),
          [r, i] = (0, e.useState)(),
          o = new kf(li);
        function a(e) {
          const n = t.find(t => (0, Xo.FX)(t.pubKey) === e);
          return n
            ? (0, sa.jsxs)(sa.Fragment, { children: [(100 * n.split).toLocaleString(), "%"] })
            : (0, sa.jsx)(sa.Fragment, {});
        }
        return (
          (0, e.useEffect)(() => {
            (async function () {
              const e = await o.revenueSplits();
              n(e);
              const t = await o.revenueToday();
              i(t);
            })().catch(console.warn);
          }, []),
          (0, sa.jsxs)("div", {
            className: "main-content p",
            children: [
              (0, sa.jsx)("h2", {
                children: (0, sa.jsx)(wl, {
                  id: "Y31HTH",
                  defaultMessage: [{ type: 0, value: "Help fund the development of Snort" }],
                }),
              }),
              (0, sa.jsx)("p", {
                children: (0, sa.jsx)(wl, {
                  id: "BOr9z/",
                  defaultMessage: [
                    { type: 0, value: "Snort is an open source project built by passionate people in their free time" },
                  ],
                }),
              }),
              (0, sa.jsx)("p", {
                children: (0, sa.jsx)(wl, {
                  id: "nn1qb3",
                  defaultMessage: [{ type: 0, value: "Your donations are greatly appreciated" }],
                }),
              }),
              (0, sa.jsx)("p", {
                children: (0, sa.jsx)(wl, {
                  id: "u4bHcR",
                  defaultMessage: [
                    { type: 0, value: "Check out the code here: " },
                    { type: 1, value: "link" },
                  ],
                  values: {
                    link: (0, sa.jsx)("a", {
                      className: "highlight",
                      href: "https://git.v0l.io/Kieran/snort",
                      rel: "noreferrer",
                      target: "_blank",
                      children: "https://git.v0l.io/Kieran/snort",
                    }),
                  },
                }),
              }),
              (0, sa.jsx)("p", {
                children: (0, sa.jsx)(wl, {
                  id: "mH91FY",
                  defaultMessage: [
                    {
                      type: 0,
                      value:
                        "Each contributor will get paid a percentage of all donations and NIP-05 orders, you can see the split amounts below",
                    },
                  ],
                }),
              }),
              (0, sa.jsxs)("div", {
                className: "card",
                children: [
                  (0, sa.jsxs)("div", {
                    className: "flex",
                    children: [
                      (0, sa.jsx)("div", {
                        className: "mr10",
                        children: (0, sa.jsx)(wl, {
                          id: "ZUZedV",
                          defaultMessage: [{ type: 0, value: "Lightning Donation:" }],
                        }),
                      }),
                      (0, sa.jsx)(up, {
                        pubkey: (0, Xo.FX)(fi),
                        lnurl: "donate@snort.social",
                        children: (0, sa.jsx)(wl, { id: "2IFGap", defaultMessage: [{ type: 0, value: "Donate" }] }),
                      }),
                    ],
                  }),
                  r &&
                    (0, sa.jsx)("small", {
                      children: (0, sa.jsx)(wl, {
                        id: "P7nJT9",
                        defaultMessage: [
                          { type: 0, value: "Total today (UTC): " },
                          { type: 1, value: "amount" },
                          { type: 0, value: " sats" },
                        ],
                        values: { amount: r.donations.toLocaleString() },
                      }),
                    }),
                ],
              }),
              (0, sa.jsx)("h3", {
                children: (0, sa.jsx)(wl, { id: "4IPzdn", defaultMessage: [{ type: 0, value: "Primary Developers" }] }),
              }),
              Eg.map(e => (0, sa.jsx)(lh, { pubkey: e, actions: a(e) }, e)),
              (0, sa.jsx)("h4", {
                children: (0, sa.jsx)(wl, { id: "ZLmyG9", defaultMessage: [{ type: 0, value: "Contributors" }] }),
              }),
              kg.map(e => (0, sa.jsx)(lh, { pubkey: e, actions: a(e) }, e)),
              (0, sa.jsx)("h4", {
                children: (0, sa.jsx)(wl, { id: "3gOsZq", defaultMessage: [{ type: 0, value: "Translators" }] }),
              }),
              jg.map(e => (0, sa.jsx)(lh, { pubkey: e, actions: a(e) }, e)),
            ],
          })
        );
      },
      Ag = () => {
        const t = st(),
          { formatMessage: n } = yl(),
          [r, i] = (0, e.useState)(t.keyword),
          [o, a] = (0, e.useState)(t.keyword),
          [s, l] = (0, e.useState)(!0),
          c = {
            Posts: { text: n({ id: "7+Domh", defaultMessage: [{ type: 0, value: "Notes" }] }), value: 0 },
            Profiles: { text: n({ id: "Tpy00S", defaultMessage: [{ type: 0, value: "People" }] }), value: 1 },
          },
          [u, d] = (0, e.useState)(c.Posts);
        return (
          (0, e.useEffect)(() => {
            o ? nw.navigate(`/search/${encodeURIComponent(o)}`) : nw.navigate("/search");
          }, [o]),
          (0, e.useEffect)(() => (0, Xo.Ds)(500, () => a(r)), [r]),
          (0, sa.jsxs)("div", {
            className: "main-content",
            children: [
              (0, sa.jsx)("h2", {
                children: (0, sa.jsx)(wl, { id: "xmcVZ0", defaultMessage: [{ type: 0, value: "Search" }] }),
              }),
              (0, sa.jsx)("div", {
                className: "flex mb10",
                children: (0, sa.jsx)("input", {
                  type: "text",
                  className: "f-grow mr10",
                  placeholder: n({ id: "0BUTMv", defaultMessage: [{ type: 0, value: "Search..." }] }),
                  value: r,
                  onChange: e => i(e.target.value),
                  autoFocus: !0,
                }),
              }),
              (0, sa.jsx)("div", {
                className: "tabs",
                children: [c.Posts, c.Profiles].map(function (e) {
                  return (0, sa.jsx)(ap, { t: e, tab: u, setTab: d }, e.value);
                }),
              }),
              (function () {
                if (!o) {
                  switch (u.value) {
                    case 1:
                      return (0, sa.jsx)(Pm, {});
                    case 0:
                      return (0, sa.jsx)(Nm, {});
                  }
                  return null;
                }
                const e = 1 == u.value;
                return (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    1 != u.value
                      ? null
                      : (0, sa.jsxs)("div", {
                          className: "flex mb10 f-end",
                          children: [
                            (0, sa.jsx)(wl, { id: "RwFaYs", defaultMessage: [{ type: 0, value: "Sort" }] }),
                            " ",
                            (0, sa.jsxs)("select", {
                              onChange: e => l("true" == e.target.value),
                              value: s ? "true" : "false",
                              children: [
                                (0, sa.jsx)("option", {
                                  value: "true",
                                  children: (0, sa.jsx)(wl, {
                                    id: "mTJFgF",
                                    defaultMessage: [{ type: 0, value: "Popular" }],
                                  }),
                                }),
                                (0, sa.jsx)("option", {
                                  value: "false",
                                  children: (0, sa.jsx)(wl, {
                                    id: "RjpoYG",
                                    defaultMessage: [{ type: 0, value: "Recent" }],
                                  }),
                                }),
                              ],
                            }),
                          ],
                        }),
                    (0, sa.jsx)(
                      Qp,
                      {
                        subject: {
                          type: e ? "profile_keyword" : "post_keyword",
                          items: [o + (s ? " sort:popular" : "")],
                          discriminator: o,
                        },
                        postsOnly: !1,
                        noSort: e && s,
                        method: "LIMIT_UNTIL",
                        loadMore: !1,
                      },
                      o + (e ? "_p" : "")
                    ),
                  ],
                });
              })(),
            ],
          })
        );
      };
    function Cg() {
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("h2", {
            children: (0, sa.jsx)(wl, { id: "7hp70g", defaultMessage: [{ type: 0, value: "NIP-05" }] }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "c35bj2",
              defaultMessage: [
                { type: 0, value: "If you have an enquiry about your NIP-05 order please DM " },
                { type: 1, value: "link" },
              ],
              values: {
                link: (0, sa.jsx)(Pt, {
                  to: `/messages/${(0, Mt.encodeTLVEntries)("chat4", {
                    type: Mt.TLVEntryType.Author,
                    length: 64,
                    value: (0, Xo.FX)(di),
                  })}`,
                  children: "Kieran",
                }),
              },
            }),
          }),
        ],
      });
    }
    const Ng = () => {
        const e = ot();
        return (0, sa.jsx)("h1", { className: "logo", onClick: () => e("/"), children: "Snort" });
      },
      Pg = { id: "gBdUXk", defaultMessage: [{ type: 0, value: "Save your keys!" }] },
      _g = {
        id: "EPYwm7",
        defaultMessage: [
          {
            type: 0,
            value:
              "Your private key is your password. If you lose this key, you will lose access to your account! Copy it and keep it in a safe place. There is no way to reset your private key.",
          },
        ],
      },
      Tg = { id: "xJ9n2N", defaultMessage: [{ type: 0, value: "Your public key" }] },
      Mg = { id: "PLSbmL", defaultMessage: [{ type: 0, value: "Your mnemonic phrase" }] },
      Rg = { id: "KWuDfz", defaultMessage: [{ type: 0, value: "I have saved my keys, continue" }] },
      Bg = { id: "1A7TZk", defaultMessage: [{ type: 0, value: "What is Snort and how does it work?" }] },
      Og = {
        id: "gDZkld",
        defaultMessage: [
          {
            type: 0,
            value: 'Snort is a Nostr UI, nostr is a decentralised protocol for saving and distributing "notes".',
          },
        ],
      },
      Lg = {
        id: "BcGMo+",
        defaultMessage: [
          {
            type: 0,
            value: 'Notes hold text content, the most popular usage of these notes is to store "tweet like" messages.',
          },
        ],
      },
      Ig = {
        id: "sWnYKw",
        defaultMessage: [{ type: 0, value: "Snort is designed to have a similar experience to Twitter." }],
      },
      Fg = { id: "Vx7Zm2", defaultMessage: [{ type: 0, value: "How do keys work?" }] },
      Dg = {
        id: "/RD0e2",
        defaultMessage: [
          {
            type: 0,
            value:
              "Nostr uses digital signature technology to provide tamper proof notes which can safely be replicated to many relays to provide redundant storage of your content.",
          },
        ],
      },
      Ug = {
        id: "IUZC+0",
        defaultMessage: [
          {
            type: 0,
            value:
              "This means that nobody can modify notes which you have created and everybody can easily verify that the notes they are reading are created by you.",
          },
        ],
      },
      zg = {
        id: "rrfdTe",
        defaultMessage: [
          {
            type: 0,
            value: "This is the same technology which is used by Bitcoin and has been proven to be extremely secure.",
          },
        ],
      },
      Hg = {
        id: "reJ6SM",
        defaultMessage: [
          {
            type: 0,
            value:
              "It is recommended to use one of the following browser extensions if you are on a desktop computer to secure your key:",
          },
        ],
      },
      Kg = {
        id: "osUr8O",
        defaultMessage: [{ type: 0, value: "You can also use these extensions to login to most Nostr sites." }],
      },
      Wg = { id: "juhqvW", defaultMessage: [{ type: 0, value: "Improve login security with browser extensions" }] },
      qg = { id: "WxthCV", defaultMessage: [{ type: 0, value: "e.g. Jack" }] },
      Vg = { id: "E8a4yq", defaultMessage: [{ type: 0, value: "Follow some popular accounts" }] },
      $g = { id: "/4tOwT", defaultMessage: [{ type: 0, value: "Skip" }] },
      Gg = { id: "FS3b54", defaultMessage: [{ type: 0, value: "Done!" }] },
      Zg = { id: "NNSu3d", defaultMessage: [{ type: 0, value: "Import Twitter Follows" }] },
      Yg = { id: "INSqIz", defaultMessage: [{ type: 0, value: "Twitter username..." }] },
      Xg = {
        id: "WONP5O",
        defaultMessage: [
          { type: 0, value: "Find your twitter follows on nostr (Data provided by " },
          { type: 1, value: "provider" },
          { type: 0, value: ")" },
        ],
      },
      Qg = { id: "MRp6Ly", defaultMessage: [{ type: 0, value: "Twitter username" }] },
      Jg = {
        id: "xKflGN",
        defaultMessage: [
          { type: 1, value: "username" },
          { type: 0, value: "'s Follows on Nostr" },
        ],
      },
      ev = {
        id: "BOUMjw",
        defaultMessage: [
          { type: 0, value: "No nostr users found for " },
          { type: 1, value: "twitterUsername" },
        ],
      },
      tv = { id: "rudscU", defaultMessage: [{ type: 0, value: "Failed to load follows, please try again later" }] },
      nv = { id: "RDZVQL", defaultMessage: [{ type: 0, value: "Check" }] },
      rv = { id: "9+Ddtu", defaultMessage: [{ type: 0, value: "Next" }] },
      iv = { id: "6Yfvvp", defaultMessage: [{ type: 0, value: "Get an identifier" }] },
      ov = {
        id: "oxCa4R",
        defaultMessage: [
          {
            type: 0,
            value:
              "Getting an identifier helps confirm the real you to people who know you. Many people can have a username @jack, but there is only one jack@cash.app.",
          },
        ],
      },
      av = { id: "iGT1eE", defaultMessage: [{ type: 0, value: "Prevent fake accounts from imitating you" }] },
      sv = { id: "/d6vEc", defaultMessage: [{ type: 0, value: "Make your profile easier to find and share" }] },
      lv = {
        id: "a5UPxh",
        defaultMessage: [{ type: 0, value: "Fund developers and platforms providing NIP-05 verification services" }],
      },
      cv = {
        id: "svOoEH",
        defaultMessage: [
          {
            type: 0,
            value:
              "Name-squatting and impersonation is not allowed. Snort and our partners reserve the right to terminate your handle (not your account - nobody can take that away) for violating this rule.",
          },
        ],
      },
      uv = { id: "jCA7Cw", defaultMessage: [{ type: 0, value: "Preview on snort" }] },
      dv = { id: "iDGAbc", defaultMessage: [{ type: 0, value: "Get a Snort identifier" }] },
      fv = {
        id: "Eqjl5K",
        defaultMessage: [
          {
            type: 0,
            value:
              "Only Snort and our integration partner identifier gives you a colorful domain name, but you are welcome to use other services too.",
          },
        ],
      },
      hv = { id: "ut+2Cd", defaultMessage: [{ type: 0, value: "Get a partner identifier" }] },
      pv = {
        id: "F+B3x1",
        defaultMessage: [{ type: 0, value: "We have also partnered with nostrplebs.com to give you more options" }],
      },
      mv = { id: "zjJZBd", defaultMessage: [{ type: 0, value: "You're ready!" }] },
      yv = {
        id: "nN9XTz",
        defaultMessage: [
          { type: 0, value: "Share your thoughts with " },
          { type: 1, value: "link" },
        ],
      },
      gv = { id: "hK5ZDk", defaultMessage: [{ type: 0, value: "the world" }] };
    function vv() {
      const t = ot(),
        { publicKey: n } = aa(),
        r = (0, El.useUserProfile)(n),
        [i, o] = (0, e.useState)(!1),
        a = (null == r ? void 0 : r.name) || "nostrich",
        [s, l] = (0, e.useState)(`${a}@snort.social`),
        c = async () => {
          t("/new/import");
        };
      return (0, sa.jsxs)("div", {
        className: "main-content new-user",
        dir: "auto",
        children: [
          (0, sa.jsx)(Ng, {}),
          (0, sa.jsx)("div", {
            className: "progress-bar",
            children: (0, sa.jsx)("div", { className: "progress progress-third" }),
          }),
          (0, sa.jsx)("h1", { children: (0, sa.jsx)(wl, { ...iv }) }),
          (0, sa.jsx)("div", {
            className: "next-actions continue-actions",
            children: (0, sa.jsx)("button", {
              className: "secondary",
              type: "button",
              onClick: c,
              children: (0, sa.jsx)(wl, { ...$g }),
            }),
          }),
          (0, sa.jsx)("h4", { children: (0, sa.jsx)(wl, { ...uv }) }),
          (0, sa.jsx)("div", {
            className: "profile-preview-nip",
            children: n && (0, sa.jsx)(Bl, { pubkey: n, defaultNip: s, verifyNip: !1 }),
          }),
          (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...ov }) }),
          (0, sa.jsxs)("ul", {
            children: [
              (0, sa.jsx)("li", { children: (0, sa.jsx)(wl, { ...av }) }),
              (0, sa.jsx)("li", { children: (0, sa.jsx)(wl, { ...sv }) }),
              (0, sa.jsx)("li", { children: (0, sa.jsx)(wl, { ...lv }) }),
            ],
          }),
          (0, sa.jsx)("p", { className: "warning", children: (0, sa.jsx)(wl, { ...cv }) }),
          !i &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("h2", { children: (0, sa.jsx)(wl, { ...dv }) }),
                (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...fv }) }),
                (0, sa.jsx)("div", {
                  className: "nip-container",
                  children: (0, sa.jsx)(jp, { ...Ap[0], helpText: !1, onChange: l, onSuccess: () => o(!0) }, "snort"),
                }),
              ],
            }),
          !i &&
            (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsx)("h2", { children: (0, sa.jsx)(wl, { ...hv }) }),
                (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...pv }) }),
                (0, sa.jsx)("div", {
                  className: "nip-container",
                  children: (0, sa.jsx)(
                    jp,
                    { ...Ap[1], helpText: !1, onChange: l, onSuccess: () => o(!0) },
                    "nostrplebs"
                  ),
                }),
              ],
            }),
          (0, sa.jsxs)("div", {
            className: "next-actions",
            children: [
              !i &&
                (0, sa.jsx)("button", {
                  type: "button",
                  className: "transparent",
                  onClick: c,
                  children: (0, sa.jsx)(wl, { ...$g }),
                }),
              i && (0, sa.jsx)("button", { type: "button", onClick: c, children: (0, sa.jsx)(wl, { ...rv }) }),
            ],
          }),
        ],
      });
    }
    function wv(t) {
      let { picture: n, onPictureChange: r } = t;
      const i = $u(),
        [o, a] = (0, e.useState)(""),
        [s, l] = (0, e.useState)(!1);
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "flex f-center",
            children: (0, sa.jsx)("div", {
              style: { backgroundImage: `url(${n})` },
              className: "avatar",
              children: (0, sa.jsx)("div", {
                className: "edit" + (n ? "" : " new"),
                onClick: () =>
                  (async function () {
                    a(""), l(!0);
                    try {
                      const e = await (0, Xo.ZB)();
                      if (e) {
                        const t = await i.upload(e, e.name);
                        console.log(t),
                          "string" == typeof (null == t ? void 0 : t.error)
                            ? a(`Upload failed: ${t.error}`)
                            : null == r || r((0, Xo.Wg)(t.url));
                      }
                    } catch (e) {
                      e instanceof Error ? a(`Upload failed: ${e.message}`) : a("Upload failed");
                    }
                    l(!1);
                  })().catch(console.error),
                children: s ? (0, sa.jsx)($d, {}) : (0, sa.jsx)(_l, { name: n ? "edit" : "camera-plus" }),
              }),
            }),
          }),
          o && (0, sa.jsx)("b", { className: "error", children: o }),
        ],
      });
    }
    function bv() {
      const t = aa(),
        n = (0, El.useUserProfile)(t.publicKey),
        [r, i] = (0, e.useState)(""),
        [o, a] = (0, e.useState)(""),
        { formatMessage: s } = yl(),
        l = tc(),
        c = ot();
      return (
        (0, e.useEffect)(() => {
          var e, t;
          n &&
            (i(null !== (e = n.name) && void 0 !== e ? e : ""), a(null !== (t = n.picture) && void 0 !== t ? t : ""));
        }, [n]),
        (0, sa.jsxs)("div", {
          className: "main-content new-user p",
          dir: "auto",
          children: [
            (0, sa.jsx)(Ng, {}),
            (0, sa.jsx)("div", {
              className: "progress-bar",
              children: (0, sa.jsx)("div", { className: "progress progress-second" }),
            }),
            (0, sa.jsx)("h1", {
              children: (0, sa.jsx)(wl, { id: "Zr5TMx", defaultMessage: [{ type: 0, value: "Setup profile" }] }),
            }),
            (0, sa.jsx)("h2", {
              children: (0, sa.jsx)(wl, { id: "O9GTIc", defaultMessage: [{ type: 0, value: "Profile picture" }] }),
            }),
            (0, sa.jsx)(wv, { picture: o, onPictureChange: e => a(e) }),
            (0, sa.jsx)("h2", {
              children: (0, sa.jsx)(wl, { id: "JCIgkj", defaultMessage: [{ type: 0, value: "Username" }] }),
            }),
            (0, sa.jsx)("input", {
              className: "username",
              placeholder: s(qg),
              type: "text",
              value: r,
              onChange: e => i(e.target.value),
            }),
            (0, sa.jsx)("div", {
              className: "help-text",
              children: (0, sa.jsx)(wl, {
                id: "QawghE",
                defaultMessage: [{ type: 0, value: "You can change your username at any point." }],
              }),
            }),
            (0, sa.jsxs)("div", {
              className: "next-actions",
              children: [
                (0, sa.jsx)("button", {
                  type: "button",
                  className: "transparent",
                  onClick: () => c(Mv),
                  children: (0, sa.jsx)(wl, { ...$g }),
                }),
                (0, sa.jsx)("button", {
                  type: "button",
                  onClick: async () => {
                    if ((r.length > 0 || o.length > 0) && l) {
                      const e = await l.metadata({ ...n, name: r, picture: o });
                      ew.BroadcastEvent(e);
                      const t = (0, Mt.mapEventToProfile)(e);
                      t && $l.set(t);
                    }
                    c(Mv);
                  },
                  children: (0, sa.jsx)(wl, { ...rv }),
                }),
              ],
            }),
          ],
        })
      );
    }
    const xv = e => {
        let { text: t, onClick: n, className: r = "" } = e;
        const { formatMessage: i } = yl(),
          o = i(Fu.ShowMore),
          a = r ? `show-more ${r}` : "show-more";
        return (0, sa.jsx)("div", {
          className: "show-more-container",
          children: (0, sa.jsx)("button", { className: a, onClick: n, children: t || o }),
        });
      },
      Ev = e => {
        let { icon: t, collapsed: n } = e;
        return n
          ? (0, sa.jsx)("div", { className: "collapsed", children: t })
          : (0, sa.jsx)("div", { className: "uncollapsed", children: t });
      },
      kv = t => {
        let { title: n, children: r, className: i } = t;
        const [o, a] = (0, e.useState)(!0),
          s = (0, sa.jsx)("div", {
            className: "collapse-icon " + (o ? "" : "flip"),
            children: (0, sa.jsx)(_l, { name: "arrowFront" }),
          });
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsxs)("div", {
              className: "collapsable-section" + (i ? ` ${i}` : ""),
              onClick: () => a(!o),
              children: [n, (0, sa.jsx)(Ev, { icon: s, collapsed: o })],
            }),
            !o && r,
          ],
        });
      },
      jv = e => {
        let { text: t, children: n, collapsed: r, setCollapsed: i } = e;
        return r
          ? (0, sa.jsx)("div", { className: "collapsed", children: (0, sa.jsx)(xv, { text: t, onClick: () => i(!1) }) })
          : (0, sa.jsx)("div", { className: "uncollapsed", children: n });
      },
      Sv = () =>
        (0, sa.jsxs)(kv, {
          title: (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Bg }) }),
          children: [
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Og }) }),
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Lg }) }),
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Ig }) }),
          ],
        }),
      Av = () =>
        (0, sa.jsxs)(kv, {
          title: (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Fg }) }),
          children: [
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Dg }) }),
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Ug }) }),
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...zg }) }),
          ],
        }),
      Cv = () => {
        const { preferences: e } = aa();
        return (0, sa.jsxs)(kv, {
          title: (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Wg }) }),
          children: [
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Hg }) }),
            (0, sa.jsxs)("ul", {
              children: [
                (0, sa.jsxs)("li", {
                  children: [
                    (0, sa.jsx)("a", {
                      href: "https://getalby.com/",
                      target: "_blank",
                      rel: "noreferrer",
                      children: "Alby",
                    }),
                    ("ru" === e.language || "ru-RU" === e.language) &&
                      (0, sa.jsx)("a", {
                        href: "https://nostr.21ideas.org/docs/guides/Alby.html",
                        target: "_blank",
                        rel: "noreferrer",
                        children: "(Tony's Guide)",
                      }),
                  ],
                }),
                (0, sa.jsx)("li", {
                  children: (0, sa.jsx)("a", {
                    href: "https://github.com/fiatjaf/nos2x",
                    target: "_blank",
                    rel: "noreferrer",
                    children: "nos2x",
                  }),
                }),
              ],
            }),
            (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ...Kg }) }),
          ],
        });
      };
    function Nv() {
      var e, t;
      const n = aa(),
        r = ot();
      return (0, sa.jsxs)("div", {
        className: "main-content new-user p",
        dir: "auto",
        children: [
          (0, sa.jsx)(Ng, {}),
          (0, sa.jsx)("div", {
            className: "progress-bar",
            children: (0, sa.jsx)("div", { className: "progress progress-first" }),
          }),
          (0, sa.jsx)("h1", { children: (0, sa.jsx)(wl, { ...Pg }) }),
          (0, sa.jsxs)("div", {
            className: "flex f-space",
            children: [
              (0, sa.jsx)(wl, { id: "y1Z3or", defaultMessage: [{ type: 0, value: "Language" }] }),
              (0, sa.jsx)("select", {
                value: n.preferences.language || Mi.language,
                onChange: e => Jo(n, { ...n.preferences, language: e.target.value }),
                style: { textTransform: "capitalize" },
                children: Hy.sort().map(e =>
                  (0, sa.jsx)("option", { value: e, children: new Intl.DisplayNames([e], { type: "language" }).of(e) })
                ),
              }),
            ],
          }),
          (0, sa.jsx)("p", { children: (0, sa.jsx)(wl, { ..._g }) }),
          (0, sa.jsx)("h2", { children: (0, sa.jsx)(wl, { ...Tg }) }),
          (0, sa.jsx)(sd, { text: (0, Xo.jm)("npub", null !== (e = n.publicKey) && void 0 !== e ? e : "") }),
          (0, sa.jsx)("h2", { children: (0, sa.jsx)(wl, { ...Mg }) }),
          (0, sa.jsx)(sd, { text: Zo(null !== (t = n.generatedEntropy) && void 0 !== t ? t : "") }),
          (0, sa.jsx)("div", {
            className: "next-actions",
            children: (0, sa.jsxs)("button", {
              type: "button",
              onClick: () => r(Tv),
              children: [(0, sa.jsx)(wl, { ...Rg }), " "],
            }),
          }),
          (0, sa.jsx)(Sv, {}),
          (0, sa.jsx)(Av, {}),
          (0, sa.jsx)(Cv, {}),
        ],
      });
    }
    function Pv() {
      const t = ot(),
        n = aa().follows,
        { formatMessage: r } = yl(),
        [i, o] = (0, e.useState)(""),
        [a, s] = (0, e.useState)([]),
        [l, c] = (0, e.useState)(""),
        u = new kf(li),
        d = (0, e.useMemo)(() => a.map(e => (0, Xo.FX)(e)).sort(e => (n.item.includes(e) ? 1 : -1)), [a, n]);
      return (0, sa.jsxs)("div", {
        className: "main-content new-user",
        dir: "auto",
        children: [
          (0, sa.jsx)(Ng, {}),
          (0, sa.jsx)("div", {
            className: "progress-bar",
            children: (0, sa.jsx)("div", { className: "progress progress-last" }),
          }),
          (0, sa.jsx)("h1", { children: (0, sa.jsx)(wl, { ...Zg }) }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              ...Xg,
              values: {
                provider: (0, sa.jsx)("a", {
                  href: "https://nostr.directory",
                  target: "_blank",
                  rel: "noreferrer",
                  children: "nostr.directory",
                }),
              },
            }),
          }),
          (0, sa.jsx)("div", {
            className: "next-actions continue-actions",
            children: (0, sa.jsx)("button", {
              type: "button",
              onClick: () => t("/new/discover"),
              children: (0, sa.jsx)(wl, { ...rv }),
            }),
          }),
          (0, sa.jsx)("h2", { children: (0, sa.jsx)(wl, { ...Qg }) }),
          (0, sa.jsxs)("div", {
            className: "flex",
            children: [
              (0, sa.jsx)("input", {
                type: "text",
                placeholder: r(Yg),
                className: "f-grow mr10",
                value: i,
                onChange: e => o(e.target.value),
              }),
              (0, sa.jsx)(Gd, {
                type: "button",
                className: "secondary tall",
                onClick: async function () {
                  s([]), c("");
                  try {
                    const e = await u.twitterImport(i);
                    Array.isArray(e) && 0 === e.length ? c(r(ev, { twitterUsername: i })) : s(e);
                  } catch (e) {
                    console.warn(e), e instanceof Error ? c(e.message) : c(r(tv));
                  }
                },
                children: (0, sa.jsx)(wl, { ...nv }),
              }),
            ],
          }),
          l.length > 0 && (0, sa.jsx)("b", { className: "error", children: l }),
          (0, sa.jsx)("div", {
            dir: "ltr",
            children:
              d.length > 0 &&
              (0, sa.jsx)(ch, {
                title: (0, sa.jsx)("h2", { children: (0, sa.jsx)(wl, { ...Jg, values: { username: i } }) }),
                pubkeys: d,
              }),
          }),
        ],
      });
    }
    function _v() {
      const { formatMessage: t } = yl(),
        n = aa(),
        r = ot(),
        i = (0, e.useMemo)(() => mi.sort(() => (Math.random() >= 0.5 ? -1 : 1)).map(e => e.toLowerCase()), []);
      return (0, sa.jsxs)("div", {
        className: "main-content new-user p",
        dir: "auto",
        children: [
          (0, sa.jsx)(Ng, {}),
          (0, sa.jsx)("div", { className: "progress-bar", children: (0, sa.jsx)("div", { className: "progress" }) }),
          (0, sa.jsx)("h1", { children: (0, sa.jsx)(wl, { ...mv }) }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, { ...yv, values: { link: (0, sa.jsx)(Pt, { to: "/", children: t(gv) }) } }),
          }),
          (0, sa.jsx)("div", {
            className: "next-actions continue-actions",
            children: (0, sa.jsxs)("button", {
              type: "button",
              onClick: () =>
                (async function () {
                  var e;
                  ((e = n).generatedEntropy = void 0), oa.updateSession(e), r("/");
                })(),
              children: [(0, sa.jsx)(wl, { ...Gg }), " "],
            }),
          }),
          (0, sa.jsx)("h3", { children: (0, sa.jsx)(wl, { ...Vg }) }),
          i.length > 0 && (0, sa.jsx)(ch, { pubkeys: i, showAbout: !0 }),
          (0, sa.jsx)("h3", {
            children: (0, sa.jsx)(wl, { id: "FSYL8G", defaultMessage: [{ type: 0, value: "Trending Users" }] }),
          }),
          (0, sa.jsx)(Pm, {}),
        ],
      });
    }
    const Tv = "/new/profile",
      Mv = "/new/discover",
      Rv = [
        { path: "/new", element: (0, sa.jsx)(Nv, {}) },
        { path: Tv, element: (0, sa.jsx)(bv, {}) },
        { path: "/new/import", element: (0, sa.jsx)(Pv, {}) },
        { path: "/new/verify", element: (0, sa.jsx)(vv, {}) },
        { path: Mv, element: (0, sa.jsx)(_v, {}) },
      ];
    var Bv = a(1646);
    const Ov = [{ path: "/wallet", element: (0, sa.jsx)(Lv, {}) }];
    function Lv() {
      const t = ot(),
        { formatMessage: n } = yl(),
        [r, i] = (0, e.useState)(),
        [o, a] = (0, e.useState)(),
        [s, l] = (0, e.useState)(),
        [c, u] = (0, e.useState)(),
        [d, f] = (0, e.useState)(),
        h = (0, ld.Os)(),
        p = h.wallet;
      async function m(e) {
        try {
          const t = await e.getInfo();
          i(t);
          const n = await e.getBalance();
          a(n);
          const r = await e.getInvoices();
          l(r.sort((e, t) => t.timestamp - e.timestamp));
        } catch (e) {
          e instanceof Error
            ? f(e.message)
            : f(n({ id: "qDwvZ4", defaultMessage: [{ type: 0, value: "Unknown error" }] }));
        }
      }
      function y(e) {
        switch (e) {
          case ld.kd.Pending:
            return (0, sa.jsx)(_l, { name: "clock", className: "mr5", size: 15 });
          case ld.kd.Paid:
            return (0, sa.jsx)(_l, { name: "check", className: "mr5", size: 15 });
          case ld.kd.Expired:
            return (0, sa.jsx)(_l, { name: "close", className: "mr5", size: 15 });
        }
      }
      return (
        (0, e.useEffect)(() => {
          p &&
            (p.isReady()
              ? m(p).catch(console.warn)
              : p.canAutoLogin() &&
                p
                  .login()
                  .then(async () => await m(p))
                  .catch(console.warn));
        }, [p]),
        (0, sa.jsxs)("div", {
          className: "main-content p",
          children: [
            d && (0, sa.jsx)("b", { className: "error", children: d }),
            0 === h.configs.length
              ? (0, sa.jsx)("button", {
                  onClick: () => t("/settings/wallet"),
                  children: (0, sa.jsx)(wl, { id: "cg1VJ2", defaultMessage: [{ type: 0, value: "Connect Wallet" }] }),
                })
              : (0, sa.jsxs)("div", {
                  className: "flex w-max",
                  children: [
                    (0, sa.jsx)("h4", {
                      className: "f-1",
                      children: (0, sa.jsx)(wl, {
                        id: "G1BGCg",
                        defaultMessage: [{ type: 0, value: "Select Wallet" }],
                      }),
                    }),
                    (0, sa.jsx)("div", {
                      className: "f-1",
                      children: (0, sa.jsx)("select", {
                        className: "w-max",
                        onChange: e => ld.uo.switch(e.target.value),
                        value: null === (v = h.config) || void 0 === v ? void 0 : v.id,
                        children: ld.uo.list().map(e => (0, sa.jsx)("option", { value: e.id, children: e.info.alias })),
                      }),
                    }),
                  ],
                }),
            !p || p.isReady()
              ? null
              : (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (0, sa.jsx)("h3", {
                      children: (0, sa.jsx)(wl, {
                        id: "r5srDR",
                        defaultMessage: [{ type: 0, value: "Enter wallet password" }],
                      }),
                    }),
                    (0, sa.jsxs)("div", {
                      className: "flex w-max",
                      children: [
                        (0, sa.jsx)("div", {
                          className: "f-grow mr10",
                          children: (0, sa.jsx)("input", {
                            type: "password",
                            placeholder: n({ id: "MP54GY", defaultMessage: [{ type: 0, value: "Wallet password" }] }),
                            className: "w-max",
                            value: c,
                            onChange: e => u(e.target.value),
                          }),
                        }),
                        (0, sa.jsx)(Gd, {
                          onClick: () =>
                            (async function (e) {
                              p && (await p.login(e), await m(p), u(void 0));
                            })((0, Xo.Wg)(c)),
                          disabled: (null !== (g = null == c ? void 0 : c.length) && void 0 !== g ? g : 0) < 8,
                          children: (0, sa.jsx)(wl, { id: "xQtL3v", defaultMessage: [{ type: 0, value: "Unlock" }] }),
                        }),
                      ],
                    }),
                  ],
                }),
            null != p && p.isReady()
              ? (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (0, sa.jsxs)("div", {
                      className: "card",
                      children: [
                        (0, sa.jsx)("h3", { children: null == r ? void 0 : r.alias }),
                        p instanceof Bv.n
                          ? null
                          : (0, sa.jsx)("small", {
                              children: (0, sa.jsx)(wl, {
                                id: "VN0+Fz",
                                defaultMessage: [
                                  { type: 0, value: "Balance: " },
                                  { type: 1, value: "amount" },
                                  { type: 0, value: " sats" },
                                ],
                                values: { amount: (0, sa.jsx)(Cl, { value: null != o ? o : 0 }) },
                              }),
                            }),
                      ],
                    }),
                    p instanceof Bv.n
                      ? null
                      : (0, sa.jsxs)(sa.Fragment, {
                          children: [
                            (0, sa.jsx)("h3", {
                              children: (0, sa.jsx)(wl, {
                                id: "d6CyG5",
                                defaultMessage: [{ type: 0, value: "History" }],
                              }),
                            }),
                            null == s
                              ? void 0
                              : s.map(e => {
                                  var t;
                                  return (0, sa.jsxs)(
                                    "div",
                                    {
                                      className: "card flex wallet-history-item",
                                      children: [
                                        (0, sa.jsxs)("div", {
                                          className: "f-grow f-col",
                                          children: [
                                            (0, sa.jsx)(rh, {
                                              from: 1e3 * e.timestamp,
                                              fallback: n({
                                                id: "kaaf1E",
                                                defaultMessage: [{ type: 0, value: "now" }],
                                              }),
                                            }),
                                            (0, sa.jsx)("div", {
                                              children:
                                                0 === (null !== (t = e.memo) && void 0 !== t ? t : "").length
                                                  ? (0, sa.jsx)(sa.Fragment, { children: " " })
                                                  : e.memo,
                                            }),
                                          ],
                                        }),
                                        (0, sa.jsxs)("div", {
                                          className: `nowrap ${(() => {
                                            switch (e.state) {
                                              case ld.kd.Paid:
                                                return "success";
                                              case ld.kd.Expired:
                                                return "expired";
                                              case ld.kd.Failed:
                                                return "failed";
                                              default:
                                                return "pending";
                                            }
                                          })()}`,
                                          children: [
                                            y(e.state),
                                            (0, sa.jsx)(wl, {
                                              id: "vrTOHJ",
                                              defaultMessage: [
                                                { type: 1, value: "amount" },
                                                { type: 0, value: " sats" },
                                              ],
                                              values: { amount: (0, sa.jsx)(Cl, { value: e.amount / 1e3 }) },
                                            }),
                                          ],
                                        }),
                                      ],
                                    },
                                    e.timestamp
                                  );
                                }),
                          ],
                        }),
                  ],
                })
              : null,
          ],
        })
      );
      var g, v;
    }
    function Iv() {
      var t;
      const n = st(),
        r = ot(),
        [i, o] = (0, e.useState)(!0),
        a = decodeURIComponent(null !== (t = n["*"]) && void 0 !== t ? t : "").toLowerCase();
      return (
        (0, e.useEffect)(() => {
          a.length > 0 &&
            (async function (e) {
              const t = (0, Mt.tryParseNostrLink)(e);
              if (t)
                t.type === Mt.NostrPrefix.Event || t.type === Mt.NostrPrefix.Note || t.type === Mt.NostrPrefix.Address
                  ? r(`/e/${t.encode()}`)
                  : (t.type !== Mt.NostrPrefix.PublicKey && t.type !== Mt.NostrPrefix.Profile) || r(`/p/${t.encode()}`);
              else
                try {
                  const t = await Up(`${e}@snort.social`);
                  t && r((0, Xo._v)(t));
                } catch {}
              o(!1);
            })(a).catch(console.error);
        }, [a]),
        (0, sa.jsx)("div", {
          className: "flex f-center",
          children: i
            ? (0, sa.jsx)($d, { width: 50, height: 50 })
            : (0, sa.jsx)("b", {
                className: "error",
                children: (0, sa.jsx)(wl, { id: "oJ+JJN", defaultMessage: [{ type: 0, value: "Nothing found :/" }] }),
              }),
        })
      );
    }
    const Fv = e => {
      let { text: t, onClick: n } = e;
      const { formatMessage: r } = yl();
      return (0, sa.jsxs)("button", {
        className: "back-button",
        type: "button",
        onClick: () => {
          n && n();
        },
        children: [(0, sa.jsx)(_l, { name: "arrowBack" }), t || r(Fu.Back)],
      });
    };
    function Dv(e) {
      var t;
      const n = `note card ${null !== (t = e.className) && void 0 !== t ? t : ""}`;
      return (0, sa.jsxs)("div", {
        className: n,
        children: [
          (0, sa.jsx)("div", { className: "header", children: (0, sa.jsx)(Bl, { pubkey: "" }) }),
          (0, sa.jsx)("div", { className: "body", children: e.children }),
          (0, sa.jsx)("div", { className: "footer" }),
        ],
      });
    }
    const Uv = e => {
        let { variant: t = "regular" } = e;
        const n = "small" === t ? "divider divider-small" : "divider";
        return (0, sa.jsx)("div", { className: "divider-container", children: (0, sa.jsx)("div", { className: n }) });
      },
      zv = e => {
        let { active: t, notes: n, related: r, chains: i, onNavigate: o } = e;
        return (0, sa.jsx)("div", {
          className: "subthread",
          children: n.map((e, a) => {
            const s = a === n.length - 1,
              l = Vv(e.id, i);
            return (0, sa.jsxs)(sa.Fragment, {
              children: [
                (0, sa.jsxs)("div", {
                  className: "subthread-container " + (l.length > 0 ? "subthread-multi" : ""),
                  children: [
                    (0, sa.jsx)(Uv, {}),
                    (0, sa.jsx)(
                      hp,
                      {
                        highlight: t === e.id,
                        className: "thread-note " + (s && 0 === l.length ? "is-last-note" : ""),
                        data: e,
                        related: r,
                        onClick: o,
                      },
                      e.id
                    ),
                    (0, sa.jsx)("div", { className: "line-container" }),
                  ],
                }),
                l.length > 0 &&
                  (0, sa.jsx)(Kv, { active: t, isLastSubthread: s, notes: l, related: r, chains: i, onNavigate: o }),
              ],
            });
          }),
        });
      },
      Hv = t => {
        let { active: n, note: r, isLast: i, isLastSubthread: o, related: a, chains: s, onNavigate: l } = t;
        const { formatMessage: c } = yl(),
          u = Vv(r.id, s),
          d = u.map(e => e.id).includes(n),
          [f, h] = (0, e.useState)(!d),
          p = u.length > 1,
          m = o && i && !p,
          y = "subthread-container " + (i && f ? "subthread-last" : "subthread-multi subthread-mid");
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsxs)("div", {
              className: y,
              children: [
                (0, sa.jsx)(Uv, { variant: "small" }),
                (0, sa.jsx)(
                  hp,
                  {
                    highlight: n === r.id,
                    className: "thread-note " + (m ? "is-last-note" : ""),
                    data: r,
                    related: a,
                    onClick: l,
                  },
                  r.id
                ),
                (0, sa.jsx)("div", { className: "line-container" }),
              ],
            }),
            u.length > 0 &&
              (0, sa.jsx)(jv, {
                text: c(Fu.ShowReplies),
                collapsed: f,
                setCollapsed: h,
                children: (0, sa.jsx)(Wv, {
                  active: n,
                  isLastSubthread: o,
                  notes: u,
                  related: a,
                  chains: s,
                  onNavigate: l,
                }),
              }),
          ],
        });
      },
      Kv = e => {
        let { active: t, isLastSubthread: n, notes: r, related: i, chains: o, onNavigate: a } = e;
        const [s, ...l] = r;
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsx)(Hv, {
              active: t,
              onNavigate: a,
              note: s,
              chains: o,
              related: i,
              isLastSubthread: n,
              isLast: 0 === l.length,
            }),
            l.map((e, r) => {
              const s = r === l.length - 1;
              return (0, sa.jsx)(Hv, {
                active: t,
                onNavigate: a,
                note: e,
                chains: o,
                related: i,
                isLastSubthread: n,
                isLast: s,
              });
            }),
          ],
        });
      },
      Wv = e => {
        let { active: t, isLastSubthread: n, notes: r, related: i, chains: o, onNavigate: a } = e;
        const [s, ...l] = r,
          c = Vv(s.id, o),
          u = l.length > 0 || c.length > 0,
          d = 0 === c.length && 0 === l.length;
        return (0, sa.jsxs)(sa.Fragment, {
          children: [
            (0, sa.jsxs)("div", {
              className: `subthread-container ${u ? "subthread-multi" : ""} ${d ? "subthread-last" : "subthread-mid"}`,
              children: [
                (0, sa.jsx)(Uv, { variant: "small" }),
                (0, sa.jsx)(
                  hp,
                  {
                    highlight: t === s.id,
                    className: "thread-note " + (n && d ? "is-last-note" : ""),
                    data: s,
                    related: i,
                  },
                  s.id
                ),
                (0, sa.jsx)("div", { className: "line-container" }),
              ],
            }),
            c.length > 0 &&
              (0, sa.jsx)(Wv, { active: t, isLastSubthread: n, notes: c, related: i, chains: o, onNavigate: a }),
            l.map((e, r) => {
              const o = r === l.length - 1,
                s = n && o;
              return (0, sa.jsxs)(
                "div",
                {
                  className: `subthread-container ${o ? "" : "subthread-multi"} ${
                    o ? "subthread-last" : "subthread-mid"
                  }`,
                  children: [
                    (0, sa.jsx)(Uv, { variant: "small" }),
                    (0, sa.jsx)(
                      hp,
                      {
                        className: "thread-note " + (s ? "is-last-note" : ""),
                        highlight: t === e.id,
                        data: e,
                        related: i,
                        onClick: a,
                      },
                      e.id
                    ),
                    (0, sa.jsx)("div", { className: "line-container" }),
                  ],
                },
                e.id
              );
            }),
          ],
        });
      };
    function qv() {
      var t, n;
      const r = st(),
        i = it(),
        o = (0, Mt.parseNostrLink)(null !== (t = r.id) && void 0 !== t ? t : "", Mt.NostrPrefix.Note),
        a = (function (t) {
          const [n, r] = (0, e.useState)([]),
            [i, o] = (0, e.useState)([]),
            [a, s] = (0, e.useState)([]),
            l = aa().preferences,
            c = (0, e.useMemo)(() => {
              const e = new Mt.RequestBuilder(`thread:${t.id.substring(0, 8)}`);
              if ((e.withOptions({ leaveOpen: !0 }), n.length > 0))
                for (const t of n) {
                  const n = e.withFilter();
                  n.ids([t.id]), t.relay && n.relay(t.relay);
                }
              if (
                (a.length > 0 &&
                  e
                    .withFilter()
                    .kinds(
                      l.enableReactions
                        ? [Mt.EventKind.Reaction, Mt.EventKind.TextNote, Mt.EventKind.Repost, Mt.EventKind.ZapReceipt]
                        : [Mt.EventKind.TextNote, Mt.EventKind.ZapReceipt, Mt.EventKind.Repost]
                    )
                    .tag(
                      "e",
                      a.map(e => e.id)
                    ),
                i.length > 0)
              ) {
                const t = i.map(e => e.split(":"));
                e
                  .withFilter()
                  .kinds(t.map(e => Number(e[0])))
                  .authors(t.map(e => e[1]))
                  .tag(
                    "d",
                    t.map(e => e[2])
                  ),
                  e.withFilter().tag("a", i);
              }
              return e;
            }, [n, i, a, l]),
            u = (0, El.useRequestBuilder)(Mt.FlatNoteStore, c);
          return (
            (0, e.useEffect)(() => {
              if (t.type === Mt.NostrPrefix.Address) o([`${t.kind}:${t.author}:${t.id}`]);
              else {
                var e;
                const n = { id: t.id, relay: null === (e = t.relays) || void 0 === e ? void 0 : e[0] };
                r([n]), s([n]);
              }
            }, [t.id]),
            (0, e.useEffect)(() => {
              if (u.data) {
                var e, t;
                const n =
                    null !==
                      (e =
                        null === (t = u.data) || void 0 === t
                          ? void 0
                          : t.filter(e => e.kind === Mt.EventKind.TextNote || e.kind === Mt.EventKind.Polls)) &&
                    void 0 !== e
                      ? e
                      : [],
                  i = n.map(e => e.tags.filter(e => "e" === e[0]).map(e => ({ id: e[1], relay: e[2] }))).flat(),
                  a = i.filter(e => !n.some(t => t.id === e.id));
                r(e => (0, Xo.NP)(e, a)), s(e => (0, Xo.NP)(e, i));
                const l = n.map(e => e.tags.filter(e => "a" === e[0]).map(e => e[1])).flat();
                o(e => (0, Xo.NP)(e, l));
              }
            }, [u]),
            u
          );
        })(o),
        [s, l] = (0, e.useState)(o.id),
        c = ot(),
        u =
          1 ===
          (null === (n = a.data) || void 0 === n ? void 0 : n.filter(e => e.kind === Mt.EventKind.TextNote).length),
        { formatMessage: d } = yl();
      function f(e) {
        l(e.id);
      }
      const h = (0, e.useMemo)(() => {
          const e = new Map();
          var t;
          return (
            a.data &&
              (null === (t = a.data) ||
                void 0 === t ||
                t
                  .filter(e => e.kind === Mt.EventKind.TextNote)
                  .sort((e, t) => t.created_at - e.created_at)
                  .forEach(t => {
                    var n, r, i, o, s;
                    const l = Mt.EventExt.extractThread(t);
                    let c =
                      null !== (n = null == l || null === (r = l.replyTo) || void 0 === r ? void 0 : r.value) &&
                      void 0 !== n
                        ? n
                        : null == l || null === (i = l.root) || void 0 === i
                        ? void 0
                        : i.value;
                    if (
                      "a" === (null == l || null === (o = l.root) || void 0 === o ? void 0 : o.key) &&
                      null != l &&
                      null !== (s = l.root) &&
                      void 0 !== s &&
                      s.value
                    ) {
                      var u, d;
                      const e = l.root.value.split(":");
                      c =
                        null === (u = a.data) ||
                        void 0 === u ||
                        null ===
                          (d = u.find(
                            t => t.kind === Number(e[0]) && t.pubkey === e[1] && (0, Xo.MV)(t, "d") === e[2]
                          )) ||
                        void 0 === d
                          ? void 0
                          : d.id;
                    }
                    c && (e.has(c) ? (0, Xo.Wg)(e.get(c)).push(t) : e.set(c, [t]));
                  })),
            e
          );
        }, [a.data]),
        p = (0, e.useMemo)(() => {
          var e, t;
          const n =
            null !==
              (e =
                null === (t = a.data) || void 0 === t
                  ? void 0
                  : t.find(
                      e =>
                        e.id === s ||
                        (o.type === Mt.NostrPrefix.Address && (0, Xo.MV)(e, "d") === s && e.pubkey === o.author)
                    )) && void 0 !== e
              ? e
              : i.state && "sig" in i.state
              ? i.state
              : void 0;
          if (n) {
            var r, l;
            const e = Mt.EventExt.extractThread(n),
              t = e => void 0 === e;
            if (t(e)) return n;
            const i = null !== (r = null == e ? void 0 : e.replyTo) && void 0 !== r ? r : null == e ? void 0 : e.root;
            if (i) {
              if ("a" === i.key && i.value) {
                var c;
                const e = i.value.split(":");
                return null === (c = a.data) || void 0 === c
                  ? void 0
                  : c.find(t => t.kind === Number(e[0]) && t.pubkey === e[1] && (0, Xo.MV)(t, "d") === e[2]);
              }
              var u;
              if (i.value) return null === (u = a.data) || void 0 === u ? void 0 : u.find(e => e.id === i.value);
            }
            const o =
              null === (l = a.data) || void 0 === l
                ? void 0
                : l.filter(e => {
                    const n = Mt.EventExt.extractThread(e);
                    return t(n);
                  });
            if (o)
              for (const e of o) {
                var d;
                if ((null !== (d = h.get(e.id)) && void 0 !== d ? d : []).find(e => e.id === s)) return e;
              }
          }
        }, [a.data, s, i]),
        m = (0, e.useMemo)(() => {
          if (p) {
            var e, t, n, r, i, o;
            const a = Mt.EventExt.extractThread(p);
            return null !==
              (e =
                null !== (t = null == a || null === (n = a.replyTo) || void 0 === n ? void 0 : n.value) && void 0 !== t
                  ? t
                  : null == a || null === (r = a.root) || void 0 === r
                  ? void 0
                  : r.value) && void 0 !== e
              ? e
              : "a" === (null == a || null === (i = a.root) || void 0 === i ? void 0 : i.key) &&
                  (null === (o = a.root) || void 0 === o ? void 0 : o.value);
          }
        }, [p]),
        y = Array.from(null == h ? void 0 : h.keys()).filter(e => {
          var t;
          return !(null !== (t = a.data) && void 0 !== t && t.some(t => t.id === e));
        });
      function g(e) {
        if (!e || !h) return;
        const t = h.get(e);
        return t && s
          ? (0, sa.jsx)(zv, {
              active: s,
              notes: t,
              related: (0, Xo.wo)(
                a.data,
                t.map(e => e.id)
              ),
              chains: h,
              onNavigate: f,
            })
          : void 0;
      }
      const v = d({ id: "ADmfQT", defaultMessage: [{ type: 0, value: "Parent" }] }),
        w = d({ id: "jfV8Wr", defaultMessage: [{ type: 0, value: "Back" }] });
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("div", {
            className: "main-content p",
            children: (0, sa.jsx)(Fv, {
              onClick: function () {
                m ? l(m) : c(-1);
              },
              text: m ? v : w,
            }),
          }),
          (0, sa.jsxs)("div", {
            className: "main-content",
            children: [
              p &&
                (function (e) {
                  const t = "thread-root" + (u ? " thread-root-single" : "");
                  return e
                    ? (0, sa.jsx)(
                        hp,
                        {
                          className: t,
                          data: e,
                          related: (0, Xo.Ym)(a.data, e.id),
                          options: { showReactionsLink: !0 },
                          onClick: f,
                        },
                        e.id
                      )
                    : (0, sa.jsxs)(Dv, {
                        className: t,
                        children: [
                          "Loading thread root.. (",
                          null === (n = a.data) || void 0 === n ? void 0 : n.length,
                          " notes loaded)",
                        ],
                      });
                  var n;
                })(p),
              p && g(p.id),
              y.length > 0 && (0, sa.jsx)("h3", { children: "Other replies" }),
              y.map(e =>
                (0, sa.jsxs)("div", {
                  className: "mb10",
                  children: [
                    (0, sa.jsxs)(
                      Dv,
                      {
                        className: "thread-note thread-root ghost-root",
                        children: [
                          "Missing event ",
                          (0, sa.jsx)(Pt, { to: (0, Xo.sC)(e), children: e.substring(0, 8) }),
                        ],
                      },
                      e
                    ),
                    g(e),
                  ],
                })
              ),
            ],
          }),
        ],
      });
    }
    function Vv(e, t) {
      if (!e || !t) return [];
      return t.get(e) || [];
    }
    const $v = [
      { name: "nostr.band", owner: (0, Xo.FX)("npub1sx9rnd03vs34lp39fvfv5krwlnxpl90f3dzuk8y3cuwutk2gdhdqjz6g8m") },
      { name: "semisol.dev", owner: (0, Xo.FX)("npub12262qa4uhw7u8gdwlgmntqtv7aye8vdcmvszkqwgs0zchel6mz7s6cgrkj") },
      { name: "nostr.watch", owner: (0, Xo.FX)("npub1uac67zc9er54ln0kl6e4qp2y6ta3enfcg7ywnayshvlw9r5w6ehsqq99rx") },
      { name: "nostr.directory", owner: (0, Xo.FX)("npub1teawtzxh6y02cnp9jphxm2q8u6xxfx85nguwg6ftuksgjctvavvqnsgq5u") },
    ];
    function Gv(e) {
      let { target: t } = e;
      const n = aa(),
        r = (0, El.useUserProfile)(t.pubkey),
        i = (null == r ? void 0 : r.lud16) || (null == r ? void 0 : r.lud06),
        o = Math.ceil(n.preferences.defaultZapAmount * (t.split / 100));
      return (0, sa.jsx)(lh, {
        pubkey: t.pubkey,
        actions: i
          ? (0, sa.jsxs)("div", {
              children: [
                (0, sa.jsxs)("div", {
                  children: [
                    (0, sa.jsx)(Cl, { value: t.split }),
                    "% (",
                    (0, sa.jsx)(wl, {
                      id: "CsCUYo",
                      defaultMessage: [
                        { type: 1, value: "n" },
                        { type: 0, value: " sats" },
                      ],
                      values: { n: o },
                    }),
                    ")",
                  ],
                }),
                (0, sa.jsx)("input", {
                  type: "range",
                  min: 0,
                  max: 100,
                  value: t.split,
                  onChange: e => Vd.set({ ...t, split: e.target.valueAsNumber }),
                }),
              ],
            })
          : (0, sa.jsx)(wl, { id: "JPFYIM", defaultMessage: [{ type: 0, value: "No lightning address" }] }),
      });
    }
    function Zv() {
      var t;
      const n = aa(),
        r = (0, e.useSyncExternalStore)(
          e => Vd.hook(e),
          () => Vd.snapshot()
        ),
        { wallet: i } = (0, ld.Os)(),
        o = (0, e.useMemo)(
          () =>
            ew.Sockets.map(e => {
              var t;
              if (null !== (t = e.info) && void 0 !== t && t.pubkey && !e.ephemeral)
                return { address: e.address, pubkey: e.info.pubkey };
            })
              .filter(e => void 0 !== e)
              .map(Xo.Wg),
          [n.relays]
        ),
        a = r.reduce((e, t) => e + t.sum, 0);
      return (0, sa.jsxs)("div", {
        className: "zap-pool main-content p",
        children: [
          (0, sa.jsx)("h1", {
            children: (0, sa.jsx)(wl, { id: "i/dBAR", defaultMessage: [{ type: 0, value: "Zap Pool" }] }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "x/Fx2P",
              defaultMessage: [
                {
                  type: 0,
                  value: "Fund the services that you use by splitting a portion of all your zaps into a pool of funds!",
                },
              ],
            }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "QWhotP",
              defaultMessage: [
                {
                  type: 0,
                  value:
                    "Zap Pool only works if you use one of the supported wallet connections (WebLN, LNC, LNDHub or Nostr Wallet Connect)",
                },
              ],
            }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "Xopqkl",
              defaultMessage: [
                { type: 0, value: "Your default zap amount is " },
                { type: 1, value: "number" },
                { type: 0, value: " sats, example values are calculated from this." },
              ],
              values: {
                number: (0, sa.jsx)("b", { children: (0, sa.jsx)(Cl, { value: n.preferences.defaultZapAmount }) }),
              },
            }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "eSzf2G",
              defaultMessage: [
                { type: 0, value: "A single zap of " },
                { type: 1, value: "nIn" },
                { type: 0, value: " sats will allocate " },
                { type: 1, value: "nOut" },
                { type: 0, value: " sats to the zap pool." },
              ],
              values: {
                nIn: (0, sa.jsx)("b", { children: (0, sa.jsx)(Cl, { value: n.preferences.defaultZapAmount }) }),
                nOut: (0, sa.jsx)("b", {
                  children: (0, sa.jsx)(Cl, { value: Vd.calcAllocation(n.preferences.defaultZapAmount) }),
                }),
              },
            }),
          }),
          (0, sa.jsx)("p", {
            children: (0, sa.jsx)(wl, {
              id: "Qxv0B2",
              defaultMessage: [
                { type: 0, value: "You currently have " },
                { type: 1, value: "number" },
                { type: 0, value: " sats in your zap pool." },
              ],
              values: { number: (0, sa.jsx)("b", { children: (0, sa.jsx)(Cl, { value: a }) }) },
            }),
          }),
          (0, sa.jsx)("p", {
            children:
              i &&
              (0, sa.jsx)(Gd, {
                onClick: () => Vd.payout(i),
                children: (0, sa.jsx)(wl, { id: "+PzQ9Y", defaultMessage: [{ type: 0, value: "Payout Now" }] }),
              }),
          }),
          (0, sa.jsx)("div", {
            children: (0, sa.jsx)(Gv, {
              target:
                null !== (t = r.find(e => e.pubkey === (0, Xo.FX)(fi) && e.type === Rd.Generic)) && void 0 !== t
                  ? t
                  : { type: Rd.Generic, pubkey: (0, Xo.FX)(fi), split: 0, sum: 0 },
            }),
          }),
          (0, sa.jsx)("h3", {
            children: (0, sa.jsx)(wl, { id: "RoOyAh", defaultMessage: [{ type: 0, value: "Relays" }] }),
          }),
          o.map(e => {
            var t;
            return (0, sa.jsxs)("div", {
              children: [
                (0, sa.jsx)("h4", { children: (0, Xo.Os)(e.address) }),
                (0, sa.jsx)(Gv, {
                  target:
                    null !== (t = r.find(t => t.pubkey === e.pubkey && t.type === Rd.Relay)) && void 0 !== t
                      ? t
                      : { type: Rd.Relay, pubkey: e.pubkey, split: 0, sum: 0 },
                }),
              ],
            });
          }),
          (0, sa.jsx)("h3", {
            children: (0, sa.jsx)(wl, { id: "XICsE8", defaultMessage: [{ type: 0, value: "File hosts" }] }),
          }),
          Vu.map(e => {
            var t;
            return (0, sa.jsxs)("div", {
              children: [
                (0, sa.jsx)("h4", { children: e.name }),
                (0, sa.jsx)(Gv, {
                  target:
                    null !== (t = r.find(t => t.pubkey === e.owner && t.type === Rd.FileHost)) && void 0 !== t
                      ? t
                      : { type: Rd.FileHost, pubkey: e.owner, split: 0, sum: 0 },
                }),
              ],
            });
          }),
          (0, sa.jsx)("h3", {
            children: (0, sa.jsx)(wl, { id: "ELbg9p", defaultMessage: [{ type: 0, value: "Data Providers" }] }),
          }),
          $v.map(e => {
            var t;
            return (0, sa.jsxs)("div", {
              children: [
                (0, sa.jsx)("h4", { children: e.name }),
                (0, sa.jsx)(Gv, {
                  target:
                    null !== (t = r.find(t => t.pubkey === e.owner && t.type === Rd.DataProvider)) && void 0 !== t
                      ? t
                      : { type: Rd.DataProvider, pubkey: e.owner, split: 0, sum: 0 },
                }),
              ],
            });
          }),
        ],
      });
    }
    function Yv(e) {
      let { id: t } = e;
      const n = Dy(t);
      return (0, sa.jsx)(
        "div",
        {
          children:
            null != n && n.connected ? (0, sa.jsx)(sa.Fragment, { children: t }) : (0, sa.jsx)("s", { children: t }),
        },
        t
      );
    }
    function Xv() {
      const e = (0, El.useSystemState)(ew),
        { copy: t } = ad();
      function n(e) {
        let t = 0;
        for (const n of e) for (const e of Object.values(n)) Array.isArray(e) && (t += e.length);
        return t;
      }
      return (0, sa.jsxs)(sa.Fragment, {
        children: [
          (0, sa.jsx)("b", { children: "Queries" }),
          null == e
            ? void 0
            : e.queries.map(e =>
                (function (e) {
                  return (0, sa.jsxs)(
                    "div",
                    {
                      children: [
                        e.id,
                        (0, sa.jsx)("br", {}),
                        (0, sa.jsxs)("span", {
                          onClick: () => t(JSON.stringify(e.filters)),
                          className: "pointer",
                          children: ["  Filters: ", e.filters.length, " (", n(e.filters), " elements)"],
                        }),
                        (0, sa.jsx)("br", {}),
                        (0, sa.jsxs)("span", {
                          onClick: () => t(JSON.stringify(e.subFilters)),
                          className: "pointer",
                          children: ["  SubQueries: ", e.subFilters.length, " (", n(e.subFilters), " elements)"],
                        }),
                      ],
                    },
                    e.id
                  );
                })(e)
              ),
        ],
      });
    }
    const Qv = () => {
      const [t, n] = (0, e.useState)(0),
        r = [
          { text: "Connections", value: 0 },
          { text: "Queries", value: 1 },
        ];
      return (0, sa.jsxs)("div", {
        className: "sub-debug",
        children: [
          (0, sa.jsx)(sp, { tabs: r, setTab: e => n(e.value), tab: (0, Xo.Wg)(r.find(e => e.value === t)) }),
          (() => {
            switch (t) {
              case 0:
                return (0, sa.jsxs)(sa.Fragment, {
                  children: [
                    (0, sa.jsx)("b", { children: "Connections:" }),
                    ew.Sockets.map(e => (0, sa.jsx)(Yv, { id: e.address })),
                  ],
                });
              case 1:
                return (0, sa.jsx)(Xv, {});
              default:
                return null;
            }
          })(),
        ],
      });
    };
    function Jv() {
      return (0, sa.jsx)(sa.Fragment, { children: (0, sa.jsx)(Qv, {}) });
    }
    const ew = new Mt.NostrSystem({
        relayCache: Gl,
        profileCache: $l,
        relayMetrics: Zl,
        authHandler: async (e, t) => {
          const { publicKey: n, privateKey: r } = oa.snapshot();
          if (r) {
            const n = Mt.EventPublisher.privateKey(r);
            return await n.nip42Auth(e, t);
          }
          if (n) {
            const r = new Mt.EventPublisher(new Mt.Nip7Signer(), n);
            return await r.nip42Auth(e, t);
          }
        },
      }),
      tw = (new Mt.ProfileLoaderService(ew, $l), new Mt.PowWorker("/pow.js"));
    (window.__webpack_nonce__ = "ZmlhdGphZiBzYWlkIHNub3J0LnNvY2lhbCBpcyBwcmV0dHkgZ29vZCwgd2UgbWFkZSBpdCE="),
      "serviceWorker" in navigator &&
        window.addEventListener("load", () => {
          !(async function (e) {
            try {
              const e = await navigator.serviceWorker.register("/service-worker.js");
              e.onupdatefound = () => {
                const t = e.installing;
                null != t &&
                  (t.onstatechange = () => {
                    "installed" === t.state &&
                      (navigator.serviceWorker.controller
                        ? console.log("Service worker updated, pending reload")
                        : console.log("Content is cached for offline use."));
                  });
              };
            } catch (e) {
              console.error("Error during service worker registration:", e);
            }
          })();
        });
    const nw =
      ((rw = [
        {
          element: (0, sa.jsx)(Op, {}),
          errorElement: (0, sa.jsx)(dg, {}),
          loader: async () => {
            const e = oa.takeSnapshot();
            (Dl.ready = await Dl.isAvailable()),
              Dl.ready &&
                (await (async function (e) {
                  const t = [
                    $l.preload(e),
                    Yl.preload(),
                    Xl.preload(),
                    Gl.preload(e),
                    Zl.preload(),
                    Ql.preload(),
                    Jl.preload(),
                  ];
                  await Promise.all(t);
                })(e.follows.item));
            for (const [t, n] of Object.entries(e.relays.item)) ew.ConnectToRelay(t, n);
            try {
              "registerProtocolHandler" in window.navigator &&
                (window.navigator.registerProtocolHandler(
                  "web+nostr",
                  `${window.location.protocol}//${window.location.host}/%s`
                ),
                console.info("Registered protocol handler for 'web+nostr'"));
            } catch (e) {
              console.error("Failed to register protocol handler", e);
            }
            return null;
          },
          children: [
            ...Km,
            { path: "/login", element: (0, sa.jsx)(zp, {}) },
            { path: "/help", element: (0, sa.jsx)(Cg, {}) },
            { path: "/e/:id", element: (0, sa.jsx)(qv, {}) },
            { path: "/p/:id", element: (0, sa.jsx)(fm, {}) },
            { path: "/notifications", element: (0, sa.jsx)(qm, {}) },
            { path: "/settings", element: (0, sa.jsx)(cg, {}), children: ug },
            { path: "/nostr-address", element: (0, sa.jsx)(Cp, {}) },
            { path: "/messages/:id?", element: (0, sa.jsx)(wg, {}) },
            { path: "/donate", element: (0, sa.jsx)(Sg, {}) },
            { path: "/search/:keyword?", element: (0, sa.jsx)(Ag, {}) },
            { path: "/zap-pool", element: (0, sa.jsx)(Zv, {}) },
            ...Rv,
            ...Ov,
            ...Bp,
            { path: "/debug", element: (0, sa.jsx)(Jv, {}) },
            { path: "/*", element: (0, sa.jsx)(Iv, {}) },
          ],
        },
      ]),
      (function (e) {
        N(e.routes.length > 0, "You must provide a non-empty routes array to createRouter");
        let t,
          n = e.detectErrorBoundary || be,
          r = {},
          i = L(e.routes, n, void 0, r),
          o = A({ v7_normalizeFormMethod: !1 }, e.future),
          a = null,
          s = new Set(),
          l = null,
          c = null,
          u = null,
          d = null != e.hydrationData,
          f = I(i, e.history.location, e.basename),
          h = null;
        if (null == f) {
          let t = Re(404, { pathname: e.history.location.pathname }),
            { matches: n, route: r } = Me(i);
          (f = n), (h = { [r.id]: t });
        }
        let p,
          m,
          y = !(f.some(e => e.route.lazy) || (f.some(e => e.route.loader) && null == e.hydrationData)),
          g = {
            historyAction: e.history.action,
            location: e.history.location,
            matches: f,
            initialized: y,
            navigation: pe,
            restoreScrollPosition: null == e.hydrationData && null,
            preventScrollReset: !1,
            revalidation: "idle",
            loaderData: (e.hydrationData && e.hydrationData.loaderData) || {},
            actionData: (e.hydrationData && e.hydrationData.actionData) || null,
            errors: (e.hydrationData && e.hydrationData.errors) || h,
            fetchers: new Map(),
            blockers: new Map(),
          },
          v = S.Pop,
          w = !1,
          b = !1,
          x = !1,
          E = [],
          k = [],
          j = new Map(),
          C = 0,
          _ = -1,
          M = new Map(),
          R = new Set(),
          O = new Map(),
          F = new Map(),
          D = new Map(),
          U = !1;
        function z(e) {
          (g = A({}, g, e)), s.forEach(e => e(g));
        }
        function H(n, r) {
          var o, a;
          let s,
            l =
              null != g.actionData &&
              null != g.navigation.formMethod &&
              De(g.navigation.formMethod) &&
              "loading" === g.navigation.state &&
              !0 !== (null == (o = n.state) ? void 0 : o._isRedirect);
          s = r.actionData ? (Object.keys(r.actionData).length > 0 ? r.actionData : null) : l ? g.actionData : null;
          let c = r.loaderData ? _e(g.loaderData, r.loaderData, r.matches || [], r.errors) : g.loaderData;
          for (let [e] of D) ee(e);
          let u =
            !0 === w ||
            (null != g.navigation.formMethod &&
              De(g.navigation.formMethod) &&
              !0 !== (null == (a = n.state) ? void 0 : a._isRedirect));
          t && ((i = t), (t = void 0)),
            z(
              A({}, r, {
                actionData: s,
                loaderData: c,
                historyAction: v,
                location: n,
                initialized: !0,
                navigation: pe,
                revalidation: "idle",
                restoreScrollPosition: ie(n, r.matches || g.matches),
                preventScrollReset: u,
                blockers: new Map(g.blockers),
              })
            ),
            b ||
              v === S.Pop ||
              (v === S.Push ? e.history.push(n, n.state) : v === S.Replace && e.history.replace(n, n.state)),
            (v = S.Pop),
            (w = !1),
            (b = !1),
            (x = !1),
            (E = []),
            (k = []);
        }
        async function K(o, a, s) {
          m && m.abort(),
            (m = null),
            (v = o),
            (b = !0 === (s && s.startUninterruptedRevalidation)),
            (function (e, t) {
              if (l && c && u) {
                let n = t.map(e => Ke(e, g.loaderData)),
                  r = c(e, n) || e.key;
                l[r] = u();
              }
            })(g.location, g.matches),
            (w = !0 === (s && s.preventScrollReset));
          let d = t || i,
            f = s && s.overrideNavigation,
            h = I(d, a, e.basename);
          if (!h) {
            let e = Re(404, { pathname: a.pathname }),
              { matches: t, route: n } = Me(d);
            return re(), void H(a, { matches: t, loaderData: {}, errors: { [n.id]: e } });
          }
          if (
            (function (e, t) {
              return e.pathname === t.pathname && e.search === t.search && e.hash !== t.hash;
            })(g.location, a) &&
            !(s && s.submission && De(s.submission.formMethod))
          )
            return void H(a, { matches: h });
          m = new AbortController();
          let y,
            P,
            T = Ce(e.history, a, m.signal, s && s.submission);
          if (s && s.pendingError) P = { [Te(h).route.id]: s.pendingError };
          else if (s && s.submission && De(s.submission.formMethod)) {
            let e = await (async function (e, t, i, o, a) {
              let s;
              $(), z({ navigation: A({ state: "submitting", location: t }, i) });
              let l = We(o, t);
              if (l.route.action || l.route.lazy) {
                if (((s = await Ae("action", e, l, o, r, n, p.basename)), e.signal.aborted))
                  return { shortCircuited: !0 };
              } else
                s = { type: B.error, error: Re(405, { method: e.method, pathname: t.pathname, routeId: l.route.id }) };
              if (Fe(s)) {
                let e;
                return (
                  (e = a && null != a.replace ? a.replace : s.location === g.location.pathname + g.location.search),
                  await q(g, s, { submission: i, replace: e }),
                  { shortCircuited: !0 }
                );
              }
              if (Ie(s)) {
                let e = Te(o, l.route.id);
                return (
                  !0 !== (a && a.replace) && (v = S.Push),
                  { pendingActionData: {}, pendingActionError: { [e.route.id]: s.error } }
                );
              }
              if (Le(s)) throw Re(400, { type: "defer-action" });
              return { pendingActionData: { [l.route.id]: s.data } };
            })(T, a, s.submission, h, { replace: s.replace });
            if (e.shortCircuited) return;
            (y = e.pendingActionData),
              (P = e.pendingActionError),
              (f = A({ state: "loading", location: a }, s.submission)),
              (T = new Request(T.url, { signal: T.signal }));
          }
          let {
            shortCircuited: M,
            loaderData: L,
            errors: D,
          } = await (async function (n, r, o, a, s, l, c, u, d) {
            let f = a;
            f ||
              (f = A(
                {
                  state: "loading",
                  location: r,
                  formMethod: void 0,
                  formAction: void 0,
                  formEncType: void 0,
                  formData: void 0,
                },
                s
              ));
            let h =
                s || l
                  ? s || l
                  : f.formMethod && f.formAction && f.formData && f.formEncType
                  ? {
                      formMethod: f.formMethod,
                      formAction: f.formAction,
                      formData: f.formData,
                      formEncType: f.formEncType,
                    }
                  : void 0,
              p = t || i,
              [y, v] = Ee(e.history, g, o, h, r, x, E, k, O, p, e.basename, u, d);
            if (
              (re(e => !(o && o.some(t => t.route.id === e)) || (y && y.some(t => t.route.id === e))),
              0 === y.length && 0 === v.length)
            )
              return (
                H(r, A({ matches: o, loaderData: {}, errors: d || null }, u ? { actionData: u } : {})),
                { shortCircuited: !0 }
              );
            if (!b) {
              v.forEach(e => {
                let t = g.fetchers.get(e.key),
                  n = {
                    state: "loading",
                    data: t && t.data,
                    formMethod: void 0,
                    formAction: void 0,
                    formEncType: void 0,
                    formData: void 0,
                    " _hasFetcherDoneAnything ": !0,
                  };
                g.fetchers.set(e.key, n);
              });
              let e = u || g.actionData;
              z(
                A(
                  { navigation: f },
                  e ? (0 === Object.keys(e).length ? { actionData: null } : { actionData: e }) : {},
                  v.length > 0 ? { fetchers: new Map(g.fetchers) } : {}
                )
              );
            }
            (_ = ++C), v.forEach(e => j.set(e.key, m));
            let { results: w, loaderResults: S, fetcherResults: P } = await V(g.matches, o, y, v, n);
            if (n.signal.aborted) return { shortCircuited: !0 };
            v.forEach(e => j.delete(e.key));
            let T = Be(w);
            if (T) return await q(g, T, { replace: c }), { shortCircuited: !0 };
            let { loaderData: M, errors: B } = Pe(g, o, y, S, d, v, P, F);
            return (
              F.forEach((e, t) => {
                e.subscribe(n => {
                  (n || e.done) && F.delete(t);
                });
              }),
              (function () {
                let e = [];
                for (let t of R) {
                  let n = g.fetchers.get(t);
                  N(n, "Expected fetcher: " + t), "loading" === n.state && (R.delete(t), e.push(t));
                }
                Q(e);
              })(),
              A({ loaderData: M, errors: B }, J(_) || v.length > 0 ? { fetchers: new Map(g.fetchers) } : {})
            );
          })(T, a, h, f, s && s.submission, s && s.fetcherSubmission, s && s.replace, y, P);
          M || ((m = null), H(a, A({ matches: h }, y ? { actionData: y } : {}, { loaderData: L, errors: D })));
        }
        function W(e) {
          return g.fetchers.get(e) || me;
        }
        async function q(t, n, r) {
          var i;
          let { submission: o, replace: a, isFetchActionRedirect: s } = void 0 === r ? {} : r;
          n.revalidate && (x = !0);
          let l = T(t.location, n.location, A({ _isRedirect: !0 }, s ? { _isFetchActionRedirect: !0 } : {}));
          if (
            (N(l, "Expected a location on the redirect navigation"),
            ge.test(n.location) && ve && void 0 !== (null == (i = window) ? void 0 : i.location))
          ) {
            let t = e.history.createURL(n.location),
              r = null == X(t.pathname, e.basename || "/");
            if (window.location.origin !== t.origin || r)
              return void (a ? window.location.replace(n.location) : window.location.assign(n.location));
          }
          m = null;
          let c = !0 === a ? S.Replace : S.Push,
            { formMethod: u, formAction: d, formEncType: f, formData: h } = t.navigation;
          !o && u && d && h && f && (o = { formMethod: u, formAction: d, formEncType: f, formData: h }),
            he.has(n.status) && o && De(o.formMethod)
              ? await K(c, l, { submission: A({}, o, { formAction: n.location }), preventScrollReset: w })
              : s
              ? await K(c, l, {
                  overrideNavigation: {
                    state: "loading",
                    location: l,
                    formMethod: void 0,
                    formAction: void 0,
                    formEncType: void 0,
                    formData: void 0,
                  },
                  fetcherSubmission: o,
                  preventScrollReset: w,
                })
              : await K(c, l, {
                  overrideNavigation: {
                    state: "loading",
                    location: l,
                    formMethod: o ? o.formMethod : void 0,
                    formAction: o ? o.formAction : void 0,
                    formEncType: o ? o.formEncType : void 0,
                    formData: o ? o.formData : void 0,
                  },
                  preventScrollReset: w,
                });
        }
        async function V(t, i, o, a, s) {
          let l = await Promise.all([
              ...o.map(e => Ae("loader", s, e, i, r, n, p.basename)),
              ...a.map(t =>
                t.matches && t.match
                  ? Ae("loader", Ce(e.history, t.path, s.signal), t.match, t.matches, r, n, p.basename)
                  : { type: B.error, error: Re(404, { pathname: t.path }) }
              ),
            ]),
            c = l.slice(0, o.length),
            u = l.slice(o.length);
          return (
            await Promise.all([
              Ue(t, o, c, s.signal, !1, g.loaderData),
              Ue(
                t,
                a.map(e => e.match),
                u,
                s.signal,
                !0
              ),
            ]),
            { results: l, loaderResults: c, fetcherResults: u }
          );
        }
        function $() {
          (x = !0),
            E.push(...re()),
            O.forEach((e, t) => {
              j.has(t) && (k.push(t), Y(t));
            });
        }
        function G(e, t, n) {
          let r = Te(g.matches, t);
          Z(e), z({ errors: { [r.route.id]: n }, fetchers: new Map(g.fetchers) });
        }
        function Z(e) {
          j.has(e) && Y(e), O.delete(e), M.delete(e), R.delete(e), g.fetchers.delete(e);
        }
        function Y(e) {
          let t = j.get(e);
          N(t, "Expected fetch controller: " + e), t.abort(), j.delete(e);
        }
        function Q(e) {
          for (let t of e) {
            let e = {
              state: "idle",
              data: W(t).data,
              formMethod: void 0,
              formAction: void 0,
              formEncType: void 0,
              formData: void 0,
              " _hasFetcherDoneAnything ": !0,
            };
            g.fetchers.set(t, e);
          }
        }
        function J(e) {
          let t = [];
          for (let [n, r] of M)
            if (r < e) {
              let e = g.fetchers.get(n);
              N(e, "Expected fetcher: " + n), "loading" === e.state && (Y(n), M.delete(n), t.push(n));
            }
          return Q(t), t.length > 0;
        }
        function ee(e) {
          g.blockers.delete(e), D.delete(e);
        }
        function te(e, t) {
          let n = g.blockers.get(e) || ye;
          N(
            ("unblocked" === n.state && "blocked" === t.state) ||
              ("blocked" === n.state && "blocked" === t.state) ||
              ("blocked" === n.state && "proceeding" === t.state) ||
              ("blocked" === n.state && "unblocked" === t.state) ||
              ("proceeding" === n.state && "unblocked" === t.state),
            "Invalid blocker state transition: " + n.state + " -> " + t.state
          ),
            g.blockers.set(e, t),
            z({ blockers: new Map(g.blockers) });
        }
        function ne(e) {
          let { currentLocation: t, nextLocation: n, historyAction: r } = e;
          if (0 === D.size) return;
          D.size > 1 && P(!1, "A router only supports one blocker at a time");
          let i = Array.from(D.entries()),
            [o, a] = i[i.length - 1],
            s = g.blockers.get(o);
          return s && "proceeding" === s.state
            ? void 0
            : a({ currentLocation: t, nextLocation: n, historyAction: r })
            ? o
            : void 0;
        }
        function re(e) {
          let t = [];
          return (
            F.forEach((n, r) => {
              (e && !e(r)) || (n.cancel(), t.push(r), F.delete(r));
            }),
            t
          );
        }
        function ie(e, t) {
          if (l && c && u) {
            let n = t.map(e => Ke(e, g.loaderData)),
              r = c(e, n) || e.key,
              i = l[r];
            if ("number" == typeof i) return i;
          }
          return null;
        }
        return (
          (p = {
            get basename() {
              return e.basename;
            },
            get state() {
              return g;
            },
            get routes() {
              return i;
            },
            initialize: function () {
              return (
                (a = e.history.listen(t => {
                  let { action: n, location: r, delta: i } = t;
                  if (U) return void (U = !1);
                  P(
                    0 === D.size || null != i,
                    "You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL."
                  );
                  let o = ne({ currentLocation: g.location, nextLocation: r, historyAction: n });
                  return o && null != i
                    ? ((U = !0),
                      e.history.go(-1 * i),
                      void te(o, {
                        state: "blocked",
                        location: r,
                        proceed() {
                          te(o, { state: "proceeding", proceed: void 0, reset: void 0, location: r }), e.history.go(i);
                        },
                        reset() {
                          ee(o), z({ blockers: new Map(p.state.blockers) });
                        },
                      }))
                    : K(n, r);
                })),
                g.initialized || K(S.Pop, g.location),
                p
              );
            },
            subscribe: function (e) {
              return s.add(e), () => s.delete(e);
            },
            enableScrollRestoration: function (e, t, n) {
              if (((l = e), (u = t), (c = n || (e => e.key)), !d && g.navigation === pe)) {
                d = !0;
                let e = ie(g.location, g.matches);
                null != e && z({ restoreScrollPosition: e });
              }
              return () => {
                (l = null), (u = null), (c = null);
              };
            },
            navigate: async function t(n, r) {
              if ("number" == typeof n) return void e.history.go(n);
              let { path: i, submission: a, error: s } = xe(n, o, r),
                l = g.location,
                c = T(g.location, i, r && r.state);
              c = A({}, c, e.history.encodeLocation(c));
              let u = r && null != r.replace ? r.replace : void 0,
                d = S.Push;
              !0 === u
                ? (d = S.Replace)
                : !1 === u ||
                  (null != a &&
                    De(a.formMethod) &&
                    a.formAction === g.location.pathname + g.location.search &&
                    (d = S.Replace));
              let f = r && "preventScrollReset" in r ? !0 === r.preventScrollReset : void 0,
                h = ne({ currentLocation: l, nextLocation: c, historyAction: d });
              if (!h)
                return await K(d, c, {
                  submission: a,
                  pendingError: s,
                  preventScrollReset: f,
                  replace: r && r.replace,
                });
              te(h, {
                state: "blocked",
                location: c,
                proceed() {
                  te(h, { state: "proceeding", proceed: void 0, reset: void 0, location: c }), t(n, r);
                },
                reset() {
                  ee(h), z({ blockers: new Map(g.blockers) });
                },
              });
            },
            fetch: function (a, s, l, c) {
              if (we)
                throw new Error(
                  "router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback."
                );
              j.has(a) && Y(a);
              let u = I(t || i, l, e.basename);
              if (!u) return void G(a, s, Re(404, { pathname: l }));
              let { path: d, submission: f } = xe(l, o, c, !0),
                h = We(u, d);
              (w = !0 === (c && c.preventScrollReset)),
                f && De(f.formMethod)
                  ? (async function (o, a, s, l, c, u) {
                      if (($(), O.delete(o), !l.route.action && !l.route.lazy)) {
                        let e = Re(405, { method: u.formMethod, pathname: s, routeId: a });
                        return void G(o, a, e);
                      }
                      let d = g.fetchers.get(o),
                        f = A({ state: "submitting" }, u, { data: d && d.data, " _hasFetcherDoneAnything ": !0 });
                      g.fetchers.set(o, f), z({ fetchers: new Map(g.fetchers) });
                      let h = new AbortController(),
                        y = Ce(e.history, s, h.signal, u);
                      j.set(o, h);
                      let w = await Ae("action", y, l, c, r, n, p.basename);
                      if (y.signal.aborted) return void (j.get(o) === h && j.delete(o));
                      if (Fe(w)) {
                        j.delete(o), R.add(o);
                        let e = A({ state: "loading" }, u, { data: void 0, " _hasFetcherDoneAnything ": !0 });
                        return (
                          g.fetchers.set(o, e),
                          z({ fetchers: new Map(g.fetchers) }),
                          q(g, w, { submission: u, isFetchActionRedirect: !0 })
                        );
                      }
                      if (Ie(w)) return void G(o, a, w.error);
                      if (Le(w)) throw Re(400, { type: "defer-action" });
                      let b = g.navigation.location || g.location,
                        S = Ce(e.history, b, h.signal),
                        P = t || i,
                        T = "idle" !== g.navigation.state ? I(P, g.navigation.location, e.basename) : g.matches;
                      N(T, "Didn't find any matches after fetcher action");
                      let B = ++C;
                      M.set(o, B);
                      let L = A({ state: "loading", data: w.data }, u, { " _hasFetcherDoneAnything ": !0 });
                      g.fetchers.set(o, L);
                      let [D, U] = Ee(
                        e.history,
                        g,
                        T,
                        u,
                        b,
                        x,
                        E,
                        k,
                        O,
                        P,
                        e.basename,
                        { [l.route.id]: w.data },
                        void 0
                      );
                      U.filter(e => e.key !== o).forEach(e => {
                        let t = e.key,
                          n = g.fetchers.get(t),
                          r = {
                            state: "loading",
                            data: n && n.data,
                            formMethod: void 0,
                            formAction: void 0,
                            formEncType: void 0,
                            formData: void 0,
                            " _hasFetcherDoneAnything ": !0,
                          };
                        g.fetchers.set(t, r), j.set(t, h);
                      }),
                        z({ fetchers: new Map(g.fetchers) });
                      let { results: K, loaderResults: W, fetcherResults: Z } = await V(g.matches, T, D, U, S);
                      if (h.signal.aborted) return;
                      M.delete(o), j.delete(o), U.forEach(e => j.delete(e.key));
                      let Y = Be(K);
                      if (Y) return q(g, Y);
                      let { loaderData: X, errors: Q } = Pe(g, g.matches, D, W, void 0, U, Z, F),
                        ee = {
                          state: "idle",
                          data: w.data,
                          formMethod: void 0,
                          formAction: void 0,
                          formEncType: void 0,
                          formData: void 0,
                          " _hasFetcherDoneAnything ": !0,
                        };
                      g.fetchers.set(o, ee);
                      let te = J(B);
                      "loading" === g.navigation.state && B > _
                        ? (N(v, "Expected pending action"),
                          m && m.abort(),
                          H(g.navigation.location, {
                            matches: T,
                            loaderData: X,
                            errors: Q,
                            fetchers: new Map(g.fetchers),
                          }))
                        : (z(
                            A(
                              { errors: Q, loaderData: _e(g.loaderData, X, T, Q) },
                              te ? { fetchers: new Map(g.fetchers) } : {}
                            )
                          ),
                          (x = !1));
                    })(a, s, d, h, u, f)
                  : (O.set(a, { routeId: s, path: d }),
                    (async function (t, i, o, a, s, l) {
                      let c = g.fetchers.get(t),
                        u = A(
                          {
                            state: "loading",
                            formMethod: void 0,
                            formAction: void 0,
                            formEncType: void 0,
                            formData: void 0,
                          },
                          l,
                          { data: c && c.data, " _hasFetcherDoneAnything ": !0 }
                        );
                      g.fetchers.set(t, u), z({ fetchers: new Map(g.fetchers) });
                      let d = new AbortController(),
                        f = Ce(e.history, o, d.signal);
                      j.set(t, d);
                      let h = await Ae("loader", f, a, s, r, n, p.basename);
                      if (
                        (Le(h) && (h = (await ze(h, f.signal, !0)) || h),
                        j.get(t) === d && j.delete(t),
                        f.signal.aborted)
                      )
                        return;
                      if (Fe(h)) return void (await q(g, h));
                      if (Ie(h)) {
                        let e = Te(g.matches, i);
                        return (
                          g.fetchers.delete(t),
                          void z({ fetchers: new Map(g.fetchers), errors: { [e.route.id]: h.error } })
                        );
                      }
                      N(!Le(h), "Unhandled fetcher deferred data");
                      let m = {
                        state: "idle",
                        data: h.data,
                        formMethod: void 0,
                        formAction: void 0,
                        formEncType: void 0,
                        formData: void 0,
                        " _hasFetcherDoneAnything ": !0,
                      };
                      g.fetchers.set(t, m), z({ fetchers: new Map(g.fetchers) });
                    })(a, s, d, h, u, f));
            },
            revalidate: function () {
              $(),
                z({ revalidation: "loading" }),
                "submitting" !== g.navigation.state &&
                  ("idle" !== g.navigation.state
                    ? K(v || g.historyAction, g.navigation.location, { overrideNavigation: g.navigation })
                    : K(g.historyAction, g.location, { startUninterruptedRevalidation: !0 }));
            },
            createHref: t => e.history.createHref(t),
            encodeLocation: t => e.history.encodeLocation(t),
            getFetcher: W,
            deleteFetcher: Z,
            dispose: function () {
              a && a(),
                s.clear(),
                m && m.abort(),
                g.fetchers.forEach((e, t) => Z(t)),
                g.blockers.forEach((e, t) => ee(t));
            },
            getBlocker: function (e, t) {
              let n = g.blockers.get(e) || ye;
              return D.get(e) !== t && D.set(e, t), n;
            },
            deleteBlocker: ee,
            _internalFetchControllers: j,
            _internalActiveDeferreds: F,
            _internalSetRoutes: function (e) {
              t = e;
            },
          }),
          p
        );
      })({
        basename: void 0,
        future: void 0,
        history:
          ((iw = { window: void 0 }),
          void 0 === iw && (iw = {}),
          (function (e, t, n, r) {
            void 0 === r && (r = {});
            let { window: i = document.defaultView, v5Compat: o = !1 } = r,
              a = i.history,
              s = S.Pop,
              l = null,
              c = u();
            function u() {
              return (a.state || { idx: null }).idx;
            }
            function d() {
              s = S.Pop;
              let e = u(),
                t = null == e ? null : e - c;
              (c = e), l && l({ action: s, location: h.location, delta: t });
            }
            function f(e) {
              let t = "null" !== i.location.origin ? i.location.origin : i.location.href,
                n = "string" == typeof e ? e : M(e);
              return N(t, "No window.location.(origin|href) available to create URL for href: " + n), new URL(n, t);
            }
            null == c && ((c = 0), a.replaceState(A({}, a.state, { idx: c }), ""));
            let h = {
              get action() {
                return s;
              },
              get location() {
                return e(i, a);
              },
              listen(e) {
                if (l) throw new Error("A history only accepts one active listener");
                return (
                  i.addEventListener(C, d),
                  (l = e),
                  () => {
                    i.removeEventListener(C, d), (l = null);
                  }
                );
              },
              createHref: e => t(i, e),
              createURL: f,
              encodeLocation(e) {
                let t = f(e);
                return { pathname: t.pathname, search: t.search, hash: t.hash };
              },
              push: function (e, t) {
                s = S.Push;
                let r = T(h.location, e, t);
                n && n(r, e), (c = u() + 1);
                let d = _(r, c),
                  f = h.createHref(r);
                try {
                  a.pushState(d, "", f);
                } catch (e) {
                  i.location.assign(f);
                }
                o && l && l({ action: s, location: h.location, delta: 1 });
              },
              replace: function (e, t) {
                s = S.Replace;
                let r = T(h.location, e, t);
                n && n(r, e), (c = u());
                let i = _(r, c),
                  d = h.createHref(r);
                a.replaceState(i, "", d), o && l && l({ action: s, location: h.location, delta: 0 });
              },
              go: e => a.go(e),
            };
            return h;
          })(
            function (e, t) {
              let { pathname: n, search: r, hash: i } = e.location;
              return T(
                "",
                { pathname: n, search: r, hash: i },
                (t.state && t.state.usr) || null,
                (t.state && t.state.key) || "default"
              );
            },
            function (e, t) {
              return "string" == typeof t ? t : M(t);
            },
            null,
            iw
          )),
        hydrationData: (function () {
          var e;
          let t = null == (e = window) ? void 0 : e.__staticRouterHydrationData;
          return t && t.errors && (t = jt({}, t, { errors: At(t.errors) })), t;
        })(),
        routes: rw,
        detectErrorBoundary: function (e) {
          return Boolean(e.ErrorBoundary) || Boolean(e.errorElement);
        },
      }).initialize());
    var rw, iw;
    n.s((0, Xo.Wg)(document.getElementById("root"))).render(
      (0, sa.jsx)(e.StrictMode, {
        children: (0, sa.jsx)(w, {
          store: ml,
          children: (0, sa.jsx)(ca, {
            children: (0, sa.jsx)(El.SnortContext.Provider, { value: ew, children: (0, sa.jsx)(yt, { router: nw }) }),
          }),
        }),
      })
    );
  })();
})();
//# sourceMappingURL=main.cfc099e3ee1e8849dca5.js.map
